(self.webpackChunkewumesh=self.webpackChunkewumesh||[]).push([[179],{9167:(k,A,E)=>{"use strict";E.r(A),E.d(A,{BlogsModule:()=>mt,HttpLoaderFactory:()=>at});var w=E(6895),N=E(4553),t=E(4650),I=E(529),H=E(9867),z=E(1135);let re=(()=>{class Dt{constructor(){this.blogDetails=new z.X({}),this.currentBlogsDetails=this.blogDetails.asObservable()}updateBlogs(Ee){localStorage.setItem("currentBlog",""),this.blogDetails.next(Ee),localStorage.setItem("currentBlog",JSON.stringify(Ee))}}return Dt.\u0275fac=function(Ee){return new(Ee||Dt)},Dt.\u0275prov=t.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"}),Dt})();var ce=E(1481),Oe=E(4484);function M(Dt,Pe){1&Dt&&(t.TgZ(0,"div",4)(1,"div"),t._uU(2,"G"),t.qZA(),t.TgZ(3,"div"),t._uU(4,"N"),t.qZA(),t.TgZ(5,"div"),t._uU(6,"I"),t.qZA(),t.TgZ(7,"div"),t._uU(8,"D"),t.qZA(),t.TgZ(9,"div"),t._uU(10,"A"),t.qZA(),t.TgZ(11,"div"),t._uU(12,"O"),t.qZA(),t.TgZ(13,"div"),t._uU(14,"L"),t.qZA()())}function Fe(Dt,Pe){if(1&Dt){const Ee=t.EpF();t.TgZ(0,"div",12),t.NdJ("click",function(){const ze=t.CHM(Ee).$implicit,xt=t.oxw(2);return t.KtG(xt.gotoBlogDetails(ze))}),t.TgZ(1,"div",13),t.NdJ("click",function(){t.CHM(Ee);const Qe=t.oxw(2);return t.KtG(Qe.analyticsService.sendAnalyticEvent("click_medium_box","blogs","click"))}),t.TgZ(2,"div",14)(3,"div",15),t._UZ(4,"img",16),t.qZA()(),t.TgZ(5,"div",17)(6,"div",18)(7,"a",19),t.NdJ("click",function(){t.CHM(Ee);const Qe=t.oxw(2);return t.KtG(Qe.analyticsService.sendAnalyticEvent("click_medium","blogs","medium"))}),t._UZ(8,"i",20),t.qZA()(),t.TgZ(9,"div",21)(10,"a",22),t.NdJ("click",function(){t.CHM(Ee);const Qe=t.oxw(2);return t.KtG(Qe.analyticsService.sendAnalyticEvent("click_medium_link","blogs","click"))}),t._UZ(11,"i",23),t.qZA()(),t.TgZ(12,"h5",24),t.NdJ("click",function(){t.CHM(Ee);const Qe=t.oxw(2);return t.KtG(Qe.analyticsService.sendAnalyticEvent("click_medium_title","blogs","click"))}),t._uU(13),t.qZA(),t.TgZ(14,"p",25),t.NdJ("click",function(){t.CHM(Ee);const Qe=t.oxw(2);return t.KtG(Qe.analyticsService.sendAnalyticEvent("click_medium_content","blogs","click"))}),t._uU(15,".."),t.qZA()(),t.TgZ(16,"div")(17,"span",26),t.NdJ("click",function(){t.CHM(Ee);const Qe=t.oxw(2);return t.KtG(Qe.analyticsService.sendAnalyticEvent("click_medium_published_date","blogs","click"))}),t._uU(18),t.ALo(19,"date"),t.qZA(),t._uU(20," \xa0 \xa0 "),t.TgZ(21,"span",27),t._uU(22,"by Ewumesh"),t.qZA()()()()}if(2&Dt){const Ee=Pe.$implicit,Ye=t.oxw(2);t.xp6(4),t.Q6J("alt",null==Ee?null:Ee.title)("src",Ee.thumbnail,t.LSH),t.xp6(6),t.Q6J("href",Ee.link,t.LSH),t.xp6(3),t.Oqu(null==Ee?null:Ee.title),t.xp6(1),t.Q6J("innerHTML",Ye.removeTags(Ee.description),t.oJD),t.xp6(4),t.Oqu(t.xi3(19,6,Ee.pubDate,"mediumDate"))}}function we(Dt,Pe){if(1&Dt&&(t.TgZ(0,"div",5)(1,"div",6)(2,"h3",7)(3,"span",8),t._uU(4,"02."),t.qZA(),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"div",9)(8,"div",10),t.YNc(9,Fe,23,9,"div",11),t.qZA()()()),2&Dt){const Ee=t.oxw();t.xp6(5),t.hij(" ",t.lcZ(6,2,"Blogs.LatestBlogs")," "),t.xp6(4),t.Q6J("ngForOf",Ee.latestBLogs)}}let Tt=(()=>{class Dt{constructor(Ee,Ye,Qe,ze,xt,pt){this.http=Ee,this.analyticsService=Ye,this.blogsService=Qe,this.router=ze,this.titleService=xt,this.metaService=pt,this.latestBLogs=[]}ngOnInit(){this.http.get("https://api.rss2json.com/v1/api.json?rss_url=https://medium.com/feed/@ewumesh").subscribe(Ye=>{this.latestBLogs=Ye.items},Ye=>{console.error(Ye)}),this.setMetaTag()}removeTags(Ee){return Ee.replace(/<[^>]*>/g,"").slice(0,150)}gotoBlogDetails(Ee){this.router.navigate(["/blogs/details"],{queryParams:{id:Ee.guid}}),this.blogsService.updateBlogs(Ee)}setMetaTag(){this.titleService.setTitle("Ewumesh | Medium Blogs Collection"),this.metaService.addTags([{property:"og:title",content:"Ewumesh | Medium Blogs Collection"},{property:"og:url",content:`${window.location.href}`},{property:"og:description",content:"Blogging is a fun and flexible way for self-expression and social connection, so it is no wonder blogs have become very popular. In addition, people can start blogging to improve their writing skills or even promote their businesses.Frontend, software, developer, Nepal, Umesh, Ewumesh, ewumesh, nepali, blogs, medium, coding, javascript, productivity"},{property:"og:type",content:"article"},{property:"og:site_name",content:"Ewumesh"},{property:"og:image",content:"https://ewumesh.com/assets/images/blogs.webp"},{property:"twitter:card",content:"summary_large_image"},{property:"twitter:site",content:"@ewumesh"},{property:"twitter:title",content:"Ewumesh | Medium Blogs Collection"},{property:"twitter:description",content:"Blogging is a fun and flexible way for self-expression and social connection, so it is no wonder blogs have become very popular. In addition, people can start blogging to improve their writing skills or even promote their businesses.Frontend, software, developer, Nepal, Umesh, Ewumesh, ewumesh, nepali, blogs, medium, coding, javascript, productivity"},{property:"twitter:image",content:"https://ewumesh.com/assets/images/blogs.webp"},{property:"twitter:url",content:`${window.location.href}`},{name:"twitter:name:alt",content:`${window.location.href}`}])}}return Dt.\u0275fac=function(Ee){return new(Ee||Dt)(t.Y36(I.eN),t.Y36(H.y),t.Y36(re),t.Y36(N.F0),t.Y36(ce.Dx),t.Y36(ce.h_))},Dt.\u0275cmp=t.Xpm({type:Dt,selectors:[["ng-component"]],decls:4,vars:2,consts:[[1,"section","more-proyects"],[1,"container"],["id","load",4,"ngIf"],["class","section-box",4,"ngIf"],["id","load"],[1,"section-box"],[1,""],[1,"section-title"],[1,"n-section-title"],[1,"mt-5"],[1,"row","p-0"],["class","col-12 col-md-6 col-lg-6 col-xl-4 proyect-col","data-aos","fade-up","data-aos-duration","1000",3,"click",4,"ngFor","ngForOf"],["data-aos","fade-up","data-aos-duration","1000",1,"col-12","col-md-6","col-lg-6","col-xl-4","proyect-col",3,"click"],[1,"more-proyect-box",3,"click"],[1,"row"],[1,"col-12"],[1,"mw-100",3,"alt","src"],[1,"row","w-100","text-left","m-0","p-0"],[1,"col-6","p-0"],["rel","canonical","href","https://medium.com/@ewumesh","target","_blank",3,"click"],[1,"fab","fa-medium"],[1,"col-6","d-flex","p-0","justify-content-end"],["rel","canonical","target","_blank",1,"color-inherit",3,"href","click"],["id","demoLink",1,"ml-3","fas","fa-link"],[1,"other-proyect-title","mt-4",3,"click"],[1,"other-proyect-description",3,"innerHTML","click"],[3,"click"],[1,"underline"]],template:function(Ee,Ye){1&Ee&&(t.TgZ(0,"section",0)(1,"div",1),t.YNc(2,M,15,0,"div",2),t.YNc(3,we,10,4,"div",3),t.qZA()()),2&Ee&&(t.xp6(2),t.Q6J("ngIf",Ye.latestBLogs.length<1),t.xp6(1),t.Q6J("ngIf",Ye.latestBLogs.length>0))},dependencies:[w.sg,w.O5,w.uU,Oe.X$],styles:[".more-proyects[_ngcontent-%COMP%]   .proyect-col[_ngcontent-%COMP%]{padding:10px;min-height:450px}.more-proyects[_ngcontent-%COMP%]   .proyect-col[_ngcontent-%COMP%]   .more-proyect-box[_ngcontent-%COMP%]{box-shadow:0 10px 30px -15px #020c1bb3;display:flex;justify-content:space-between;align-items:center;flex-direction:column;align-items:flex-start;position:relative;padding:2rem 1.75rem;height:100%;border-radius:3px;transition:all .25s cubic-bezier(.645,.045,.355,1);background-color:#2e3840;cursor:pointer}.more-proyects[_ngcontent-%COMP%]   .proyect-col[_ngcontent-%COMP%]   .more-proyect-box[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.more-proyects[_ngcontent-%COMP%]   .proyect-col[_ngcontent-%COMP%]   .more-proyect-box[_ngcontent-%COMP%]:hover, .more-proyects[_ngcontent-%COMP%]   .proyect-col[_ngcontent-%COMP%]   .more-proyect-box[_ngcontent-%COMP%]:focus{box-shadow:0 20px 30px -15px #020c1bb3}.more-proyects[_ngcontent-%COMP%]   .proyect-col[_ngcontent-%COMP%]   .more-proyect-box[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:40px;height:40px;color:#bad7e9}.more-proyects[_ngcontent-%COMP%]   .proyect-col[_ngcontent-%COMP%]   .more-proyect-box[_ngcontent-%COMP%]   .other-proyect-title[_ngcontent-%COMP%]{margin:0 0 10px;font-size:22px;color:#ccd6f6}.more-proyects[_ngcontent-%COMP%]   .proyect-col[_ngcontent-%COMP%]   .more-proyect-box[_ngcontent-%COMP%]   .other-proyect-description[_ngcontent-%COMP%]{font-size:17px;color:#a8b2d1}.more-proyects[_ngcontent-%COMP%]   .proyect-col[_ngcontent-%COMP%]   .more-proyect-box[_ngcontent-%COMP%]   .more-proyects-skills[_ngcontent-%COMP%]{display:flex;align-items:flex-end;flex-grow:1;flex-wrap:wrap;padding:0;margin:20px 0 0;list-style:none}.more-proyects[_ngcontent-%COMP%]   .proyect-col[_ngcontent-%COMP%]   .more-proyect-box[_ngcontent-%COMP%]   .more-proyects-skills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px;color:#8892b0;line-height:1.75;margin-right:15px;font-family:SF Mono,Fira Code,Fira Mono,Roboto Mono,Lucida Console,Monaco,Monospace}.more-proyects[_ngcontent-%COMP%]   .proyect-col[_ngcontent-%COMP%]   .more-proyect-box[_ngcontent-%COMP%]   .more-proyects-skills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{padding-bottom:3.5px}@media (max-width: 1300px){.more-proyects[_ngcontent-%COMP%]   .proyect-col[_ngcontent-%COMP%]{height:auto}}.mw-100[_ngcontent-%COMP%]{max-width:100%}.color-inherit[_ngcontent-%COMP%]{color:inherit}"]}),Dt})();var De=E(1744);function Ae(Dt,Pe){if(1&Dt&&(t.TgZ(0,"li")(1,"span",5),t._uU(2),t.qZA()()),2&Dt){const Ee=Pe.$implicit;t.xp6(2),t.Oqu(Ee)}}let je=(()=>{class Dt{constructor(Ee,Ye,Qe,ze,xt){this.blogsService=Ee,this.titleService=Ye,this.metaService=Qe,this.http=ze,this.route=xt,this.blogDetails={},this.html="",this.result="",this.play=!1,this.playing=!1,this.latestBLogs=[];let pt=JSON.parse(localStorage.getItem("currentBlog"));this.blogDetails=pt,this.setMetaTag(),this.getBlogs()}ngOnInit(){}getBlogs(){this.http.get("https://api.rss2json.com/v1/api.json?rss_url=https://medium.com/feed/@ewumesh").subscribe(Ye=>{this.latestBLogs=Ye.items,this.getBlog()},Ye=>{console.error(Ye)})}getBlog(){let Ee=this.route.snapshot.queryParams.id,Ye=this.latestBLogs.find(Qe=>Qe.guid===Ee);this.blogDetails=Ye,this.setMetaTag()}removeHTMLTags(Ee){return Ee.replace(/<[^>]*>/g,"").slice(0,300)}setMetaTag(){this.titleService.setTitle("Ewumesh | "+this.blogDetails.title),this.metaService.addTags([{property:"og:title",content:"Ewumesh | "+this.blogDetails.title},{property:"og:url",content:`${window.location.href}`},{property:"og:description",content:`${this.removeHTMLTags(this.blogDetails.description)}`},{property:"og:type",content:"article"},{property:"og:site_name",content:"Ewumesh"},{property:"og:image",content:`${this.blogDetails.thumbnail}`},{property:"twitter:card",content:"summary_large_image"},{property:"twitter:site",content:"@ewumesh"},{property:"twitter:title",content:"Ewumesh | "+this.blogDetails.title},{property:"twitter:description",content:`${this.removeHTMLTags(this.blogDetails.description)}`},{property:"twitter:image",content:`${this.blogDetails.thumbnail}`},{property:"twitter:url",content:`${window.location.href}`},{name:"twitter:name:alt",content:`${window.location.href}`}])}}return Dt.\u0275fac=function(Ee){return new(Ee||Dt)(t.Y36(re),t.Y36(ce.Dx),t.Y36(ce.h_),t.Y36(I.eN),t.Y36(N.gz))},Dt.\u0275cmp=t.Xpm({type:Dt,selectors:[["ng-component"]],decls:22,vars:7,consts:[[1,"section-box","more-proyects"],[1,"container"],["data-aos","fade-up","data-aos-duration","1000",1,""],[1,"row"],[1,"col-6"],[1,"underline"],["data-aos","fade-up","data-aos-duration","1100",1,"blog-content",3,"innerHTML"],[1,"section-title"],["data-aos","fade-up","data-aos-duration","1000",1,"more-proyects-skills"],[4,"ngFor","ngForOf"]],template:function(Ee,Ye){1&Ee&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h3"),t._uU(4),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"span",5),t._uU(8),t.ALo(9,"date"),t.qZA(),t._uU(10,"\xa0 \xa0 "),t.TgZ(11,"span",5),t._uU(12,"by Ewumesh"),t.qZA()()(),t._UZ(13,"hr")(14,"div",6)(15,"br"),t.TgZ(16,"div")(17,"div",2)(18,"h3",7),t._uU(19," Tags "),t.qZA()(),t.TgZ(20,"ul",8),t.YNc(21,Ae,3,1,"li",9),t.qZA()()()()),2&Ee&&(t.xp6(4),t.hij(" ",Ye.blogDetails.title," "),t.xp6(4),t.hij(" ",t.xi3(9,4,Ye.blogDetails.pubDate,"longDate")," "),t.xp6(6),t.Q6J("innerHTML",Ye.blogDetails.content,t.oJD),t.xp6(7),t.Q6J("ngForOf",Ye.blogDetails.categories))},dependencies:[w.sg,w.uU],styles:[".section-box[_ngcontent-%COMP%]{padding:130px 0}  img{max-width:100%!important}  pre{background-color:#fff;padding:1%}.more-proyects-skills[_ngcontent-%COMP%]{display:flex;align-items:flex-end;flex-grow:1;flex-wrap:wrap;padding:0;margin:20px 0 0;list-style:none}.more-proyects-skills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px;color:#8892b0;line-height:1.75;margin-right:15px;font-family:SF Mono,Fira Code,Fira Mono,Roboto Mono,Lucida Console,Monaco,Monospace}.more-proyects-skills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{padding-bottom:3.5px}"]}),Dt})();var se=E(4006);function at(Dt){return new De.w(Dt,"./assets/i18n/",".json")}let mt=(()=>{class Dt{}return Dt.\u0275fac=function(Ee){return new(Ee||Dt)},Dt.\u0275mod=t.oAB({type:Dt}),Dt.\u0275inj=t.cJS({providers:[re],imports:[w.ez,N.Bz.forChild([{path:"",component:Tt},{path:"details",component:je}]),Oe.aw.forChild({loader:{provide:Oe.Zw,useFactory:at,deps:[I.eN]}}),I.JF,se.u5,se.UX]}),Dt})()},5385:(k,A,E)=>{"use strict";E.r(A),E.d(A,{GamesModule:()=>we});var w=E(6895);class N{constructor(De=0,Ae=0,je=!0,se=!0,at=!0,mt=!0,Dt=!1){this.row=De,this.col=Ae,this.northWall=je,this.eastWall=se,this.westWall=at,this.southWall=mt,this.traversed=Dt}hasVisited(){return!(this.northWall&&this.eastWall&&this.westWall&&this.southWall)}breakWallWith(De){if(this.row===De.row){if(this.col-1===De.col)return this.westWall=!1,void(De.eastWall=!1);if(this.col+1===De.col)return this.eastWall=!1,void(De.westWall=!1)}if(this.col===De.col){if(this.row-1===De.row)return this.northWall=!1,void(De.southWall=!1);if(this.row+1===De.row)return this.southWall=!1,void(De.northWall=!1)}throw new Error("These two cells are not neighbors.")}draw(De,Ae,je="#FFFFFF"){De.fillStyle=je,De.fillRect(this.col*Ae,this.row*Ae,(this.col+1)*Ae,(this.row+1)*Ae),this.northWall&&(De.beginPath(),De.moveTo(this.col*Ae,this.row*Ae),De.lineTo((this.col+1)*Ae,this.row*Ae),De.stroke()),this.eastWall&&(De.beginPath(),De.moveTo((this.col+1)*Ae,this.row*Ae),De.lineTo((this.col+1)*Ae,(this.row+1)*Ae),De.stroke()),this.southWall&&(De.beginPath(),De.moveTo((this.col+1)*Ae,(this.row+1)*Ae),De.lineTo(this.col*Ae,(this.row+1)*Ae),De.stroke()),this.westWall&&(De.beginPath(),De.moveTo(this.col*Ae,(this.row+1)*Ae),De.lineTo(this.col*Ae,this.row*Ae),De.stroke())}equals(De){return this.row===De.row&&this.col===De.col}hasConnectionWith(De){return this.row===De.row&&(this.col-1===De.col&&!1===this.westWall&&!1===De.eastWall||this.col+1===De.col&&!1===this.eastWall&&!1===De.westWall)||this.col===De.col&&(this.row-1===De.row&&!1===this.northWall&&!1===De.southWall||this.row+1===De.row&&!1===this.southWall&&!1===De.northWall)}}class t{constructor(De,Ae,je,se){this.nRow=De,this.nCol=Ae,this.cellSize=je,this.ctx=se,this.cells=[],this.cellBackground="#FFFFFF";for(let mt=0;mt<De;mt++){this.cells[mt]=[];for(let Dt=0;Dt<Ae;Dt++)this.cells[mt][Dt]=new N(mt,Dt)}const at=this.cells[I.within(this.nRow)][I.within(this.nCol)];this.huntAndKill(at)}draw(De=2){this.ctx.lineWidth=De,this.cells.forEach(Ae=>Ae.forEach(je=>{je.draw(this.ctx,this.cellSize,this.cellBackground)})),this.ctx.save(),this.ctx.beginPath(),this.ctx.strokeStyle=this.cellBackground,this.ctx.moveTo(0,0),this.ctx.lineTo(0,this.cellSize),this.ctx.moveTo(this.nCol*this.cellSize,(this.nRow-1)*this.cellSize),this.ctx.lineTo(this.nCol*this.cellSize,this.nRow*this.cellSize),this.ctx.stroke(),this.ctx.restore()}drawPath(De,Ae="#4080ff",je=10,se=!1){this.ctx.lineWidth=je,this.ctx.strokeStyle=Ae,this.ctx.beginPath(),this.ctx.moveTo(0,this.cellSize/2),De.forEach(at=>this.ctx.lineTo((at.col+.5)*this.cellSize,(at.row+.5)*this.cellSize)),se&&this.ctx.lineTo(this.nCol*this.cellSize,(this.nRow-.5)*this.cellSize),this.ctx.stroke()}erasePath(De){this.drawPath(De,this.cellBackground)}drawSolution(De="#ff7575",Ae=10){this.drawPath(this.findPath(),De,Ae,!0)}findPath(){this.cells.forEach(se=>se.forEach(at=>at.traversed=!1));const Ae=this.cells[this.nRow-1][this.nCol-1],je=[];for(je.unshift(this.cells[0][0]);;){let se=je[0];if(se.traversed=!0,se.equals(Ae))break;const at=this.getNeighbors(se).filter(mt=>mt.hasConnectionWith(se)).filter(mt=>!mt.traversed);0===at.length?je.splice(0,1):je.unshift(at[0])}return je.reverse()}huntAndKill(De){const Ae=this.getNeighbors(De).filter(je=>!je.hasVisited());if(0===Ae.length){const je=this.shufflearray([...Array(this.nRow).keys()]);for(let se of je){const at=this.shufflearray([...Array(this.nCol).keys()]);for(let mt of at){if((De=this.cells[se][mt]).hasVisited())continue;const Dt=this.getNeighbors(De).filter(Ee=>Ee.hasVisited());if(Dt.length<1)continue;const Pe=Dt[I.within(Dt.length)];De.breakWallWith(Pe),this.huntAndKill(Pe)}}}else{const je=Ae[I.within(Ae.length)];De.breakWallWith(je),this.huntAndKill(je)}}getNeighbors(De){const Ae=[];return De.row-1>=0&&Ae.push(this.cells[De.row-1][De.col]),De.row+1<this.nRow&&Ae.push(this.cells[De.row+1][De.col]),De.col-1>=0&&Ae.push(this.cells[De.row][De.col-1]),De.col+1<this.nCol&&Ae.push(this.cells[De.row][De.col+1]),Ae}shufflearray(De){let Ae=De.length;for(;0!==Ae;){const je=Math.floor(Math.random()*Ae);Ae--,[De[Ae],De[je]]=[De[je],De[Ae]]}return De}}class I{static within(De){return Math.floor(Math.random()*De)}}const H={ArrowLeft:"Left",A:"Left",a:"Left",ArrowRight:"Right",D:"Right",d:"Right",ArrowUp:"Up",W:"Up",w:"Up",ArrowDown:"Down",S:"Down",s:"Down"};var z=E(4650),re=E(1481),ce=E(4006);function Oe(Tt,De){1&Tt&&(z.TgZ(0,"div",16)(1,"div"),z._uU(2,"G"),z.qZA(),z.TgZ(3,"div"),z._uU(4,"N"),z.qZA(),z.TgZ(5,"div"),z._uU(6,"I"),z.qZA(),z.TgZ(7,"div"),z._uU(8,"D"),z.qZA(),z.TgZ(9,"div"),z._uU(10,"A"),z.qZA(),z.TgZ(11,"div"),z._uU(12,"O"),z.qZA(),z.TgZ(13,"div"),z._uU(14,"L"),z.qZA()())}let M=(()=>{class Tt{constructor(Ae,je,se){this.titleService=Ae,this.document=je,this.metaService=se,this.row=10,this.col=10,this.cellSize=20,this.gameOver=!1,this.myPath=[],this.loading=!0,this.setMetaTag()}ngOnInit(){setTimeout(()=>{this.loading=!1},3e3)}ngAfterViewInit(){this.canvas=document.getElementById("maze"),this.ctx=this.canvas.getContext("2d"),this.drawMaze()}drawMaze(){this.maze=new t(this.row,this.col,this.cellSize,this.ctx),this.canvas.width=this.col*this.cellSize,this.canvas.height=this.row*this.cellSize,this.maze.draw(),this.initPlay()}initPlay(Ae=10,je="#4080ff"){this.gameOver=!1,this.myPath.length=0,this.ctx.lineWidth=Ae,this.ctx.strokeStyle=je,this.ctx.beginPath(),this.ctx.moveTo(0,this.cellSize/2),this.ctx.lineTo(this.cellSize/2,this.cellSize/2),this.ctx.stroke(),this.currentCell=this.maze.cells[0][0],this.myPath.push(this.currentCell)}handleKeyDown(Ae){if(this.gameOver)return;const je=H[Ae.key];je&&this.move(je)}move(Ae){let je;if("Left"===Ae){if(this.currentCell.col<1)return;je=this.maze.cells[this.currentCell.row][this.currentCell.col-1]}if("Right"===Ae){if(this.currentCell.col+1>=this.col)return;je=this.maze.cells[this.currentCell.row][this.currentCell.col+1]}if("Up"===Ae){if(this.currentCell.row<1)return;je=this.maze.cells[this.currentCell.row-1][this.currentCell.col]}if("Down"===Ae){if(this.currentCell.row+1>=this.row)return;je=this.maze.cells[this.currentCell.row+1][this.currentCell.col]}if(this.currentCell.hasConnectionWith(je)){if(this.myPath.length>1&&this.myPath[this.myPath.length-2].equals(je))this.maze.erasePath(this.myPath),this.myPath.pop();else if(this.myPath.push(je),je.equals(new N(this.row-1,this.col-1)))return this.hooray(),this.gameOver=!0,void this.maze.drawSolution("#4080ff");this.maze.drawPath(this.myPath),this.currentCell=je}}solution(){this.gameOver=!0,this.maze.drawSolution("#ff7575",3)}hooray(){new Audio("assets/KidsCheering.mp3").play()}setMetaTag(){this.titleService.setTitle("Ewumesh | Play Online Game | Online Maze Game"),this.metaService.addTags([{property:"og:title",content:"Ewumesh | Game | Online Maze Game"},{property:"og:url",content:`${window.location.href}`},{property:"og:description",content:"A maze game is a type of puzzle game that involves navigating through a complex network of paths and obstacles to reach a specific goal. The goal is typically represented by a specific location within the maze, such as a treasure chest, a key, or a final exit."},{property:"og:type",content:"article"},{property:"og:site_name",content:"Ewumesh"},{property:"og:image",content:"https://ewumesh.com/assets/images/maze.webp"},{property:"twitter:card",content:"summary_large_image"},{property:"twitter:site",content:"@ewumesh"},{property:"twitter:title",content:"Ewumesh | Game | Online Maze Game"},{property:"twitter:description",content:"A maze game is a type of puzzle game that involves navigating through a complex network of paths and obstacles to reach a specific goal. The goal is typically represented by a specific location within the maze, such as a treasure chest, a key, or a final exit."},{property:"twitter:image",content:"https://ewumesh.com/assets/images/maze.webp"},{property:"twitter:url",content:`${window.location.href}`},{name:"twitter:name:alt",content:`${window.location.href}`}])}}return Tt.\u0275fac=function(Ae){return new(Ae||Tt)(z.Y36(re.Dx),z.Y36(w.K0),z.Y36(re.h_))},Tt.\u0275cmp=z.Xpm({type:Tt,selectors:[["app-maze"]],hostBindings:function(Ae,je){1&Ae&&z.NdJ("keydown",function(at){return je.handleKeyDown(at)},!1,z.Jf7)},decls:42,vars:3,consts:[["id","load",4,"ngIf"],[1,"section","banner"],[1,"container","text-center"],[1,"section-box-banner"],[1,"content"],[1,"text-left"],[1,"maze-form"],["for","nRow"],["id","nRow","type","number",3,"ngModel","ngModelChange"],["for","nCol"],["id","nCol","type","number",3,"ngModel","ngModelChange"],["type","button",1,"main-btn",3,"click"],["id","maze"],[1,"control-buttons"],[1,"arrows"],[3,"click"],["id","load"]],template:function(Ae,je){1&Ae&&(z.YNc(0,Oe,15,0,"div",0),z.TgZ(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div")(6,"h3",5),z._uU(7," Maze Game "),z.qZA(),z.TgZ(8,"p",5),z._uU(9," A maze game is a type of puzzle game that involves navigating through a complex network of paths and obstacles to reach a specific goal. The goal is typically represented by a specific location within the maze, such as a treasure chest, a key, or a final exit. "),z.qZA(),z.TgZ(10,"p",5),z._uU(11," The player starts at the entrance of the maze and must use their problem-solving skills to find their way through the twists and turns of the labyrinth to reach the goal. The maze can be presented in various forms, such as a 2D top-down view or a 3D first-person perspective. "),z.qZA(),z.TgZ(12,"p",5),z._uU(13," Maze games can range from simple and easy to incredibly complex and challenging. Some maze games may have a time limit or other restrictions that add to the difficulty level. The game may also include other features such as power-ups, enemies, or obstacles that the player must avoid or overcome in order to successfully complete the maze. "),z.qZA(),z.TgZ(14,"p",5),z._uU(15," Overall, maze games are a fun and challenging way to exercise problem-solving and critical thinking skills while also providing an entertaining and engaging gameplay experience. "),z.qZA()(),z.TgZ(16,"div",6)(17,"label",7),z._uU(18,"# Rows"),z.qZA(),z.TgZ(19,"input",8),z.NdJ("ngModelChange",function(at){return je.row=at}),z.qZA(),z.TgZ(20,"label",9),z._uU(21,"# Columns"),z.qZA(),z.TgZ(22,"input",10),z.NdJ("ngModelChange",function(at){return je.col=at}),z.qZA(),z.TgZ(23,"button",11),z.NdJ("click",function(){return je.drawMaze()}),z._uU(24,"New Maze"),z.qZA(),z.TgZ(25,"button",11),z.NdJ("click",function(){return je.solution()}),z._uU(26,"Solution"),z.qZA()(),z.TgZ(27,"section"),z._UZ(28,"canvas",12),z.qZA(),z.TgZ(29,"section",13)(30,"div",14)(31,"div")(32,"span",15),z.NdJ("click",function(){return je.move("Up")}),z._uU(33,"\u2b06\ufe0f"),z.qZA()(),z.TgZ(34,"div")(35,"span",15),z.NdJ("click",function(){return je.move("Left")}),z._uU(36,"\u2b05\ufe0f"),z.qZA(),z.TgZ(37,"span",15),z.NdJ("click",function(){return je.move("Right")}),z._uU(38,"\u27a1\ufe0f"),z.qZA()(),z.TgZ(39,"div")(40,"span",15),z.NdJ("click",function(){return je.move("Down")}),z._uU(41,"\u2b07\ufe0f"),z.qZA()()()()()()()()),2&Ae&&(z.Q6J("ngIf",je.loading),z.xp6(19),z.Q6J("ngModel",je.row),z.xp6(3),z.Q6J("ngModel",je.col))},dependencies:[w.O5,ce.Fj,ce.wV,ce.JJ,ce.On],styles:[".maze-form[_ngcontent-%COMP%]{margin:5% 0}.maze-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .maze-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.25rem;margin:0 .5rem}.arrows[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:xx-large;-webkit-user-select:none;user-select:none;cursor:pointer}.maze-container[_ngcontent-%COMP%]{margin:15%}input[_ngcontent-%COMP%]{box-sizing:border-box;width:100px;outline:none;border:none;border-radius:25px;box-shadow:0 2px 5px #0f0f3366;font-size:25px;color:#0f0f33cc;background-color:#e5e5e5;transition:.4s}input[_ngcontent-%COMP%]:hover, [_ngcontent-%COMP%]:focus{width:375px;border-radius:10px;box-shadow:0 5px 5px #0f0f3366}input[_ngcontent-%COMP%]:not(:placeholder-shown){margin-bottom:10px;border-bottom:6px solid #3782F7;height:40px}",".banner[_ngcontent-%COMP%]{min-height:100vh}.banner[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:table;height:100vh}.banner[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .section-box-banner[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}.banner[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .section-box-banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:98px}.banner[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .section-box-banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#64ffda;margin:0 0 20px 3px;font-size:16px;font-weight:400;font-family:SF Mono,Fira Code,Fira Mono,Roboto Mono,Lucida Console,Monaco,Monospace}.banner[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .section-box-banner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .banner[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .section-box-banner[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;font-size:80px;line-height:1.1;margin:0;font-family:Calibre,San Francisco,SF Pro Text,-apple-system,system-ui,BlinkMacSystemFont,Roboto,Helvetica Neue,Segoe UI,Arial,sans-serif}.banner[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .section-box-banner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ccd6f6}.banner[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .section-box-banner[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#8892b0}.banner[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .section-box-banner[_ngcontent-%COMP%]   .banner-description[_ngcontent-%COMP%]{margin-bottom:70px}.banner[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .section-box-banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:100%}.banner[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .section-box-banner[_ngcontent-%COMP%]   .div-btn-banner[_ngcontent-%COMP%]{height:43px}.text-center[_ngcontent-%COMP%]{text-align:center!important}.text-left[_ngcontent-%COMP%]{text-align:left!important}.control-buttons[_ngcontent-%COMP%]{margin:5% 0 20%}"]}),Tt})();var Fe=E(4553);let we=(()=>{class Tt{}return Tt.\u0275fac=function(Ae){return new(Ae||Tt)},Tt.\u0275mod=z.oAB({type:Tt}),Tt.\u0275inj=z.cJS({imports:[w.ez,ce.u5,Fe.Bz.forChild([{path:"",component:M}])]}),Tt})()},7285:(k,A,E)=>{"use strict";E.r(A),E.d(A,{HttpLoaderFactory:()=>kd,ObjectDetectionModule:()=>Bp});var w={};E.r(w),E.d(w,{AdadeltaOptimizer:()=>M.zJI,AdagradOptimizer:()=>M.HeW,AdamOptimizer:()=>M.a4z,AdamaxOptimizer:()=>M.DBS,Callback:()=>Nh,CallbackList:()=>Ls,CustomCallback:()=>Ca,DataStorage:()=>M.JLz,ENV:()=>M.ViN,Environment:()=>M.qAh,FrozenModel:()=>mu.Gi,History:()=>wa,InputSpec:()=>Ur,KernelBackend:()=>M.Zuw,LayerVariable:()=>va,Model:()=>ie,MomentumOptimizer:()=>M.rIn,Optimizer:()=>M.gaJ,RMSPropOptimizer:()=>M.gVI,RNN:()=>mi,Rank:()=>M.yw1,Reduction:()=>M.IH3,SGDOptimizer:()=>M.DYp,Sequential:()=>gt,SymbolicTensor:()=>Ii,Tensor:()=>M.esB,TensorBuffer:()=>M.YDk,Variable:()=>M._wD,abs:()=>M.WnP,acos:()=>M.Khb,acosh:()=>M.__u,add:()=>M.IHx,addN:()=>M.QBD,addStrict:()=>M.zqr,all:()=>M.$6P,any:()=>M.YjB,argMax:()=>M.NqF,argMin:()=>M.vHJ,asin:()=>M.ZRM,asinh:()=>M.VfV,atan:()=>M.z4N,atan2:()=>M.fvJ,atanh:()=>M.C80,avgPool:()=>M.wS1,basicLSTMCell:()=>M.zEQ,batchNormalization:()=>M.F08,batchNormalization2d:()=>M.JHc,batchNormalization3d:()=>M.csF,batchNormalization4d:()=>M.bVb,batchToSpaceND:()=>M.E4h,buffer:()=>M.f3b,cast:()=>M.pju,ceil:()=>M.mDi,clipByValue:()=>M.iUl,clone:()=>M.d9v,complex:()=>M.PYB,concat:()=>M.zoF,concat1d:()=>M.gME,concat2d:()=>M.Izb,concat3d:()=>M.MNy,concat4d:()=>M.ZaL,constraints:()=>Mt,conv1d:()=>M.PAt,conv2d:()=>M.Tek,conv2dDerFilter:()=>M.Ioh,conv2dTranspose:()=>M.bc,cos:()=>M.mCk,cosh:()=>M.f9Y,cumsum:()=>M.zbp,customGrad:()=>M.cbc,depthToSpace:()=>M.nTT,depthwiseConv2d:()=>M.B10,dispose:()=>M.B90,disposeVariables:()=>M.N8o,div:()=>M.hiC,divStrict:()=>M.sz_,dot:()=>M.AKD,elu:()=>M.pyx,environment:()=>M.NZz,equal:()=>M.DgJ,equalStrict:()=>M.zVC,erf:()=>M.qNN,exp:()=>M.Qqt,expandDims:()=>M.dt4,expm1:()=>M.t$B,eye:()=>M.iyy,fft:()=>M.kp_,fill:()=>M.hlL,floor:()=>M.GWj,floorDiv:()=>M.qPi,fromPixels:()=>M.nXo,gather:()=>M.Iqj,gatherND:()=>M.dbB,getBackend:()=>M.N_N,grad:()=>M.UQy,grads:()=>M.tiA,greater:()=>M.pjt,greaterEqual:()=>M.brS,greaterEqualStrict:()=>M.bZ8,greaterStrict:()=>M.g1k,ifft:()=>M.Sxn,imag:()=>M.asL,image:()=>M.BHj,initializers:()=>$i,input:()=>Er,io:()=>M.io,keep:()=>M.CnY,layers:()=>$l,leakyRelu:()=>M.hi7,less:()=>M.d9m,lessEqual:()=>M.zN1,lessEqualStrict:()=>M.SFm,lessStrict:()=>M.O_u,linalg:()=>M.$r2,linspace:()=>M.SX3,loadFrozenModel:()=>mu.xG,loadModel:()=>zr,localResponseNormalization:()=>M.G9k,log:()=>M.cM7,log1p:()=>M.Krr,logSigmoid:()=>M.e_t,logSoftmax:()=>M.CmS,logSumExp:()=>M.l_t,logicalAnd:()=>M.HvI,logicalNot:()=>M.hJK,logicalOr:()=>M.K5V,logicalXor:()=>M.egP,losses:()=>M.MB5,matMul:()=>M.OI3,math:()=>M.mAU,max:()=>M.Fp7,maxPool:()=>M._sB,maximum:()=>M.gWQ,maximumStrict:()=>M._jk,mean:()=>M.J69,memory:()=>M.sq6,metrics:()=>og,min:()=>M.VV$,minimum:()=>M.LTh,minimumStrict:()=>M.Wzl,mod:()=>M.wQq,modStrict:()=>M.IrJ,model:()=>Rt,models:()=>Ip,moments:()=>M.Gi7,movingAverage:()=>M.p_,mul:()=>M.dC7,mulStrict:()=>M.NT4,multiRNNCell:()=>M.rq4,multinomial:()=>M.SJ_,neg:()=>M.W76,nextFrame:()=>M.glt,norm:()=>M.KOy,notEqual:()=>M.Quu,notEqualStrict:()=>M.FGK,oneHot:()=>M.lfX,ones:()=>M.iUs,onesLike:()=>M.JpU,op:()=>M.op,outerProduct:()=>M.N2O,pad:()=>M.vku,pad1d:()=>M.pNR,pad2d:()=>M.koy,pad3d:()=>M.t1L,pad4d:()=>M.lGY,pool:()=>M.d_R,pow:()=>M.sQ3,powStrict:()=>M.Lfl,prelu:()=>M.AL3,print:()=>M.S0v,prod:()=>M.WVs,profile:()=>M.N5s,rand:()=>M.TN_,randomNormal:()=>M.nGf,randomUniform:()=>M.LGj,range:()=>M.w6H,real:()=>M.kwC,reciprocal:()=>M.M25,registerCallbackConstructor:()=>Mr,regularizers:()=>Fp,relu:()=>M.UYe,reshape:()=>M.XLQ,reverse:()=>M.GYS,reverse1d:()=>M.SDf,reverse2d:()=>M.diP,reverse3d:()=>M.sx7,reverse4d:()=>M.mG2,rfft:()=>M.QEs,round:()=>M.NMM,rsqrt:()=>M.bp0,scalar:()=>M.iD$,scatterND:()=>M.snQ,selu:()=>M.U8D,separableConv2d:()=>M.U_I,sequential:()=>En,serialization:()=>M.m7h,setBackend:()=>M.CQI,setdiff1dAsync:()=>M.ODp,sigmoid:()=>M.XD2,sign:()=>M.Xxe,sin:()=>M.O$l,sinh:()=>M.R_K,slice:()=>M.tPi,slice1d:()=>M.jZU,slice2d:()=>M.SmN,slice3d:()=>M.CnO,slice4d:()=>M.p0P,softmax:()=>M.XAC,softplus:()=>M.Wvh,spaceToBatchND:()=>M.fBT,sparseToDense:()=>M.ers,spectral:()=>M.uN7,split:()=>M.Vl2,sqrt:()=>M._b3,square:()=>M.h62,squaredDifference:()=>M.$i,squaredDifferenceStrict:()=>M.r7z,squeeze:()=>M.L9e,stack:()=>M.knu,step:()=>M.Nbs,stridedSlice:()=>M.NXj,sub:()=>M.luU,subStrict:()=>M.ULw,sum:()=>M.Smz,tan:()=>M.ORZ,tanh:()=>M.AEp,tensor:()=>M.XeE,tensor1d:()=>M.RRF,tensor2d:()=>M.odF,tensor3d:()=>M.wOQ,tensor4d:()=>M.yXz,tensor5d:()=>M.Bfx,tensor6d:()=>M.xZs,test_util:()=>M.p3L,tidy:()=>M.lub,tile:()=>M.Gg6,time:()=>M.XVJ,toPixels:()=>M.C1$,topk:()=>M.hg7,train:()=>M.p_j,transpose:()=>M.p4s,truncatedNormal:()=>M.Xu6,unsortedSegmentSum:()=>M.pUJ,unstack:()=>M.HHK,util:()=>M.D5U,valueAndGrad:()=>M.h76,valueAndGrads:()=>M.fNQ,variable:()=>M.VD$,variableGrads:()=>M.pnJ,version:()=>Od,version_converter:()=>mu.gJ,version_core:()=>M.jTM,version_layers:()=>Zi,webgl:()=>M.yOA,where:()=>M.arb,whereAsync:()=>M.itS,zeros:()=>M.lls,zerosLike:()=>M.P84});var N=E(6895),t=E(4553),I=E(529),H=E(1744),z=E(4484);function re(_,v,d,g,C,V,K){try{var ae=_[V](K),fe=ae.value}catch(_e){return void d(_e)}ae.done?v(fe):Promise.resolve(fe).then(g,C)}var Oe=E(7340),M=E(253),Fe=function(_,v){return(Fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var C in g)g.hasOwnProperty(C)&&(d[C]=g[C])})(_,v)};function we(_,v){function d(){this.constructor=_}Fe(_,v),_.prototype=null===v?Object.create(v):(d.prototype=v.prototype,new d)}var Tt=function(){return(Tt=Object.assign||function(_){for(var v,d=1,g=arguments.length;d<g;d++)for(var C in v=arguments[d])Object.prototype.hasOwnProperty.call(v,C)&&(_[C]=v[C]);return _}).apply(this,arguments)};function De(_,v,d,g){return new(d||(d=Promise))(function(C,V){function K(_e){try{fe(g.next(_e))}catch(Ce){V(Ce)}}function ae(_e){try{fe(g.throw(_e))}catch(Ce){V(Ce)}}function fe(_e){_e.done?C(_e.value):new d(function(Ce){Ce(_e.value)}).then(K,ae)}fe((g=g.apply(_,v||[])).next())})}function Ae(_,v){var d,g,C,V,K={label:0,sent:function(){if(1&C[0])throw C[1];return C[1]},trys:[],ops:[]};return V={next:ae(0),throw:ae(1),return:ae(2)},"function"==typeof Symbol&&(V[Symbol.iterator]=function(){return this}),V;function ae(fe){return function(_e){return function(Ce){if(d)throw new TypeError("Generator is already executing.");for(;K;)try{if(d=1,g&&(C=2&Ce[0]?g.return:Ce[0]?g.throw||((C=g.return)&&C.call(g),0):g.next)&&!(C=C.call(g,Ce[1])).done)return C;switch(g=0,C&&(Ce=[2&Ce[0],C.value]),Ce[0]){case 0:case 1:C=Ce;break;case 4:return K.label++,{value:Ce[1],done:!1};case 5:K.label++,g=Ce[1],Ce=[0];continue;case 7:Ce=K.ops.pop(),K.trys.pop();continue;default:if(!(C=(C=K.trys).length>0&&C[C.length-1])&&(6===Ce[0]||2===Ce[0])){K=0;continue}if(3===Ce[0]&&(!C||Ce[1]>C[0]&&Ce[1]<C[3])){K.label=Ce[1];break}if(6===Ce[0]&&K.label<C[1]){K.label=C[1],C=Ce;break}if(C&&K.label<C[2]){K.label=C[2],K.ops.push(Ce);break}C[2]&&K.ops.pop(),K.trys.pop();continue}Ce=v.call(_,K)}catch(Xe){Ce=[6,Xe],g=0}finally{d=C=0}if(5&Ce[0])throw Ce[1];return{value:Ce[0]?Ce[1]:void 0,done:!0}}([fe,_e])}}}var je=M.ViN.get("EPSILON");function se(){return je}var mt=0;function Dt(){return mt++}var Pe={};function Ee(_){return void 0===_&&(_=""),_ in Pe||(Pe[_]=0),Pe[_]+=1,_+Pe[_].toString()}var Ye={float32:{},int32:{}},Qe="float32";function ze(_,v){return void 0===v&&(v=Qe),null==Ye[v][_]&&(Ye[v][_]=(0,M.iD$)(_,v),(0,M.CnY)(Ye[v][_])),Ye[v][_]}var xt=function(_){function v(d){var g=_.call(this,d)||this;return Object.setPrototypeOf(g,v.prototype),g}return we(v,_),v}(Error),pt=function(_){function v(d){var g=_.call(this,d)||this;return Object.setPrototypeOf(g,v.prototype),g}return we(v,_),v}(Error),Ne=function(_){function v(d){var g=_.call(this,d)||this;return Object.setPrototypeOf(g,v.prototype),g}return we(v,_),v}(Error),Le=function(_){function v(d){var g=_.call(this,d)||this;return Object.setPrototypeOf(g,v.prototype),g}return we(v,_),v}(Error),cn=function(_){function v(d){var g=_.call(this,d)||this;return Object.setPrototypeOf(g,v.prototype),g}return we(v,_),v}(Error);function qe(_,v){if(Array.isArray(_)){for(var d=[],g=0;g<v;g++)d=d.concat(_);return d}return(d=new Array(v)).fill(_),d}function it(_,v){if(!_)throw new cn(v)}function st(_,v){for(var d=0,g=0,C=_;g<C.length;g++)C[g]===v&&d++;return d}function nt(_){return 1===_.length?_[0]:_}function wt(_){return Array.isArray(_)?_:[_]}function At(_){var v=_.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==v[0]?v:"private"+v}function Wt(_){return _.length<=1||-1===_.indexOf("_")?_:_.replace(/[_]+(\w|$)/g,function(v,d){return d.toUpperCase()})}!function(_){we(function v(d){var g=_.call(this,d)||this;return Object.setPrototypeOf(g,v.prototype),g},_)}(Error);var zt={};function An(_){return null==_?null:{className:_.getClassName(),config:_.getConfig()}}function en(_,v,d,g){if(void 0===v&&(v={}),void 0===d&&(d={}),void 0===g&&(g="object"),"string"==typeof _){var V=void 0;if(_ in d)V=d[_];else if(_ in zt)V=zt[_];else if(null==(V=v[_]))throw new Ne("Unknown "+g+": "+_+". This may be due to one of the following reasons:\n1. The "+g+" is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom "+g+" is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().");return V}var K=_;if(null==K.className||null==K.config)throw new Ne(g+": Improper config format: "+JSON.stringify(K)+".\n'className' and 'config' must set.");var xn,Wn,kn,ae=K.className,fe=void 0,_e=void 0;if(ae in d?(fe=(xn=d.get(ae))[0],_e=xn[1]):ae in zt?(fe=(Wn=zt.className)[0],_e=Wn[1]):ae in v&&(fe=(kn=v[ae])[0],_e=kn[1]),null==fe)throw new Ne("Unknown "+g+": "+ae+". This may be due to one of the following reasons:\n1. The "+g+" is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom "+g+" is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().");if(null!=_e){for(var Ce={},Xe=0,lt=Object.keys(zt);Xe<lt.length;Xe++)Ce[qt=lt[Xe]]=zt[qt];for(var ht=0,rt=Object.keys(d);ht<rt.length;ht++)Ce[qt=rt[ht]]=d[qt];K.config.customObjects=Ce;for(var Et=Tt({},zt),$t=0,tn=Object.keys(d);$t<tn.length;$t++){var qt=tn[$t];zt[qt]=d[qt]}var Kt=_e(fe,K.config);return zt=Tt({},Et),Kt}Et=Tt({},zt);for(var ln=0,hn=Object.keys(d);ln<hn.length;ln++)zt[qt=hn[ln]]=d[qt];return Kt=new fe(K.config),zt=Tt({},Et),Kt}function yn(_,v){return-1*function Qt(_,v){return _<v?-1:_>v?1:0}(_,v)}function Vt(_){if(null==_)return _;for(var v=[],d=0,g=_;d<g.length;d++){var C=g[d];-1===v.indexOf(C)&&v.push(C)}return v}function Te(_){if(null==_)throw new Ne("Invalid value in obj: "+JSON.stringify(_));for(var v in _)if(_.hasOwnProperty(v))return!1;return!0}function et(_,v,d){if(null!=d&&_.indexOf(d)<0)throw new Ne(d+" is not a valid "+v+".  Valid values are "+_+" or null/undefined.")}function It(_,v,d,g){return void 0===d&&(d=0),void 0===g&&(g=1/0),it(d>=0),it(g>=d),Array.isArray(_)&&_.length>=d&&_.length<=g&&_.every(function(C){return typeof C===v})}function Ut(_,v){return(0,M.lub)(function(){return(0,M._b3)((0,M.Smz)((0,M.NT4)(_,_),v,!0))})}var rn=function(_){function v(){return null!==_&&_.apply(this,arguments)||this}return we(v,_),v.prototype.getConfig=function(){return{}},v}(M.m7h.Serializable),xr=function(_){function v(d){var g=_.call(this)||this;return g.defaultMaxValue=2,g.defaultAxis=0,g.maxValue=null!=d.maxValue?d.maxValue:g.defaultMaxValue,g.axis=null!=d.axis?d.axis:g.defaultAxis,g}return we(v,_),v.prototype.apply=function(d){var g=this;return(0,M.lub)(function(){var C=Ut(d,g.axis),V=(0,M.iUl)(C,0,g.maxValue);return(0,M.dC7)(d,(0,M.hiC)(V,(0,M.IHx)(ze(se()),C)))})},v.prototype.getConfig=function(){return{maxValue:this.maxValue,axis:this.axis}},v.className="MaxNorm",v}(rn);M.m7h.registerClass(xr);var Sr=function(_){function v(d){var g=_.call(this)||this;return g.defaultAxis=0,g.axis=null!=d.axis?d.axis:g.defaultAxis,g}return we(v,_),v.prototype.apply=function(d){var g=this;return(0,M.lub)(function(){return(0,M.hiC)(d,(0,M.IHx)(ze(se()),Ut(d,g.axis)))})},v.prototype.getConfig=function(){return{axis:this.axis}},v.className="UnitNorm",v}(rn);M.m7h.registerClass(Sr);var Xn=function(_){function v(){return null!==_&&_.apply(this,arguments)||this}return we(v,_),v.prototype.apply=function(d){return(0,M.UYe)(d)},v.className="NonNeg",v}(rn);M.m7h.registerClass(Xn);var er=function(_){function v(d){var g=_.call(this)||this;return g.defaultMinValue=0,g.defaultMaxValue=1,g.defaultRate=1,g.defaultAxis=0,g.minValue=null!=d.minValue?d.minValue:g.defaultMinValue,g.maxValue=null!=d.maxValue?d.maxValue:g.defaultMaxValue,g.rate=null!=d.rate?d.rate:g.defaultRate,g.axis=null!=d.axis?d.axis:g.defaultAxis,g}return we(v,_),v.prototype.apply=function(d){var g=this;return(0,M.lub)(function(){var C=Ut(d,g.axis),V=(0,M.IHx)((0,M.dC7)(ze(g.rate),(0,M.iUl)(C,g.minValue,g.maxValue)),(0,M.dC7)(ze(1-g.rate),C));return(0,M.dC7)(d,(0,M.hiC)(V,(0,M.IHx)(ze(se()),C)))})},v.prototype.getConfig=function(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}},v.className="MinMaxNorm",v}(rn);M.m7h.registerClass(er);var di={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function Jt(_){return An(_)}function Ti(_,v){return void 0===v&&(v={}),en(_,M.m7h.SerializationMap.getMap().classNameMap,v,"constraint")}function Pr(_){return null==_?null:"string"==typeof _?Ti({className:_ in di?di[_]:_,config:{}}):_ instanceof rn?_:Ti(_)}var Mt=Object.freeze({maxNorm:function pr(_){return new xr(_)},unitNorm:function bt(_){return new Sr(_)},nonNeg:function Ka(){return new Xn},minMaxNorm:function zn(_){return new er(_)}}),nn=new Map,Ri=["channelsFirst","channelsLast"];function Cn(_){et(Ri,"DataFormat",_)}var fr=["valid","same","causal"];function nr(_){et(fr,"PaddingMode",_)}var ai=["max","avg"],br=[],oa="/";function mn(_,v){br.push(_);try{var d=v();return br.pop(),d}catch(g){throw br.pop(),g}}function Li(_){if(!vt(_))throw new Error("Not a valid tensor name: '"+_+"'");return function Fi(){return 0===br.length?"":br.join(oa)+oa}()+_}function lr(_){if(!vt(_))throw new Error("Not a valid tensor name: '"+_+"'");nn.has(_)||nn.set(_,0);var v=nn.get(_);if(nn.set(_,nn.get(_)+1),v>0){var d=_+"_"+v;return nn.set(d,1),d}return _}var qi=new RegExp(/^[A-Za-z][-A-Za-z0-9\._\/]*$/);function vt(_){return!!_.match(qi)}function Ve(_){return _===parseInt(_.toString(),10)}function Ge(_,v,d){null==v&&(v=0),null==d&&(d=_.length);for(var g=1,C=v;C<d;++C)g*=_[C];return g}function Ht(_){return _=Array.isArray(_)?new Float32Array(_):_,(0,M.RRF)(_)}function kt(_){return(0,M.VV$)(Ht(_)).dataSync()[0]}function Sn(_){return(0,M.Fp7)(Ht(_)).dataSync()[0]}function $n(_,v){if(v<_)throw new Ne("end ("+v+") < begin ("+_+") is forbidden.");for(var d=[],g=_;g<v;++g)d.push(g);return d}function ur(_,v){return _.asType(v)}function Nn(_,v){void 0===v&&(v=-1);var d=_.shape.slice();return v<0&&(v=d.length+v+1),d.splice(v,0,1),_.reshape(d)}function He(_,v,d){return(0,M.lub)(function(){switch(_.rank){case 1:return(0,M.jZU)(_,v,d);case 2:return(0,M.SmN)(_,[v,0],[d,_.shape[1]]);case 3:return(0,M.CnO)(_,[v,0,0],[d,_.shape[1],_.shape[2]]);case 4:return(0,M.p0P)(_,[v,0,0,0],[d,_.shape[1],_.shape[2],_.shape[3]]);default:throw new Ne("sliceAlongFirstAxis() received an unsupported tensor rank: "+_.rank)}})}function be(_,v,d){return(0,M.lub)(function(){switch(_.rank){case 1:return(0,M.jZU)(_,v,d);case 2:return(0,M.SmN)(_,[0,v],[_.shape[0],d]);case 3:return(0,M.CnO)(_,[0,0,v],[_.shape[0],_.shape[1],d]);case 4:return(0,M.p0P)(_,[0,0,0,v],[_.shape[0],_.shape[1],_.shape[2],d]);default:throw new Ne("sliceAlongLastAxis() received an unsupported tensor rank: "+_.rank)}})}function We(_,v,d,g){return(0,M.lub)(function(){switch(_.rank){case 1:return(0,M.jZU)(_,v,d);case 2:switch(g){case 1:return He(_,v,d);case 2:return be(_,v,d);default:throw new Ne("The axis is not within the rank of the tensor "+g)}case 3:switch(g){case 1:return He(_,v,d);case 2:return(0,M.CnO)(_,[0,v,0],[_.shape[0],d,_.shape[2]]);case 3:return be(_,v,d);default:throw new Ne("The axis is not within the rank of the tensor "+g)}case 4:switch(g){case 1:return He(_,v,d);case 2:return(0,M.p0P)(_,[0,v,0,0],[_.shape[0],d,_.shape[2],_.shape[3]]);case 3:return(0,M.p0P)(_,[0,0,v,0],[_.shape[0],_.shape[1],d,_.shape[3]]);case 4:return be(_,v,d);default:throw new Ne("The axis is not within the rank of the tensor "+g)}default:throw new Ne("sliceAlongLastAxis() received an unsupported tensor rank: "+_.rank)}})}function St(_,v){var d;return void 0===v&&(v=-1),v<0&&(v=0!==(d=_[0].rank)?d:0),v===_[0].rank&&(v=-1),(0,M.zoF)(_,v)}function Yt(_,v){switch(_.rank){case 1:return(0,M.gME)([_,v]);case 2:return(0,M.Izb)([_,v],0);case 3:return(0,M.MNy)([_,v],0);case 4:return(0,M.ZaL)([_,v],0);default:throw new Ne("concatAlongFirstAxis() received an unsupported tensor rank: "+_.rank)}}function on(_,v){if(Array.isArray(v)||(v=[v]),_.rank!==v.length)throw new Ne("The length of input n ("+v.length+") does not match the number of dimensions in input x ("+_.rank+")");return(0,M.Gg6)(_,v)}function cr(_,v,d,g,C){return void 0===v&&(v=0),void 0===d&&(d=1),(0,M.nGf)(_,v,d,g,C)}function kr(_,v){if(_.rank<2||v.rank<2)throw new Le("dot requires both inputs to be rank >= 2 but got x shape = "+_.shape+" and y shape = "+v.shape);if(v.rank>=3&&(g=_.shape.slice(-1)[0])!==(K=v.shape.slice(-2)[0]))throw new Le("If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = "+_.shape+" and  y shape = "+v.shape);if(2===_.rank&&2===v.rank)return(0,M.OI3)(_,v);var d=_.shape.slice(),g=d.pop();_=_.reshape([-1,g]);var C=v.shape.slice(),V=C.pop(),K=C.pop(),ae=C.concat([V]),fe=Array.from({length:v.rank},function(Ce,Xe){return 0===Xe?v.rank-2:Xe<=v.rank-2?Xe-1:Xe});v=v.transpose(fe).reshape([K,-1]);var _e=d.concat(ae);return(0,M.OI3)(_,v).reshape(_e)}function Re(_,v,d){return(0,M.lub)(function(){return v=Array.isArray(v)?(0,M.RRF)(v,"int32"):v.toInt(),(0,M.Iqj)(_,v,d)})}function Hi(_){return(0,M.NT4)(_,_)}function Mo(_,v,d){return(0,M.lub)(function(){if(null==d&&(d="channelsLast"),Cn(d),1!==v.rank&&v.rank!==_.rank)throw new Ne("Unexpected bias dimensions: "+v.rank+"; expected it to be 1 or "+_.rank);var g,C=v.shape;if(5===_.rank)"channelsFirst"===d?g=_.add(v.reshape(1===C.length?[1,C[0],1,1,1]:[1,C[3],C[0],C[1],C[2]])):"channelsLast"===d&&(g=_.add(v.reshape(1===C.length?[1,1,1,1,C[0]]:[1].concat(C))));else if(4===_.rank)"channelsFirst"===d?g=_.add(v.reshape(1===C.length?[1,C[0],1,1]:[1,C[2],C[0],C[1]])):"channelsLast"===d&&(g=_.add(v.reshape(1===C.length?[1,1,1,C[0]]:[1].concat(C))));else if(3===_.rank)"channelsFirst"===d?g=_.add(v.reshape(1===C.length?[1,C[0],1]:[1,C[1],C[0]])):"channelsLast"===d&&(g=_.add(v.reshape(1===C.length?[1,1,C[0]]:[1].concat(C))));else{if(!(_.rank<3))throw new Ne("Unsupported input rank by biasAdd: "+_.rank);g=_.add(v)}return g})}function Io(_,v,d,g){return(0,M.lub)(function(){if(null!=d&&!M.D5U.arraysEqual(_.shape,d))throw new Le("Non-default noise shape is not implemented yet: "+JSON.stringify(d));if(null!=g)throw new Le("seed is not implemented for dropout yet.");var C=(0,M.Nbs)((0,M.IHx)((0,M.W76)(v),(0,M.LGj)(_.shape,0,1,"float32")));return C=(0,M.dC7)((0,M.hiC)(ze(1),(0,M.luU)(ze(1),v)),C),(0,M.dC7)(_,C)})}function Ao(_,v,d){return void 0===d&&(d=!1),d?_():v()}var gr=["fanIn","fanOut","fanAvg"],Ln=["normal","uniform"],ei=function(_){function v(){return null!==_&&_.apply(this,arguments)||this}return we(v,_),v.prototype.fromConfigUsesCustomObjects=function(){return!1},v.prototype.getConfig=function(){return{}},v}(M.m7h.Serializable),vo=function(_){function v(){return null!==_&&_.apply(this,arguments)||this}return we(v,_),v.prototype.apply=function(d,g){return(0,M.lls)(d,g)},v.className="Zeros",v}(ei);M.m7h.registerClass(vo);var dn=function(_){function v(){return null!==_&&_.apply(this,arguments)||this}return we(v,_),v.prototype.apply=function(d,g){return(0,M.iUs)(d,g)},v.className="Ones",v}(ei);M.m7h.registerClass(dn);var Mn=function(_){function v(d){var g=_.call(this)||this;if("object"!=typeof d)throw new Ne("Expected argument of type ConstantConfig but got "+d);if(void 0===d.value)throw new Ne("config must have value set but got "+d);return g.value=d.value,g}return we(v,_),v.prototype.apply=function(d,g){var C=this;return(0,M.lub)(function(){return(0,M.dC7)((0,M.iD$)(C.value),(0,M.iUs)(d,g))})},v.prototype.getConfig=function(){return{value:this.value}},v.className="Constant",v}(ei);M.m7h.registerClass(Mn);var Rr=function(_){function v(d){var g=_.call(this)||this;return g.DEFAULT_MINVAL=-.05,g.DEFAULT_MAXVAL=.05,g.minval=d.minval||g.DEFAULT_MINVAL,g.maxval=d.maxval||g.DEFAULT_MAXVAL,g.seed=d.seed,g}return we(v,_),v.prototype.apply=function(d,g){return(0,M.LGj)(d,this.minval,this.maxval,g)},v.prototype.getConfig=function(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}},v.className="RandomUniform",v}(ei);M.m7h.registerClass(Rr);var xi=function(_){function v(d){var g=_.call(this)||this;return g.DEFAULT_MEAN=0,g.DEFAULT_STDDEV=.05,g.mean=d.mean||g.DEFAULT_MEAN,g.stddev=d.stddev||g.DEFAULT_STDDEV,g.seed=d.seed,g}return we(v,_),v.prototype.apply=function(d,g){if("float32"!==(g=g||"float32")&&"int32"!==g)throw new Le("randomNormal does not support dType "+g+".");return cr(d,this.mean,this.stddev,g,this.seed)},v.prototype.getConfig=function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}},v.className="RandomNormal",v}(ei);M.m7h.registerClass(xi);var aa=function(_){function v(d){var g=_.call(this)||this;return g.DEFAULT_MEAN=0,g.DEFAULT_STDDEV=.05,g.mean=d.mean||g.DEFAULT_MEAN,g.stddev=d.stddev||g.DEFAULT_STDDEV,g.seed=d.seed,g}return we(v,_),v.prototype.apply=function(d,g){if("float32"!==(g=g||"float32")&&"int32"!==g)throw new Le("truncatedNormal does not support dType "+g+".");return(0,M.Xu6)(d,this.mean,this.stddev,g,this.seed)},v.prototype.getConfig=function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}},v.className="TruncatedNormal",v}(ei);M.m7h.registerClass(aa);var hi=function(_){function v(d){var g=_.call(this)||this;return g.gain=null!=d.gain?(0,M.iD$)(d.gain):ze(1),g}return we(v,_),v.prototype.apply=function(d,g){var C=this;return(0,M.lub)(function(){if(2!==d.length||d[0]!==d[1])throw new Ne("Identity matrix initializer can only be used for 2D square matrices.");return(0,M.dC7)(C.gain,(0,M.iyy)(d[0]))})},v.prototype.getConfig=function(){return{gain:this.gain.get()}},v.className="Identity",v}(ei);M.m7h.registerClass(hi);var ir=function(_){function v(d){var g=_.call(this)||this;if(d.scale<0)throw new Ne("scale must be a positive float. Got: "+d.scale);return g.scale=null==d.scale?1:d.scale,g.mode=d.mode,function Yn(_){et(gr,"FanMode",_)}(g.mode),g.distribution=d.distribution,function ga(_){et(Ln,"Distribution",_)}(g.distribution),g.seed=d.seed,g}return we(v,_),v.prototype.apply=function(d,g){var C=function to(_,v){var d,g;if(void 0===v&&(v="channelsLast"),Cn(v),2===_.length)d=_[0],g=_[1];else if(-1!==[3,4,5].indexOf(_.length))if("channelsFirst"===v){var C=Ge(_,2);d=_[1]*C,g=_[0]*C}else"channelsLast"===v&&(C=Ge(_,0,_.length-2),d=_[_.length-2]*C,g=_[_.length-1]*C);else{var V=Ge(_);d=Math.sqrt(V),g=Math.sqrt(V)}return[d,g]}(d),V=C[0],K=C[1],ae=this.scale;if(ae/="fanIn"===this.mode?Math.max(1,V):"fanOut"===this.mode?Math.max(1,K):Math.max(1,(V+K)/2),"normal"===this.distribution){var fe=Math.sqrt(ae);if("float32"!==(g=g||"float32")&&"int32"!==g)throw new Le(this.getClassName()+" does not support dType "+g+".");return(0,M.Xu6)(d,0,fe,g,this.seed)}var _e=Math.sqrt(3*ae);return(0,M.LGj)(d,-_e,_e,g)},v.prototype.getConfig=function(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}},v.className="VarianceScaling",v}(ei);M.m7h.registerClass(ir);var mr=function(_){function v(d){return _.call(this,{scale:1,mode:"fanAvg",distribution:"uniform",seed:null==d?null:d.seed})||this}return we(v,_),v.prototype.getClassName=function(){return ir.className},v.className="GlorotUniform",v}(ir);M.m7h.registerClass(mr);var si=function(_){function v(d){return _.call(this,{scale:1,mode:"fanAvg",distribution:"normal",seed:null==d?null:d.seed})||this}return we(v,_),v.prototype.getClassName=function(){return ir.className},v.className="GlorotNormal",v}(ir);M.m7h.registerClass(si);var _n=function(_){function v(d){return _.call(this,{scale:2,mode:"fanIn",distribution:"normal",seed:null==d?null:d.seed})||this}return we(v,_),v.prototype.getClassName=function(){return ir.className},v.className="HeNormal",v}(ir);M.m7h.registerClass(_n);var li=function(_){function v(d){return _.call(this,{scale:1,mode:"fanIn",distribution:"normal",seed:null==d?null:d.seed})||this}return we(v,_),v.prototype.getClassName=function(){return ir.className},v.className="LeCunNormal",v}(ir);M.m7h.registerClass(li);var Si=function(_){function v(d){var g=_.call(this)||this;if(g.DEFAULT_GAIN=1,g.gain=null==d.gain?g.DEFAULT_GAIN:d.gain,g.seed=d.seed,null!=g.seed)throw new Le("Random seed is not implemented for Orthogonal Initializer yet.");return g}return we(v,_),v.prototype.apply=function(d,g){var C=this;return(0,M.lub)(function(){if(2!==d.length)throw new Le("The Orthogonal Initializer does not support non-2D shapes yet.");d[0]*d[1]>2e3&&console.warn("Orthogonal initializer is being called on a matrix with more than 2000 ("+d[0]*d[1]+") elements: Slowness may result.");var V=cr(d[0]>d[1]?[d[1],d[0]]:d,0,1,"float32"),K=M.$r2.gramSchmidt(V);return d[0]>d[1]&&(K=K.transpose()),(0,M.dC7)(ze(C.gain),K)})},v.prototype.getConfig=function(){return{gain:this.gain,seed:this.seed}},v.className="Orthogonal",v}(ei);M.m7h.registerClass(Si);var $o={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",identity:"Identity",leCunNormal:"LeCunNormal",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function Mi(_,v){return void 0===v&&(v={}),en(_,M.m7h.SerializationMap.getMap().classNameMap,v,"initializer")}function Rn(_){return An(_)}function Vr(_){if("string"==typeof _){var v=_ in $o?$o[_]:_;return"GlorotUniform"===v?new mr:"GlorotNormal"===v?new si:"HeNormal"===v?new _n:"LeCunNormal"===v?new li:Mi({className:v,config:{}})}return _ instanceof ei?_:Mi(_)}var $i=Object.freeze({zeros:function Aa(){return new vo},ones:function Oo(){return new dn},constant:function sa(_){return new Mn(_)},randomUniform:function ol(_){return new Rr(_)},randomNormal:function jr(_){return new xi(_)},truncatedNormal:function Oa(_){return new aa(_)},identity:function al(_){return new hi(_)},varianceScaling:function ao(_){return new ir(_)},glorotUniform:function ma(_){return new mr(_)},glorotNormal:function Xa(_){return new si(_)},heNormal:function es(_){return new _n(_)},leCunNormal:function Vi(_){return new li(_)},orthogonal:function ya(_){return new Si(_)}});function Me(_){return Array.isArray(_)&&Array.isArray(_[0])}function so(_){return 0===_.length?[]:Array.isArray(_[0])?_:[_]}function Ue(_){var v;if(Array.isArray(_)){if(1!==_.length)throw new Ne("Expected Tensor length to be 1; got "+_.length);v=_[0]}else v=_;return v}function ar(_){if(Array.isArray(_)&&Array.isArray(_[0])){if(1===_.length)return _[0];throw new Ne("Expected exactly 1 Shape; got "+_.length)}return _}function pi(_){for(var v=0,d=0,g=_;d<g.length;d++){var C=g[d];v+=0===C.shape.length?1:C.shape.reduce(function(V,K){return V*K})}return v}var Pa="Variable",va=function(){function _(v,d,g,C,V){void 0===d&&(d="float32"),void 0===g&&(g=Pa),void 0===C&&(C=!0),void 0===V&&(V=null),this.dtype=d??"float32",this.shape=v.shape,this.id=Dt(),this.originalName=Li(g=g??Pa),this.name=lr(this.originalName),this.trainable=C,this.constraint=V,this.val=(0,M.VD$)(v,this.trainable,this.name,this.dtype)}return _.prototype.read=function(){return this.assertNotDisposed(),this.val},_.prototype.write=function(v){return this.assertNotDisposed(),function Fs(_,v){if(_.shape.toString()!==v.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(_.shape)+" vs. "+JSON.stringify(v.shape))}(this.val,v),this.val.id!==v.id&&(this.val.assign(v),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this},_.prototype.dispose=function(){this.assertNotDisposed(),this.val.dispose()},_.prototype.assertNotDisposed=function(){if(this.val.isDisposed)throw new Error("LayersVariable "+this.name+" is already disposed.")},_}();function _o(_){return _.map(function(v){return v.read()})}function _s(_){_.map(function(v){v[0].write(v[1])})}var Ur=function(_){this.dtype=_.dtype,this.shape=_.shape,this.ndim=null!=_.shape?_.shape.length:_.ndim,this.maxNDim=_.maxNDim,this.minNDim=_.minNDim,this.axes=_.axes||{}},Ii=function(_,v,d,g,C,V,K){this.dtype=_,this.shape=v,this.sourceLayer=d,this.inputs=g,this.callArgs=C,this.outputTensorIndex=K,this.id=Dt(),null!=V&&(this.originalName=Li(V),this.name=lr(this.originalName)),this.rank=v.length},ka=0,Fr=function(){function _(v,d){this.callArgs=d,this.id=ka++,this.outboundLayer=v.outboundLayer,this.inboundLayers=v.inboundLayers,this.nodeIndices=v.nodeIndices,this.tensorIndices=v.tensorIndices,this.inputTensors=v.inputTensors,this.outputTensors=v.outputTensors,this.inputMasks=v.inputMasks,this.outputMasks=v.outputMasks,this.inputShapes=v.inputShapes,this.outputShapes=v.outputShapes;for(var g=0,C=v.inboundLayers;g<C.length;g++)C[g]?.outboundNodes.push(this);v.outboundLayer.inboundNodes.push(this)}return _.prototype.getConfig=function(){for(var v=[],d=0,g=this.inboundLayers;d<g.length;d++){var C=g[d];v.push(null!=C?C.name:null)}return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:v,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}},_}(),Xt=0,or=function(_){function v(d){var g=_.call(this)||this;g._callHook=null,g._addedWeightNames=[],g._stateful=!1,g.id=Xt++,g.activityRegularizer=null,g.inputSpec=null,g.supportsMasking=!1,g._trainableWeights=[],g._nonTrainableWeights=[],g._losses=[],g._updates=[],g._built=!1,g.inboundNodes=[],g.outboundNodes=[];var C=d.name;if(!C){var V=g.getClassName();C=At(V)+"_"+Ee(V)}if(g.name=C,g.trainable=null==d.trainable||d.trainable,g.updatable=null==d.updatable||d.updatable,null!=d.inputShape||null!=d.batchInputShape){var K=void 0;if(null!=d.batchInputShape)K=d.batchInputShape;else if(null!=d.inputShape){var ae=null;null!=d.batchSize&&(ae=d.batchSize),K=[ae].concat(d.inputShape)}g.batchInputShape=K;var fe=d.dtype;null==fe&&(fe=d.inputDType),null==fe&&(fe="float32"),g.dtype=fe}return g.initialWeights=null!=d.weights?d.weights:null,g._refCount=null,g}return we(v,_),v.nodeKey=function(d,g){return d.name+"_ib-"+g.toString()},v.prototype.getNodeAtIndex=function(d,g){if(0===this.inboundNodes.length)throw new pt("The layer has never been called and thus has no defined "+g+".");if(this.inboundNodes.length<=d)throw new Ne("Asked to get "+g+" at node "+d+", but the layer has only "+this.inboundNodes.length+" inbound nodes.");return this.inboundNodes[d]},v.prototype.getInputAt=function(d){return nt(this.getNodeAtIndex(d,"input").inputTensors)},v.prototype.getOutputAt=function(d){return nt(this.getNodeAtIndex(d,"output").outputTensors)},Object.defineProperty(v.prototype,"input",{get:function(){if(this.inboundNodes.length>1)throw new xt("Layer "+this.name+' has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use `getInputAt(nodeIndex)` instead.');if(0===this.inboundNodes.length)throw new xt("Layer "+this.name+" is not connected, no input to return.");return nt(this.getNodeAtIndex(0,"input").inputTensors)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"output",{get:function(){if(0===this.inboundNodes.length)throw new xt("Layer "+this.name+" has no inbound nodes.");if(this.inboundNodes.length>1)throw new xt("Layer "+this.name+' has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use `getOutputAt(nodeIndex)` instead.');return nt(this.getNodeAtIndex(0,"output").outputTensors)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"losses",{get:function(){return this._losses},enumerable:!0,configurable:!0}),v.prototype.calculateLosses=function(){return this.losses.map(function(d){return d()})},Object.defineProperty(v.prototype,"updates",{get:function(){return this._updates},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"built",{get:function(){return this._built},set:function(d){this._built=d},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"trainableWeights",{get:function(){return this.trainable?this._trainableWeights:[]},set:function(d){this._trainableWeights=d},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"nonTrainableWeights",{get:function(){return this.trainable?this._nonTrainableWeights:this._trainableWeights.concat(this._nonTrainableWeights)},set:function(d){this._nonTrainableWeights=d},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"weights",{get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"stateful",{get:function(){return this._stateful},enumerable:!0,configurable:!0}),v.prototype.resetStates=function(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")},v.prototype.assertInputCompatibility=function(d){if(d=wt(d),null!=this.inputSpec&&0!==this.inputSpec.length){var g=wt(this.inputSpec);if(d.length!==g.length)throw new Ne("Layer "+this.name+" expects "+g.length+" inputs, but it received "+d.length+" input tensors. Input received: "+d);for(var C=0;C<d.length;C++){var V=d[C],K=g[C];if(null!=K){var ae=V.rank;if(null!=K.ndim&&ae!==K.ndim)throw new Ne("Input "+C+" is incompatible with layer "+this.name+": expected ndim="+K.ndim+", found ndim="+ae);if(null!=K.maxNDim&&ae>K.maxNDim)throw new Ne("Input "+C+" is incompatible with layer "+this.name+": expected max_ndim="+K.maxNDim+", found ndim="+ae);if(null!=K.minNDim&&ae<K.minNDim)throw new Ne("Input "+C+" is incompatible with layer "+this.name+": expected min_ndim="+K.minNDim+", found ndim="+ae+".");if(null!=K.dtype&&V.dtype!==K.dtype)throw new Ne("Input "+C+" is incompatible with layer "+this.name+" : expected dtype="+K.dtype+", found dtype="+V.dtype+".");if(K.axes){var fe=V.shape;for(var _e in K.axes){var Ce=Number(_e),Xe=K.axes[_e];if(null!=Xe&&-1===[Xe,null].indexOf(Ce>=0?fe[Ce]:fe[fe.length+Ce]))throw new Ne("Input "+C+" is incompatible with layer "+this.name+": expected axis "+Ce+" of input shape to have value "+Xe+" but got shape "+fe+".")}}if(null!=K.shape)for(var ht=0;ht<K.shape.length;++ht){var rt=K.shape[ht],Et=V.shape[ht];if(null!=rt&&null!=Et&&rt!==Et)throw new Ne("Input "+C+" is incompatible with layer "+this.name+": expected shape="+K.shape+", found shape=${xShape}.")}}}}},v.prototype.call=function(d,g){return d},v.prototype.invokeCallHook=function(d,g){null!=this._callHook&&this._callHook(d,g)},v.prototype.setCallHook=function(d){this._callHook=d},v.prototype.clearCallHook=function(){this._callHook=null},v.prototype.apply=function(d,g){var C=this;g=g||{},this.assertNotDisposed();for(var V=wt(d),K=!0,ae=0,fe=V;ae<fe.length;ae++)if(!(fe[ae]instanceof Ii)){K=!1;break}for(var _e=!0,Ce=0,Xe=V;Ce<Xe.length;Ce++)if(Xe[Ce]instanceof Ii){_e=!1;break}if(K===_e)throw new Ne("Arguments to apply() must be all SymbolicTensors or all Tensors");return mn(this.name,function(){if(!C.built){C.assertInputCompatibility(d);for(var lt=[],ht=0,rt=wt(d);ht<rt.length;ht++)lt.push(rt[ht].shape);C.build(nt(lt)),C.built=!0,C.initialWeights&&C.setWeights(C.initialWeights),null===C._refCount&&_e&&(C._refCount=1)}if(C.assertInputCompatibility(d),_e){for(var $t=[],tn=0,qt=wt(xn=C.call(d,g));tn<qt.length;tn++){var Kt=qt[tn];-1!==V.indexOf(Kt)&&(Kt=Kt.clone()),$t.push(Kt)}if(xn=nt($t),null!=C.activityRegularizer)throw new Le("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return xn}var ln=function ts(_){for(var v=[],d=0,g=_=wt(_);d<g.length;d++)v.push(g[d].shape);return nt(v)}(d),hn=C.computeOutputShape(ln),xn=void 0,Wn="float32";if(C.warnOnIncompatibleInputShape(Array.isArray(d)?ln[0]:ln),xn=null!=hn&&hn.length>0&&Array.isArray(hn[0])?hn.map(function(kn,Yr){return new Ii(Wn,kn,C,wt(d),g,C.name,Yr)}):new Ii(Wn,hn,C,wt(d),g,C.name),C.addInboundNode(d,xn,null,null,ln,hn,g),C._refCount++,null!=C.activityRegularizer)throw new Le("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return xn})},v.prototype.warnOnIncompatibleInputShape=function(d){if(null!=this.batchInputShape)if(d.length!==this.batchInputShape.length)console.warn("The rank of the input tensor provided (shape: "+JSON.stringify(d)+") does not match that of the batchInputShape ("+JSON.stringify(this.batchInputShape)+") of the layer "+this.name);else{var g=!1;this.batchInputShape.forEach(function(C,V){null!=C&&null!=d[V]&&d[V]!==C&&(g=!0)}),g&&console.warn("The shape of the input tensor ("+JSON.stringify(d)+") does not match the expectation of layer "+this.name+": "+JSON.stringify(this.batchInputShape))}},Object.defineProperty(v.prototype,"outputShape",{get:function(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new xt("The layer "+this.name+" has never been called and thus has no defined output shape.");for(var d=[],g=0,C=this.inboundNodes;g<C.length;g++){var K=JSON.stringify(C[g].outputShapes);-1===d.indexOf(K)&&d.push(K)}if(1===d.length){var ae=this.inboundNodes[0].outputShapes;return Array.isArray(ae)&&Array.isArray(ae[0])&&1===ae.length?ae[0]:ae}throw new xt("The layer "+this.name+' has multiple inbound nodes with different output shapes. Hence the notion of "outut shape" is ill-defined for the layer.')},enumerable:!0,configurable:!0}),v.prototype.countParams=function(){if(!this.built)throw new pt("You tried to call countParams() on "+this.name+", but the layer is not built yet. Build it first by calling build(batchInputShape).");return pi(this.weights)},v.prototype.build=function(d){this.built=!0},v.prototype.getWeights=function(d){return void 0===d&&(d=!1),_o(d?this.trainableWeights:this.weights)},v.prototype.setWeights=function(d){var g=this;(0,M.lub)(function(){var C=g.weights;if(C.length!==d.length)throw new Ne('You called setWeights(weights) on layer "'+g.name+'" with a weight list of length '+d.length+", but the layer was expecting "+C.length+" weights. Provided weights: "+d+"...");if(0!==C.length){for(var V=[],K=_o(C),ae=0;ae<K.length;++ae){var fe=K[ae],_e=C[ae],Ce=d[ae];if(!M.D5U.arraysEqual(fe.shape,Ce.shape))throw new Ne("Layer weight shape "+fe.shape+" not compatible with provided weight shape "+Ce.shape);V.push([_e,Ce])}_s(V)}})},v.prototype.addWeight=function(d,g,C,V,K,ae,fe){if(-1!==this._addedWeightNames.indexOf(d))throw new Ne("Duplicate weight name "+d+" for layer "+this.name);this._addedWeightNames.push(d),null==C&&(C="float32");var _e=new va(V.apply(g,C),C,d,ae,fe);return null!=K&&this.addLoss(function(){return K.apply(_e.read())}),null==ae&&(ae=!0),ae?this._trainableWeights.push(_e):this._nonTrainableWeights.push(_e),_e},v.prototype.addLoss=function(d){var g;null==d||Array.isArray(d)&&0===d.length||(d=wt(d),null!=this._losses&&(g=this.losses).push.apply(g,d))},v.prototype.computeOutputShape=function(d){return d},v.prototype.computeMask=function(d,g){var C=this;if(!this.supportsMasking){if(null!=g){if(!Array.isArray(g))throw new TypeError("Layer "+this.name+" does not support masking,but was passed an inputMask.");g.forEach(function(V){if(null!=V)throw new TypeError("Layer "+C.name+" does not support masking,but was passed an inputMask.")})}return null}return g},v.prototype.addInboundNode=function(d,g,C,V,K,ae,fe){void 0===fe&&(fe=null);var _e=wt(d);g=wt(g),C=wt(C),V=wt(V),K=so(K),ae=so(ae);for(var Ce=[],Xe=[],lt=[],ht=0,rt=_e;ht<rt.length;ht++){var Et=rt[ht];Ce.push(Et.sourceLayer),Xe.push(Et.nodeIndex),lt.push(Et.tensorIndex)}new Fr({outboundLayer:this,inboundLayers:Ce,nodeIndices:Xe,tensorIndices:lt,inputTensors:_e,outputTensors:g,inputMasks:C,outputMasks:V,inputShapes:K,outputShapes:ae},fe);for(var $t=0;$t<g.length;$t++)g[$t].sourceLayer=this,g[$t].nodeIndex=this.inboundNodes.length-1,g[$t].tensorIndex=$t},v.prototype.getConfig=function(){var d={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(d.batchInputShape=this.batchInputShape),null!=this.dtype&&(d.dtype=this.dtype),d},v.prototype.disposeWeights=function(){return this.weights.forEach(function(d){return d.dispose()}),this.weights.length},v.prototype.assertNotDisposed=function(){if(0===this._refCount)throw new Error("Layer '"+this.name+"' is already disposed.")},v.prototype.dispose=function(){if(!this.built)throw new Error("Cannot dispose Layer "+this.name+" because it has not been built yet.");if(null===this._refCount)throw new Error("Cannot dispose Layer "+this.name+" because it has not been used yet.");this.assertNotDisposed();var d=0;return 0==--this._refCount&&(d=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:d}},v}(M.m7h.Serializable);function Gi(_,v,d){if((null==v||null!=d&&d>0)&&(v=_.sourceLayer,d=_.nodeIndex),0===v.inboundNodes.length)return[_];var g=v.inboundNodes[d];if(0===g.inboundLayers.length)return g.inputTensors;for(var C=[],V=0;V<g.inboundLayers.length;V++)for(var K=0,ae=Gi(g.inputTensors[V],g.inboundLayers[V],g.nodeIndices[V]);K<ae.length;K++){var fe=ae[K];-1===C.indexOf(fe)&&C.push(fe)}return C}var Nl,_,Ra=function(_){function v(d){var g=_.call(this,{dtype:d.dtype,name:null!=d.name?d.name:Ee("input").toString()})||this;if(null==d.batchSize&&(d.batchSize=null),null==d.sparse&&(d.sparse=!1),g.trainable=!1,g.built=!0,g.sparse=d.sparse,null!=d.inputShape&&null!=d.batchInputShape)throw new Ne("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");var C=d.batchInputShape;if(null==C){if(null==d.inputShape)throw new Ne("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");C=[d.batchSize].concat(d.inputShape)}else if(null!=d.batchSize)throw new Ne("Cannot specify batchSize if batchInputShape isspecified when creating an InputLayer.");var V=d.dtype||"float32";g.batchInputShape=C,g.dtype=V,g.inputSpec=[{shape:C}];var K=new Ii(g.dtype,g.batchInputShape,g,[],{},g.name);return K.nodeIndex=0,K.tensorIndex=0,new Fr({outboundLayer:g,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[K],outputTensors:[K],inputMasks:[null],outputMasks:[null],inputShapes:[C],outputShapes:[C]}),g}return we(v,_),v.prototype.apply=function(d,g){throw new Ne("Cannot pass any input to an InputLayer's apply() method. InputLayer name: "+this.name)},v.prototype.dispose=function(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}},v.prototype.getConfig=function(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}},v.className="InputLayer",v}(or);function no(_){if(null==_.batchShape&&null==_.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=_.batchShape&&null!=_.shape)throw new Ne("Please provide either a `shape` or `batchShape` argument to Input, but not both.");var v=_.batchShape;null!=_.shape&&null==v&&(v=[null].concat(_.shape));var d=_.dtype;return null==d&&(d="float32"),new Ra({batchInputShape:v,name:_.name,dtype:d,sparse:_.sparse}).inboundNodes[0].outputTensors[0]}function Hr(_){return De(this,void 0,void 0,function(){var v,d,g,C,V,K,ae,fe;return Ae(this,function(_e){switch(_e.label){case 0:if(null==_)return[2];for(C in v=[],d=[],g=[],_)"number"!=typeof(V=_[C])&&(v.push((K=V).data()),d.push(C),g.push(K));return[4,Promise.all(v)];case 1:for(ae=_e.sent(),fe=0;fe<ae.length;++fe)_[d[fe]]=ae[fe][0];return(0,M.B90)(g),[2]}})})}function Fa(_){if(null!=_)for(var v in _){var d=_[v];"number"!=typeof d&&d.dispose()}}M.m7h.registerClass(Ra),(_=Nl||(Nl={}))[_.SILENT=0]="SILENT",_[_.VERBOSE=1]="VERBOSE";var ba=function(){function _(){this.validationData=null}return _.prototype.setParams=function(v){this.params=v},_.prototype.onEpochBegin=function(v,d){return De(this,void 0,void 0,function(){return Ae(this,function(g){return[2]})})},_.prototype.onEpochEnd=function(v,d){return De(this,void 0,void 0,function(){return Ae(this,function(g){return[2]})})},_.prototype.onBatchBegin=function(v,d){return De(this,void 0,void 0,function(){return Ae(this,function(g){return[2]})})},_.prototype.onBatchEnd=function(v,d){return De(this,void 0,void 0,function(){return Ae(this,function(g){return[2]})})},_.prototype.onTrainBegin=function(v){return De(this,void 0,void 0,function(){return Ae(this,function(d){return[2]})})},_.prototype.onTrainEnd=function(v){return De(this,void 0,void 0,function(){return Ae(this,function(d){return[2]})})},_.prototype.setModel=function(v){},_}(),Ls=function(){function _(v,d){void 0===d&&(d=10),null==v&&(v=[]),this.callbacks=v,this.queueLength=d}return _.prototype.append=function(v){this.callbacks.push(v)},_.prototype.setParams=function(v){for(var d=0,g=this.callbacks;d<g.length;d++)g[d].setParams(v)},_.prototype.setModel=function(v){for(var d=0,g=this.callbacks;d<g.length;d++)g[d].setModel(v)},_.prototype.onEpochBegin=function(v,d){return De(this,void 0,void 0,function(){var g,C;return Ae(this,function(V){switch(V.label){case 0:null==d&&(d={}),g=0,C=this.callbacks,V.label=1;case 1:return g<C.length?[4,C[g].onEpochBegin(v,d)]:[3,4];case 2:V.sent(),V.label=3;case 3:return g++,[3,1];case 4:return[2]}})})},_.prototype.onEpochEnd=function(v,d){return De(this,void 0,void 0,function(){var g,C;return Ae(this,function(V){switch(V.label){case 0:null==d&&(d={}),g=0,C=this.callbacks,V.label=1;case 1:return g<C.length?[4,C[g].onEpochEnd(v,d)]:[3,4];case 2:V.sent(),V.label=3;case 3:return g++,[3,1];case 4:return[2]}})})},_.prototype.onBatchBegin=function(v,d){return De(this,void 0,void 0,function(){var g,C;return Ae(this,function(V){switch(V.label){case 0:null==d&&(d={}),g=0,C=this.callbacks,V.label=1;case 1:return g<C.length?[4,C[g].onBatchBegin(v,d)]:[3,4];case 2:V.sent(),V.label=3;case 3:return g++,[3,1];case 4:return[2]}})})},_.prototype.onBatchEnd=function(v,d){return De(this,void 0,void 0,function(){var g,C;return Ae(this,function(V){switch(V.label){case 0:return null==d&&(d={}),[4,Hr(d)];case 1:V.sent(),g=0,C=this.callbacks,V.label=2;case 2:return g<C.length?[4,C[g].onBatchEnd(v,d)]:[3,5];case 3:V.sent(),V.label=4;case 4:return g++,[3,2];case 5:return[2]}})})},_.prototype.onTrainBegin=function(v){return De(this,void 0,void 0,function(){var d,g;return Ae(this,function(C){switch(C.label){case 0:null==v&&(v={}),d=0,g=this.callbacks,C.label=1;case 1:return d<g.length?[4,g[d].onTrainBegin(v)]:[3,4];case 2:C.sent(),C.label=3;case 3:return d++,[3,1];case 4:return[2]}})})},_.prototype.onTrainEnd=function(v){return De(this,void 0,void 0,function(){var d,g;return Ae(this,function(C){switch(C.label){case 0:null==v&&(v={}),d=0,g=this.callbacks,C.label=1;case 1:return d<g.length?[4,g[d].onTrainEnd(v)]:[3,4];case 2:C.sent(),C.label=3;case 3:return d++,[3,1];case 4:return[2]}})})},_}(),Go=function(){function _(v){this.yieldEvery=v,this.batchCount=0,this.batchDurationsMillis=[],this.autoYieldEveryBatches=null,this.batchStartMillis=M.D5U.now()}return _.prototype.resolveOneTensorInLogs=function(v){return De(this,void 0,void 0,function(){var d,g,C,K;return Ae(this,function(ae){switch(ae.label){case 0:for(g in d=[],v)d.push(g);C=0,ae.label=1;case 1:return C<d.length?"number"==typeof(K=v[d[C]])?[3,3]:[4,K.data()]:[3,4];case 2:return ae.sent(),[3,4];case 3:return C++,[3,1];case 4:return[2]}})})},_.prototype.maybeYieldOnBatch=function(v){return De(this,void 0,void 0,function(){var d,g;return Ae(this,function(C){switch(C.label){case 0:return"auto"!==this.yieldEvery?[3,7]:(this.batchCount++,null!=this.autoYieldEveryBatches?[3,3]:[4,this.resolveOneTensorInLogs(v)]);case 1:return C.sent(),d=M.D5U.now(),[4,(0,M.glt)()];case 2:return C.sent(),this.batchCount>_.SKIP_FIRST_BATCHES&&(this.batchDurationsMillis.push(d-this.batchStartMillis),this.batchDurationsMillis.length>=_.DECISION_BATCH_COUNT&&(g=this.batchDurationsMillis.reduce(function(V,K){return V+K})/this.batchDurationsMillis.length,this.autoYieldEveryBatches=Math.round(_.THRESHOLD_MILLIS/g),this.autoYieldEveryBatches<1&&(this.autoYieldEveryBatches=1))),this.batchStartMillis=M.D5U.now(),this.lastYieldBatchCount=this.batchCount,[3,6];case 3:return this.batchCount-this.lastYieldBatchCount>=this.autoYieldEveryBatches?[4,(0,M.glt)()]:[3,6];case 4:return C.sent(),[4,this.resolveOneTensorInLogs(v)];case 5:C.sent(),this.lastYieldBatchCount=this.batchCount,C.label=6;case 6:return[3,9];case 7:return"batch"!==this.yieldEvery?[3,9]:[4,(0,M.glt)()];case 8:C.sent(),C.label=9;case 9:return[2]}})})},_.prototype.maybeYieldOnEpoch=function(){return De(this,void 0,void 0,function(){return Ae(this,function(v){switch(v.label){case 0:return"epoch"!==this.yieldEvery?[3,2]:[4,(0,M.glt)()];case 1:v.sent(),v.label=2;case 2:return[2]}})})},_.SKIP_FIRST_BATCHES=1,_.DECISION_BATCH_COUNT=2,_.THRESHOLD_MILLIS=16,_}(),lo=function(_){function v(d){var g=_.call(this)||this;return g.yieldEvery=d||"auto",g}return we(v,_),v.prototype.onTrainBegin=function(d){return De(this,void 0,void 0,function(){return Ae(this,function(g){return this.autoYielder=new Go(this.yieldEvery),[2]})})},v.prototype.onEpochBegin=function(d){return De(this,void 0,void 0,function(){return Ae(this,function(g){return this.seen=0,this.totals={},[2]})})},v.prototype.onBatchEnd=function(d,g){return De(this,void 0,void 0,function(){var C,V,K,ae,fe=this;return Ae(this,function(_e){switch(_e.label){case 0:return[4,this.autoYielder.maybeYieldOnBatch(g)];case 1:for(ae in _e.sent(),null==g&&(g={}),this.seen+=C=null==g.size?0:g.size,V=function(Ce){var Xe=g[Ce];if("number"==typeof Xe)K.totals.hasOwnProperty(Ce)||(K.totals[Ce]=0),K.totals[Ce]=K.totals[Ce]+Xe*C;else{var lt=void 0;Ce in K.totals?lt=K.totals[Ce]:K.totals[Ce]=ze(0),K.totals[Ce]=(0,M.lub)(function(){return(0,M.IHx)(fe.totals[Ce],(0,M.dC7)(Xe,ze(C)))}),lt?.dispose()}},K=this,g)V(ae);return[2]}})})},v.prototype.onEpochEnd=function(d,g){return De(this,void 0,void 0,function(){var C,V,K,ae,_e=this;return Ae(this,function(Ce){switch(Ce.label){case 0:return[4,this.autoYielder.maybeYieldOnEpoch()];case 1:if(Ce.sent(),null!=g)for(C=function(Xe){if(null==V.totals[Xe])return"continue";"number"==typeof V.totals[Xe]?g[Xe]=V.totals[Xe]/V.seen:(0,M.lub)(function(){g[Xe]=(0,M.dC7)((0,M.hiC)(ze(1),ze(_e.seen)),_e.totals[Xe]),_e.totals[Xe].dispose(),(0,M.CnY)(g[Xe])})},V=this,K=0,ae=this.params.metrics;K<ae.length;K++)C(ae[K]);return[2]}})})},v}(ba),wa=function(_){function v(){return null!==_&&_.apply(this,arguments)||this}return we(v,_),v.prototype.onTrainBegin=function(d){return De(this,void 0,void 0,function(){return Ae(this,function(g){return this.epoch=[],this.history={},[2]})})},v.prototype.onEpochEnd=function(d,g){return De(this,void 0,void 0,function(){var C;return Ae(this,function(V){for(C in null==g&&(g={}),this.epoch.push(d),g)null==this.history[C]&&(this.history[C]=[]),this.history[C].push(g[C]);return[2]})})},v.prototype.syncData=function(){return De(this,void 0,void 0,function(){var d,g,C,V,K,ae,_e,Ce;return Ae(this,function(Xe){switch(Xe.label){case 0:for(V in d=[],g=[],C=[],this.history)for(K=this.history[V],ae=0;ae<K.length;++ae)"number"!=typeof K[ae]&&(d.push(K[ae].data()),g.push(V),C.push(ae));return[4,Promise.all(d)];case 1:for(_e=Xe.sent(),Ce=0;Ce<_e.length;++Ce)this.history[g[Ce]][C[Ce]].dispose(),this.history[g[Ce]][C[Ce]]=_e[Ce][0];return[2]}})})},v}(ba),Ca=function(_){function v(d){var g=_.call(this)||this;return g.trainBegin=d.onTrainBegin,g.trainEnd=d.onTrainEnd,g.epochBegin=d.onEpochBegin,g.epochEnd=d.onEpochEnd,g.batchBegin=d.onBatchBegin,g.batchEnd=d.onBatchEnd,g}return we(v,_),v.prototype.onEpochBegin=function(d,g){return De(this,void 0,void 0,function(){return Ae(this,function(C){switch(C.label){case 0:return null==this.epochBegin?[3,3]:[4,Hr(g)];case 1:return C.sent(),[4,this.epochBegin(d,g)];case 2:C.sent(),C.label=3;case 3:return[2]}})})},v.prototype.onEpochEnd=function(d,g){return De(this,void 0,void 0,function(){return Ae(this,function(C){switch(C.label){case 0:return null==this.epochEnd?[3,3]:[4,Hr(g)];case 1:return C.sent(),[4,this.epochEnd(d,g)];case 2:C.sent(),C.label=3;case 3:return[2]}})})},v.prototype.onBatchBegin=function(d,g){return De(this,void 0,void 0,function(){return Ae(this,function(C){switch(C.label){case 0:return null==this.batchBegin?[3,3]:[4,Hr(g)];case 1:return C.sent(),[4,this.batchBegin(d,g)];case 2:C.sent(),C.label=3;case 3:return[2]}})})},v.prototype.onBatchEnd=function(d,g){return De(this,void 0,void 0,function(){return Ae(this,function(C){switch(C.label){case 0:return null==this.batchEnd?[3,3]:[4,Hr(g)];case 1:return C.sent(),[4,this.batchEnd(d,g)];case 2:C.sent(),C.label=3;case 3:return[2]}})})},v.prototype.onTrainBegin=function(d){return De(this,void 0,void 0,function(){return Ae(this,function(g){switch(g.label){case 0:return null==this.trainBegin?[3,3]:[4,Hr(d)];case 1:return g.sent(),[4,this.trainBegin(d)];case 2:g.sent(),g.label=3;case 3:return[2]}})})},v.prototype.onTrainEnd=function(d){return De(this,void 0,void 0,function(){return Ae(this,function(g){switch(g.label){case 0:return null==this.trainEnd?[3,3]:[4,Hr(d)];case 1:return g.sent(),[4,this.trainEnd(d)];case 2:g.sent(),g.label=3;case 3:return[2]}})})},v}(ba);function Bs(_){return null==_?null:_ instanceof ba?[_]:Array.isArray(_)&&_[0]instanceof ba?_:wt(_).map(function(v){return new Ca(v)})}var ns=function(){function _(){}return _.registerCallbackConstructor=function(v,d){M.D5U.assert(v>=0&&Number.isInteger(v),"Verbosity level is expected to be an integer >= 0, but got "+v),_.checkForDuplicate(d),null==_.constructors[v]&&(_.constructors[v]=[]),_.constructors[v].push(d)},_.checkForDuplicate=function(v){for(var d in _.constructors)_.constructors[+d].forEach(function(g){if(g===v)throw new Ne("Duplicate callback constructor.")})},_.clear=function(){_.constructors={}},_.createCallbacks=function(v){var d=[];for(var g in _.constructors){var C=+g;v>=C&&d.push.apply(d,_.constructors[C])}return d.map(function(V){return new V})},_.constructors={},_}();function Da(_,v,d,g,C,V,K,ae,fe,_e){var Ce=new wa,Xe=[new lo(v)].concat(ns.createCallbacks(d));null!=_&&Xe.push.apply(Xe,_),Xe.push(Ce);var lt=new Ls(Xe);return lt.setParams({epochs:g,initialEpoch:C,samples:V,steps:K,batchSize:ae,verbose:d,doValidation:fe,metrics:_e}),{callbackList:lt,history:Ce}}function Wo(_,v){return(0,M.lub)(function(){var d=(0,M.Smz)(Hi(_),v,!0),g=(0,M.dC7)((0,M.iD$)(se()),(0,M.JpU)(_)),C=(0,M._b3)((0,M.gWQ)(d,g));return(0,M.hiC)(_,C)})}function qo(_,v){return(0,M.lub)(function(){return(0,M.J69)(Hi((0,M.luU)(v,_)),-1)})}function Nr(_,v){return(0,M.lub)(function(){return(0,M.J69)((0,M.WnP)((0,M.luU)(v,_)),-1)})}function rs(_,v){return(0,M.lub)(function(){var d=(0,M.luU)(_,v),g=(0,M.iUl)((0,M.WnP)(_),se(),Number.MAX_VALUE),C=(0,M.WnP)((0,M.hiC)(d,g));return(0,M.dC7)(ze(100),(0,M.J69)(C,-1))})}function Zr(_,v){return(0,M.lub)(function(){var d=ze(1),g=(0,M.iUl)(v,se(),Number.MAX_VALUE),C=(0,M.cM7)((0,M.IHx)(d,g)),V=(0,M.iUl)(_,se(),Number.MAX_VALUE),K=(0,M.cM7)((0,M.IHx)(d,V));return(0,M.J69)(Hi((0,M.luU)(C,K)),-1)})}function la(_,v){return(0,M.lub)(function(){var d=ze(0),g=ze(1),C=(0,M.gWQ)(d,(0,M.luU)(g,(0,M.dC7)(_,v)));return(0,M.J69)(Hi(C),-1)})}function bs(_,v){return(0,M.lub)(function(){var d=ze(0),g=ze(1),C=(0,M.gWQ)(d,(0,M.luU)(g,(0,M.dC7)(_,v)));return(0,M.J69)(C,-1)})}function Ai(_,v){return(0,M.lub)(function(){var d=ze(0),g=ze(1),C=(0,M.Smz)((0,M.dC7)(_,v),-1),V=(0,M.Fp7)((0,M.dC7)((0,M.luU)(g,_),v),-1);return(0,M.gWQ)(d,(0,M.IHx)(g,(0,M.luU)(V,C)))})}function Vs(_,v){return(0,M.lub)(function(){var d=ze(Math.log(2)),g=(0,M.luU)(v,_),C=(0,M.luU)((0,M.IHx)(g,(0,M.Wvh)((0,M.dC7)(ze(-2),g))),d);return(0,M.J69)(C,-1)})}function uo(_,v,d){return void 0===d&&(d=!1),(0,M.lub)(function(){if(d)v=(0,M.XAC)(v);else{var g=(0,M.Smz)(v,v.shape.length-1,!0);v=(0,M.hiC)(v,g)}return v=(0,M.iUl)(v,se(),1-se()),(0,M.W76)((0,M.Smz)((0,M.dC7)(_.toFloat(),(0,M.cM7)(v)),v.shape.length-1))})}function Cr(_,v,d){return void 0===d&&(d=!1),(0,M.lub)(function(){var g=(0,M.GWj)(function Bi(_){var v=[Ge(_.shape)];return _.reshape(v)}(_)).toInt(),C=v.shape;return uo((0,M.lfX)(g,C[C.length-1]).reshape(C),v,d)})}function bo(_,v){return(0,M.lub)(function(){var d;return d=(0,M.iUl)(v,se(),1-se()),d=(0,M.cM7)((0,M.hiC)(d,(0,M.luU)((0,M.JpU)(d),d))),(0,M.J69)(function Tl(_,v){return(0,M.lub)(function(){var d=(0,M.gWQ)(v,(0,M.P84)(v)),g=(0,M.dC7)(v,_),C=(0,M.cM7)((0,M.IHx)(ze(1),(0,M.Qqt)((0,M.W76)((0,M.WnP)(v)))));return(0,M.IHx)((0,M.luU)(d,g),C)})}(_,d),-1)})}function is(_,v){return(0,M.lub)(function(){var d=(0,M.iUl)(_,se(),1),g=(0,M.iUl)(v,se(),1);return(0,M.Smz)((0,M.dC7)(_,(0,M.cM7)((0,M.hiC)(d,g))),-1)})}function Tr(_,v){return(0,M.lub)(function(){var d=(0,M.cM7)((0,M.IHx)(ze(se()),v));return(0,M.J69)((0,M.luU)(v,(0,M.dC7)(_,d)),-1)})}function Ea(_,v){return(0,M.lub)(function(){var d=Wo(_,-1),g=Wo(v,-1),C=(0,M.dC7)(d,g);return(0,M.W76)((0,M.Smz)(C,-1))})}function wo(_){var v={meanSquaredError:qo,meanAbsoluteError:Nr,meanAbsolutePercentageError:rs,meanSquaredLogarithmicError:Zr,squaredHinge:la,hinge:bs,categoricalHinge:Ai,logcosh:Vs,categoricalCrossentropy:uo,sparseCategoricalCrossentropy:Cr,binaryCrossentropy:bo,kullbackLeiblerDivergence:is,poisson:Tr,cosineProximity:Ea};if("string"==typeof _){if(_ in v)return v[_];var d="Unknown loss "+_;throw _.toLowerCase().includes("softmaxcrossentropy")&&(d="Unknown loss "+_+'. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy'),new Ne(d)}return _}function os(_,v){return(0,M.lub)(function(){var d=(0,M.dC7)(ze(.5),(0,M.JpU)(v)),g=ur((0,M.pjt)(v,d),_.dtype);return(0,M.J69)((0,M.DgJ)(_,g),-1)})}function Dr(_,v){return(0,M.lub)(function(){return ur((0,M.DgJ)((0,M.NqF)(_,-1),(0,M.NqF)(v,-1)),"float32")})}function Lr(_,v){return(0,M.lub)(function(){var d=ze(1);return(0,M.HvI)(_.equal(d),v.equal(d)).sum().cast("float32")})}function sl(_,v){return(0,M.lub)(function(){var d=ze(0),g=Lr(_,v),C=function Pn(_,v){return(0,M.lub)(function(){var d=ze(1),g=ze(0);return(0,M.HvI)(_.equal(g),v.equal(d)).sum().cast("float32")})}(_,v),V=g.add(C);return(0,M.arb)((0,M.pjt)(V,d),g.div(V),d).cast("float32")})}function Co(_,v){return bo(_,v)}function te(_,v){throw new Le}var J=qo,W=qo,me=Nr,ft=Nr,ut=rs,On=rs,yr=uo,xa=Ea,ti=Cr;function Ml(_,v,d){void 0===d&&(d=console.log);for(var g="",C=0;C<_.length;++C)C>0&&(g=g.slice(0,g.length-1)+" "),g=(g+=_[C]).slice(0,v[C]),g+=" ".repeat(v[C]-g.length);d(g)}function Au(_,v,d){var g;try{g=JSON.stringify(_.outputShape)}catch{g="multiple"}Ml([_.name+" ("+_.getClassName()+")",g,_.countParams().toString()],v,d)}function iu(_,v,d,g){var C;try{C=JSON.stringify(_.outputShape)}catch{C="multiple"}for(var V=[],K=0,ae=_.inboundNodes;K<ae.length;K++){var fe=ae[K];if(!(null!=d&&d.length>0&&-1===d.indexOf(fe)))for(var _e=0;_e<fe.inboundLayers.length;++_e)V.push(fe.inboundLayers[_e].name+"["+fe.nodeIndices[_e]+"]["+fe.tensorIndices[_e]+"]")}var ht=_.name,rt=_.getClassName(),Et=0===V.length?"":V[0];for(Ml([ht+" ("+rt+")",C,_.countParams().toString(),Et],v,g),_e=1;_e<V.length;++_e)Ml(["","","",V[_e]],v,g)}function ni(_,v){return void 0===v&&(v={}),en(_,M.m7h.SerializationMap.getMap().classNameMap,v,"layer")}function Po(_,v,d){return("inboundNodes"===_||"outputLayers"===_||"inputLayers"===_)&&0===v&&"string"==typeof d}function ss(_,v){if(null===_)return null;if("string"==typeof _)return Wt(_);if("number"==typeof _||"boolean"==typeof _)return _;if(_ instanceof Array){for(var d=[],g=_.length,C=0;C<g;++C){var V=_[C];Po(v,C,V)?d.push(V):d.push(ss(V,v))}return d}for(var K={},ae=0,fe=Object.keys(_);ae<fe.length;ae++){var _e=fe[ae],Ce=_[_e];if("name"===_e&&"string"==typeof Ce)K[_e]=Ce;else{var Xe=Wt(_e);K[Xe]=ss(Ce,Xe)}}return K}function Yo(_,v){if(null==_)return null;if("string"==typeof _)return At(_);if("number"==typeof _||"boolean"==typeof _)return _;if(_ instanceof Array){for(var d=[],g=_.length,C=0;C<g;++C){var V=_[C];Po(v,C,V)?d.push(V):d.push(Yo(V,v))}return d}for(var K={},ae=0,fe=Object.keys(_);ae<fe.length;ae++){var _e=fe[ae],Ce=_[_e];K[At(_e)]="name"!==_e&&"className"!==_e||"string"!=typeof Ce?Yo(Ce,_e):Ce}return K}var Zi="0.8.5";function ou(_,v,d,g){if(!d.startsWith("2."))throw new Ne("Unsupported Keras version in weights being loaded: "+d);return v}function Il(_,v,d){var g=function _t(_){if("float32"===_)return"float32";throw new Ne("Invalid dtype: "+_)}(_);return M.esB.make(v,{values:0===v.length?d:M.D5U.flatten(d)},g)}var Al=function(_){function v(d){var g=_.call(this,{})||this;if(g.containerNodes=new Set,g.name=d.name,null==g.name){var C=g.getClassName().toLowerCase();g.name=Ee(C)}if(g.supportsMasking=!1,g.trainable=!0,g.updatable=!0,g.inputs=Array.isArray(d.inputs)?d.inputs.slice():[d.inputs],g.outputs=Array.isArray(d.outputs)?d.outputs.slice():[d.outputs],Vt(g.inputs).length!==g.inputs.length)throw new Ne("The list of inputs passed to the model is redundant. All inputs should only appear once. Found: "+g.inputs.map(function(Jr){return Jr.name}));Vt(g.outputs).length!==g.outputs.length&&console.warn("The list of outputs passed to the model is redundant. All outputs should only appear once. Found: "+g.outputs.map(function(Jr){return Jr.name})),g.inputLayers=[],g.inputLayersNodeIndices=[],g.inputLayersTensorIndices=[],g.outputLayers=[],g.outputLayersNodeIndices=[],g.outputLayersTensorIndices=[],g.layers=[];for(var V=0,K=g.outputs;V<K.length;V++){var ae=(vr=K[V]).sourceLayer,fe=vr.nodeIndex,_e=vr.tensorIndex;g.outputLayers.push(ae),g.outputLayersNodeIndices.push(fe),g.outputLayersTensorIndices.push(_e)}for(var Ce=0,Xe=g.inputs;Ce<Xe.length;Ce++)ae=(vr=Xe[Ce]).sourceLayer,_e=vr.tensorIndex,it(0===(fe=vr.nodeIndex),"input layer has >1 nodes"),it(0===_e,"input layer has >1 tensors"),g.inputLayers.push(ae),g.inputLayersNodeIndices.push(fe),g.inputLayersTensorIndices.push(_e);g.inputNames=[],g.outputNames=[],g.feedInputShapes=[],g.feedInputNames=[],g.feedOutputNames=[];for(var lt=0;lt<g.inputLayers.length;lt++){if(!((ae=g.inputLayers[lt])instanceof Ra))throw new TypeError("Input layers to a Model must be InputLayer objects. Received inputs: "+d.inputs+". Input "+lt+" (0-based) originates from layer type "+ae.getClassName()+".");g.inputNames.push(ae.name),g.feedInputShapes.push(ae.batchInputShape),g.feedInputNames.push(ae.name)}for(var ht=0,rt=g.outputLayers;ht<rt.length;ht++)g.outputNames.push((ae=rt[ht]).name);g.internalInputShapes=g.inputs.map(function(Jr){return Jr.shape}),g.internalOutputShapes=g.outputs.map(function(Jr){return Jr.shape});for(var Et={},$t={},tn={},qt={},Kt={},ln=[],hn=function(Jr,Di,Xi,Ga,Ju,Qu){null!=Ga&&null!=Ju&&null!=Qu||(Ga=Jr.sourceLayer,Ju=Jr.nodeIndex,Qu=Jr.tensorIndex);var zo=Ga.inboundNodes[Ju];if(-1!==Xi.indexOf(zo))throw new pt("The tensor "+Jr.name+' at layer "'+Ga.name+'" is part of a cycle.');if(-1===Di.indexOf(zo)){g.containerNodes.add(v.nodeKey(Ga,Ju)),Ga.id in Kt||(Kt[Ga.id]=Object.keys(Kt).length),-1===Xi.indexOf(zo)&&Xi.push(zo);for(var zp=zo.inboundLayers.length,Yl=0;Yl<zp;Yl++)hn(zo.inputTensors[Yl],Di,Xi,zo.inboundLayers[Yl],zo.nodeIndices[Yl],zo.tensorIndices[Yl]);for(Di.push(zo);Xi.indexOf(zo)>=0;)Xi.splice(Xi.indexOf(zo),1);ln.push(zo)}},xn=[],Wn=[],kn=0,Yr=g.outputs;kn<Yr.length;kn++){var vr=Yr[kn];hn(vr,xn,Wn)}for(var yi=0,Kr=ln.slice().reverse();yi<Kr.length;yi++){$t[(So=Kr[yi]).id]=So,So.id in Et||(Et[So.id]=0);var jn=Et[So.id];for(jn=Math.max(jn,null==tn[So.outboundLayer.id]?0:tn[So.outboundLayer.id]),tn[So.outboundLayer.id]=jn,qt[So.outboundLayer.id]=So.outboundLayer,Et[So.id]=jn,lt=0;lt<So.inboundLayers.length;lt++){var Ni=So.inboundLayers[lt].inboundNodes[fe=So.nodeIndices[lt]];Et[Ni.id]=Math.max(jn+1,null==Et[Ni.id]?0:Et[Ni.id]),$t[Ni.id]=Ni}}var Qi={};for(var Uo in Et)(jn=Et[Uo])in Qi||(Qi[jn]=[]),Qi[jn].push($t[Uo]);var Pi={};for(var Wl in tn)(jn=tn[Wl])in Pi||(Pi[jn]=[]),Pi[jn].push(qt[Wl]);var Qo=Object.keys(Pi).map(function(Jr){return parseInt(Jr,10)}).sort(yn);g.layers=[];for(var ps=0,Xo=Qo;ps<Xo.length;ps++){var ql=Pi[jn=Xo[ps]];ql.sort(function(Jr,Di){var Xi=Kt[Jr.id],Ga=Kt[Di.id];return Xi<Ga?-1:Xi>Ga?1:0});for(var vl=0,Rd=ql;vl<Rd.length;vl++)g.layers.push(ae=Rd[vl])}g.layersByDepth=Pi,Qo=Object.keys(Qi).map(function(Jr){return parseInt(Jr,10)}).sort(yn);for(var Vp=g.inputs.slice(),Up=[],Uc=0,Oh=Qo;Uc<Oh.length;Uc++)for(var Fd=0,Gr=Qi[jn=Oh[Uc]];Fd<Gr.length;Fd++){var So;if(null!=(ae=(So=Gr[Fd]).outboundLayer)){for(var Zl=0,fs=So.inputTensors;Zl<fs.length;Zl++)if(-1===Vp.indexOf(vr=fs[Zl]))throw new pt("Graph disconnected: cannot obtain value for tensor "+vr+' at layer "'+ae.name+'". The following previous layers were accessed without issue: '+Up);for(var _l=0,vu=So.outputTensors;_l<vu.length;_l++)Vp.push(vr=vu[_l]);Up.push(ae.name)}}g.nodesByDepth=Qi;for(var $a=g.layers.map(function(Jr){return Jr.name}),gs=function(Jr){var Di=$a.filter(function(Xi){return Xi===Jr}).length;if(1!==Di)throw new pt('The name "'+Jr+'" is used '+Di+" times in the model. All layer names should be unique. Layer names: "+JSON.stringify($a))},_u=0,zc=$a;_u<zc.length;_u++)gs(zc[_u]);return g.outboundNodes=[],g.inboundNodes=[],new Fr({outboundLayer:g,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:g.inputs,outputTensors:g.outputs,inputMasks:g.inputs.map(function(Jr){return null}),outputMasks:g.outputs.map(function(Jr){return null}),inputShapes:g.inputs.map(function(Jr){return Jr.shape}),outputShapes:g.outputs.map(function(Jr){return Jr.shape})}),g.built=!0,g._refCount=1,g}return we(v,_),v.prototype.assertNotDisposed=function(){if(0===this._refCount)throw new Error("Container '"+this.name+"' is already disposed.")},v.prototype.dispose=function(){this.assertNotDisposed();var d={refCountAfterDispose:null,numDisposedVariables:0};if(0==--this._refCount)for(var g=0,C=this.layers;g<C.length;g++)d.numDisposedVariables+=C[g].dispose().numDisposedVariables;return d.refCountAfterDispose=this._refCount,d},Object.defineProperty(v.prototype,"trainableWeights",{get:function(){if(this._trainableWeights.length>0)throw new Ne("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];for(var d=[],g=0,C=this.layers;g<C.length;g++)d=d.concat(C[g].trainableWeights);return d},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"nonTrainableWeights",{get:function(){for(var d=[],g=0,C=this.layers;g<C.length;g++){var V=C[g];d.push.apply(d,V.nonTrainableWeights)}if(!this.trainable){for(var K=[],ae=0,fe=this.layers;ae<fe.length;ae++)K.push.apply(K,(V=fe[ae]).trainableWeights);return K.concat(d)}return d},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"weights",{get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)},enumerable:!0,configurable:!0}),v.prototype.loadWeights=function(d,g,C,V){void 0===g&&(g=!1),void 0===C&&(C=!1),void 0===V&&(V=!0),C?function Ou(_,v,d){void 0===d&&(d=!0);for(var g={},C=0,V=0,K=v;V<K.length;V++)for(var ae=0,fe=K[V].weights;ae<fe.length;ae++){var _e=fe[ae];if(null!=g[_e.originalName])throw new Ne("Duplicate weight name: "+_e.originalName);g[_e.originalName]=_e,C++}var Ce=[];for(var Xe in _){if(null!=g[Xe])Ce.push([g[Xe],_[Xe]]);else if(d)throw new Ne("Provided weight data has no target variable: "+Xe);delete g[Xe]}if(d){var lt=[];for(var ht in g)lt.push(ht);if(lt.length>0)throw new Ne(lt.length+" of "+C+" weights are not set: "+lt)}_s(Ce)}(d,this.layers,V):function zs(_,v,d){void 0===d&&(d=!1);for(var g=_.keras_version,V=v.map(function(xn){return xn.name}),K={},ae=0,fe=v;ae<fe.length;ae++)null!=(Kt=fe[ae]).name&&(null==K[Kt.name]&&(K[Kt.name]=[]),K[Kt.name].push(Kt));for(var _e=_.weights,Ce=[],Xe=0;Xe<V.length;++Xe){var lt=V[Xe],ht=_e[lt];null==ht&&(ht=[]);for(var rt=[],Et=0;Et<ht.length;++Et){var $t=ht[Et];rt.push(new va(Il($t.dtype,$t.shape,$t.value)))}for(var tn=0,qt=K[lt];tn<qt.length;tn++){var Kt,ln=(Kt=qt[tn]).weights;if((rt=ou(0,rt,g)).length!==ln.length){if(!d)throw new Ne("Layer #"+Xe+' (named "'+Kt.name+'") expects '+ln.length+" weight(s), but the saved weights have "+rt.length+" element(s).");console.warn("Skipping loading of weights of layer "+Kt.name+" due to mismatch in number of weights: ("+rt.length+" vs "+ln.length+").")}for(var hn=0;hn<rt.length;++hn)!d||M.D5U.arraysEqual(ln[hn].shape,rt[hn].shape)?Ce.push([ln[hn],rt[hn].read()]):console.warn("Skipping loading of weights for layer "+Kt.name+" due to mismatch in shape ("+ln[hn].shape+" vs "+rt[hn].shape+")")}}_s(Ce)}(d,this.layers,g)},v.prototype.updatedConfig=function(){var d=this.getConfig();return{className:this.getClassName(),config:d,kerasVersion:"tfjs-layers "+Zi,backend:"TensorFlow.js"}},v.prototype.toJSON=function(d,g){void 0===g&&(g=!0);var C=Yo(this.updatedConfig());return g?JSON.stringify(C):C},v.prototype.call=function(d,g){var C=this;return(0,M.lub)(function(){var V;return d=wt(d),V="mask"in g?wt(g.mask):qe(null,d.length),C.runInternalGraph(d,V)[0]})},v.prototype.computeMask=function(d,g){var C=this;return(0,M.lub)(function(){var V;return d=wt(d),V=null==g?qe(null,d.length):wt(g),C.runInternalGraph(d,V)[1]})},v.prototype.computeOutputShape=function(d){var g=so(d);if(g.length!==this.inputLayers.length)throw new Ne("Invalid inputShape argument "+d+": model has "+this.inputLayers.length+" tensor inputs.");for(var C={},V=0;V<g.length;V++){var K=this.inputLayers[V];C[Yr=K.name+"_0_0"]=g[V]}var fe=Object.keys(this.nodesByDepth).map(function(yi){return parseInt(yi,10)}).sort(yn);if(fe.length>1)for(var _e=0,Ce=fe;_e<Ce.length;_e++)for(var lt=0,ht=this.nodesByDepth[Ce[_e]];lt<ht.length;lt++){var rt=ht[lt];if(K=rt.outboundLayer,-1===this.inputLayers.map(function(yi){return yi.id}).indexOf(K.id)){for(var Et=[],$t=0;$t<rt.inboundLayers.length;$t++){var Kt=rt.tensorIndices[$t],ln=C[Yr=rt.inboundLayers[$t].name+"_"+rt.nodeIndices[$t]+"_"+Kt];Et.push(ln)}var hn=so(K.computeOutputShape(nt(Et))),xn=K.inboundNodes.indexOf(rt);for($t=0;$t<hn.length;$t++)C[Yr=K.name+"_"+xn+"_"+$t]=hn[$t]}}var Wn=[],kn=[];for(V=0;V<this.outputLayers.length;V++){var Yr=(K=this.outputLayers[V]).name+"_"+(xn=this.outputLayersNodeIndices[V])+"_"+(Kt=this.outputLayersTensorIndices[V]);kn.push(Yr)}for(V=0;V<kn.length;V++){var vr=kn[V];it(vr in C),Wn.push(C[vr])}return nt(Wn)},v.prototype.runInternalGraph=function(d,g){null==g&&(g=qe(null,d.length));for(var C={},V=0;V<this.inputs.length;++V){var K=this.inputs[V],ae=d[V],fe=g[V];C[K.id]=[ae,fe]}for(var _e=0,Ce=Object.keys(this.nodesByDepth).map(function(Pi){return parseInt(Pi,10)}).sort(yn);_e<Ce.length;_e++)for(var lt=0,ht=this.nodesByDepth[Ce[_e]];lt<ht.length;lt++){for(var rt=ht[lt],Et=rt.outboundLayer,$t=rt.inputTensors,tn=rt.outputTensors,qt=new Array,Kt=0,ln=$t;Kt<ln.length;Kt++)(K=ln[Kt]).id in C&&qt.push(C[K.id]);if(qt.length===$t.length){var hn={},xn=void 0,Wn=void 0,kn=void 0,Yr=void 0;if(null!=rt.callArgs&&(hn=rt.callArgs),1===qt.length){var vr=qt[0],yi=vr[0],Kr=vr[1];null==hn.mask&&(hn.mask=Kr),kn=wt(Et.call(yi,hn)),Yr=wt(Et.computeMask(yi,Kr)),xn=[yi],Wn=[Kr]}else xn=qt.map(function(Pi){return Pi[0]}),Wn=qt.map(function(Pi){return Pi[1]}),null==hn.mask&&(hn.mask=Wn),kn=wt(Et.call(xn,hn)),Yr=wt(Et.computeMask(xn,Wn));if(Et.activityRegularizer)throw new Le("Model invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(V=0;V<tn.length;++V)C[(K=tn[V]).id]=[ae=kn[V],fe=Yr[V]]}}for(var jn=[],oi=[],Ci=[],Ni=0,Ji=this.outputs;Ni<Ji.length;Ni++){it((K=Ji[Ni]).id in C,"Could not compute output "+K.name+" : "+K.id);var Qi=C[K.id],Uo=Qi[0];fe=Qi[1],Ci.push(Uo.shape),jn.push(Uo),oi.push(fe)}return[jn,oi,Ci]},v.prototype.buildNodeConversionMap=function(d){for(var g,C={},V=0,K=this.layers;V<K.length;V++){var ae=K[V];g=ae instanceof v?1:0;for(var fe=0;fe<ae.inboundNodes.length;fe++){var _e=v.nodeKey(ae,fe);this.containerNodes.has(_e)&&(C[_e]=g,g+=1)}}return C},v.prototype.getLayer=function(d,g){if(null!=g){if(this.layers.length<=g)throw new Ne("Was asked to retrieve layer at index "+g+", but model only has "+this.layers.length+" layer(s).");return this.layers[g]}if(null==d)throw new Ne("Provide either a layer name or layer index");for(var C=0,V=this.layers;C<V.length;C++){var K=V[C];if(K.name===d)return K}throw new Ne("No such layer: "+d)},v.prototype.calculateLosses=function(){var d=this;return(0,M.lub)(function(){for(var g=[],C=0,V=d.layers;C<V.length;C++)for(var K=V[C],ae=0;ae<K.inboundNodes.length;++ae){var fe=v.nodeKey(K,ae);d.containerNodes.has(fe)&&g.push.apply(g,K.calculateLosses())}return g})},v.prototype.getConfig=function(){for(var d={name:this.name},g=this.buildNodeConversionMap(this.layers),C=[],V=0,K=this.layers;V<K.length;V++){for(var ae=(ln=K[V]).getClassName(),fe=ln.getConfig(),_e=[],Ce=0;Ce<ln.inboundNodes.length;Ce++){var Xe=ln.inboundNodes[Ce],lt=v.nodeKey(ln,Ce),ht={};if(this.containerNodes.has(lt)){if(Xe.callArgs)try{JSON.stringify(Xe.callArgs),ht=Xe.callArgs}catch{console.warn("Layer "+ln.name+" was passed non-serializable keyword arguments: "+Xe.callArgs+". They will not be included in the serialized model (and thus will be missing at deserialization time)."),ht={}}if(Xe.inboundLayers.length>0){for(var rt=[],Et=0;Et<Xe.inboundLayers.length;Et++){var $t=Xe.inboundLayers[Et],tn=Xe.nodeIndices[Et],qt=Xe.tensorIndices[Et];null==(xn=g[v.nodeKey($t,tn)])&&(xn=0),rt.push([$t.name,xn,qt,ht])}_e.push(rt)}}}C.push({name:ln.name,className:ae,config:fe,inboundNodes:_e})}d.layers=C;var Kt=[];for(Et=0;Et<this.inputLayers.length;Et++){var ln=this.inputLayers[Et];lt=v.nodeKey(ln,tn=this.inputLayersNodeIndices[Et]),this.containerNodes.has(lt)&&(null!==(xn=g[lt])&&void 0!==xn||(xn=0),Kt.push([ln.name,xn,qt=this.inputLayersTensorIndices[Et]]))}d.inputLayers=Kt;var hn=[];for(Et=0;Et<this.outputLayers.length;Et++)if(lt=v.nodeKey(ln=this.outputLayers[Et],tn=this.outputLayersNodeIndices[Et]),this.containerNodes.has(lt)){var xn;null!==(xn=g[lt])&&void 0!==xn||(xn=0),hn.push([ln.name,xn,qt=this.outputLayersTensorIndices[Et]])}return d.outputLayers=hn,d},v.fromConfig=function(d,g){var C={},V={};function K(oi,Ci){oi.name in V?V[oi.name].push(Ci):V[oi.name]=[Ci]}function ae(oi,Ci){for(var Ni,Ji=[],Qi=0,Uo=Ci;Qi<Uo.length;Qi++){var Pi=Uo[Qi],Wl=Pi[0],Qo=Pi[1],ps=Pi[2];if(3===Pi.length)Ni={};else{if(4!==Pi.length)throw new Ne("Improperly formatted model config for layer "+JSON.stringify(oi)+": "+JSON.stringify(Pi));Ni=Pi[3]}if(!(Wl in C))return void K(oi,Ci);var Xo=C[Wl];if(Xo.inboundNodes.length<=Qo)return void K(oi,Ci);Ji.push(Xo.inboundNodes[Qo].outputTensors[ps])}Ji.length>0&&oi.apply(nt(Ji),Ni)}function fe(oi){var Ci=oi.name,Ni=ni(oi,null!=g.customObjects?g.customObjects:{});C[Ci]=Ni;for(var Ji=0,Qi=oi.inboundNodes;Ji<Qi.length;Ji++){var Uo=Qi[Ji];if(!(Uo instanceof Array))throw new Ne("Corrupted configuration, expected array for nodeData: "+Uo);K(Ni,Uo)}}for(var _e=g.name,Ce=g.layers,Xe=0,lt=Ce;Xe<lt.length;Xe++)fe(Et=lt[Xe]);for(;!Te(V);)for(var ht=0,rt=Ce;ht<rt.length;ht++){var Et=rt[ht];if((jn=C[Et.name]).name in V){var $t=V[jn.name];delete V[jn.name];for(var tn=0,qt=$t;tn<qt.length;tn++)ae(jn,qt[tn])}}for(var Kt=[],ln=[],hn=0,xn=g.inputLayers;hn<xn.length;hn++){var Wn=(Et=xn[hn])[0],kn=Et[1],Yr=Et[2];it(Wn in C);var vr=(jn=C[Wn]).inboundNodes[kn].outputTensors;Kt.push(vr[Yr])}for(var yi=0,Kr=g.outputLayers;yi<Kr.length;yi++){var jn;Wn=(Et=Kr[yi])[0],kn=Et[1],Yr=Et[2],it(Wn in C),vr=(jn=C[Wn]).inboundNodes[kn].outputTensors,ln.push(vr[Yr])}return new d({inputs:Kt,outputs:ln,name:_e})},Object.defineProperty(v.prototype,"stateful",{get:function(){if(this._stateful)throw new Ne("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(var d=0,g=this.layers;d<g.length;d++)if(g[d].stateful)return!0;return!1},enumerable:!0,configurable:!0}),v.prototype.resetStates=function(){var d=this;(0,M.lub)(function(){d.layers.forEach(function(g){g.stateful&&g.resetStates()})})},v}(or),Qr=function(){function _(v){if(this.id2Value={},v instanceof _)for(var d in v.id2Value)this.id2Value[d]=v.id2Value[d];else{if(null==v)return;for(var g=0,C=v;g<C.length;g++){var V=C[g];this.add(V.key,V.value)}}}return _.prototype.add=function(v,d){if(null!=this.id2Value[v.id])throw new Ne("Duplicate key: name="+v.name+", id="+v.id);return this.id2Value[v.id]=function ll(_,v){if(null!=_.shape){if(_.shape.length!==v.shape.length)throw new Ne("The rank of feed ("+v.shape.length+") does not match the rank of the key ("+_.shape.length+").");for(var d=0;d<_.shape.length;++d)if(null!=_.shape[d]&&_.shape[d]!==v.shape[d])throw new Ne("The "+d+"-th dimension of the feed ("+v.shape[d]+") is incompatible with that of the key ("+_.shape[d]+").")}if(null==_.dtype||_.dtype===v.dtype)return v;try{return(0,M.pju)(v,_.dtype)}catch{throw new Ne("The dtype of the feed ("+v.dtype+") can not be cast to the dtype of the key '"+_.name+"' ("+_.dtype+").")}}(v,d),this},_.prototype.addFeed=function(v){this.add(v.key,v.value)},_.prototype.hasKey=function(v){return null!=this.id2Value[v.id]},_.prototype.getValue=function(v){if(null==this.id2Value[v.id])throw new Ne("Nonexistent key: "+JSON.stringify(v));return this.id2Value[v.id]},_}();function ua(_,v,d){for(var g=Array.isArray(_),C=g?_:[_],V=[],K=new Qr(v),ae=0,fe=C;ae<fe.length;ae++)V.push(Ol(fe[ae],K,d));return g?V:V[0]}function Ol(_,v,d){if(v.hasKey(_))return v.getValue(_);if(_.sourceLayer instanceof Ra)throw new Ne("Missing a feed value for SymbolicTensor from InputLayer '"+Ra.name+"'");for(var g=[],C=0,V=_.inputs;C<V.length;C++){var K=Ol(V[C],v,d);g.push(K)}var ae=_.sourceLayer.apply(g,d);Array.isArray(ae)||(ae=[ae]);for(var fe=function Pu(_){var v;if(1===_.sourceLayer.inboundNodes.length)v=_.sourceLayer.output;else{for(var d=null,g=0;g<_.sourceLayer.inboundNodes.length;++g)for(var C=0,V=_.sourceLayer.inboundNodes[g].outputTensors;C<V.length;C++)if(V[C].id===_.id){d=g;break}v=_.sourceLayer.getOutputAt(d)}return v}(_),_e=Array.isArray(fe)?fe:[fe],Ce=0;Ce<_e.length;++Ce)v.add(_e[Ce],ae[Ce]);return 1===ae.length?ae[0]:ae[_.outputTensorIndex]}var ul=32;function ws(_,v){if(_.outputs.length>1)throw new Le("Support for training a model with multiple output tensors with a dataset object is not implemented yet.");M.D5U.assert(Array.isArray(v)&&2===v.length,"Dataset iterator for fitDataset() is expected to generate an Array of length 2: `[xs, ys]`, but instead generates "+v);var d=v[1],g=v[0];if(g instanceof M.esB)return M.D5U.assert(1===_.inputs.length,"Model has multiple "+_.inputs.length+" inputs, hence it expects the input dataset to generate a dictionary of tensors  (with keys "+JSON.stringify(_.inputNames)+", but received a single tensor."),M.D5U.assert(g.shape[0]===d.shape[0],"Mismatch in batch size between x and y tensors ("+g.shape[0]+" vs. "+d.shape[0]+")"),[g,d];for(var C=void 0,V=[],K=0,ae=_.inputNames;K<ae.length;K++){var fe=ae[K];if(null==g[fe])throw new Ne("The feature data generated by the dataset lacks the required input key '"+fe+"'.");V.push(g[fe]),null==C?C=g[fe].shape[0]:M.D5U.assert(g[fe].shape[0]===C,"Mismatch in batch size between x and y tensors ("+g[fe].shape[0]+" vs. "+d.shape[0]+")")}return V.concat(d)}function ko(_,v,d){return De(this,void 0,void 0,function(){var g,C,V,K,ae,fe,_e,Ce,Xe,lt,ht,Et,$t,tn,qt,Kt,ln,hn,xn,Wn,Yr,vr,yi,Kr;return Ae(this,function(jn){switch(jn.label){case 0:if(g=null!=d.batchesPerEpoch,M.D5U.assert(null!=_.optimizer,"You must compile a model before training/testing. Use Model.compile(modelCompileConfig)."),M.D5U.assert(null!=d,"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),M.D5U.assert(null!=d.epochs&&d.epochs>0&&Number.isInteger(d.epochs),"For fitDataset(), config.epochs is expected to be a positive integer, but got "+d.epochs),M.D5U.assert(!g||d.batchesPerEpoch>0&&Number.isInteger(d.batchesPerEpoch),"For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got "+d.batchesPerEpoch),M.D5U.assert(null==d.validationSplit,"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),_.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");_.isTraining=!0,jn.label=1;case 1:return jn.trys.push([1,,21,22]),V=void 0,K=void 0,(C=null!=d.validationData)&&(cl(d.validationData)?M.D5U.assert(null==d.validationBatches||d.validationBatches>0&&Number.isInteger(d.validationBatches),"For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got "+d.validationBatches):(ae=function au(_){if(3===_.length)throw new Le("Validation with sample weights is not implemented yet.");return{xs:_[0],ys:_[1]}}(d.validationData),V=ae.xs,K=ae.ys)),fe=_.makeTrainFunction(),_e=_.getDedupedMetricsNames(),Ce=C?_e.slice().concat(_e.map(function(oi){return"val_"+oi})):_e.slice(),Xe=Bs(d.callbacks),lt=Da(Xe,d.yieldEvery,d.verbose,d.epochs,null,null,d.batchesPerEpoch,null,C,Ce),ht=lt.callbackList,_.history=lt.history,[4,ht.onTrainBegin()];case 2:return jn.sent(),Et=null==d.initialEpoch?0:d.initialEpoch,$t={},[4,v.iterator()];case 3:tn=jn.sent(),jn.label=4;case 4:return Et<d.epochs?[4,ht.onEpochBegin(Et)]:[3,18];case 5:return jn.sent(),qt=0,Kt=0,g?[3,7]:[4,v.iterator()];case 6:tn=jn.sent(),jn.label=7;case 7:return!g||qt<d.batchesPerEpoch?[4,tn.next()]:[3,16];case 8:if(ln=jn.sent(),g&&ln.done)return console.warn("You provided `batchesPerEpoch` as "+d.batchesPerEpoch+", but your dataset iterator ran out of data after "+qt+" batches; interrupting training. Make sure that your dataset can generate at least `batchesPerEpoch * epochs` batches (in this case, "+d.batchesPerEpoch*d.epochs+" batches). You may need to use the repeat() function when building your dataset."),[3,16];if(null==ln.value)return[3,10];for(hn=ws(_,ln.value),(xn={}).batch=Kt,xn.size=hn[0].shape[0],ht.onBatchBegin(Kt,xn),Wn=fe(hn),(0,M.B90)(hn),Kr=0;Kr<_e.length;++Kr)xn[_e[Kr]]=Yr=Wn[Kr],(0,M.CnY)(Yr);return[4,ht.onBatchEnd(Kt,xn)];case 9:jn.sent(),Fa(xn),Kt++,qt++,jn.label=10;case 10:return(g?qt>=d.batchesPerEpoch:ln.done)?C?(vr=void 0,cl(d.validationData)?(yi=wt,[4,_.evaluateDataset(d.validationData,{batches:d.validationBatches})]):[3,12]):[3,14]:[3,15];case 11:return vr=yi.apply(void 0,[jn.sent()]),[3,13];case 12:vr=wt(_.evaluate(V,K,{batchSize:null==d.validationBatchSize?ul:d.validationBatchSize,verbose:0})),jn.label=13;case 13:for(Kr=0;Kr<_.metricsNames.length;++Kr)$t["val_"+_.metricsNames[Kr]]=vr[Kr];jn.label=14;case 14:return[3,16];case 15:return _.stopTraining_?[3,16]:[3,7];case 16:return[4,ht.onEpochEnd(Et,$t)];case 17:return jn.sent(),Et++,_.stopTraining_?[3,18]:[3,4];case 18:return[4,ht.onTrainEnd()];case 19:return jn.sent(),[4,_.history.syncData()];case 20:return jn.sent(),[2,_.history];case 21:return _.isTraining=!1,[7];case 22:return[2]}})})}function cl(_){return"function"==typeof _.iterator}function dl(_,v,d){return De(this,void 0,void 0,function(){var g,C,V,K,ae,fe,_e,Ce,Xe,lt;return Ae(this,function(ht){switch(ht.label){case 0:if(g=null!=d.batches,C=_.testFunction,V=[],d.verbose>0)throw new Le("Verbose mode is not implemented yet.");return M.D5U.assert(!g||d.batches>0&&Number.isInteger(d.batches),"Test loop expects `batches` to be a positive integer, but received "+JSON.stringify(d.batches)),function ku(_){return"function"==typeof _.next}(v)?(ae=v,[3,3]):[3,1];case 1:return[4,v.iterator()];case 2:ae=ht.sent(),ht.label=3;case 3:K=ae,fe=0,_e=0,Ce=function(){var rt,Et,$t,tn,qt,Kt;return Ae(this,function(ln){switch(ln.label){case 0:return[4,K.next()];case 1:if((rt=ln.sent()).value){if(Et=ws(_,rt.value),$t=(0,M.lub)(function(){return C(Et)}),(0,M.B90)(Et),0===_e)for(Kt=0;Kt<$t.length;++Kt)V.push(ze(0));for(tn=Et[0].shape[0],qt=function(hn){var xn=$t[hn],Wn=V[hn];V[hn]=(0,M.lub)(function(){return(0,M.IHx)(V[hn],(0,M.dC7)(ze(tn),xn))}),_e>0&&(0,M.B90)(Wn)},Kt=0;Kt<$t.length;++Kt)qt(Kt);(0,M.B90)($t),fe+=tn,++_e}return rt.done?(g&&console.warn("Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least `batches` batches (in this case, "+d.batches+" batches). You may need to use the repeat() function when building your dataset."),[2,"break"]):[2]}})},ht.label=4;case 4:return!g||_e<d.batches?[5,Ce()]:[3,6];case 5:return"break"===ht.sent()?[3,6]:[3,4];case 6:for(Xe=function(rt){var Et=V[rt];V[rt]=(0,M.lub)(function(){return(0,M.hiC)(V[rt],ze(fe))}),(0,M.B90)(Et)},lt=0;lt<V.length;++lt)Xe(lt);return[2,nt(V)]}})})}function js(_){M.D5U.assert(_>0&&Number.isInteger(_),"batchSize is required to be a positive integer, but got "+_)}function ri(_,v,d){return null==_?[null]:Array.isArray(_)?_.map(function(g){return He(g,v,d-v)}):He(_,v,d-v)}function ls(_,v){return(0,M.lub)(function(){return null==_?null:Array.isArray(_)?_.map(function(d){return ls(d,v)}):Re(_,"int32"===v.dtype?v:v.toInt())})}function Xr(_,v){for(var d=[],g=0,C=null;g<_;)(C=g+v)>=_&&(C=_),d.push([g,C]),g=C;return d}function us(_,v,d,g,C,V,K,ae,fe,_e,Ce,Xe,lt,ht,rt,Et){return De(this,void 0,void 0,function(){var $t,tn,qt,Kt,ln,hn,xn,Wn;return Ae(this,function(kn){switch(kn.label){case 0:if(null==C&&(C=32),null==V&&(V=1),null==Ce&&(Ce=!0),null==lt&&(lt=0),$t=!1,null!=fe&&null!=_e&&($t=!0),null!=rt&&($t=!0,null==ht))throw new Ne("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");return null!=(tn=_.checkNumSamples(d,C,ht,"steps_per_epoch"))&&(qt=$n(0,tn)),null==K&&(K=1),Kt=Da(ae,Et,K,V,lt,tn,ht,C,$t,Xe),hn=Kt.history,(ln=Kt.callbackList).setModel(_),_.history=hn,[4,ln.onTrainBegin()];case 1:kn.sent(),_.stopTraining_=!1,xn=function(Yr){var vr,yi,Kr,jn,oi;return Ae(this,function(Ci){switch(Ci.label){case 0:return[4,ln.onEpochBegin(Yr)];case 1:if(Ci.sent(),vr={},null==ht)return[3,2];throw new Le("stepsPerEpoch mode is not implemented yet.");case 2:if("batch"===Ce)throw new Le("batch shuffling is not implemneted yet");Ce&&M.D5U.shuffle(qt),yi=(0,M.RRF)(qt),Kr=Xr(tn,C),jn=function(Ni){var Ji;return Ae(this,function(Qi){switch(Qi.label){case 0:return[4,ln.onBatchBegin(Ni,Ji={})];case 1:return Qi.sent(),(0,M.lub)(function(){var Uo=Kr[Ni][0],Pi=Kr[Ni][1],Wl=He(yi,Uo,Pi-Uo);Ji.batch=Ni,Ji.size=Pi-Uo;for(var Qo=ls(d,Wl),ps=v(Qo),Xo=0;Xo<g.length;++Xo){var ql=g[Xo],vl=ps[Xo];Ji[ql]=vl,(0,M.CnY)(vl)}if(Ni===Kr.length-1&&$t){var Rd=_.testLoop(fe,_e,C);for(Xo=0;Xo<g.length;++Xo)ql=g[Xo],(0,M.CnY)(vl=Rd[Xo]),vr["val_"+ql]=vl}}),[4,ln.onBatchEnd(Ni,Ji)];case 2:return Qi.sent(),Fa(Ji),_.stopTraining_?[2,"break"]:[2]}})},oi=0,Ci.label=3;case 3:return oi<Kr.length?[5,jn(oi)]:[3,6];case 4:if("break"===Ci.sent())return[3,6];Ci.label=5;case 5:return++oi,[3,3];case 6:yi.dispose(),Ci.label=7;case 7:return[4,ln.onEpochEnd(Yr,vr)];case 8:return Ci.sent(),_.stopTraining_?[2,"break"]:[2]}})},Wn=lt,kn.label=2;case 2:return Wn<V?[5,xn(Wn)]:[3,5];case 3:if("break"===kn.sent())return[3,5];kn.label=4;case 4:return++Wn,[3,2];case 5:return[4,ln.onTrainEnd()];case 6:return kn.sent(),[4,_.history.syncData()];case 7:return kn.sent(),[2,_.history]}})})}function Ru(_,v,d,g){return void 0===g&&(g={}),De(this,void 0,void 0,function(){var C,V,K,ae,fe,_e,Ce,Xe,lt,ht,rt,Et,$t,tn,qt,Kt,ln,hn,xn,Wn;return Ae(this,function(kn){switch(kn.label){case 0:if(_.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");_.isTraining=!0,kn.label=1;case 1:if(kn.trys.push([1,,3,4]),js(Ce=null==g.batchSize?32:g.batchSize),Xe=_.standardizeUserData(v,d,!1,Ce),C=Xe[0],V=Xe[1],lt=!1,ht=void 0,null!=g.validationData&&g.validationData.length>0){if(lt=!0,2!==g.validationData.length)throw 3===g.validationData.length?new Le("validationData including sample weights is not supported yet."):new Ne("When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; "+g.validationData+" is invalid.");rt=_.standardizeUserData(K=g.validationData[0],ae=g.validationData[1],!0,Ce),ht=(fe=rt[0]).concat(_e=rt[1])}else null!=g.validationSplit&&g.validationSplit>0&&g.validationSplit<1?(lt=!0,Et=Math.floor(C[0].shape[0]*(1-g.validationSplit)),fe=ri(C,Et,$t=C[0].shape[0]),C=ri(C,0,Et),_e=ri(V,Et,$t),V=ri(V,0,Et),ht=fe.concat(_e)):null!=g.validationSteps&&(lt=!0);return tn=C.concat(V),_.checkTrainableWeightsConsistency(),qt=_.makeTrainFunction(),Kt=_.getDedupedMetricsNames(),ln=void 0,hn=void 0,lt?(_.makeTestFunction(),ln=_.testFunction,hn=Kt.slice().concat(Kt.map(function(Yr){return"val_"+Yr}))):(ln=null,ht=[],hn=Kt.slice()),xn=Bs(g.callbacks),[4,us(_,qt,tn,Kt,Ce,g.epochs,g.verbose,xn,ln,ht,g.shuffle,hn,g.initialEpoch,null,null,g.yieldEvery)];case 2:return Wn=kn.sent(),_.isTraining=!1,[2,Wn];case 3:return _.isTraining=!1,Cs(C,v),Cs(V,d),Cs(fe,K),Cs(_e,ae),[7];case 4:return[2]}})})}function Pl(_){var v=[];_ instanceof M.esB&&(_=[_]);for(var d=0;d<_.length;++d){var g=_[d];if(1===g.rank)v.push(Nn(g,1));else{if(0===g.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");v.push(g)}}return v}function Cs(_,v){if(null!=_){var d=[];if(v instanceof M.esB)d.push(v.id);else if(Array.isArray(v))v.forEach(function(fe){return d.push(fe.id)});else if(null!=v)for(var g in v)d.push(v[g].id);var V=[];if(_ instanceof M.esB)-1===d.indexOf(_.id)&&V.push(_);else if(Array.isArray(_))_.forEach(function(fe){-1===d.indexOf(fe.id)&&V.push(fe)});else if(null!=_)for(var K in _){var ae=_[K];-1===d.indexOf(ae.id)&&V.push(ae)}V.forEach(function(fe){fe.isDisposed||fe.dispose()})}}function Fu(_){return Array.isArray(_)}function Hs(_){return!function Ds(_){return _ instanceof M.esB}(_)&&!Fu(_)}function $s(_,v,d,g,C){if(void 0===g&&(g=!0),void 0===C&&(C=""),null==v||0===v.length){if(null!=_){var V=!1;if(Fu(_)&&_.length>0)V=!0;else if(Hs(_)){for(var K in _)if(_.hasOwnProperty(K)){V=!0;break}}else V=!0;if(V)throw new Ne("Error when checking model "+C+" expected no data, but got "+_)}return[]}if(null==_)return v.map(function($t){return null});var ae;if(Hs(_)){ae=[];for(var fe=0,_e=v;fe<_e.length;fe++){var Ce=_e[fe];if(null==_[Ce])throw new Ne('No data provided for "'+Ce+'". Need data for each key in: '+v);ae.push(_[Ce])}}else if(Fu(_)){if(_.length!==v.length)throw new Ne("Error when checking model "+C+": the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see "+v.length+" Tensor(s), but instead got the following list of Tensor(s): "+_);ae=_}else{if(v.length>1)throw new Ne("The model "+C+" expects "+v.length+" Tensor(s), but only received one Tensor. Found: Tensor with shape "+_.shape);ae=[_]}if(ae=Pl(ae),null!=d)for(var Xe=0;Xe<v.length;++Xe)if(null!=d[Xe]){var lt=ae[Xe];if(lt.shape.length!==d[Xe].length)throw new Ne("Error when checking "+C+": expected "+v[Xe]+" to have "+d[Xe].length+" dimension(s). but got array with shape "+lt.shape);for(var ht=0;ht<d[Xe].length;++ht)if(0!==ht||g){var Et=d[Xe][ht];if(null!=Et&&Et>=0&&lt.shape[ht]!==Et)throw new Ne("Error when checking "+C+": expected "+v[Xe]+" to have shape ["+d[Xe]+"], but got array with shape ["+lt.shape+"].")}}return ae}function _i(_,v,d,g,C){var V;if(void 0===g&&(g=!0),void 0===C&&(C=""),Array.isArray(_)){if(_.length!==v.length)throw new Ne("Error when checking model "+C+": the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see "+v.length+" Tensor(s), but instead got "+_.length+" Tensors(s).");V=_}else{if(v.length>1)throw new Ne("The model expects "+v.length+" "+C+" Tensors, but only received one Tensor. Found: array with shape "+JSON.stringify(_.shape)+".");V=[_]}if(null!=d)for(var K=0;K<v.length;++K)if(null!=d[K]){var ae=V[K];if(ae.shape.length!==d[K].length)throw new Ne("Error when checking "+C+": expected "+v[K]+" to have "+d[K].length+" dimension(s), but got array with shape "+JSON.stringify(ae.shape));for(var fe=0;fe<d[K].length;++fe)if(0!==fe||g){var Ce=d[K][fe];if(null!=Ce&&Ce!==ae.shape[fe])throw new Ne("Error when checking "+C+": expected "+v[K]+" to have shape "+JSON.stringify(d[K])+" but got array with shape "+JSON.stringify(ae.shape)+".")}}}var ie=function(_){function v(d){var g=_.call(this,d)||this;return g.isTraining=!1,g}return we(v,_),v.prototype.summary=function(d,g,C){if(void 0===C&&(C=console.log),!this.built)throw new Ne("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");!function Sa(_,v,d,g){void 0===g&&(g=console.log);var C,V=function Us(_){var v=!0,d=[],g=[];for(var C in _.nodesByDepth)d.push(_.nodesByDepth[C]);for(var V=0,K=d;V<K.length;V++){var ae=K[V];if(ae.length>1||1===ae.length&&ae[0].inboundLayers.length>1){v=!1;break}g.push.apply(g,ae)}if(v)for(var fe=0,_e=_.layers;fe<_e.length;fe++){for(var Ce=!1,Xe=0,lt=_e[fe].inboundNodes;Xe<lt.length;Xe++)if(-1!==g.indexOf(lt[Xe])){if(Ce){v=!1;break}Ce=!0}if(!v)break}return v}(_),K=["Layer (type)","Output shape","Param #"];if(V?(v=v||65,d=d||[.45,.85,1]):(v=v||98,d=d||[.33,.55,.67,1]),d[d.length-1]<=1&&(d=d.map(function(lt){return Math.floor(v*lt)})),!V)for(var ae in K.push("Receives inputs"),C=[],_.nodesByDepth)C.push.apply(C,_.nodesByDepth[ae]);g("_".repeat(v)),Ml(K,d,g),g("=".repeat(v));for(var fe=_.layers,_e=0;_e<fe.length;++_e)V?Au(fe[_e],d,g):iu(fe[_e],d,C,g),g((_e===fe.length-1?"=":"_").repeat(v));_.checkTrainableWeightsConsistency();var Ce=function ru(_){return pi(null!=_.collectedTrainableWeights?_.collectedTrainableWeights:_.trainableWeights)}(_),Xe=pi(_.nonTrainableWeights);g("Total params: "+(Ce+Xe)),g("Trainable params: "+Ce),g("Non-trainable params: "+Xe),g("_".repeat(v))}(this,d,g,C)},v.prototype.compile=function(d){var g=this;if(null==d.loss&&(d.loss=[]),this.loss=d.loss,"string"==typeof d.optimizer)this.optimizer=function fi(_){var v={Adagrad:function(){return M.p_j.adagrad(.01)},Adadelta:function(){return M.p_j.adadelta(1,.95,se())},Adam:function(){return M.p_j.adam(.001,.9,.999,se())},Adamax:function(){return M.p_j.adamax(.002,.9,.999,se(),0)},RMSProp:function(){return M.p_j.rmsprop(.001,.9,0,se())},SGD:function(){return M.p_j.sgd(.01)}};if(v.adagrad=v.Adagrad,v.adadelta=v.Adadelta,v.adam=v.Adam,v.adamax=v.Adamax,v.rmsprop=v.RMSProp,v.sgd=v.SGD,_ in v)return v[_]();throw new Ne("Unknown Optimizer "+_)}(d.optimizer);else{if(!(d.optimizer instanceof M.gaJ))throw new Ne("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer=d.optimizer}var C=[];if(Array.isArray(d.loss)||"string"==typeof d.loss||"function"==typeof d.loss)if(Array.isArray(d.loss)){if(d.loss.length!==this.outputs.length)throw new Ne("When passing an Array as loss, it should have one entry per model output. The model has "+this.outputs.length+" output(s), but you passed loss="+d.loss+".");C=d.loss.map(function(rt){return wo(rt)})}else{var K=wo(d.loss);this.outputs.map(function(rt){C.push(K)})}else{for(var ae in d.loss=d.loss,d.loss)if(-1===this.outputNames.indexOf(ae))throw new Ne('Unknown entry in loss dictionary: "'+ae+'". Only expect the following keys: '+this.outputNames);for(var fe in this.outputNames)null==d.loss[fe]&&console.warn('Output "'+fe+'" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to '+fe+" during training"),C.push(wo(d.loss[fe]))}this.lossFunctions=C,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(var _e=0;_e<this.outputs.length;++_e){var Ce=this.internalOutputShapes[_e];this.feedOutputNames.push(this.outputNames[_e]),this.feedOutputShapes.push(Ce),this.feedLossFns.push(this.lossFunctions[_e])}var lt=[];this.metrics=d.metrics,this.metricsNames=["loss"],this.metricsTensors=[],mn("loss",function(){for(var rt=0;rt<g.outputs.length;++rt)-1===lt.indexOf(rt)&&g.outputs.length>1&&(g.metricsTensors.push([g.lossFunctions[rt],rt]),g.metricsNames.push(g.outputNames[rt]+"_loss"))});var ht=function G(_,v){if(null==_||Array.isArray(_)&&0===_.length)return v.map(function(ae){return[]});if(Array.isArray(_))return v.map(function(ae){return _});if(null!=_){for(var d=[],g=0,C=v;g<C.length;g++){var V=C[g],K=_.hasOwnProperty(V)?_[V]:[];Array.isArray(K)||(K=[K]),d.push(K)}return d}throw new TypeError("Type of metrics argument not understood. Expected an Array or Object, found: "+_)}(d.metrics,this.outputNames);mn("metric",function(){for(var rt=function($t){if(-1!==lt.indexOf($t))return"continue";!function(tn){for(var qt,Kt,ln,hn=function(kn){if(-1!==["accuracy","acc","crossentropy","ce"].indexOf(kn)){var Yr=g.internalOutputShapes[$t];1===Yr[Yr.length-1]||g.lossFunctions[$t]===bo?-1!==["accuracy","acc"].indexOf(kn)?Kt=os:-1!==["crossentropy","ce"].indexOf(kn)&&(Kt=Co):g.lossFunctions[$t]===Cr?-1!==["accuracy","acc"].indexOf(kn)?Kt=te:-1!==["crossentropy","ce"].indexOf(kn)&&(Kt=ti):-1!==["accuracy","acc"].indexOf(kn)?Kt=Dr:-1!==["crossentropy","ce"].indexOf(kn)&&(Kt=yr);var vr=void 0;-1!==["accuracy","acc"].indexOf(kn)?vr="acc":-1!==["crossentropy","ce"].indexOf(kn)&&(vr="ce"),ln=Kt,qt=""+vr}else{var yi=function Zo(_){var v={binaryAccuracy:os,categoricalAccuracy:Dr,precision:sl,categoricalCrossentropy:yr,sparseCategoricalCrossentropy:ti,mse:J,MSE:W,mae:me,MAE:ft,mape:ut,MAPE:On,cosine:xa};if("string"==typeof _&&_ in v)return v[_];if("string"!=typeof _&&null!=_)return _;throw new Ne("Unknown metric "+_)}(kn);ln=yi,qt=""+kn}var Kr,jn,oi,Ci;mn(qt,function(){Kr=ln}),jn=$t,oi=qt,Ci=Kr,g.outputNames.length>1&&(oi=g.outputNames[jn]+"_"+oi),g.metricsNames.push(oi),g.metricsTensors.push([Ci,jn])},xn=0,Wn=tn;xn<Wn.length;xn++)hn(Wn[xn])}(ht[$t])},Et=0;Et<g.outputs.length;++Et)rt(Et)}),this.collectedTrainableWeights=this.trainableWeights},v.prototype.checkTrainableWeightsConsistency=function(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")},v.prototype.evaluate=function(d,g,C){void 0===C&&(C={});var V=null==C.batchSize?32:C.batchSize;js(V);var K=this.standardizeUserData(d,g,!0,V);try{var ae=K[0].concat(K[1]);return this.makeTestFunction(),nt(this.testLoop(this.testFunction,ae,V,C.verbose,C.steps))}finally{Cs(K[0],d),Cs(K[1],g)}},v.prototype.evaluateDataset=function(d,g){return De(this,void 0,void 0,function(){return Ae(this,function(C){return this.makeTestFunction(),[2,dl(this,d,g)]})})},v.prototype.checkNumSamples=function(d,g,C,V){var K;if(void 0===V&&(V="steps"),null!=C){if(K=null,null!=g)throw new Ne("If "+V+" is set, batchSize must be null or undefined.Got batchSize = "+g)}else{if(null==d)throw new Ne("Either the input data should have a defined shape, or "+V+" shoud be specified.");K=Array.isArray(d)?d[0].shape[0]:d.shape[0]}return K},v.prototype.execute=function(d,g){if(Array.isArray(g)&&0===g.length)throw new Ne("`outputs` is an empty Array, which is not allowed.");var C=Array.isArray(g),K=this.retrieveSymbolicTensors(C?g:[g]),ae=new Qr;if(d instanceof M.esB&&(d=[d]),Array.isArray(d)){if(d.length!==this.inputs.length)throw new Ne("The number of inputs provided ("+d.length+") does not match the number of inputs of this model ("+this.inputs.length+").");for(var fe=0;fe<this.inputs.length;++fe)ae.add(this.inputs[fe],d[fe])}else for(var _e=0,Ce=this.inputs;_e<Ce.length;_e++){var Xe=Ce[_e],lt=d[Xe.name];if(null==lt)throw new Ne("No value is provided for the model's input "+Xe.name);ae.add(Xe,lt)}var ht=ua(K,ae);return C?ht:ht[0]},v.prototype.retrieveSymbolicTensors=function(d){for(var g=qe(null,d.length),C=d.length,V=0,K=this.layers;V<K.length;V++){for(var ae=K[V],fe=Array.isArray(ae.output)?ae.output:[ae.output],_e=fe.map(function(ht){return ht.name}),Ce=0;Ce<d.length;++Ce){var Xe=_e.indexOf(d[Ce]);if(-1!==Xe&&(g[Ce]=fe[Xe],C--),0===C)break}if(0===C)break}if(C>0){var lt=[];throw g.forEach(function(ht,rt){null==ht&&lt.push(d[rt])}),new Ne("Cannot find SymbolicTensors for output name(s): "+JSON.stringify(lt))}return g},v.prototype.predictLoop=function(d,g,C){var V=this;return void 0===g&&(g=32),void 0===C&&(C=!1),(0,M.lub)(function(){var K=V.checkNumSamples(d);if(C)throw new Le("Verbose predictLoop() is not implemented yet.");for(var ae=Xr(K,g),fe=[],_e=function(Xe){var lt=(0,M.lub)(function(){var Kt=ri(d,ae[Xe][0],ae[Xe][1]),ln=[];if(Array.isArray(Kt))for(var hn=0;hn<Kt.length;++hn)ln.push({key:V.inputs[hn],value:Kt[hn]});else ln.push({key:V.inputs[0],value:Kt});var xn=new Qr(ln);return ua(V.outputs,xn)});if(0===Xe)for(var ht=0,rt=lt;ht<rt.length;ht++)fe.push(rt[ht]);else for(var $t=0;$t<lt.length;++$t)fe[$t]=Yt(fe[$t],lt[$t])},Ce=0;Ce<ae.length;++Ce)_e(Ce);return nt(fe)})},v.prototype.predict=function(d,g){void 0===g&&(g={});var C=Pl(d);_i(C,this.inputNames,this.feedInputShapes,!1);try{var V=null==g.batchSize?32:g.batchSize;return js(V),this.predictLoop(C,V)}finally{Cs(C,d)}},v.prototype.predictOnBatch=function(d){return _i(d,this.inputNames,this.feedInputShapes,!0),this.predictLoop(d,d.shape[0])},v.prototype.standardizeUserData=function(d,g,C,V){if(void 0===C&&(C=!0),null==this.optimizer)throw new pt("You must compile a model before training/testing. Use Model.compile(modelCompileConfig).");for(var K=[],ae=0;ae<this.feedOutputShapes.length;++ae){var fe=this.feedOutputShapes[ae];K.push(this.feedLossFns[ae]===Cr?fe.slice(0,fe.length-1).concat([1]):fe)}if(function su(_,v,d){var g=Vt(_.map(function(V){return V.shape[0]}));g.sort();var C=Vt(v.map(function(V){return V.shape[0]}));if(C.sort(),g.length>1)throw new Ne("All input Tensors (x) should have the same number of samples. Got array shapes: "+JSON.stringify(_.map(function(V){return V.shape})));if(C.length>1)throw new Ne("All target Tensors (y) should have the same number of samples. Got array shapes: "+JSON.stringify(v.map(function(V){return V.shape})));if(g.length>0&&C.length>0&&!M.D5U.arraysEqual(g,C))throw new Ne("Input Tensors should have the same number of samples as target Tensors. Found "+g[0]+" input sample(s) and "+C[0]+" target sample(s).")}(d=$s(d,this.feedInputNames,this.feedInputShapes,!1,"input"),g=$s(g,this.feedOutputNames,K,!1,"target")),function hl(_,v,d){for(var g=[qo,bo,uo],C=0;C<_.length;++C){var V=_[C],K=v[C],ae=d[C];if(null!=K){if(K===uo&&1===V.shape[V.shape.length-1])throw new Ne("You are passing a target array of shape "+V.shape+" while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].");if(-1!==g.indexOf(K))for(var fe=V.shape.slice(1),_e=ae.slice(1),Ce=0;Ce<fe.length;++Ce){var lt=_e[Ce];if(null!=lt&&fe[Ce]!==lt)throw new Ne("A target Tensor with shape "+V.shape+" was passed for an output of shape "+ae+", while using a loss function that expects targets to have the same shape as the output.")}}}}(g,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=V&&V>0&&d[0].shape[0]%V!=0)throw new Ne("In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size "+V+". Found: "+d[0].shape[0]+" sample(s).");return[d,g,null]},v.prototype.testLoop=function(d,g,C,V,K){var ae=this;return void 0===V&&(V=0),(0,M.lub)(function(){var fe=ae.checkNumSamples(g,C,K,"steps"),_e=[];if(V>0)throw new Le("Verbose mode is not implemented yet.");if(null!=K)throw new Le("steps mode in testLoop() is not implemented yet");for(var Ce=Xr(fe,C),Xe=(0,M.RRF)($n(0,fe)),lt=0;lt<Ce.length;++lt){var ht=Ce[lt][0],rt=Ce[lt][1],Et=He(Xe,ht,rt-ht),$t=ls(g,Et),tn=d($t);if(0===lt)for(var qt=0;qt<tn.length;++qt)_e.push(ze(0));for(qt=0;qt<tn.length;++qt){var Kt=tn[qt];_e[qt]=(0,M.IHx)(_e[qt],(0,M.dC7)(ze(rt-ht),Kt))}}for(qt=0;qt<_e.length;++qt)_e[qt]=(0,M.hiC)(_e[qt],ze(fe));return _e})},v.prototype.getDedupedMetricsNames=function(){for(var d=this.metricsNames,g=[],C=0;C<d.length;++C){var V=d[C],K=V;st(d,V)>1&&(K+="_"+st(d.slice(0,C),V)),g.push(K)}return g},v.prototype.makeTrainFunction=function(){var d=this;return function(g){var C=g.slice(0,d.inputs.length),V=g.slice(d.inputs.length,d.inputs.length+d.outputs.length),K=[],ae=d.collectedTrainableWeights.map(function(fe){return fe.read()});return[d.optimizer.minimize(function(){for(var fe=[],_e=0;_e<d.inputs.length;++_e)fe.push({key:d.inputs[_e],value:C[_e]});var Ce,Xe=new Qr(fe),lt=ua(d.outputs,Xe,{training:!0});for(_e=0;_e<d.lossFunctions.length;++_e){var ht=(0,d.lossFunctions[_e])(V[_e],lt[_e]);(0,M.J69)(ht),Ce=0===_e?ht:(0,M.IHx)(Ce,ht)}for(_e=0;_e<d.metricsTensors.length;++_e){var Et=d.metricsTensors[_e][1],$t=(0,M.J69)((0,d.metricsTensors[_e][0])(V[Et],lt[Et]));(0,M.CnY)($t),K.push($t)}return Ce=(0,M.J69)(Ce),d.calculateLosses().forEach(function(tn){Ce=(0,M.IHx)(Ce,tn)}),Ce},!0,ae)].concat(K)}},v.prototype.makeTestFunction=function(){var d=this;this.testFunction=function(g){return(0,M.lub)(function(){for(var C,V=[],K=g.slice(0,d.inputs.length),ae=g.slice(d.inputs.length,d.inputs.length+d.outputs.length),fe=[],_e=0;_e<d.inputs.length;++_e)fe.push({key:d.inputs[_e],value:K[_e]});var Ce=new Qr(fe),Xe=ua(d.outputs,Ce);for(_e=0;_e<d.lossFunctions.length;++_e){var ht=(0,M.J69)((0,d.lossFunctions[_e])(ae[_e],Xe[_e]));C=0===_e?ht:(0,M.IHx)(C,ht),V.push(C)}for(_e=0;_e<d.metricsTensors.length;++_e){var Et=d.metricsTensors[_e][1],$t=(0,M.J69)((0,d.metricsTensors[_e][0])(ae[Et],Xe[Et]));V.push($t)}return V})}},v.prototype.fit=function(d,g,C){return void 0===C&&(C={}),De(this,void 0,void 0,function(){return Ae(this,function(V){return[2,Ru(this,d,g,C)]})})},v.prototype.fitDataset=function(d,g){return De(this,void 0,void 0,function(){return Ae(this,function(C){return[2,ko(this,d,g)]})})},v.prototype.getNamedWeights=function(d){for(var g={},C=null!=d&&d.trainableOnly,V=C?this.trainableWeights:this.weights,K=this.getWeights(C),ae=0;ae<V.length;++ae)C&&!V[ae].trainable||(g[V[ae].originalName]=K[ae]);return g},Object.defineProperty(v.prototype,"stopTraining",{set:function(d){this.stopTraining_=d},enumerable:!0,configurable:!0}),v.prototype.save=function(d,g){return De(this,void 0,void 0,function(){var C,V,fe;return Ae(this,function(_e){switch(_e.label){case 0:if("string"==typeof d){if(0===(C=M.io.getSaveHandlers(d)).length)throw new Ne("Cannot find any save handlers for URL '"+d+"'");if(C.length>1)throw new Ne("Found more than one ("+C.length+") save handlers for URL '"+d+"'");d=C[0]}if(null==d.save)throw new Ne("Model.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return[4,M.io.encodeWeights(this.getNamedWeights(g))];case 1:return V=_e.sent(),fe=this.toJSON(null,!1),[2,d.save({modelTopology:fe,weightData:V.data,weightSpecs:V.specs})]}})})},v.className="Model",v}(Al);function ke(_,v,d){return void 0===d&&(d=!0),De(this,void 0,void 0,function(){var g,C,V;return Ae(this,function(fe){switch(fe.label){case 0:if(null==_.load)throw new Ne("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");return[4,_.load()];case 1:if(g=fe.sent(),null!=(C=g.modelTopology).model_config&&(C=C.model_config),V=ni(ss(C),v),null!=g.weightData){if(null==g.weightSpecs)throw new Ne("Model artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.");V.loadWeights(M.io.decodeWeights(g.weightData,g.weightSpecs),!1,!0,d)}return[2,V]}})})}M.m7h.registerClass(ie);var gt=function(_){function v(d){var g=_.call(this,{inputs:[],outputs:[]})||this;if(d=d||{},g.trainable=!0,g._updatable=!0,g.built=!1,g.name=null!=d.name?d.name:Ee("sequential_"),null!=d.layers)for(var C=0,V=d.layers;C<V.length;C++)g.add(V[C]);return g}return we(v,_),v.prototype.checkShape=function(d){if(d.inboundNodes[0].outputTensors[0].shape.some(function(g){return g<0}))throw new Ne("Negative dimension size caused by adding layer "+d.name+" with input shape ["+d.inboundNodes[0].inputTensors[0].shape+"]")},v.prototype.add=function(d){var g,C=d instanceof v||d instanceof ie;if(C){if(1!==(g=d).outputs.length)throw new Ne("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==g.inputs.length)throw new Ne("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===d.inboundNodes.length){if(null==d.batchInputShape)throw new Ne("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");var V=no({batchShape:d.batchInputShape,dtype:d.dtype,name:d.name+"_input"});d.apply(V)}if(C)this.outputs=g.outputs,this.inputs=g.inputs;else{if(1!==d.inboundNodes.length)throw new Ne("A layer added to a Sequential model must not already be connected somewhere else. Model received layer "+d.name+" which has "+d.inboundNodes.length+" pre-existing inbound connections.");if(1!==d.inboundNodes[0].outputTensors.length)throw new Ne("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(d),this.outputs=[d.inboundNodes[0].outputTensors[0]],this.inputs=Gi(this.outputs[0])}this.inboundNodes=[],new Fr({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:qe(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(function(ae){return ae.shape}),outputShapes:this.outputs[0].shape})}else{var K=d.apply(this.outputs[0]);if(Array.isArray(K))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(d),this.outputs=[K],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(d),this.built=!1},v.prototype.pop=function(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{var d=this.layers.length-1;this.layers[d].outboundNodes=[],this.outputs=[this.layers[d].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}},v.prototype.call=function(d,g){return null==this.model&&this.build(),this.model.call(d,g)},v.prototype.build=function(d){if(ar(d),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new ie({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.model.updatable=this.updatable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0},v.prototype.countParams=function(){return this.built||this.build(),_.prototype.countParams.call(this)},v.prototype.summary=function(d,g,C){void 0===C&&(C=console.log),this.built||this.build(),_.prototype.summary.call(this,d,g,C)},v.prototype.setWeights=function(d){null==this.model&&this.build(),this.model.setWeights(d)},Object.defineProperty(v.prototype,"updatable",{get:function(){return this._updatable},set:function(d){this.built&&(this.model.updatable=d),this._updatable=d},enumerable:!0,configurable:!0}),v.prototype.evaluate=function(d,g,C){if(void 0===C&&(C={}),!this.built)throw new pt("The model needs to be compiled before being used.");return this.model.evaluate(d,g,C)},v.prototype.evaluateDataset=function(d,g){return De(this,void 0,void 0,function(){return Ae(this,function(C){if(!this.built)throw new pt("The model needs to be compiled before being used.");return[2,this.model.evaluateDataset(d,g)]})})},v.prototype.predict=function(d,g){return void 0===g&&(g={}),null==this.model&&this.build(),this.model.predict(d,g)},v.prototype.predictOnBatch=function(d){return null==this.model&&this.build(),this.model.predictOnBatch(d)},v.prototype.compile=function(d){this.build(),this.model.compile(d),this.optimizer=this.model.optimizer,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames},v.prototype.fit=function(d,g,C){return void 0===C&&(C={}),De(this,void 0,void 0,function(){return Ae(this,function(V){if(!this.built)throw new pt("The model needs to be compiled before being used.");return[2,this.model.fit(d,g,C)]})})},v.prototype.fitDataset=function(d,g){return De(this,void 0,void 0,function(){return Ae(this,function(C){if(!this.built)throw new pt("The model needs to be compiled before being used.");return[2,this.model.fitDataset(d,g)]})})},v.fromConfig=function(d,g){var C,V={};if(g instanceof Array){if(null==g[0].className||"Merge"===g[0].className)throw new Ne("Legacy serialization format not supported yet.");C=g}else M.D5U.assert(null!=g.layers,"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),C=g.layers,delete g.layers,V=g;var K=new d(V);if(!(K instanceof v))throw new Le("Sequential.fromConfig called on non-Sequential input: "+K);for(var ae=0,fe=C;ae<fe.length;ae++){var _e=ni(fe[ae]);K.add(_e)}return K},Object.defineProperty(v.prototype,"stopTraining",{set:function(d){this.model.stopTraining=d},enumerable:!0,configurable:!0}),v.prototype.getConfig=function(){for(var d=[],g=0,C=this.layers;g<C.length;g++){var V=C[g];d.push({className:V.getClassName(),config:V.getConfig()})}return d},v.className="Sequential",v}(ie);function Rt(_){return new ie(_)}function En(_){return new gt(_)}function zr(_,v){return void 0===v&&(v=!0),function he(_,v){return void 0===v&&(v=!0),De(this,void 0,void 0,function(){var d;return Ae(this,function(g){if("string"==typeof _){if(0===(d=M.io.getLoadHandlers(_)).length)d.push(M.io.browserHTTPRequest(_));else if(d.length>1)throw new Ne("Found more than one ("+d.length+") load handlers for URL '"+_+"'");_=d[0]}return[2,ke(_,void 0,v)]})})}(_,v)}function Er(_){return no(_)}function Mr(_,v){ns.registerCallbackConstructor(_,v)}M.m7h.registerClass(gt);var Fn=function(_){function v(){return null!==_&&_.apply(this,arguments)||this}return we(v,_),v.prototype.getConfig=function(){return{}},v}(M.m7h.Serializable),bi=function(_){function v(){return null!==_&&_.apply(this,arguments)||this}return we(v,_),v.prototype.apply=function(d,g){return void 0===g&&(g=1),function pa(_,v){if(void 0===v&&(v=1),1!==v)throw new Le("Support for alpha values other than 1 ("+v+") is not implemented yet.");return(0,M.pyx)(_)}(d,g)},v.className="elu",v}(Fn);M.m7h.registerClass(bi);var Ir=function(_){function v(){return null!==_&&_.apply(this,arguments)||this}return we(v,_),v.prototype.apply=function(d){return(0,M.U8D)(d)},v.className="selu",v}(Fn);M.m7h.registerClass(Ir);var ui=function(_){function v(){return null!==_&&_.apply(this,arguments)||this}return we(v,_),v.prototype.apply=function(d){return(0,M.UYe)(d)},v.className="relu",v}(Fn);M.m7h.registerClass(ui);var La=function(_){function v(){return null!==_&&_.apply(this,arguments)||this}return we(v,_),v.prototype.apply=function(d){return(0,M.lub)(function(){return(0,M.LTh)(ze(6),(0,M.UYe)(d))})},v.className="relu6",v}(Fn);M.m7h.registerClass(La);var Ro=function(_){function v(){return null!==_&&_.apply(this,arguments)||this}return we(v,_),v.prototype.apply=function(d){return d},v.className="linear",v}(Fn);M.m7h.registerClass(Ro);var Do=function(_){function v(){return null!==_&&_.apply(this,arguments)||this}return we(v,_),v.prototype.apply=function(d){return(0,M.XD2)(d)},v.className="sigmoid",v}(Fn);M.m7h.registerClass(Do);var Ko=function(_){function v(){return null!==_&&_.apply(this,arguments)||this}return we(v,_),v.prototype.apply=function(d){return function Qa(_){return(0,M.lub)(function(){var v=(0,M.IHx)(ze(.5),(0,M.dC7)(ze(.2),_));return(0,M.iUl)(v,0,1)})}(d)},v.className="hardSigmoid",v}(Fn);M.m7h.registerClass(Ko);var co=function(_){function v(){return null!==_&&_.apply(this,arguments)||this}return we(v,_),v.prototype.apply=function(d){return(0,M.Wvh)(d)},v.className="softplus",v}(Fn);M.m7h.registerClass(co);var Es=function(_){function v(){return null!==_&&_.apply(this,arguments)||this}return we(v,_),v.prototype.apply=function(d){return function fa(_){return(0,M.lub)(function(){return(0,M.hiC)(_,(0,M.IHx)(ze(1),(0,M.WnP)(_)))})}(d)},v.className="softsign",v}(Fn);M.m7h.registerClass(Es);var cs=function(_){function v(){return null!==_&&_.apply(this,arguments)||this}return we(v,_),v.prototype.apply=function(d){return(0,M.AEp)(d)},v.className="tanh",v}(Fn);M.m7h.registerClass(cs);var pl=function(_){function v(){return null!==_&&_.apply(this,arguments)||this}return we(v,_),v.prototype.apply=function(d,g){return void 0===g&&(g=-1),(0,M.XAC)(d,g)},v.className="softmax",v}(Fn);function ho(_){return _.getClassName()}function lu(_,v){return void 0===v&&(v={}),en(_,M.m7h.SerializationMap.getMap().classNameMap,v,"activation")}function Ba(_){return null==_?lu({className:"linear",config:{}}):"string"==typeof _?lu({className:_,config:{}}):_ instanceof Fn?_:lu(_)}M.m7h.registerClass(pl);var Fo=function(_){function v(d){var g=_.call(this,d??{})||this;return g.supportsMasking=!0,null!=d&&(g.maxValue=d.maxValue),g}return we(v,_),v.prototype.call=function(d,g){d=Ue(d);var C=(0,M.UYe)(d);return null!=this.maxValue&&(C=(0,M.iUl)(C,0,this.maxValue)),C},v.prototype.computeOutputShape=function(d){return d},v.prototype.getConfig=function(){var d={maxValue:this.maxValue},g=_.prototype.getConfig.call(this);return Object.assign(d,g),d},v.className="ReLU",v}(or);M.m7h.registerClass(Fo);var Cc=function(_){function v(d){var g=_.call(this,d??{})||this;return g.DEFAULT_ALPHA=.3,null==d&&(d={}),g.alpha=null==d.alpha?g.DEFAULT_ALPHA:d.alpha,g}return we(v,_),v.prototype.call=function(d,g){var C=Ue(d);return(0,M.hi7)(C,this.alpha)},v.prototype.computeOutputShape=function(d){return d},v.prototype.getConfig=function(){var d={alpha:this.alpha},g=_.prototype.getConfig.call(this);return Object.assign(d,g),d},v.className="LeakyReLU",v}(or);M.m7h.registerClass(Cc);var fl=function(_){function v(d){var g=_.call(this,d??{})||this;if(g.DEFAULT_ALPHA=1,null==d&&(d={}),null!=d.alpha&&d.alpha!==g.DEFAULT_ALPHA)throw new Le("Non-default alpha value ("+d.alpha+") is not supported by the ELU layer yet.");return g.alpha=null==d.alpha?g.DEFAULT_ALPHA:d.alpha,g}return we(v,_),v.prototype.call=function(d,g){var C=Ue(d);return(0,M.pyx)(C)},v.prototype.computeOutputShape=function(d){return d},v.prototype.getConfig=function(){var d={alpha:this.alpha},g=_.prototype.getConfig.call(this);return Object.assign(d,g),d},v.className="ELU",v}(or);M.m7h.registerClass(fl);var Kn=function(_){function v(d){var g=_.call(this,d??{})||this;return g.DEFAULT_THETA=1,null==d&&(d={}),g.theta=null==d.theta?g.DEFAULT_THETA:d.theta,g.thetaTensor=ze(g.theta),g}return we(v,_),v.prototype.call=function(d,g){var C=Ue(d);return C.mul(ur(C.greater(this.thetaTensor),"float32"))},v.prototype.computeOutputShape=function(d){return d},v.prototype.getConfig=function(){var d={theta:this.theta},g=_.prototype.getConfig.call(this);return Object.assign(d,g),d},v.className="ThresholdedReLU",v}(or);M.m7h.registerClass(Kn);var Yi=function(_){function v(d){var g=_.call(this,d??{})||this;return g.DEFAULT_AXIS=1,null==d&&(d={}),g.softmax=(new pl).apply,g.axis=null==d.axis?g.DEFAULT_AXIS:d.axis,g}return we(v,_),v.prototype.call=function(d,g){var C=Ue(d);return this.softmax(C,this.axis)},v.prototype.computeOutputShape=function(d){return d},v.prototype.getConfig=function(){var d={axis:this.axis},g=_.prototype.getConfig.call(this);return Object.assign(d,g),d},v.className="Softmax",v}(or);M.m7h.registerClass(Yi);var ds=function(_){function v(){return null!==_&&_.apply(this,arguments)||this}return we(v,_),v}(M.m7h.Serializable),Na=function(_){function v(d){var g=_.call(this)||this,C=null==d||null==d.l1?.01:d.l1,V=null==d||null==d.l2?.01:d.l2;return g.hasL1=0!==C,g.hasL2=0!==V,g.l1=ze(C),g.l2=ze(V),g}return we(v,_),v.prototype.apply=function(d){var g=this;return(0,M.lub)(function(){var C=(0,M.lls)([1]);return g.hasL1&&(C=(0,M.IHx)(C,(0,M.Smz)((0,M.dC7)(g.l1,(0,M.WnP)(d))))),g.hasL2&&(C=(0,M.IHx)(C,(0,M.Smz)((0,M.dC7)(g.l2,Hi(d))))),C.asScalar()})},v.prototype.getConfig=function(){return{l1:this.l1.dataSync()[0],l2:this.l2.dataSync()[0]}},v.fromConfig=function(d,g){return new d({l1:g.l1,l2:g.l2})},v.className="L1L2",v}(ds);M.m7h.registerClass(Na);var kl={l1l2:"L1L2"};function sr(_){return An(_)}function Dc(_,v){return void 0===v&&(v={}),en(_,M.m7h.SerializationMap.getMap().classNameMap,v,"regularizer")}function wi(_){return null==_?null:"string"==typeof _?Dc({className:_ in kl?kl[_]:_,config:{}}):_ instanceof ds?_:Dc(_)}function xs(_,v,d){if("number"==typeof _)return qe(_,v);if(_.length!==v)throw new Ne("The "+d+" argument must be a tuple of "+v+" integers. Received: "+_.length+" elements.");for(var g=0;g<v;++g){var C=_[g];if(!Ve(C))throw new Ne("The "+d+" argument must be a tuple of "+v+" integers. Received: "+JSON.stringify(_)+" including a non-integer number "+C)}return _}function Va(_,v,d,g,C){return void 0===C&&(C=1),null==_?_:Math.floor((("same"===d?_:_-(v+(v-1)*(C-1))+1)+g-1)/g)}function Gs(_,v,d,g){if(null==_)return null;if("valid"===g)_=_*v+Sn([d-v,0]);else{if("same"!==g)throw new Ne("Unsupport padding mode: "+g+".");_*=v}return _}function Rl(_,v){return(0,M.lub)(function(){return Cn(v),"channelsFirst"===v?(0,M.p4s)(_,[0,2,3,1]):_})}var Bo=function(_){function v(d,g){var C=_.call(this,g)||this;if(C.bias=null,C.DEFAULT_KERNEL_INITIALIZER="glorotNormal",C.DEFAULT_BIAS_INITIALIZER="zeros",v.verifyConfig(g),C.rank=d,1!==C.rank&&2!==C.rank)throw new Le("Convolution layer for rank other than 1 or 2 ("+C.rank+") is not implemented yet.");if(C.kernelSize=xs(g.kernelSize,d,"kernelSize"),C.strides=xs(null==g.strides?1:g.strides,d,"strides"),C.padding=null==g.padding?"valid":g.padding,nr(C.padding),C.dataFormat=null==g.dataFormat?"channelsLast":g.dataFormat,Cn(C.dataFormat),C.activation=Ba(g.activation),C.useBias=null==g.useBias||g.useBias,C.biasInitializer=Vr(g.biasInitializer||C.DEFAULT_BIAS_INITIALIZER),C.biasConstraint=Pr(g.biasConstraint),C.biasRegularizer=wi(g.biasRegularizer),C.activityRegularizer=wi(g.activityRegularizer),C.dilationRate=xs(null==g.dilationRate?1:g.dilationRate,d,"dilationRate"),1===C.rank&&Array.isArray(C.dilationRate)&&1!==C.dilationRate.length)throw new Ne("dilationRate must be a number or an array of a single number for 1D convolution, but received "+JSON.stringify(C.dilationRate));if(2===C.rank)if("number"==typeof C.dilationRate)C.dilationRate=[C.dilationRate,C.dilationRate];else if(2!==C.dilationRate.length)throw new Ne("dilationRate must be a number or array of two numbers for 2D convolution, but received "+JSON.stringify(C.dilationRate));return C}return we(v,_),v.verifyConfig=function(d){if(it("kernelSize"in d,"required key 'kernelSize' not in config"),"number"!=typeof d.kernelSize&&!It(d.kernelSize,"number",1,2))throw new Ne("BaseConv expects config.kernelSize to be number or number[] with length 1 or 2, but received "+JSON.stringify(d.kernelSize)+".")},v.prototype.getConfig=function(){var d={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:ho(this.activation),useBias:this.useBias,biasInitializer:Rn(this.biasInitializer),biasRegularizer:sr(this.biasRegularizer),activityRegularizer:sr(this.activityRegularizer),biasConstraint:Jt(this.biasConstraint)},g=_.prototype.getConfig.call(this);return Object.assign(d,g),d},v}(or),hs=function(_){function v(d,g){var C=_.call(this,d,g)||this;return C.kernel=null,v.verifyConfig(g),C.filters=g.filters,C.kernelInitializer=Vr(g.kernelInitializer||C.DEFAULT_KERNEL_INITIALIZER),C.kernelConstraint=Pr(g.kernelConstraint),C.kernelRegularizer=wi(g.kernelRegularizer),C}return we(v,_),v.prototype.build=function(d){d=ar(d);var g="channelsFirst"===this.dataFormat?1:d.length-1;if(null==d[g])throw new Ne("The channel dimension of the input should be defined. Found "+d[g]);var C,V=d[g],K=this.kernelSize.concat([V,this.filters]);this.kernel=this.addWeight("kernel",K,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:(C={},C[g]=V,C)}],this.built=!0},v.prototype.call=function(d,g){var C=this;return(0,M.lub)(function(){var V;d=Ue(d);var K=null==C.bias?null:C.bias.read();if(1===C.rank)V=function Eo(_,v,d,g,C,V,K){return void 0===g&&(g=1),void 0===C&&(C="valid"),void 0===K&&(K=1),(0,M.lub)(function(){if(null==V&&(V="channelsLast"),Cn(V),3!==_.shape.length)throw new Ne("The input of a conv1dWithBias operation should be 3, but is "+_.shape.length+" instead.");if(3!==v.shape.length)throw new Ne("The kernel for a conv1dWithBias operation should be 3, but is "+v.shape.length+" instead");if(null!=d&&1!==d.shape.length)throw new Ne("The bias for a conv1dWithBias operation should be 1, but is "+v.shape.length+" instead");if("channelsFirst"===V&&(_=(0,M.p4s)(_,[0,2,1])),"causal"===C)throw new Le("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");var ae=(0,M.PAt)(_,v,g,"same"===C?"same":"valid","NWC",K);return null!=d&&(ae=Mo(ae,d)),ae})}(d,C.kernel.read(),K,C.strides[0],C.padding,C.dataFormat,C.dilationRate[0]);else if(2===C.rank)V=function Ui(_,v,d,g,C,V,K){return void 0===g&&(g=[1,1]),void 0===C&&(C="valid"),(0,M.lub)(function(){if(null==V&&(V="channelsLast"),Cn(V),3!==_.rank&&4!==_.rank)throw new Ne("conv2dWithBias expects input to be of rank 3 or 4, but received "+_.rank+".");if(3!==v.rank&&4!==v.rank)throw new Ne("conv2dWithBias expects kernel to be of rank 3 or 4, but received "+_.rank+".");var ae=Rl(_,V);if("causal"===C)throw new Le("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return ae=(0,M.Tek)(ae,v,g,"same"===C?"same":"valid","NHWC",K),null!=d&&(ae=Mo(ae,d)),"channelsFirst"===V&&(ae=(0,M.p4s)(ae,[0,3,1,2])),ae})}(d,C.kernel.read(),K,C.strides,C.padding,C.dataFormat,C.dilationRate);else if(3===C.rank)throw new Le("3D convolution is not implemented yet.");return null!=C.activation&&(V=C.activation.apply(V)),V})},v.prototype.computeOutputShape=function(d){d=ar(d);for(var g=[],C="channelsLast"===this.dataFormat?d.slice(1,d.length-1):d.slice(2),V=0;V<C.length;++V){var K=Va(C[V],this.kernelSize[V],this.padding,this.strides[V],"number"==typeof this.dilationRate?this.dilationRate:this.dilationRate[V]);g.push(K)}var ae=[d[0]];return"channelsLast"===this.dataFormat?(ae=ae.concat(g)).push(this.filters):(ae.push(this.filters),ae=ae.concat(g)),ae},v.prototype.getConfig=function(){var d={filters:this.filters,kernelInitializer:Rn(this.kernelInitializer),kernelRegularizer:sr(this.kernelRegularizer),kernelConstraint:Jt(this.kernelConstraint)},g=_.prototype.getConfig.call(this);return Object.assign(d,g),d},v.verifyConfig=function(d){if(!("filters"in d)||"number"!=typeof d.filters||d.filters<1)throw new Ne("Convolution layer expected config.filters to be a 'number' > 0 but got "+JSON.stringify(d.filters))},v}(Bo),po=function(_){function v(d){var g=_.call(this,2,d)||this;return v.verifyConfig(d),g}return we(v,_),v.prototype.getConfig=function(){var d=_.prototype.getConfig.call(this);return delete d.rank,d},v.verifyConfig=function(d){if("number"!=typeof d.kernelSize&&!It(d.kernelSize,"number",1,2))throw new Ne("Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received "+JSON.stringify(d.kernelSize)+".")},v.className="Conv2D",v}(hs);M.m7h.registerClass(po);var Fl=function(_){function v(d){var g=_.call(this,d)||this;if(g.inputSpec=[new Ur({ndim:4})],"same"!==g.padding&&"valid"!==g.padding)throw new Ne("Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode "+g.padding);return g}return we(v,_),v.prototype.build=function(d){if(4!==(d=ar(d)).length)throw new Ne("Input should have rank 4; Received input shape: "+JSON.stringify(d));var g="channelsFirst"===this.dataFormat?1:d.length-1;if(null==d[g])throw new Ne("The channel dimension of the inputs should be defined. Found `None`.");var C,V=d[g],K=this.kernelSize.concat([this.filters,V]);this.kernel=this.addWeight("kernel",K,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Ur({ndim:4,axes:(C={},C[g]=V,C)})],this.built=!0},v.prototype.call=function(d,g){var C=this;return(0,M.lub)(function(){var V=Ue(d);if(4!==V.shape.length)throw new Ne("Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-"+V.shape.length);var K,ae,fe=V.shape;"channelsFirst"===C.dataFormat?(K=2,ae=3):(K=1,ae=2);var Xe=fe[ae],ht=C.kernelSize[1],Et=C.strides[1],$t=[fe[0],Gs(fe[K],C.strides[0],C.kernelSize[0],C.padding),Gs(Xe,Et,ht,C.padding),C.filters];"channelsLast"!==C.dataFormat&&(V=(0,M.p4s)(V,[0,2,3,1]));var tn=(0,M.bc)(V,C.kernel.read(),$t,C.strides,C.padding);return"channelsLast"!==C.dataFormat&&(tn=(0,M.p4s)(tn,[0,3,1,2])),null!=C.bias&&(tn=Mo(tn,C.bias.read(),C.dataFormat)),null!=C.activation&&(tn=C.activation.apply(tn)),tn})},v.prototype.computeOutputShape=function(d){var g,C,V,K=(d=ar(d)).slice();"channelsFirst"===this.dataFormat?(g=1,C=2,V=3):(g=3,C=1,V=2);var ae=this.kernelSize[0],fe=this.kernelSize[1],_e=this.strides[0],Ce=this.strides[1];return K[g]=this.filters,K[C]=Gs(K[C],_e,ae,this.padding),K[V]=Gs(K[V],Ce,fe,this.padding),K},v.prototype.getConfig=function(){var d=_.prototype.getConfig.call(this);return delete d.dilationRate,d},v.className="Conv2DTranspose",v}(po);M.m7h.registerClass(Fl);var Lu=function(_){function v(d,g){var C=_.call(this,d,g)||this;if(C.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",C.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",C.depthwiseKernel=null,C.pointwiseKernel=null,null==g.filters)throw new Ne("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=g.kernelInitializer||null!=g.kernelRegularizer||null!=g.kernelConstraint)throw new Ne("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=g.padding&&"same"!==g.padding&&"valid"!==g.padding)throw new Ne("SeparableConv"+C.rank+"D supports only padding modes: 'same' and 'valid', but received "+JSON.stringify(g.padding));return C.depthMultiplier=null==g.depthMultiplier?1:g.depthMultiplier,C.depthwiseInitializer=Vr(g.depthwiseInitializer||C.DEFAULT_DEPTHWISE_INITIALIZER),C.depthwiseRegularizer=wi(g.depthwiseRegularizer),C.depthwiseConstraint=Pr(g.depthwiseConstraint),C.pointwiseInitializer=Vr(g.depthwiseInitializer||C.DEFAULT_POINTWISE_INITIALIZER),C.pointwiseRegularizer=wi(g.pointwiseRegularizer),C.pointwiseConstraint=Pr(g.pointwiseConstraint),C}return we(v,_),v.prototype.build=function(d){if((d=ar(d)).length<this.rank+2)throw new Ne("Inputs to SeparableConv"+this.rank+"D should have rank "+(this.rank+2)+", but received input shape: "+JSON.stringify(d));var fe,g="channelsFirst"===this.dataFormat?1:d.length-1;if(null==d[g]||d[g]<0)throw new Ne("The channel dimension of the inputs should be defined, but found "+JSON.stringify(d[g]));for(var C=d[g],V=this.kernelSize.concat([C,this.depthMultiplier]),K=[],ae=0;ae<this.rank;++ae)K.push(1);K.push(C*this.depthMultiplier,this.filters),this.depthwiseKernel=this.addWeight("depthwise_kernel",V,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",K,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,!0,this.pointwiseConstraint),this.bias=this.useBias?this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):null,this.inputSpec=[new Ur({ndim:this.rank+2,axes:(fe={},fe[g]=C,fe)})],this.built=!0},v.prototype.call=function(d,g){var C=this;return(0,M.lub)(function(){var V;if(d=Ue(d),1===C.rank)throw new Le("1D separable convolution is not implemented yet.");return 2===C.rank&&("channelsFirst"===C.dataFormat&&(d=(0,M.p4s)(d,[0,2,3,1])),V=(0,M.U_I)(d,C.depthwiseKernel.read(),C.pointwiseKernel.read(),C.strides,C.padding,C.dilationRate,"NHWC")),C.useBias&&(V=Mo(V,C.bias.read(),C.dataFormat)),null!=C.activation&&(V=C.activation.apply(V)),"channelsFirst"===C.dataFormat&&(V=(0,M.p4s)(V,[0,3,1,2])),V})},v.prototype.getConfig=function(){var d=_.prototype.getConfig.call(this);return delete d.rank,delete d.kernelInitializer,delete d.kernelRegularizer,delete d.kernelConstraint,d.depthwiseInitializer=Rn(this.depthwiseInitializer),d.pointwiseInitializer=Rn(this.pointwiseInitializer),d.depthwiseRegularizer=sr(this.depthwiseRegularizer),d.pointwiseRegularizer=sr(this.pointwiseRegularizer),d.depthwiseConstraint=Jt(this.depthwiseConstraint),d.pointwiseConstraint=Jt(this.pointwiseConstraint),d},v.className="SeparableConv",v}(hs),Jo=function(_){function v(d){return _.call(this,2,d)||this}return we(v,_),v.className="SeparableConv2D",v}(Lu);M.m7h.registerClass(Jo);var Vo=function(_){function v(d){var g=_.call(this,1,d)||this;return v.verifyConfig(d),g.inputSpec=[{ndim:3}],g}return we(v,_),v.prototype.getConfig=function(){var d=_.prototype.getConfig.call(this);return delete d.rank,delete d.dataFormat,d},v.verifyConfig=function(d){if("number"!=typeof d.kernelSize&&!It(d.kernelSize,"number",1,1))throw new Ne("Conv1D expects config.kernelSize to be number or number[] with length 1, but received "+JSON.stringify(d.kernelSize)+".")},v.className="Conv1D",v}(hs);M.m7h.registerClass(Vo);var Ua=function(_){function v(d){var g=_.call(this,d)||this;return g.cropping="number"==typeof d.cropping?[[d.cropping,d.cropping],[d.cropping,d.cropping]]:"number"==typeof d.cropping[0]?[[d.cropping[0],d.cropping[0]],[d.cropping[1],d.cropping[1]]]:d.cropping,g.dataFormat=void 0===d.dataFormat?"channelsLast":d.dataFormat,g.inputSpec=[{ndim:4}],g}return we(v,_),v.prototype.computeOutputShape=function(d){return"channelsFirst"===this.dataFormat?[d[0],d[1],d[2]-this.cropping[0][0]-this.cropping[0][1],d[3]-this.cropping[1][0]-this.cropping[1][1]]:[d[0],d[1]-this.cropping[0][0]-this.cropping[0][1],d[2]-this.cropping[1][0]-this.cropping[1][1],d[3]]},v.prototype.call=function(d,g){var C=this;return(0,M.lub)(function(){return d=Ue(d),"channelsLast"===C.dataFormat?We(We(d,C.cropping[0][0],d.shape[1]-C.cropping[0][0]-C.cropping[0][1],2),C.cropping[1][0],d.shape[2]-C.cropping[1][1]-C.cropping[1][0],3):We(We(d,C.cropping[0][0],d.shape[2]-C.cropping[0][0]-C.cropping[0][1],3),C.cropping[1][0],d.shape[3]-C.cropping[1][1]-C.cropping[1][0],4)})},v.prototype.getConfig=function(){var d={cropping:this.cropping,dataFormat:this.dataFormat},g=_.prototype.getConfig.call(this);return Object.assign(d,g),d},v.className="Cropping2D",v}(or);M.m7h.registerClass(Ua);var Ll=function(_){function v(d){var g=_.call(this,d)||this;return g.DEFAULT_SIZE=[2,2],g.inputSpec=[{ndim:4}],g.size=null==d.size?g.DEFAULT_SIZE:d.size,g.dataFormat=null==d.dataFormat?"channelsLast":d.dataFormat,g}return we(v,_),v.prototype.computeOutputShape=function(d){if("channelsFirst"===this.dataFormat){var g=null==d[2]?null:this.size[0]*d[2],C=null==d[3]?null:this.size[1]*d[3];return[d[0],d[1],g,C]}return[d[0],g=null==d[1]?null:this.size[0]*d[1],C=null==d[2]?null:this.size[1]*d[2],d[3]]},v.prototype.call=function(d,g){var C=this;return(0,M.lub)(function(){var V=Ue(d),K=V.shape;if("channelsFirst"===C.dataFormat){V=(0,M.p4s)(V,[0,2,3,1]);var ae=C.size[0]*K[2],fe=C.size[1]*K[3],_e=V.resizeNearestNeighbor([ae,fe]);return(0,M.p4s)(_e,[0,3,1,2])}return V.resizeNearestNeighbor([ae=C.size[0]*K[1],fe=C.size[1]*K[2]])})},v.prototype.getConfig=function(){var d={size:this.size,dataFormat:this.dataFormat},g=_.prototype.getConfig.call(this);return Object.assign(d,g),d},v.className="UpSampling2D",v}(or);M.m7h.registerClass(Ll);var bn=function(_){function v(d){var g=_.call(this,2,d)||this;return g.depthwiseKernel=null,g.depthMultiplier=null==d.depthMultiplier?1:d.depthMultiplier,g.depthwiseInitializer=Vr(d.depthwiseInitializer||g.DEFAULT_KERNEL_INITIALIZER),g.depthwiseConstraint=Pr(d.depthwiseConstraint),g.depthwiseRegularizer=wi(d.depthwiseRegularizer),g}return we(v,_),v.prototype.build=function(d){if((d=ar(d)).length<4)throw new Ne("Inputs to DepthwiseConv2D should have rank 4. Received input shape: "+JSON.stringify(d)+".");var g="channelsFirst"===this.dataFormat?1:3;if(null==d[g]||d[g]<0)throw new Ne("The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not ("+d[g]+").");var C=d[g];this.depthwiseKernel=this.addWeight("depthwise_kernel",[this.kernelSize[0],this.kernelSize[1],C,this.depthMultiplier],null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.bias=this.useBias?this.addWeight("bias",[C*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):null,this.built=!0},v.prototype.call=function(d,g){var C=this;return(0,M.lub)(function(){var V=function fd(_,v,d,g,C,V){return void 0===d&&(d=[1,1]),void 0===g&&(g="valid"),(0,M.lub)(function(){null==C&&(C="channelsLast"),Cn(C);var K=Rl(_,C);if(4!==_.rank)throw new Ne("Input for depthwiseConv2d is required to be 4-D, but is instead "+_.rank+"-D");if(4!==v.rank)throw new Ne("depthwiseKernel is required to be 4-D, but is instead "+v.rank+"-D");return K=(0,M.B10)(K,v,d,"same"===g?"same":"valid","NHWC",V),"channelsFirst"===C&&(K=(0,M.p4s)(K,[0,3,1,2])),K})}(d=Ue(d),C.depthwiseKernel.read(),C.strides,C.padding,C.dataFormat,null);return C.useBias&&(V=Mo(V,C.bias.read(),C.dataFormat)),null!=C.activation&&(V=C.activation.apply(V)),V})},v.prototype.computeOutputShape=function(d){d=ar(d);var C="channelsFirst"===this.dataFormat?d[3]:d[2],V="channelsFirst"===this.dataFormat?d[1]*this.depthMultiplier:d[3]*this.depthMultiplier,K=Va("channelsFirst"===this.dataFormat?d[2]:d[1],this.kernelSize[0],this.padding,this.strides[0]),ae=Va(C,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[d[0],V,K,ae]:[d[0],K,ae,V]},v.prototype.getConfig=function(){var d=_.prototype.getConfig.call(this);return d.depthMultiplier=this.depthMultiplier,d.depthwiseInitializer=Rn(this.depthwiseInitializer),d.depthwiseRegularizer=sr(this.depthwiseRegularizer),d.depthwiseConstraint=Jt(this.depthwiseRegularizer),d},v.className="DepthwiseConv2D",v}(Bo);M.m7h.registerClass(bn);var Ss=function(_){function v(d){var g=_.call(this,d)||this;if(g.rate=Math.max(Math.min(d.rate,1),0),g.rateScalar=ze(g.rate),g.noiseShape=d.noiseShape,g.seed=d.seed,null!=g.seed)throw new Le("Non-default seed is not implemented in Dropout layer yet: "+g.seed);return g.supportsMasking=!0,g}return we(v,_),v.prototype.getNoiseShape=function(d){if(null==this.noiseShape)return this.noiseShape;for(var g=d.shape,C=[],V=0;V<this.noiseShape.length;++V)C.push(null==this.noiseShape[V]?g[V]:this.noiseShape[V]);return C},v.prototype.call=function(d,g){var C=this;return(0,M.lub)(function(){C.invokeCallHook(d,g);var V=Ue(d);if(null!=C.noiseShape&&!M.D5U.arraysEqual(V.shape,C.noiseShape))throw new Le("Non-default noise shape is not implemented in Dropout layer yet: "+JSON.stringify(C.noiseShape));if(0<C.rate&&C.rate<1){var K=null!=g.training&&g.training,ae=C.getNoiseShape(V);return Ao(function(){return Io(V,C.rateScalar,ae,C.seed)},function(){return V},K)}return d})},v.prototype.getConfig=function(){var d={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},g=_.prototype.getConfig.call(this);return Object.assign(d,g),d},v.className="Dropout",v}(or);M.m7h.registerClass(Ss);var Bu=function(_){function v(d){var g=_.call(this,d)||this;if(g.activation=null,g.useBias=!0,g.kernel=null,g.bias=null,g.DEFAULT_KERNEL_INITIALIZER="glorotNormal",g.DEFAULT_BIAS_INITIALIZER="zeros",null==d.batchInputShape&&null==d.inputShape&&null!=d.inputDim){var C=null;null!=d.batchSize&&(C=d.batchSize),g.batchInputShape=[C,d.inputDim]}return g.units=d.units,g.activation=Ba(d.activation),null!=d.useBias&&(g.useBias=d.useBias),g.kernelInitializer=Vr(d.kernelInitializer||g.DEFAULT_KERNEL_INITIALIZER),g.biasInitializer=Vr(d.biasInitializer||g.DEFAULT_BIAS_INITIALIZER),g.kernelConstraint=Pr(d.kernelConstraint),g.biasConstraint=Pr(d.biasConstraint),g.kernelRegularizer=wi(d.kernelRegularizer),g.biasRegularizer=wi(d.biasRegularizer),g.activityRegularizer=wi(d.activityRegularizer),g.inputSpec=[{minNDim:2}],g}return we(v,_),v.prototype.build=function(d){var g,C=(d=ar(d))[d.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[C,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:(g={},g[-1]=C,g)}],this.built=!0},v.prototype.computeOutputShape=function(d){var g=(d=ar(d)).slice();return g[g.length-1]=this.units,g},v.prototype.call=function(d,g){var C=this;return(0,M.lub)(function(){C.invokeCallHook(d,g);var V=kr(Ue(d),C.kernel.read());return null!=C.bias&&(V=Mo(V,C.bias.read())),null!=C.activation&&(V=C.activation.apply(V)),V})},v.prototype.getConfig=function(){var d={units:this.units,activation:ho(this.activation),useBias:this.useBias,kernelInitializer:Rn(this.kernelInitializer),biasInitializer:Rn(this.biasInitializer),kernelRegularizer:sr(this.kernelRegularizer),biasRegularizer:sr(this.biasRegularizer),activityRegularizer:sr(this.activityRegularizer),kernelConstraint:Jt(this.kernelConstraint),biasConstraint:Jt(this.biasConstraint)},g=_.prototype.getConfig.call(this);return Object.assign(d,g),d},v.className="Dense",v}(or);M.m7h.registerClass(Bu);var Ec=function(_){function v(d){var g=_.call(this,d||{})||this;return g.inputSpec=[{minNDim:3}],g}return we(v,_),v.prototype.computeOutputShape=function(d){for(var g=0,C=(d=ar(d)).slice(1);g<C.length;g++)if(null==C[g])throw new Ne('The shape of the input to "Flatten" is not fully defined (got '+d.slice(1)+'). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.');return[d[0],Ge(d,1)]},v.prototype.call=function(d,g){var C=this;return(0,M.lub)(function(){return C.invokeCallHook(d,g),function Je(_){if(_.rank<=1)throw new Ne("batchFlatten requires a minimum rank of 2. Got rank: "+_.rank+".");var v=[_.shape[0],Ge(_.shape,1)];return _.reshape(v)}(Ue(d))})},v.className="Flatten",v}(or);M.m7h.registerClass(Ec);var ii=function(_){function v(d){var g=_.call(this,d)||this;return g.supportsMasking=!0,g.activation=Ba(d.activation),g}return we(v,_),v.prototype.call=function(d,g){var C=this;return(0,M.lub)(function(){C.invokeCallHook(d,g);var V=Ue(d);return C.activation.apply(V)})},v.prototype.getConfig=function(){var d={activation:ho(this.activation)},g=_.prototype.getConfig.call(this);return Object.assign(d,g),d},v.className="Activation",v}(or);M.m7h.registerClass(ii);var cu=function(_){function v(d){var g=_.call(this,d)||this;return g.n=d.n,g.inputSpec=[{ndim:2}],g}return we(v,_),v.prototype.computeOutputShape=function(d){return[d[0],this.n,d[1]]},v.prototype.call=function(d,g){var C=this;return(0,M.lub)(function(){return function wr(_,v){return(0,M.lub)(function(){if(2!==_.shape.length)throw new Ne("repeat() expects a rank-2 tensor, but received a rank-"+_.shape.length+" tensor.");return on(Nn(_,1),[1,v,1])})}(d=Ue(d),C.n)})},v.prototype.getConfig=function(){var d={n:this.n},g=_.prototype.getConfig.call(this);return Object.assign(d,g),d},v.className="RepeatVector",v}(or);M.m7h.registerClass(cu);var xc=function(_){function v(d){var g=_.call(this,d)||this;g.targetShape=d.targetShape;for(var C=0;C<g.targetShape.length;++C)g.isUnknown(g.targetShape[C])&&(g.targetShape[C]=null);return g}return we(v,_),v.prototype.isUnknown=function(d){return d<0||null==d},v.prototype.fixUnknownDimension=function(d,g){for(var C="Total size of new array must be unchanged.",V=g.slice(),K=1,ae=null,fe=0;fe<V.length;++fe){var _e=V[fe];if(this.isUnknown(_e)){if(null!==ae)throw new Ne("Can only specifiy one unknown dimension.");ae=fe}else K*=_e}var Ce=Ge(d);if(null!==ae){if(0===K||Ce%K!=0)throw new Ne(C);V[ae]=Ce/K}else if(Ce!==K)throw new Ne(C);return V},v.prototype.computeOutputShape=function(d){for(var g=!1,C=0;C<d.length;++C)if(this.isUnknown(d[C])){g=!0;break}return g?d.slice(0,1).concat(this.targetShape):d.slice(0,1).concat(this.fixUnknownDimension(d.slice(1),this.targetShape))},v.prototype.call=function(d,g){var C=this;return(0,M.lub)(function(){C.invokeCallHook(d,g);var V=Ue(d),K=V.shape,ae=K.slice(0,1).concat(C.fixUnknownDimension(K.slice(1),C.targetShape));return V.reshape(ae)})},v.prototype.getConfig=function(){var d={targetShape:this.targetShape},g=_.prototype.getConfig.call(this);return Object.assign(d,g),d},v.className="Reshape",v}(or);M.m7h.registerClass(xc);var gd=function(_){function v(d){var g=_.call(this,d)||this;if(null==d.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(d.dims))throw new Error("Permute constructor requires `dims` to be an Array, but received "+d.dims+" instead.");var C=$n(1,d.dims.length+1);if(!M.D5U.arraysEqual(d.dims.slice().sort(),C))throw new Error("Invalid permutation `dims`: "+JSON.stringify(d.dims)+" `dims` must contain consecutive integers starting from 1.");return g.dims=d.dims,g.dimsIncludingBatch=[0].concat(g.dims),g.inputSpec=[new Ur({ndim:g.dims.length+1})],g}return we(v,_),v.prototype.computeOutputShape=function(d){var g=(d=ar(d)).slice();return this.dims.forEach(function(C,V){g[V+1]=d[C]}),g},v.prototype.call=function(d,g){return(0,M.p4s)(Ue(d),this.dimsIncludingBatch)},v.prototype.getConfig=function(){var d={dims:this.dims},g=_.prototype.getConfig.call(this);return Object.assign(d,g),d},v.className="Permute",v}(or);M.m7h.registerClass(gd);var wp=function(_){function v(d){var g=_.call(this,d)||this;if(g.embeddings=null,g.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==d.batchInputShape&&null==d.inputShape){var C=null;null!=d.batchSize&&(C=d.batchSize),g.batchInputShape=null==d.inputLength?[C,null]:[C].concat(wt(d.inputLength))}return g.inputDim=d.inputDim,g.outputDim=d.outputDim,g.embeddingsInitializer=Vr(d.embeddingsInitializer||g.DEFAULT_EMBEDDINGS_INITIALIZER),g.embeddingsRegularizer=wi(d.embeddingsRegularizer),g.activityRegularizer=wi(d.activityRegularizer),g.embeddingsConstraint=Pr(d.embeddingsConstraint),g.maskZero=d.maskZero,g.inputLength=d.inputLength,g}return we(v,_),v.prototype.build=function(d){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0},v.prototype.warnOnIncompatibleInputShape=function(d){},v.prototype.computeMask=function(d,g){throw new Le("computeMask has not been implemented for Embedding yet")},v.prototype.computeOutputShape=function(d){if(d=ar(d),null==this.inputLength)return d.concat([this.outputDim]);var g=wt(this.inputLength);if(g.length!==d.length-1)throw new Ne('"inputLength" is '+this.inputLength+", but received input shape has shape "+d);for(var C=0,V=0;V<g.length;++V){var K=g[V],ae=d[V+1];if(null!=K&&null!=ae&&K!==ae)throw new Ne('"inputLength" is '+this.inputLength+", but received input shape has shape "+d);null==K&&(g[C]=ae),C++}return[d[0]].concat(g,[this.outputDim])},v.prototype.call=function(d,g){var C=this;return(0,M.lub)(function(){C.invokeCallHook(d,g);var V=Ue(d);return"int32"!==V.dtype&&(V=ur(V,"int32")),Re(C.embeddings.read(),V.as1D()).reshape(ar(C.computeOutputShape(V.shape)))})},v.prototype.getConfig=function(){var d={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:Rn(this.embeddingsInitializer),embeddingsRegularizer:sr(this.embeddingsRegularizer),activityRegularizer:sr(this.activityRegularizer),embeddingsConstraint:Jt(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},g=_.prototype.getConfig.call(this);return Object.assign(d,g),d},v.className="Embedding",v}(or);M.m7h.registerClass(wp);var du=function(_){function v(d){var g=_.call(this,d||{})||this;return g.supportsMasking=!0,g}return we(v,_),v.prototype.mergeFunction=function(d){throw new Le},v.prototype.computeElementwiseOpOutputShape=function(d,g){if(null==d||null==g)return null;if(d.length<g.length)return this.computeElementwiseOpOutputShape(g,d);if(0===g.length)return d;for(var C=d.slice(0,d.length-g.length),V=0;V<g.length;++V){var K=d[d.length-g.length+V],ae=g[V];if(null==K||null==ae||K<0||ae<0)C.push(null);else if(1===K)C.push(ae);else if(1===ae)C.push(K);else{if(K!==ae)throw new Ne("Operands could not be broadcast together with shapes "+JSON.stringify(d)+" "+JSON.stringify(g));C.push(K)}}return C},v.prototype.build=function(d){if(Array.isArray(d)&&!Array.isArray(d[0])&&(d=[ar(d)]),d.length<2)throw new Ne("A merge layer should be called on an Array of at least 2 inputs. Got "+d.length+" input(s).");for(var g=[],C=0,V=d;C<V.length;C++)null!=(fe=V[C])&&null!==fe[0]&&g.push(fe[0]);if((g=Vt(g)).length>1)throw new Ne("Can not merge tensors with different batch sizes. Got tensors with shapes: "+JSON.stringify(d)+".");for(var K=null==d[0]?null:d[0].slice(1),ae=1;ae<d.length;++ae){var fe=null==d[ae]?null:d[ae].slice(1);K=this.computeElementwiseOpOutputShape(K,fe)}var _e=d.map(function(Ce){return Ce.length});this.reshapeRequired=-1!==d.indexOf(null)||1!==Vt(_e).length},v.prototype.call=function(d,g){var C=this;return(0,M.lub)(function(){if(C.reshapeRequired){var V=[],K=d.map(function(kn){return kn.rank});if(-1===K.indexOf(null)){for(var ae=Sn(K),fe=0,_e=d;fe<_e.length;fe++){for(var Ce=(Et=_e[fe]).rank,Xe=0;Xe<ae-Ce;++Xe)Et=Nn(Et,1);V.push(Et)}return C.mergeFunction(V)}for(var lt=!1,ht=0,rt=d;ht<rt.length;ht++){var Et;if(null==(Ce=(Et=rt[ht]).rank)){var $t=Et.shape,tn=$t[0],qt=$t.slice(1).concat([tn]),Kt=Et.reshape([tn].concat(Ge($t.slice(1))));Kt=(Kt=(0,M.p4s)(Kt,[1,0])).reshape(qt),V.push(Kt),lt=!0}else if(Ce>1){var ln=$n(1,Ce).concat([0]);V.push((0,M.p4s)(Et,ln)),lt=!0}else V.push(Et)}var hn=C.mergeFunction(V),xn=hn.rank;if(lt)if(null==xn){var Wn=hn.shape;qt=[tn=Wn[Wn.length-1]].concat(Wn.slice(0,Wn.length-1)),hn=(0,M.p4s)(hn.reshape([-1,tn]),[1,0]).reshape(qt)}else xn>1&&(ln=[xn-1].concat($n(0,xn-1)),hn=(0,M.p4s)(hn,ln));return hn}return C.mergeFunction(d)})},v.prototype.computeOutputShape=function(d){var g;g=null==d[0]?null:d[0].slice(1);for(var C=1;C<d.length;++C){var V=null==d[C]?null:d[C].slice(1);g=this.computeElementwiseOpOutputShape(g,V)}for(var K=[],ae=0,fe=d;ae<fe.length;ae++)null!=(V=fe[ae])&&null!==V[0]&&K.push(V[0]);return 1===(K=Vt(K)).length?K.concat(g):[null].concat(g)},v.prototype.computeMask=function(d,g){throw new Le("computeMask has not been implemented for Merge yet")},v}(or),ph=function(_){function v(d){return _.call(this,d)||this}return we(v,_),v.prototype.mergeFunction=function(d){return(0,M.lub)(function(){for(var g=d[0].clone(),C=1;C<d.length;++C)g=(0,M.IHx)(g,d[C]);return g})},v.className="Add",v}(du);M.m7h.registerClass(ph);var Bl=function(_){function v(d){return _.call(this,d)||this}return we(v,_),v.prototype.mergeFunction=function(d){return(0,M.lub)(function(){for(var g=d[0].clone(),C=1;C<d.length;++C)g=(0,M.dC7)(g,d[C]);return g})},v.className="Multiply",v}(du);M.m7h.registerClass(Bl);var Ws=function(_){function v(d){return _.call(this,d)||this}return we(v,_),v.prototype.mergeFunction=function(d){return(0,M.lub)(function(){for(var g=d[0].clone(),C=1;C<d.length;++C)g=(0,M.IHx)(g,d[C]);return(0,M.dC7)(ze(1/d.length),g)})},v.className="Average",v}(du);M.m7h.registerClass(Ws);var Sc=function(_){function v(d){return _.call(this,d)||this}return we(v,_),v.prototype.mergeFunction=function(d){return(0,M.lub)(function(){for(var g=d[0],C=1;C<d.length;++C)g=(0,M.gWQ)(g,d[C]);return g})},v.className="Maximum",v}(du);M.m7h.registerClass(Sc);var Nc=function(_){function v(d){return _.call(this,d)||this}return we(v,_),v.prototype.mergeFunction=function(d){return(0,M.lub)(function(){for(var g=d[0],C=1;C<d.length;++C)g=(0,M.LTh)(g,d[C]);return g})},v.className="Minimum",v}(du);M.m7h.registerClass(Nc);var zi=function(_){function v(d){var g=_.call(this,d)||this;return g.DEFAULT_AXIS=-1,null==d&&(d={}),g.axis=null==d.axis?g.DEFAULT_AXIS:d.axis,g.supportsMasking=!0,g.reshapeRequired=!1,g}return we(v,_),v.prototype.build=function(d){if(!Array.isArray(d)||!Array.isArray(d[0])||1===d.length)throw new Ne("A `Concatenate` layer should be called on a list of at least 2 inputs");for(var g=!0,C=0,V=d;C<V.length;C++)if(null!=(lt=V[C])){g=!1;break}if(!g){for(var K=[],ae=0;ae<d.length;++ae){var fe=d[ae].slice();fe.splice(this.axis,1);for(var _e=!1,Ce=0,Xe=K;Ce<Xe.length;Ce++){var lt=Xe[Ce];if(M.D5U.arraysEqual(lt,fe)){_e=!0;break}}_e||K.push(fe)}if(K.length>1)throw new Ne("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(d))}},v.prototype.mergeFunction=function(d){var g=this;return(0,M.lub)(function(){return St(d,g.axis)})},v.prototype.computeOutputShape=function(d){if(!Array.isArray(d)||!Array.isArray(d[0]))throw new Ne("A `Concatenate` layer should be called on a list of inputs.");for(var g=d,C=g[0].slice(),V=this.axis<0?C.length+this.axis:this.axis,K=0,ae=g.slice(1);K<ae.length;K++){var fe=ae[K];if(null==C[V]||null==fe[V]){C[V]=null;break}C[V]+=fe[V]}return C},v.prototype.computeMask=function(d,g){throw new Le("computeMask has not been implemented for Concatenate yet")},v.prototype.getConfig=function(){var d={axis:this.axis},g=_.prototype.getConfig.call(this);return Object.assign(d,g),d},v.className="Concatenate",v}(du);function qs(_,v){for(;_<0;)_+=v;return _}M.m7h.registerClass(zi);var Tc=function(_){function v(d){var g=_.call(this,d)||this;return g.axes=d.axes,g.normalize=null!=d.normalize&&d.normalize,g.supportsMasking=!0,g.reshapeRequired=!1,g}return we(v,_),v.prototype.build=function(d){M.D5U.assert(Array.isArray(d)&&2===d.length&&Array.isArray(d[0])&&Array.isArray(d[1]),"A `Dot` layer should be called on a list of exactly 2 inputs.");var g=d[0],C=d[1];if(g.length>3||C.length>3)throw new Le("Dot layer does not support tensors of 4D or higher rank yet.");var V=this.interpretAxes(g,C);if(g[V[0]]!==C[V[1]])throw new Ne("Dimension incompatibility: "+g[V[0]]+" !== "+C[V[1]])},v.prototype.mergeFunction=function(d){if(2!==d.length)throw new Ne("A `Dot` layer must be called on exactly 2 inputs, but received "+d.length+" input(s).");var g,C=d[0],V=d[1];return g=Array.isArray(this.axes)?this.axes.map(function(K,ae){return qs(K,d[ae].shape.length)}):[qs(this.axes,C.shape.length),qs(this.axes,V.shape.length)],this.normalize&&(C=Wo(C,g[0]),V=Wo(V,g[1])),function gl(_,v,d){if(_.shape.length>3||v.shape.length>3)throw new Le("batchDot is not implemented for tensors of 4D or higher rank yet");if(M.D5U.assert(_.shape.length>=2,"batchDot requires the rank of x to be >= 2, but got "+_.shape.length),M.D5U.assert(_.shape.length>=2,"batchDot requires the rank of y to be >= 2, but got "+v.shape.length),"number"==typeof d&&(d=[d,d]),"complex64"===_.dtype||"complex64"===v.dtype)throw new Le("batchDot is not implemented for complex64-type Tensors yet.");var g=_.shape.length,C=v.shape.length;null==d&&(d=[g-1,C-2]);var V=d;return(0,M.lub)(function(){var K,ae;if(g>C){K=g-C;for(var fe=[],_e=0;_e<K;++_e)fe.push(1);v=v.reshape(v.shape.concat(fe))}else if(C>g){for(K=C-g,fe=[],_e=0;_e<K;++_e)fe.push(1);_=_.reshape(_.shape.concat(fe))}else K=0;if(ae=2===_.shape.length&&2===v.shape.length?V[0]===V[1]?_.mulStrict(v).sum(V[0]):_.transpose([1,0]).mulStrict(v).sum(V[1]):_.matMul(v,V[0]!==_.shape.length-1||null,V[1]===v.shape.length-1||null),K>0){var lt,ht=[];for(_e=lt=g>C?g+C-3:g-1;_e<lt+K;++_e)ht.push(_e);ae=ae.squeeze(ht)}return 1===ae.shape.length&&(ae=ae.expandDims(1)),ae})}(C,V,g)},v.prototype.interpretAxes=function(d,g){return Array.isArray(this.axes)?this.axes:[qs(this.axes,d.length),qs(this.axes,g.length)]},v.prototype.computeOutputShape=function(d){M.D5U.assert(Array.isArray(d)&&2===d.length&&Array.isArray(d[0])&&Array.isArray(d[1]),"A `Dot` layer should be called on a list of exactly 2 inputs.");var g=d[0].slice(),C=d[1].slice();if(g.length>3||C.length>3)throw new Le("Dot layer does not support tensors of 4D or higher rank yet.");var V=this.interpretAxes(g,C);g.splice(V[0],1),C.splice(V[1],1),C.splice(0,1);var K=g.concat(C);return 1===K.length&&K.push(1),K},v.prototype.computeMask=function(d,g){throw new Le("computeMask has not been implemented for Dot yet")},v.prototype.getConfig=function(){var d={axes:this.axes,normalize:this.normalize},g=_.prototype.getConfig.call(this);return Object.assign(d,g),d},v.className="Dot",v}(du);function fo(_,v,d,g,C,V){var K;if(void 0===V&&(V=.001),2===_.rank)K=(0,M.JHc)(_,v,d,V,C,g);else if(3===_.rank)K=(0,M.csF)(_,v,d,V,C,g);else{if(4!==_.rank)throw new Le("batchNormalization is not implemented for array of rank "+_.rank+" yet");K=(0,M.bVb)(_,v,d,V,C,g)}return K}M.m7h.registerClass(Tc);var io=function(_){function v(d){var g=this;return null==d&&(d={}),(g=_.call(this,d)||this).supportsMasking=!0,g.axis=null==d.axis?-1:d.axis,g.momentum=null==d.momentum?.99:d.momentum,g.epsilon=null==d.epsilon?.001:d.epsilon,g.center=null==d.center||d.center,g.scale=null==d.scale||d.scale,g.betaInitializer=Vr(d.betaInitializer||"zeros"),g.gammaInitializer=Vr(d.gammaInitializer||"ones"),g.movingMeanInitializer=Vr(d.movingMeanInitializer||"zeros"),g.movingVarianceInitializer=Vr(d.movingVarianceInitializer||"ones"),g.betaConstraint=Pr(d.betaConstraint),g.gammaConstraint=Pr(d.gammaConstraint),g.betaRegularizer=wi(d.betaRegularizer),g.gammaRegularizer=wi(d.gammaRegularizer),g.stepCount=0,g}return we(v,_),v.prototype.build=function(d){d=ar(d);var g=this.axis>=0?this.axis:this.axis+d.length,C=d[g];if(null==C)throw new Ne("Axis "+g+" of input tensor should have a defined dimension but the layer received an input with shape "+JSON.stringify(d)+".");this.inputSpec=[new Ur({ndim:d.length,axes:(V={},V[g]=C,V)})];var V,K=[C];this.scale&&(this.gamma=this.addWeight("gamma",K,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",K,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",K,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",K,null,this.movingVarianceInitializer,null,!1),this.built=!0},v.prototype.call=function(d,g){var C=this;return(0,M.lub)(function(){var V=null!=g.training&&g.training,K=Ue(d),ae=K.shape,fe=ae.length,_e=$n(0,fe),Ce=C.axis>=0?C.axis:C.axis+fe;_e.splice(Ce,1);var Xe=qe(1,fe);Xe[Ce]=ae[Ce];var lt=_e.slice();lt.sort();var ht=!M.D5U.arraysEqual(lt,$n(0,fe).slice(0,fe-1));if(!V)return function(){if(ht){var ln=C.movingMean.read().reshape(Xe),hn=C.movingVariance.read().reshape(Xe),xn=C.center?C.beta.read().reshape(Xe):null,Wn=C.scale?C.gamma.read().reshape(Xe):null;return fo(K,ln,hn,xn,Wn,C.epsilon)}return fo(K,C.movingMean.read(),C.movingVariance.read(),null==C.beta?null:C.beta.read(),null==C.gamma?null:C.gamma.read(),C.epsilon)}();var rt=function Vl(_,v,d,g,C){return void 0===C&&(C=.001),M.D5U.arraysEqual(g.slice().sort(),$n(0,_.rank-1))?function Zs(_,v,d,g,C){return void 0===C&&(C=.001),(0,M.lub)(function(){var V=(0,M.Gi7)(_,g),K=V.mean,ae=V.variance;return[fo(_,K,ae,d,v,C),K,ae]})}(_,v,d,g,C):function Vu(_,v,d,g,C){return void 0===C&&(C=.001),(0,M.lub)(function(){for(var V=(0,M.Gi7)(_,g),K=V.mean,ae=V.variance,fe=[],_e=0,Ce=$n(0,_.rank);_e<Ce.length;_e++){var Xe=Ce[_e];-1!==g.indexOf(Xe)?fe.push(1):fe.push(_.shape[Xe])}var lt=K.reshape(fe),ht=ae.reshape(fe),rt=null==v?null:v.reshape(fe),Et=null==d?null:d.reshape(fe);return[fo(_,lt,ht,Et,rt,C),K,ae]})}(_,v,d,g,C)}(K,C.gamma.read(),C.beta.read(),_e,C.epsilon),Et=rt[0],$t=rt[1],tn=rt[2],qt=Ge(_e.map(function(ln){return K.shape[ln]})),Kt=tn.mul(ze(qt/(qt-(1+C.epsilon))));return function(){C.stepCount++;var ln=(0,M.p_)(C.movingMean.read(),$t,C.momentum,C.stepCount);C.movingMean.write(ln);var hn=(0,M.p_)(C.movingVariance.read(),Kt,C.momentum,C.stepCount);C.movingVariance.write(hn)}(),Et})},v.prototype.getConfig=function(){var d={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Rn(this.betaInitializer),gammaInitializer:Rn(this.gammaInitializer),movingMeanInitializer:Rn(this.movingMeanInitializer),movingVarianceInitializer:Rn(this.movingVarianceInitializer),betaRegularizer:sr(this.betaRegularizer),gammaRegularizer:sr(this.gammaRegularizer),betaConstraint:Jt(this.betaConstraint),gammaConstraint:Jt(this.gammaConstraint)},g=_.prototype.getConfig.call(this);return Object.assign(d,g),d},v.className="BatchNormalization",v}(or);M.m7h.registerClass(io);var F=function(_){function v(d){var g=this;if(null==d&&(d={}),(g=_.call(this,d)||this).dataFormat=null==d.dataFormat?"channelsLast":d.dataFormat,null==d.padding)g.padding=[[1,1],[1,1]];else if("number"==typeof d.padding)g.padding=[[d.padding,d.padding],[d.padding,d.padding]];else{if(d.padding=d.padding,2!==d.padding.length)throw new Ne("ZeroPadding2D expects padding to be a length-2 array, but received a length-"+d.padding.length+" array.");var C=void 0,V=void 0;if("number"==typeof d.padding[0])C=[d.padding[0],d.padding[0]],V=[d.padding[1],d.padding[1]];else{if(d.padding=d.padding,2!==d.padding[0].length)throw new Ne("ZeroPadding2D expects height padding to be a length-2 array, but received a length-"+d.padding[0].length+" array.");if(C=d.padding[0],2!==d.padding[1].length)throw new Ne("ZeroPadding2D expects width padding to be a length-2 array, but received a length-"+d.padding[1].length+" array.");V=d.padding[1]}g.padding=[C,V]}return g.inputSpec=[new Ur({ndim:4})],g}return we(v,_),v.prototype.computeOutputShape=function(d){return d=ar(d),"channelsFirst"===this.dataFormat?[d[0],d[1],null!=d[2]&&d[2]>=0?d[2]+this.padding[0][0]+this.padding[0][1]:null,null!=d[3]&&d[3]>=0?d[3]+this.padding[1][0]+this.padding[1][1]:null]:[d[0],null!=d[1]&&d[1]>=0?d[1]+this.padding[0][0]+this.padding[0][1]:null,null!=d[2]&&d[2]>=0?d[2]+this.padding[1][0]+this.padding[1][1]:null,d[3]]},v.prototype.call=function(d,g){var C=this;return(0,M.lub)(function(){return function gi(_,v,d){return(0,M.lub)(function(){if(4!==_.rank)throw new Ne("temporalPadding expects input tensor to be 4-D, but received a "+_.rank+"-D tensor.");if(null==v&&(v=[[1,1],[1,1]]),2!==v.length||2!==v[0].length||2!==v[1].length)throw new Ne("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==d&&(d="channelsLast"),"channelsLast"!==d&&"channelsFirst"!==d)throw new Ne("Unknown data format: "+d+". Supported data formats are 'channelsLast' and 'channelsFirst.");return(0,M.vku)(_,"channelsFirst"===d?[[0,0],[0,0],v[0],v[1]]:[[0,0],v[0],v[1],[0,0]])})}(Ue(d),C.padding,C.dataFormat)})},v.prototype.getConfig=function(){var d={padding:this.padding,dataFormat:this.dataFormat},g=_.prototype.getConfig.call(this);return Object.assign(d,g),d},v.className="ZeroPadding2D",v}(or);function L(_,v,d,g,C,V){return(0,M.lub)(function(){var K;Cn(C),function Ja(_){et(ai,"PoolMode",_)}(V),nr(g),null==d&&(d=[1,1]),null==g&&(g="valid"),null==C&&(C="channelsLast"),null==V&&(V="max"),_=Rl(_,C);var ae="same"===g?"same":"valid";return K="max"===V?(0,M._sB)(_,v,d,ae):(0,M.wS1)(_,v,d,ae),"channelsFirst"===C&&(K=(0,M.p4s)(K,[0,3,1,2])),K})}M.m7h.registerClass(F);var O=function(_){function v(d){var g=this;if(null==d.poolSize&&(d.poolSize=2),g=_.call(this,d)||this,"number"==typeof d.poolSize)g.poolSize=[d.poolSize];else{if(!Array.isArray(d.poolSize)||1!==d.poolSize.length||"number"!=typeof d.poolSize[0])throw new Ne("poolSize for 1D convolutional layer must be a number or an Array of a single number, but received "+JSON.stringify(d.poolSize));g.poolSize=d.poolSize}if(null==d.strides)g.strides=g.poolSize;else if("number"==typeof d.strides)g.strides=[d.strides];else{if(!Array.isArray(d.strides)||1!==d.strides.length||"number"!=typeof d.strides[0])throw new Ne("strides for 1D convolutional layer must be a number or an Array of a single number, but received "+JSON.stringify(d.strides));g.strides=d.strides}return g.padding=null==d.padding?"valid":d.padding,nr(g.padding),g.inputSpec=[new Ur({ndim:3})],g}return we(v,_),v.prototype.computeOutputShape=function(d){var g=Va((d=ar(d))[1],this.poolSize[0],this.padding,this.strides[0]);return[d[0],g,d[2]]},v.prototype.call=function(d,g){var C=this;return(0,M.lub)(function(){C.invokeCallHook(d,g),d=Nn(Ue(d),2);var V=C.poolingFunction(Ue(d),[C.poolSize[0],1],[C.strides[0],1],C.padding,"channelsLast");return(0,M.L9e)(V,[2])})},v.prototype.getConfig=function(){var d={poolSize:this.poolSize,padding:this.padding,strides:this.strides},g=_.prototype.getConfig.call(this);return Object.assign(d,g),d},v}(or),j=function(_){function v(d){return _.call(this,d)||this}return we(v,_),v.prototype.poolingFunction=function(d,g,C,V,K){return Cn(K),nr(V),L(d,g,C,V,K,"max")},v.className="MaxPooling1D",v}(O);M.m7h.registerClass(j);var ne=function(_){function v(d){return _.call(this,d)||this}return we(v,_),v.prototype.poolingFunction=function(d,g,C,V,K){return Cn(K),nr(V),L(d,g,C,V,K,"avg")},v.className="AveragePooling1D",v}(O);M.m7h.registerClass(ne);var le=function(_){function v(d){var g=this;if(null==d.poolSize&&(d.poolSize=[2,2]),(g=_.call(this,d)||this).poolSize=Array.isArray(d.poolSize)?d.poolSize:[d.poolSize,d.poolSize],null==d.strides)g.strides=g.poolSize;else if(Array.isArray(d.strides)){if(2!==d.strides.length)throw new Ne("If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length "+d.strides.length+".");g.strides=d.strides}else g.strides=[d.strides,d.strides];return g.padding=null==d.padding?"valid":d.padding,g.dataFormat=null==d.dataFormat?"channelsLast":d.dataFormat,Cn(g.dataFormat),nr(g.padding),g.inputSpec=[new Ur({ndim:4})],g}return we(v,_),v.prototype.computeOutputShape=function(d){d=ar(d);var g="channelsFirst"===this.dataFormat?d[2]:d[1],C="channelsFirst"===this.dataFormat?d[3]:d[2];return g=Va(g,this.poolSize[0],this.padding,this.strides[0]),C=Va(C,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[d[0],d[1],g,C]:[d[0],g,C,d[3]]},v.prototype.call=function(d,g){var C=this;return(0,M.lub)(function(){return C.invokeCallHook(d,g),C.poolingFunction(Ue(d),C.poolSize,C.strides,C.padding,C.dataFormat)})},v.prototype.getConfig=function(){var d={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},g=_.prototype.getConfig.call(this);return Object.assign(d,g),d},v}(or),ve=function(_){function v(d){return _.call(this,d)||this}return we(v,_),v.prototype.poolingFunction=function(d,g,C,V,K){return Cn(K),nr(V),L(d,g,C,V,K,"max")},v.className="MaxPooling2D",v}(le);M.m7h.registerClass(ve);var tt=function(_){function v(d){return _.call(this,d)||this}return we(v,_),v.prototype.poolingFunction=function(d,g,C,V,K){return Cn(K),nr(V),L(d,g,C,V,K,"avg")},v.className="AveragePooling2D",v}(le);M.m7h.registerClass(tt);var Ot=function(_){function v(d){var g=_.call(this,d)||this;return g.inputSpec=[new Ur({ndim:3})],g}return we(v,_),v.prototype.computeOutputShape=function(d){return[d[0],d[2]]},v.prototype.call=function(d,g){throw new Le},v}(or),gn=function(_){function v(d){return _.call(this,d)||this}return we(v,_),v.prototype.call=function(d,g){return(0,M.lub)(function(){var C=Ue(d);return(0,M.J69)(C,1)})},v.className="GlobalAveragePooling1D",v}(Ot);M.m7h.registerClass(gn);var vn=function(_){function v(d){return _.call(this,d)||this}return we(v,_),v.prototype.call=function(d,g){return(0,M.lub)(function(){var C=Ue(d);return(0,M.Fp7)(C,1)})},v.className="GlobalMaxPooling1D",v}(Ot);M.m7h.registerClass(vn);var Ar=function(_){function v(d){var g=_.call(this,d)||this;return g.dataFormat=null==d.dataFormat?"channelsLast":d.dataFormat,Cn(g.dataFormat),g.inputSpec=[new Ur({ndim:4})],g}return we(v,_),v.prototype.computeOutputShape=function(d){return"channelsLast"===this.dataFormat?[d[0],d[3]]:[d[0],d[1]]},v.prototype.call=function(d,g){throw new Le},v.prototype.getConfig=function(){var d={dataFormat:this.dataFormat},g=_.prototype.getConfig.call(this);return Object.assign(d,g),d},v}(or),ji=function(_){function v(){return null!==_&&_.apply(this,arguments)||this}return we(v,_),v.prototype.call=function(d,g){var C=this;return(0,M.lub)(function(){var V=Ue(d);return(0,M.J69)(V,"channelsLast"===C.dataFormat?[1,2]:[2,3])})},v.className="GlobalAveragePooling2D",v}(Ar);M.m7h.registerClass(ji);var za=function(_){function v(){return null!==_&&_.apply(this,arguments)||this}return we(v,_),v.prototype.call=function(d,g){var C=this;return(0,M.lub)(function(){var V=Ue(d);return(0,M.Fp7)(V,"channelsLast"===C.dataFormat?[1,2]:[2,3])})},v.className="GlobalMaxPooling2D",v}(Ar);function Ki(_,v,d,g){if(Array.isArray(_)){if(null!=v||null!=d)throw new Ne("When inputs is an array, neither initialState or constants should be provided");null!=g&&(d=_.slice(_.length-g,_.length),_=_.slice(0,_.length-g)),_.length>1&&(v=_.slice(1,_.length)),_=_[0]}function C(V){return null==V||Array.isArray(V)?V:[V]}return{inputs:_,initialState:v=C(v),constants:d=C(d)}}function Oi(_,v,d,g,C,V,K,ae){void 0===g&&(g=!1),void 0===K&&(K=!1),void 0===ae&&(ae=!1);var fe=v.shape.length;if(fe<3)throw new Ne("Input should be at least 3D, but is "+fe+"D.");var _e,Ce,Xe=[1,0].concat($n(2,fe));if(v=(0,M.p4s)(v,Xe),null!=C)throw new Le("The rnn() function of the deeplearn.js backend does not support masking yet.");if(null!=V)throw new Le("The rnn() functoin of the deeplearn.js backend does not support constants yet.");K&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),g&&(v=(0,M.GYS)(v,0));for(var lt=d,ht=v.shape[0],rt=function($t){var tn=He(v,$t,1);tn=tn.reshape(tn.shape.slice(1));var qt=(0,M.lub)(function(){return _(tn,lt)});if(Ce=qt[0],ae)if(0===$t)_e=Ce.expandDims(1);else{var Kt=(0,M.zoF)([_e,Ce.expandDims(1)],1);_e.dispose(),_e=Kt}lt=qt[1]},Et=0;Et<ht;++Et)rt(Et);return[Ce,_e,lt]}M.m7h.registerClass(za);var mi=function(_){function v(d){var g,C=_.call(this,d)||this;if(null==d.cell)throw new Ne("cell property is missing for the constructor of RNN.");if(null==(g=Array.isArray(d.cell)?new Mc({cells:d.cell}):d.cell).stateSize)throw new Ne("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");return C.cell=g,C.returnSequences=null!=d.returnSequences&&d.returnSequences,C.returnState=null!=d.returnState&&d.returnState,C.goBackwards=null!=d.goBackwards&&d.goBackwards,C._stateful=null!=d.stateful&&d.stateful,C.unroll=null!=d.unroll&&d.unroll,C.supportsMasking=!0,C.inputSpec=[new Ur({ndim:3})],C.stateSpec=null,C.states=null,C.numConstants=null,C.keptStates=[],C}return we(v,_),v.prototype.getStates=function(){return null==this.states?$n(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map(function(d){return null}):this.states},v.prototype.setStates=function(d){this.states=d},v.prototype.computeOutputShape=function(d){Me(d)&&(d=d[0]);var g=this.cell.stateSize;Array.isArray(g)||(g=[g]);var C,V=g[0];if(C=this.returnSequences?[d[0],d[1],V]:[d[0],V],this.returnState){for(var K=[],ae=0,fe=g;ae<fe.length;ae++)K.push([d[0],fe[ae]]);return[C].concat(K)}return C},v.prototype.computeMask=function(d,g){throw new Le("computeMask has not been implemented for RNN yet")},v.prototype.build=function(d){if(null!=this.numConstants)throw new Le("Constants support is not implemented in RNN yet.");Me(d)&&(d=d[0]),this.inputSpec[0]=new Ur({shape:[this.stateful?d[0]:null,null,d[d.length-1]]});var V,K=[d[0]].concat(d.slice(2));if(this.cell.build(K),V=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!M.D5U.arraysEqual(this.stateSpec.map(function(ae){return ae.shape[ae.shape.length-1]}),V))throw new Ne("An initialState was passed that is not compatible with cell.stateSize. Received stateSpec="+this.stateSpec+"; However cell.stateSize is "+this.cell.stateSize)}else this.stateSpec=V.map(function(ae){return new Ur({shape:[null,ae]})});this.stateful&&this.resetStates()},v.prototype.resetStates=function(d,g){var C=this;void 0===g&&(g=!1),(0,M.lub)(function(){if(!C.stateful)throw new xt("Cannot call resetStates() on an RNN Layer that is not stateful.");var V=C.inputSpec[0].shape[0];if(null==V)throw new Ne("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==C.states)C.states=Array.isArray(C.cell.stateSize)?C.cell.stateSize.map(function(Ce){return(0,M.lls)([V,Ce])}):[(0,M.lls)([V,C.cell.stateSize])];else if(null==d)(0,M.B90)(C.states),null!=C.keptStates&&((0,M.B90)(C.keptStates),C.keptStates=[]),Array.isArray(C.cell.stateSize)?C.states=C.cell.stateSize.map(function(Ce){return(0,M.lls)([V,Ce])}):C.states[0]=(0,M.lls)([V,C.cell.stateSize]);else{if(Array.isArray(d)||(d=[d]),d.length!==C.states.length)throw new Ne("Layer "+C.name+" expects "+C.states.length+" state(s), but it received "+d.length+" state value(s). Input received: "+d);!0===g?C.keptStates.push(C.states.slice()):(0,M.B90)(C.states);for(var K=0;K<C.states.length;++K){var ae=d[K],fe=Array.isArray(C.cell.stateSize)?C.cell.stateSize[K]:C.cell.stateSize,_e=[V,fe];if(!M.D5U.arraysEqual(ae.shape,_e))throw new Ne("State "+K+" is incompatible with layer "+C.name+": expected shape="+_e+", received shape="+ae.shape);C.states[K]=ae}}C.states.forEach(function(Ce){return(0,M.CnY)(Ce)})})},v.prototype.apply=function(d,g){var C=null==g?null:g.initialState,V=null==g?null:g.constants;null==g&&(g={});var K=Ki(d,C,V,this.numConstants);d=K.inputs,V=K.constants;var ae=[],fe=[];if(null!=(C=K.initialState)){g.initialState=C,ae=ae.concat(C),this.stateSpec=[];for(var _e=0,Ce=C;_e<Ce.length;_e++)this.stateSpec.push(new Ur({shape:Ce[_e].shape}));fe=fe.concat(this.stateSpec)}if(null!=V&&(g.constants=V,ae=ae.concat(V),this.numConstants=V.length),ae[0]instanceof Ii){var lt=[d].concat(ae),ht=this.inputSpec.concat(fe),rt=this.inputSpec;this.inputSpec=ht;var Et=_.prototype.apply.call(this,lt,g);return this.inputSpec=rt,Et}return _.prototype.apply.call(this,d,g)},v.prototype.call=function(d,g){var C=this;return(0,M.lub)(function(){var V=null==g?null:g.mask,K=null==g?null:g.training,ae=null==g?null:g.initialState;if(d=Ue(d),null==ae&&(ae=C.stateful?C.states:C.getInitialState(d)),null!=V)throw new Le("Masking is not implemented for RNN yet");var fe=Array.isArray(C.cell.stateSize)?C.cell.stateSize.length:1;if(ae.length!==fe)throw new Ne("RNN Layer has "+fe+" state(s) but was passed "+ae.length+" initial state(s).");C.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");var _e={training:K},Ce=Oi(function(Et,$t){var tn=C.cell.call([Et].concat($t),_e);return[tn[0],tn.slice(1)]},d,ae,C.goBackwards,null,null,C.unroll,C.returnSequences),Xe=Ce[0],lt=Ce[1],ht=Ce[2];C.stateful&&C.resetStates(ht,K);var rt=C.returnSequences?lt:Xe;return C.returnState?[rt].concat(ht):rt})},v.prototype.getInitialState=function(d){var g=this;return(0,M.lub)(function(){var C=(0,M.lls)(d.shape);return C=Nn(C=(0,M.Smz)(C,[1,2])),Array.isArray(g.cell.stateSize)?g.cell.stateSize.map(function(V){return V>1?on(C,[1,V]):C}):g.cell.stateSize>1?[on(C,[1,g.cell.stateSize])]:[C]})},Object.defineProperty(v.prototype,"trainableWeights",{get:function(){return this.trainable?this.cell.trainableWeights:[]},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"nonTrainableWeights",{get:function(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights},enumerable:!0,configurable:!0}),v.prototype.getConfig=function(){var d={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(d.numConstants=this.numConstants);var g=this.cell.getConfig();d.cell={className:this.cell.getClassName(),config:g};var C=_.prototype.getConfig.call(this);return Object.assign(d,C),d},v.className="RNN",v}(or);M.m7h.registerClass(mi);var ca=function(_){function v(){return null!==_&&_.apply(this,arguments)||this}return we(v,_),v}(or),Ns=function(_){function v(d){var g=_.call(this,d)||this;return g.DEFAULT_ACTIVATION="tanh",g.DEFAULT_KERNEL_INITIALIZER="glorotNormal",g.DEFAULT_RECURRENT_INITIALIZER="orthogonal",g.DEFAULT_BIAS_INITIALIZER="zeros",g.units=d.units,g.activation=Ba(null==d.activation?g.DEFAULT_ACTIVATION:d.activation),g.useBias=null==d.useBias||d.useBias,g.kernelInitializer=Vr(d.kernelInitializer||g.DEFAULT_KERNEL_INITIALIZER),g.recurrentInitializer=Vr(d.recurrentInitializer||g.DEFAULT_RECURRENT_INITIALIZER),g.biasInitializer=Vr(d.biasInitializer||g.DEFAULT_BIAS_INITIALIZER),g.kernelRegularizer=wi(d.kernelRegularizer),g.recurrentRegularizer=wi(d.recurrentRegularizer),g.biasRegularizer=wi(d.biasRegularizer),g.kernelConstraint=Pr(d.kernelConstraint),g.recurrentConstraint=Pr(d.recurrentConstraint),g.biasConstraint=Pr(d.biasConstraint),g.dropout=kt([1,Sn([0,null==d.dropout?0:d.dropout])]),g.recurrentDropout=kt([1,Sn([0,null==d.recurrentDropout?0:d.recurrentDropout])]),g.stateSize=g.units,g.dropoutMask=null,g.recurrentDropoutMask=null,g}return we(v,_),v.prototype.build=function(d){d=ar(d),this.kernel=this.addWeight("kernel",[d[d.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.bias=this.useBias?this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):null,this.built=!0},v.prototype.call=function(d,g){var C=this;return(0,M.lub)(function(){if(2!==d.length)throw new Ne("SimpleRNNCell expects 2 input Tensors, got "+d.length+".");var V=d[1];d=d[0];var K,ae=null!=g.training&&g.training;0<C.dropout&&C.dropout<1&&null==C.dropoutMask&&(C.dropoutMask=hu(function(){return(0,M.JpU)(d)},C.dropout,ae)),0<C.recurrentDropout&&C.recurrentDropout<1&&null==C.recurrentDropoutMask&&(C.recurrentDropoutMask=hu(function(){return(0,M.JpU)(V)},C.recurrentDropout,ae));var fe=C.dropoutMask,_e=C.recurrentDropoutMask;K=kr(null!=fe?(0,M.dC7)(d,fe):d,C.kernel.read()),null!=C.bias&&(K=Mo(K,C.bias.read())),null!=_e&&(V=(0,M.dC7)(V,_e));var Ce=(0,M.IHx)(K,kr(V,C.recurrentKernel.read()));return null!=C.activation&&(Ce=C.activation.apply(Ce)),[Ce,Ce]})},v.prototype.getConfig=function(){var d={units:this.units,activation:ho(this.activation),useBias:this.useBias,kernelInitializer:Rn(this.kernelInitializer),recurrentInitializer:Rn(this.recurrentInitializer),biasInitializer:Rn(this.biasInitializer),kernelRegularizer:sr(this.kernelRegularizer),recurrentRegularizer:sr(this.recurrentRegularizer),biasRegularizer:sr(this.biasRegularizer),activityRegularizer:sr(this.activityRegularizer),kernelConstraint:Jt(this.kernelConstraint),recurrentConstraint:Jt(this.recurrentConstraint),biasConstraint:Jt(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout},g=_.prototype.getConfig.call(this);return Object.assign(d,g),d},v.className="SimpleRNNCell",v}(ca);M.m7h.registerClass(Ns);var ja=function(_){function v(d){return d.cell=new Ns(d),_.call(this,d)||this}return we(v,_),v.prototype.call=function(d,g){var C=this;return(0,M.lub)(function(){return null!=C.cell.dropoutMask&&((0,M.B90)(C.cell.dropoutMask),C.cell.dropoutMask=null),null!=C.cell.recurrentDropoutMask&&((0,M.B90)(C.cell.recurrentDropoutMask),C.cell.recurrentDropoutMask=null),_.prototype.call.call(C,d,{mask:null==g?null:g.mask,training:null==g?null:g.training,initialState:null==g?null:g.initialState})})},Object.defineProperty(v.prototype,"units",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"activation",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"useBias",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"kernelInitializer",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"recurrentInitializer",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"biasInitializer",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"kernelRegularizer",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"recurrentRegularizer",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"biasRegularizer",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"kernelConstraint",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"recurrentConstraint",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"biasConstraint",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"dropout",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"recurrentDropout",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),v.prototype.getConfig=function(){var d={units:this.units,activation:ho(this.activation),useBias:this.useBias,kernelInitializer:Rn(this.kernelInitializer),recurrentInitializer:Rn(this.recurrentInitializer),biasInitializer:Rn(this.biasInitializer),kernelRegularizer:sr(this.kernelRegularizer),recurrentRegularizer:sr(this.recurrentRegularizer),biasRegularizer:sr(this.biasRegularizer),activityRegularizer:sr(this.activityRegularizer),kernelConstraint:Jt(this.kernelConstraint),recurrentConstraint:Jt(this.recurrentConstraint),biasConstraint:Jt(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout},g=_.prototype.getConfig.call(this);return delete g.cell,Object.assign(d,g),d},v.className="SimpleRNN",v}(mi);M.m7h.registerClass(ja);var Ts=function(_){function v(d){var g=_.call(this,d)||this;return g.DEFAULT_ACTIVATION="tanh",g.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",g.DEFAULT_KERNEL_INITIALIZER="glorotNormal",g.DEFAULT_RECURRENT_INITIALIZER="orthogonal",g.DEFAULT_BIAS_INITIALIZER="zeros",g.units=d.units,g.activation=Ba(void 0===d.activation?g.DEFAULT_ACTIVATION:d.activation),g.recurrentActivation=Ba(void 0===d.recurrentActivation?g.DEFAULT_RECURRENT_ACTIVATION:d.recurrentActivation),g.useBias=null==d.useBias||d.useBias,g.kernelInitializer=Vr(d.kernelInitializer||g.DEFAULT_KERNEL_INITIALIZER),g.recurrentInitializer=Vr(d.recurrentInitializer||g.DEFAULT_RECURRENT_INITIALIZER),g.biasInitializer=Vr(d.biasInitializer||g.DEFAULT_BIAS_INITIALIZER),g.kernelRegularizer=wi(d.kernelRegularizer),g.recurrentRegularizer=wi(d.recurrentRegularizer),g.biasRegularizer=wi(d.biasRegularizer),g.kernelConstraint=Pr(d.kernelConstraint),g.recurrentConstraint=Pr(d.recurrentConstraint),g.biasConstraint=Pr(d.biasConstraint),g.dropout=kt([1,Sn([0,null==d.dropout?0:d.dropout])]),g.recurrentDropout=kt([1,Sn([0,null==d.recurrentDropout?0:d.recurrentDropout])]),g.implementation=d.implementation,g.stateSize=g.units,g.dropoutMask=null,g.recurrentDropoutMask=null,g}return we(v,_),v.prototype.build=function(d){var g=(d=ar(d))[d.length-1];this.kernel=this.addWeight("kernel",[g,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.bias=this.useBias?this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):null,this.built=!0},v.prototype.call=function(d,g){var C=this;return(0,M.lub)(function(){if(2!==d.length)throw new Ne("GRUCell expects 2 input Tensors (inputs, h, c), got "+d.length+".");var V=null!=g.training&&g.training,K=d[1];d=d[0],0<C.dropout&&C.dropout<1&&null==C.dropoutMask&&(C.dropoutMask=hu(function(){return(0,M.JpU)(d)},C.dropout,V,3)),0<C.recurrentDropout&&C.recurrentDropout<1&&null==C.recurrentDropoutMask&&(C.recurrentDropoutMask=hu(function(){return(0,M.JpU)(K)},C.recurrentDropout,V,3));var ae,fe,_e,Xe=C.recurrentDropoutMask;0<C.dropout&&C.dropout<1&&(d=(0,M.dC7)(d,C.dropoutMask[0]));var lt=kr(d,C.kernel.read());C.useBias&&(lt=Mo(lt,C.bias.read())),0<C.recurrentDropout&&C.recurrentDropout<1&&(K=(0,M.dC7)(K,Xe[0]));var ht=C.recurrentKernel.read(),rt=(0,M.Vl2)(ht,[2*C.units,C.units],ht.rank-1),$t=rt[1],tn=kr(K,rt[0]),qt=(0,M.Vl2)(lt,3,lt.rank-1),Kt=qt[0],ln=qt[1],hn=qt[2],xn=(0,M.Vl2)(tn,2,tn.rank-1),kn=xn[1];ae=C.recurrentActivation.apply((0,M.IHx)(Kt,xn[0])),fe=C.recurrentActivation.apply((0,M.IHx)(ln,kn));var Yr=kr((0,M.dC7)(fe,K),$t);_e=C.activation.apply((0,M.IHx)(hn,Yr));var vr=(0,M.IHx)((0,M.dC7)(ae,K),(0,M.dC7)((0,M.IHx)(ze(1),(0,M.W76)(ae)),_e));return[vr,vr]})},v.prototype.getConfig=function(){var d={units:this.units,activation:ho(this.activation),recurrentActivation:ho(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Rn(this.kernelInitializer),recurrentInitializer:Rn(this.recurrentInitializer),biasInitializer:Rn(this.biasInitializer),kernelRegularizer:sr(this.kernelRegularizer),recurrentRegularizer:sr(this.recurrentRegularizer),biasRegularizer:sr(this.biasRegularizer),activityRegularizer:sr(this.activityRegularizer),kernelConstraint:Jt(this.kernelConstraint),recurrentConstraint:Jt(this.recurrentConstraint),biasConstraint:Jt(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},g=_.prototype.getConfig.call(this);return Object.assign(d,g),d},v.className="GRUCell",v}(ca);M.m7h.registerClass(Ts);var Uu=function(_){function v(d){return 0===d.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),d.cell=new Ts(d),_.call(this,d)||this}return we(v,_),v.prototype.call=function(d,g){var C=this;return(0,M.lub)(function(){return null!=C.cell.dropoutMask&&((0,M.B90)(C.cell.dropoutMask),C.cell.dropoutMask=null),null!=C.cell.recurrentDropoutMask&&((0,M.B90)(C.cell.recurrentDropoutMask),C.cell.recurrentDropoutMask=null),_.prototype.call.call(C,d,{mask:null==g?null:g.mask,training:null==g?null:g.training,initialState:null==g?null:g.initialState})})},Object.defineProperty(v.prototype,"units",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"activation",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"recurrentActivation",{get:function(){return this.cell.recurrentActivation},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"useBias",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"kernelInitializer",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"recurrentInitializer",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"biasInitializer",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"kernelRegularizer",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"recurrentRegularizer",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"biasRegularizer",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"kernelConstraint",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"recurrentConstraint",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"biasConstraint",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"dropout",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"recurrentDropout",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"implementation",{get:function(){return this.cell.implementation},enumerable:!0,configurable:!0}),v.prototype.getConfig=function(){var d={units:this.units,activation:ho(this.activation),recurrentActivation:ho(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Rn(this.kernelInitializer),recurrentInitializer:Rn(this.recurrentInitializer),biasInitializer:Rn(this.biasInitializer),kernelRegularizer:sr(this.kernelRegularizer),recurrentRegularizer:sr(this.recurrentRegularizer),biasRegularizer:sr(this.biasRegularizer),activityRegularizer:sr(this.activityRegularizer),kernelConstraint:Jt(this.kernelConstraint),recurrentConstraint:Jt(this.recurrentConstraint),biasConstraint:Jt(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},g=_.prototype.getConfig.call(this);return delete g.cell,Object.assign(d,g),d},v.fromConfig=function(d,g){return 0===g.implmentation&&(g.implementation=1),new d(g)},v.className="GRU",v}(mi);M.m7h.registerClass(Uu);var Ul=function(_){function v(d){var g=_.call(this,d)||this;return g.DEFAULT_ACTIVATION="tanh",g.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",g.DEFAULT_KERNEL_INITIALIZER="glorotNormal",g.DEFAULT_RECURRENT_INITIALIZER="orthogonal",g.DEFAULT_BIAS_INITIALIZER="zeros",g.units=d.units,g.activation=Ba(void 0===d.activation?g.DEFAULT_ACTIVATION:d.activation),g.recurrentActivation=Ba(void 0===d.recurrentActivation?g.DEFAULT_RECURRENT_ACTIVATION:d.recurrentActivation),g.useBias=null==d.useBias||d.useBias,g.kernelInitializer=Vr(d.kernelInitializer||g.DEFAULT_KERNEL_INITIALIZER),g.recurrentInitializer=Vr(d.recurrentInitializer||g.DEFAULT_RECURRENT_INITIALIZER),g.biasInitializer=Vr(d.biasInitializer||g.DEFAULT_BIAS_INITIALIZER),g.unitForgetBias=d.unitForgetBias,g.kernelRegularizer=wi(d.kernelRegularizer),g.recurrentRegularizer=wi(d.recurrentRegularizer),g.biasRegularizer=wi(d.biasRegularizer),g.kernelConstraint=Pr(d.kernelConstraint),g.recurrentConstraint=Pr(d.recurrentConstraint),g.biasConstraint=Pr(d.biasConstraint),g.dropout=kt([1,Sn([0,null==d.dropout?0:d.dropout])]),g.recurrentDropout=kt([1,Sn([0,null==d.recurrentDropout?0:d.recurrentDropout])]),g.implementation=d.implementation,g.stateSize=[g.units,g.units],g.dropoutMask=null,g.recurrentDropoutMask=null,g}return we(v,_),v.prototype.build=function(d){var g,C,V=(d=ar(d))[d.length-1];if(this.kernel=this.addWeight("kernel",[V,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){var K=this.biasInitializer,ae=this.units;g=new((C=function(fe){function _e(){return null!==fe&&fe.apply(this,arguments)||this}return we(_e,fe),_e.prototype.apply=function(Ce,Xe){var lt=K.apply([ae]),ht=(new dn).apply([ae]),rt=K.apply([2*ae]);return Yt(Yt(lt,ht),rt)},_e}(ei)).className="CustomInit",C)}else g=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,g,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0},v.prototype.call=function(d,g){var C=this;return(0,M.lub)(function(){var V=null!=g.training&&g.training;if(3!==d.length)throw new Ne("LSTMCell expects 3 input Tensors (inputs, h, c), got "+d.length+".");var K=d[1],ae=d[2];d=d[0],0<C.dropout&&C.dropout<1&&null==C.dropoutMask&&(C.dropoutMask=hu(function(){return(0,M.JpU)(d)},C.dropout,V,4)),0<C.recurrentDropout&&C.recurrentDropout<1&&null==C.recurrentDropoutMask&&(C.recurrentDropoutMask=hu(function(){return(0,M.JpU)(K)},C.recurrentDropout,V,4));var fe,_e,Ce,Xe,ht=C.recurrentDropoutMask;0<C.dropout&&C.dropout<1&&(d=(0,M.dC7)(d,C.dropoutMask[0]));var rt=kr(d,C.kernel.read());0<C.recurrentDropout&&C.recurrentDropout<1&&(K=(0,M.dC7)(K,ht[0])),rt=(0,M.IHx)(rt,kr(K,C.recurrentKernel.read())),C.useBias&&(rt=Mo(rt,C.bias.read()));var Et=(0,M.Vl2)(rt,4,rt.rank-1),tn=Et[1],qt=Et[2],Kt=Et[3];fe=C.recurrentActivation.apply(Et[0]),_e=C.recurrentActivation.apply(tn),Ce=(0,M.IHx)((0,M.dC7)(_e,ae),(0,M.dC7)(fe,C.activation.apply(qt))),Xe=C.recurrentActivation.apply(Kt);var ln=(0,M.dC7)(Xe,C.activation.apply(Ce));return[ln,ln,Ce]})},v.prototype.getConfig=function(){var d={units:this.units,activation:ho(this.activation),recurrentActivation:ho(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Rn(this.kernelInitializer),recurrentInitializer:Rn(this.recurrentInitializer),biasInitializer:Rn(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:sr(this.kernelRegularizer),recurrentRegularizer:sr(this.recurrentRegularizer),biasRegularizer:sr(this.biasRegularizer),activityRegularizer:sr(this.activityRegularizer),kernelConstraint:Jt(this.kernelConstraint),recurrentConstraint:Jt(this.recurrentConstraint),biasConstraint:Jt(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},g=_.prototype.getConfig.call(this);return Object.assign(d,g),d},v.className="LSTMCell",v}(ca);M.m7h.registerClass(Ul);var zu=function(_){function v(d){return 0===d.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),d.cell=new Ul(d),_.call(this,d)||this}return we(v,_),v.prototype.call=function(d,g){var C=this;return(0,M.lub)(function(){return null!=C.cell.dropoutMask&&((0,M.B90)(C.cell.dropoutMask),C.cell.dropoutMask=null),null!=C.cell.recurrentDropoutMask&&((0,M.B90)(C.cell.recurrentDropoutMask),C.cell.recurrentDropoutMask=null),_.prototype.call.call(C,d,{mask:null==g?null:g.mask,training:null==g?null:g.training,initialState:null==g?null:g.initialState})})},Object.defineProperty(v.prototype,"units",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"activation",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"recurrentActivation",{get:function(){return this.cell.recurrentActivation},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"useBias",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"kernelInitializer",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"recurrentInitializer",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"biasInitializer",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"unitForgetBias",{get:function(){return this.cell.unitForgetBias},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"kernelRegularizer",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"recurrentRegularizer",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"biasRegularizer",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"kernelConstraint",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"recurrentConstraint",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"biasConstraint",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"dropout",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"recurrentDropout",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"implementation",{get:function(){return this.cell.implementation},enumerable:!0,configurable:!0}),v.prototype.getConfig=function(){var d={units:this.units,activation:ho(this.activation),recurrentActivation:ho(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Rn(this.kernelInitializer),recurrentInitializer:Rn(this.recurrentInitializer),biasInitializer:Rn(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:sr(this.kernelRegularizer),recurrentRegularizer:sr(this.recurrentRegularizer),biasRegularizer:sr(this.biasRegularizer),activityRegularizer:sr(this.activityRegularizer),kernelConstraint:Jt(this.kernelConstraint),recurrentConstraint:Jt(this.recurrentConstraint),biasConstraint:Jt(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},g=_.prototype.getConfig.call(this);return delete g.cell,Object.assign(d,g),d},v.fromConfig=function(d,g){return 0===g.implmentation&&(g.implementation=1),new d(g)},v.className="LSTM",v}(mi);M.m7h.registerClass(zu);var Mc=function(_){function v(d){var g=_.call(this,d)||this;return g.cells=d.cells,g}return we(v,_),Object.defineProperty(v.prototype,"stateSize",{get:function(){for(var d=[],g=0,C=this.cells.slice().reverse();g<C.length;g++){var V=C[g];Array.isArray(V.stateSize)?d.push.apply(d,V.stateSize):d.push(V.stateSize)}return d},enumerable:!0,configurable:!0}),v.prototype.call=function(d,g){var C=this;return(0,M.lub)(function(){for(var V=d.slice(1),K=[],ae=0,fe=C.cells.slice().reverse();ae<fe.length;ae++){var _e=fe[ae];Array.isArray(_e.stateSize)?K.push(V.splice(0,_e.stateSize.length)):K.push(V.splice(0,1))}K.reverse();for(var Ce,Xe=[],lt=0;lt<C.cells.length;++lt)_e=C.cells[lt],V=K[lt],Ce=0===lt?[d[0]].concat(V):[Ce[0]].concat(V),Ce=_e.call(Ce,g),Xe.push(Ce.slice(1));V=[];for(var ht=0,rt=Xe.slice().reverse();ht<rt.length;ht++)V.push.apply(V,rt[ht]);return[Ce[0]].concat(V)})},v.prototype.build=function(d){var g;Me(d)&&(d=d[0]);for(var C=0,V=this.cells;C<V.length;C++){var K=V[C];K.build(d),g=Array.isArray(K.stateSize)?K.stateSize[0]:K.stateSize,d=[d[0],g]}this.built=!0},v.prototype.getConfig=function(){for(var d=[],g=0,C=this.cells;g<C.length;g++){var V=C[g];d.push({className:this.getClassName(),config:V.getConfig()})}var K={cells:d},ae=_.prototype.getConfig.call(this);return Object.assign(K,ae),K},v.fromConfig=function(d,g,C){void 0===C&&(C={});for(var V=[],K=0,ae=g.cells;K<ae.length;K++)V.push(ni(ae[K],C));return new d({cells:V})},Object.defineProperty(v.prototype,"trainableWeights",{get:function(){if(!this.trainable)return[];for(var d=[],g=0,C=this.cells;g<C.length;g++)d.push.apply(d,C[g].trainableWeights);return d},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"nonTrainableWeights",{get:function(){for(var d=[],g=0,C=this.cells;g<C.length;g++){var V=C[g];d.push.apply(d,V.nonTrainableWeights)}if(!this.trainable){for(var K=[],ae=0,fe=this.cells;ae<fe.length;ae++)K.push.apply(K,(V=fe[ae]).trainableWeights);return K.concat(d)}return d},enumerable:!0,configurable:!0}),v.prototype.getWeights=function(){for(var d=[],g=0,C=this.cells;g<C.length;g++)d.push.apply(d,C[g].weights);return _o(d)},v.prototype.setWeights=function(d){for(var g=[],C=0,V=this.cells;C<V.length;C++)for(var K=V[C],fe=d.splice(K.weights.length),_e=0;_e<K.weights.length;++_e)g.push([K.weights[_e],fe[_e]]);_s(g)},v.className="StackedRNNCells",v}(ca);function hu(_,v,d,g){function C(){return Io(_(),ze(v))}if(void 0===d&&(d=null),void 0===g&&(g=1),g>1){for(var V=[],K=0;K<g;K++)V.push(Ao(C,_,d));return V.forEach(function(ae){return(0,M.CnY)(ae)}),V}return(0,M.CnY)(Ao(C,_,d))}M.m7h.registerClass(Mc);var fh=function(_){function v(d){var g=_.call(this,d)||this;return g.layer=d.layer,g}return we(v,_),v.prototype.build=function(d){this.built=!0},Object.defineProperty(v.prototype,"trainable",{get:function(){return null!=this.layer&&this.layer.trainable},set:function(d){null!=this.layer&&(this.layer.trainable=d)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"trainableWeights",{get:function(){return this.layer.trainableWeights},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"nonTrainableWeights",{get:function(){return this.layer.nonTrainableWeights},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"updates",{get:function(){return this.layer._updates},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"losses",{get:function(){return this.layer.losses},enumerable:!0,configurable:!0}),v.prototype.getWeights=function(){return this.layer.getWeights()},v.prototype.setWeights=function(d){this.layer.setWeights(d)},v.prototype.getConfig=function(){var d={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},g=_.prototype.getConfig.call(this);return Object.assign(d,g),d},v.fromConfig=function(d,g,C){void 0===C&&(C={});var V=ni(g.layer,C);delete g.layer;var K={layer:V};return Object.assign(K,g),new d(K)},v}(or),zl=function(_){function v(d){var g=_.call(this,d)||this;return g.supportsMasking=!0,g}return we(v,_),v.prototype.build=function(d){if((d=ar(d)).length<3)throw new Ne("TimeDistributed layer expects an input shape >= 3D, but received input shape "+JSON.stringify(d));this.inputSpec=[{shape:d}];var g=[d[0]].concat(d.slice(2));this.layer.built||(this.layer.build(g),this.layer.built=!0),_.prototype.build.call(this,d)},v.prototype.computeOutputShape=function(d){var g=[(d=ar(d))[0]].concat(d.slice(2)),C=this.layer.computeOutputShape(g);return[C[0],d[1]].concat(C.slice(1))},v.prototype.call=function(d,g){var C=this;return(0,M.lub)(function(){return Oi(function(V,K){return[Ue(C.layer.call(V,g)),[]]},d=Ue(d),[],!1,null,null,!1,!0)[1]})},v.className="TimeDistributed",v}(fh);M.m7h.registerClass(zl);var ju=["sum","mul","concat","ave"],Dp=function(_){function v(d){var g=_.call(this,d)||this,C=d.layer.getConfig();if(g.forwardLayer=ni({className:d.layer.getClassName(),config:C}),C.goBackwards=!0!==C.goBackwards,g.backwardLayer=ni({className:d.layer.getClassName(),config:C}),g.forwardLayer.name="forward_"+g.forwardLayer.name,g.backwardLayer.name="backward_"+g.backwardLayer.name,function Cp(_){et(ju,"BidirectionalMergeMode",_)}(d.mergeMode),g.mergeMode=d.mergeMode,d.weights)throw new Le("weights support is not implemented for Bidirectional layer yet.");return g._stateful=d.layer.stateful,g.returnSequences=d.layer.returnSequences,g.returnState=d.layer.returnState,g.supportsMasking=!0,g._trainable=!0,g.inputSpec=d.layer.inputSpec,g.numConstants=null,g}return we(v,_),Object.defineProperty(v.prototype,"trainable",{get:function(){return this._trainable},set:function(d){this._trainable=d,null!=this.forwardLayer&&(this.forwardLayer.trainable=d),null!=this.backwardLayer&&(this.backwardLayer.trainable=d)},enumerable:!0,configurable:!0}),v.prototype.getWeights=function(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())},v.prototype.setWeights=function(d){var C=Math.floor(d.length/2);this.forwardLayer.setWeights(d.slice(0,C)),this.backwardLayer.setWeights(d.slice(C))},v.prototype.computeOutputShape=function(d){var g,C,V,K=this.forwardLayer.computeOutputShape(d);return Array.isArray(K)&&Array.isArray(K[0])||(K=[K]),this.returnState&&(V=K.slice(1)),g=K[0],"concat"===this.mergeMode?(g[g.length-1]*=2,C=[g]):C=null==this.mergeMode?[g,g.slice()]:[g],this.returnState?null==this.mergeMode?C.concat(V).concat(V.slice()):[g].concat(V).concat(V.slice()):nt(C)},v.prototype.apply=function(d,g){var C=null==g?null:g.initialState,V=null==g?null:g.constants;null==g&&(g={});var K=Ki(d,C,V,this.numConstants);if(d=K.inputs,C=K.initialState,V=K.constants,Array.isArray(d)&&(C=d.slice(1),d=d[0]),(null==C||0===C.length)&&null==V)return _.prototype.apply.call(this,d,g);var ae=[],fe=[];if(null!=C){var _e=C.length;if(_e%2>0)throw new Ne("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");g.initialState=C,ae.push.apply(ae,C);var Ce=C.map(function(qt){return new Ur({shape:qt.shape})});this.forwardLayer.stateSpec=Ce.slice(0,_e/2),this.backwardLayer.stateSpec=Ce.slice(_e/2),fe.push.apply(fe,Ce)}if(null!=V)throw new Le("Support for constants in Bidirectional layers is not implemented yet.");for(var Xe=ae[0]instanceof Ii,lt=0,ht=ae;lt<ht.length;lt++)if(ht[lt]instanceof Ii!==Xe)throw new Ne("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(Xe){var rt=[d].concat(ae),Et=this.inputSpec.concat(fe),$t=this.inputSpec;this.inputSpec=Et;var tn=_.prototype.apply.call(this,rt,g);return this.inputSpec=$t,tn}return _.prototype.apply.call(this,d,g)},v.prototype.call=function(d,g){var C=this;return(0,M.lub)(function(){if(null!=g.mask)throw new Le("The support for masking is not implemented for Bidirectional layers yet.");var V,K,ae,fe,_e=g.initialState;if(null==_e)V=C.forwardLayer.call(d,g),K=C.backwardLayer.call(d,g);else{var Ce=_e.slice(0,_e.length/2),Xe=_e.slice(_e.length/2);V=C.forwardLayer.call(d,Object.assign(g,{initialState:Ce})),K=C.backwardLayer.call(d,Object.assign(g,{initialState:Xe}))}return C.returnState&&(Array.isArray(V)&&(ae=V.slice(1).concat(K.slice(1))),V=V[0],K=K[0]),C.returnSequences&&(K=(0,M.GYS)(K,1)),"concat"===C.mergeMode?fe=St([V,K]):"sum"===C.mergeMode?fe=(0,M.IHx)(V,K):"ave"===C.mergeMode?fe=(0,M.dC7)(ze(.5),(0,M.IHx)(V,K)):"mul"===C.mergeMode?fe=(0,M.dC7)(V,K):null==C.mergeMode&&(fe=[V,K]),C.returnState?null==C.mergeMode?fe.concat(ae):[fe].concat(ae):fe})},v.prototype.resetStates=function(d){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()},v.prototype.build=function(d){var g=this;mn(this.forwardLayer.name,function(){g.forwardLayer.build(d)}),mn(this.backwardLayer.name,function(){g.backwardLayer.build(d)}),this.built=!0},Object.defineProperty(v.prototype,"trainableWeights",{get:function(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"nonTrainableWeights",{get:function(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)},enumerable:!0,configurable:!0}),v.prototype.getConfig=function(){var d={mergeMode:this.mergeMode},g=_.prototype.getConfig.call(this);return Object.assign(d,g),d},v.fromConfig=function(d,g){var C=ni(g.layer);if(delete g.layer,null!=g.numConstants)throw new Le("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");var V=g;return V.layer=C,new d(V)},v.className="Bidirectional",v}(fh);function Ha(_){return new ne(_)}function Cd(_){return new tt(_)}function wh(_){return new vn(_)}function Dd(_){return new za(_)}function Ac(_){return new j(_)}function Oc(_){return new ve(_)}M.m7h.registerClass(Dp);var $l=Object.freeze({inputLayer:function Ep(_){return new Ra(_)},elu:function xp(_){return new fl(_)},reLU:function Vm(_){return new Fo(_)},leakyReLU:function Qf(_){return new Cc(_)},softmax:function Sp(_){return new Yi(_)},thresholdedReLU:function Xf(_){return new Kn(_)},conv1d:function Hu(_){return new Vo(_)},conv2d:function gh(_){return new po(_)},conv2dTranspose:function md(_){return new Fl(_)},separableConv2d:function yd(_){return new Jo(_)},cropping2D:function mh(_){return new Ua(_)},upSampling2d:function $u(_){return new Ll(_)},depthwiseConv2d:function yh(_){return new bn(_)},activation:function Gu(_){return new ii(_)},dense:function eg(_){return new Bu(_)},dropout:function Wu(_){return new Ss(_)},flatten:function vh(_){return new Ec(_)},repeatVector:function pu(_){return new cu(_)},reshape:function qu(_){return new xc(_)},permute:function tg(_){return new gd(_)},embedding:function Um(_){return new wp(_)},add:function Np(_){return new ph(_)},average:function ng(_){return new Ws(_)},concatenate:function Tp(_){return new zi(_)},maximum:function vd(_){return new Sc(_)},minimum:function fu(_){return new Nc(_)},multiply:function _d(_){return new Bl(_)},dot:function bd(_){return new Tc(_)},batchNormalization:function _h(_){return new io(_)},zeroPadding2d:function wd(_){return new F(_)},averagePooling1d:Ha,avgPool1d:function bh(_){return Ha(_)},avgPooling1d:function rg(_){return Ha(_)},averagePooling2d:Cd,avgPool2d:function gu(_){return Cd(_)},avgPooling2d:function jl(_){return Cd(_)},globalAveragePooling1d:function Zu(_){return new gn(_)},globalAveragePooling2d:function Ic(_){return new ji(_)},globalMaxPooling1d:wh,globalMaxPooling2d:Dd,maxPooling1d:Ac,maxPooling2d:Oc,gru:function da(_){return new Uu(_)},gruCell:function Yu(_){return new Ts(_)},lstm:function Ch(_){return new zu(_)},lstmCell:function Pc(_){return new Ul(_)},simpleRNN:function xo(_){return new ja(_)},simpleRNNCell:function Hl(_){return new Ns(_)},rnn:function kc(_){return new mi(_)},stackedRNNCells:function Rc(_){return new Mc(_)},bidirectional:function Ed(_){return new Dp(_)},timeDistributed:function Fc(_){return new zl(_)},globalMaxPool1d:wh,globalMaxPool2d:Dd,maxPool1d:Ac,maxPool2d:Oc,Layer:or,RNN:mi,RNNCell:ca,input:Er}),Ip=Object.freeze({modelFromJSON:function Y(_,v){return De(this,void 0,void 0,function(){var d,g,C,V,K,ae,fe,_e;return Ae(this,function(lt){switch(lt.label){case 0:return"modelTopology"in _||(_={modelTopology:_}),null!=(d=_.modelTopology).model_config&&(d=d.model_config),g=ss(d),C=ni(g,v),null==_.weightsManifest?[3,2]:[4,M.io.loadWeights(_.weightsManifest,_.pathPrefix,C.weights.map(function(ht){return ht.originalName}))];case 1:for(V=lt.sent(),K={},ae=0,fe=C.weights;ae<fe.length;ae++)K[(_e=fe[ae]).originalName]=V[_e.originalName];C.loadWeights(K,null,!0),lt.label=2;case 2:return[2,C]}})})}}),og=Object.freeze({binaryAccuracy:function Sd(_,v){return os(_,v)},binaryCrossentropy:function Bc(_,v){return Co(_,v)},categoricalAccuracy:function ig(_,v){return Dr(_,v)},categoricalCrossentropy:function Ku(_,v){return yr(_,v)},precision:function Dh(_,v){return sl(_,v)},recall:function Ap(_,v){return function as(_,v){return(0,M.lub)(function(){var d=ze(0),g=Lr(_,v),C=function ro(_,v){return(0,M.lub)(function(){var d=ze(1),g=ze(0);return(0,M.HvI)(_.equal(d),v.equal(g)).sum().cast("float32")})}(_,v),V=g.add(C);return(0,M.arb)((0,M.pjt)(V,d),g.div(V),d).cast("float32")})}(_,v)},cosineProximity:function Nd(_,v){return Ea(_,v)},meanAbsoluteError:function Td(_,v){return Nr(_,v)},meanAbsolutePercentageError:function Pp(_,v){return rs(_,v)},MAPE:function Gl(_,v){return rs(_,v)},mape:function Md(_,v){return rs(_,v)},meanSquaredError:function kp(_,v){return qo(_,v)},MSE:function Eh(_,v){return qo(_,v)},mse:function Id(_,v){return qo(_,v)}}),Fp=Object.freeze({l1l2:function xh(_){return new Na(_)},l1:function Sh(_){return function uu(_){return new Na({l1:null!=_?_.l1:null,l2:0})}(_)},l2:function Rp(_){return function Lo(_){return new Na({l2:null!=_?_.l2:null,l1:0})}(_)}}),Nh=function(_){function v(){var d=null!==_&&_.apply(this,arguments)||this;return d.model=null,d}return we(v,_),v.prototype.setModel=function(d){if(!(d instanceof ie))throw new Error("model must be a Model, not some other Container");this.model=d},v}(ba),mu=E(8418),Od={"tfjs-core":M.jTM,"tfjs-layers":Zi,"tfjs-converter":mu.gJ,tfjs:"0.13.5"};function ml(_,v,d,g){return new(d||(d=Promise))(function(C,V){function K(_e){try{fe(g.next(_e))}catch(Ce){V(Ce)}}function ae(_e){try{fe(g.throw(_e))}catch(Ce){V(Ce)}}function fe(_e){_e.done?C(_e.value):new d(function(Ce){Ce(_e.value)}).then(K,ae)}fe((g=g.apply(_,v||[])).next())})}function yu(_,v){var d,g,C,V,K={label:0,sent:function(){if(1&C[0])throw C[1];return C[1]},trys:[],ops:[]};return V={next:ae(0),throw:ae(1),return:ae(2)},"function"==typeof Symbol&&(V[Symbol.iterator]=function(){return this}),V;function ae(fe){return function(_e){return function(Ce){if(d)throw new TypeError("Generator is already executing.");for(;K;)try{if(d=1,g&&(C=2&Ce[0]?g.return:Ce[0]?g.throw||((C=g.return)&&C.call(g),0):g.next)&&!(C=C.call(g,Ce[1])).done)return C;switch(g=0,C&&(Ce=[2&Ce[0],C.value]),Ce[0]){case 0:case 1:C=Ce;break;case 4:return K.label++,{value:Ce[1],done:!1};case 5:K.label++,g=Ce[1],Ce=[0];continue;case 7:Ce=K.ops.pop(),K.trys.pop();continue;default:if(!(C=(C=K.trys).length>0&&C[C.length-1])&&(6===Ce[0]||2===Ce[0])){K=0;continue}if(3===Ce[0]&&(!C||Ce[1]>C[0]&&Ce[1]<C[3])){K.label=Ce[1];break}if(6===Ce[0]&&K.label<C[1]){K.label=C[1],C=Ce;break}if(C&&K.label<C[2]){K.label=C[2],K.ops.push(Ce);break}C[2]&&K.ops.pop(),K.trys.pop();continue}Ce=v.call(_,K)}catch(Xe){Ce=[6,Xe],g=0}finally{d=C=0}if(5&Ce[0])throw Ce[1];return{value:Ce[0]?Ce[1]:void 0,done:!0}}([fe,_e])}}}var Pd={1:{name:"/m/01g317",id:1,displayName:"person"},2:{name:"/m/0199g",id:2,displayName:"bicycle"},3:{name:"/m/0k4j",id:3,displayName:"car"},4:{name:"/m/04_sv",id:4,displayName:"motorcycle"},5:{name:"/m/05czz6l",id:5,displayName:"airplane"},6:{name:"/m/01bjv",id:6,displayName:"bus"},7:{name:"/m/07jdr",id:7,displayName:"train"},8:{name:"/m/07r04",id:8,displayName:"truck"},9:{name:"/m/019jd",id:9,displayName:"boat"},10:{name:"/m/015qff",id:10,displayName:"traffic light"},11:{name:"/m/01pns0",id:11,displayName:"fire hydrant"},13:{name:"/m/02pv19",id:13,displayName:"stop sign"},14:{name:"/m/015qbp",id:14,displayName:"parking meter"},15:{name:"/m/0cvnqh",id:15,displayName:"bench"},16:{name:"/m/015p6",id:16,displayName:"bird"},17:{name:"/m/01yrx",id:17,displayName:"cat"},18:{name:"/m/0bt9lr",id:18,displayName:"dog"},19:{name:"/m/03k3r",id:19,displayName:"horse"},20:{name:"/m/07bgp",id:20,displayName:"sheep"},21:{name:"/m/01xq0k1",id:21,displayName:"cow"},22:{name:"/m/0bwd_0j",id:22,displayName:"elephant"},23:{name:"/m/01dws",id:23,displayName:"bear"},24:{name:"/m/0898b",id:24,displayName:"zebra"},25:{name:"/m/03bk1",id:25,displayName:"giraffe"},27:{name:"/m/01940j",id:27,displayName:"backpack"},28:{name:"/m/0hnnb",id:28,displayName:"umbrella"},31:{name:"/m/080hkjn",id:31,displayName:"handbag"},32:{name:"/m/01rkbr",id:32,displayName:"tie"},33:{name:"/m/01s55n",id:33,displayName:"suitcase"},34:{name:"/m/02wmf",id:34,displayName:"frisbee"},35:{name:"/m/071p9",id:35,displayName:"skis"},36:{name:"/m/06__v",id:36,displayName:"snowboard"},37:{name:"/m/018xm",id:37,displayName:"sports ball"},38:{name:"/m/02zt3",id:38,displayName:"kite"},39:{name:"/m/03g8mr",id:39,displayName:"baseball bat"},40:{name:"/m/03grzl",id:40,displayName:"baseball glove"},41:{name:"/m/06_fw",id:41,displayName:"skateboard"},42:{name:"/m/019w40",id:42,displayName:"surfboard"},43:{name:"/m/0dv9c",id:43,displayName:"tennis racket"},44:{name:"/m/04dr76w",id:44,displayName:"bottle"},46:{name:"/m/09tvcd",id:46,displayName:"wine glass"},47:{name:"/m/08gqpm",id:47,displayName:"cup"},48:{name:"/m/0dt3t",id:48,displayName:"fork"},49:{name:"/m/04ctx",id:49,displayName:"knife"},50:{name:"/m/0cmx8",id:50,displayName:"spoon"},51:{name:"/m/04kkgm",id:51,displayName:"bowl"},52:{name:"/m/09qck",id:52,displayName:"banana"},53:{name:"/m/014j1m",id:53,displayName:"apple"},54:{name:"/m/0l515",id:54,displayName:"sandwich"},55:{name:"/m/0cyhj_",id:55,displayName:"orange"},56:{name:"/m/0hkxq",id:56,displayName:"broccoli"},57:{name:"/m/0fj52s",id:57,displayName:"carrot"},58:{name:"/m/01b9xk",id:58,displayName:"hot dog"},59:{name:"/m/0663v",id:59,displayName:"pizza"},60:{name:"/m/0jy4k",id:60,displayName:"donut"},61:{name:"/m/0fszt",id:61,displayName:"cake"},62:{name:"/m/01mzpv",id:62,displayName:"chair"},63:{name:"/m/02crq1",id:63,displayName:"couch"},64:{name:"/m/03fp41",id:64,displayName:"potted plant"},65:{name:"/m/03ssj5",id:65,displayName:"bed"},67:{name:"/m/04bcr3",id:67,displayName:"dining table"},70:{name:"/m/09g1w",id:70,displayName:"toilet"},72:{name:"/m/07c52",id:72,displayName:"tv"},73:{name:"/m/01c648",id:73,displayName:"laptop"},74:{name:"/m/020lf",id:74,displayName:"mouse"},75:{name:"/m/0qjjc",id:75,displayName:"remote"},76:{name:"/m/01m2v",id:76,displayName:"keyboard"},77:{name:"/m/050k8",id:77,displayName:"cell phone"},78:{name:"/m/0fx9l",id:78,displayName:"microwave"},79:{name:"/m/029bxz",id:79,displayName:"oven"},80:{name:"/m/01k6s3",id:80,displayName:"toaster"},81:{name:"/m/0130jx",id:81,displayName:"sink"},82:{name:"/m/040b_t",id:82,displayName:"refrigerator"},84:{name:"/m/0bt_c3",id:84,displayName:"book"},85:{name:"/m/01x3z",id:85,displayName:"clock"},86:{name:"/m/02s195",id:86,displayName:"vase"},87:{name:"/m/01lsmm",id:87,displayName:"scissors"},88:{name:"/m/0kmg4",id:88,displayName:"teddy bear"},89:{name:"/m/03wvsk",id:89,displayName:"hair drier"},90:{name:"/m/012xff",id:90,displayName:"toothbrush"}},yl="https://storage.googleapis.com/tfjs-models/savedmodel/",Mh=function(){function _(v){this.modelPath=""+yl+this.getPrefix(v)+"/tensorflowjs_model.pb",this.weightPath=""+yl+this.getPrefix(v)+"/weights_manifest.json"}return _.prototype.getPrefix=function(v){return"lite_mobilenet_v2"===v?"ssd"+v:"ssd_"+v},_.prototype.load=function(){return ml(this,void 0,void 0,function(){var v,d,g=this;return yu(this,function(C){switch(C.label){case 0:return v=this,[4,(0,mu.xG)(this.modelPath,this.weightPath)];case 1:return v.model=C.sent(),[4,this.model.executeAsync((0,M.lls)([1,300,300,3]))];case 2:return(d=C.sent()).map(function(V){return ml(g,void 0,void 0,function(){return yu(this,function(K){switch(K.label){case 0:return[4,V.data()];case 1:return[2,K.sent()]}})})}),d.map(function(V){return ml(g,void 0,void 0,function(){return yu(this,function(K){return[2,V.dispose()]})})}),[2]}})})},_.prototype.infer=function(v,d){return ml(this,void 0,void 0,function(){var g,C,V,K,ae,fe,_e,Ce,Xe,lt,ht,rt;return yu(this,function(Et){switch(Et.label){case 0:return g=(0,M.lub)(function(){return v instanceof M.esB||(v=(0,M.nXo)(v)),v.expandDims(0)}),C=g.shape[1],V=g.shape[2],[4,this.model.executeAsync(g)];case 1:return K=Et.sent(),ae=K[0].dataSync(),fe=K[1].dataSync(),g.dispose(),(0,M.B90)(K),_e=function ag(_,v){var d="function"==typeof Symbol&&_[Symbol.iterator];if(!d)return _;var g,C,V=d.call(_),K=[];try{for(;(void 0===v||v-- >0)&&!(g=V.next()).done;)K.push(g.value)}catch(ae){C={error:ae}}finally{try{g&&!g.done&&(d=V.return)&&d.call(V)}finally{if(C)throw C.error}}return K}(this.calculateMaxScores(ae,K[0].shape[1],K[0].shape[2]),2),Ce=_e[0],Xe=_e[1],lt=(0,M.N_N)(),(0,M.CQI)("cpu"),ht=(0,M.lub)(function(){var $t=(0,M.odF)(fe,[K[1].shape[1],K[1].shape[3]]);return M.BHj.nonMaxSuppression($t,Ce,d,.5,.5)}),rt=ht.dataSync(),ht.dispose(),(0,M.CQI)(lt),[2,this.buildDetectedObjects(V,C,fe,Ce,rt,Xe)]}})})},_.prototype.buildDetectedObjects=function(v,d,g,C,V,K){for(var ae=V.length,fe=[],_e=0;_e<ae;_e++){for(var Ce=[],Xe=0;Xe<4;Xe++)Ce[Xe]=g[4*V[_e]+Xe];var lt=Ce[0]*d,ht=Ce[1]*v,rt=Ce[2]*d,Et=Ce[3]*v;Ce[0]=ht,Ce[1]=lt,Ce[2]=Et-ht,Ce[3]=rt-lt,fe.push({bbox:Ce,class:Pd[K[V[_e]]+1].displayName,score:C[V[_e]]})}return fe},_.prototype.calculateMaxScores=function(v,d,g){for(var C=[],V=[],K=0;K<d;K++){for(var ae=Number.MIN_VALUE,fe=-1,_e=0;_e<g;_e++)v[K*g+_e]>ae&&(ae=v[K*g+_e],fe=_e);C[K]=ae,V[K]=fe}return[C,V]},_.prototype.detect=function(v,d){return void 0===d&&(d=20),ml(this,void 0,void 0,function(){return yu(this,function(g){return[2,this.infer(v,d)]})})},_.prototype.dispose=function(){this.model&&this.model.dispose()},_}(),Bt=E(4650),Ih=E(1481);function Vc(_,v){1&_&&(Bt.TgZ(0,"div",16)(1,"div"),Bt._uU(2,"G"),Bt.qZA(),Bt.TgZ(3,"div"),Bt._uU(4,"N"),Bt.qZA(),Bt.TgZ(5,"div"),Bt._uU(6,"I"),Bt.qZA(),Bt.TgZ(7,"div"),Bt._uU(8,"D"),Bt.qZA(),Bt.TgZ(9,"div"),Bt._uU(10,"A"),Bt.qZA(),Bt.TgZ(11,"div"),Bt._uU(12,"O"),Bt.qZA(),Bt.TgZ(13,"div"),Bt._uU(14,"L"),Bt.qZA()())}let Ah=(()=>{class _{constructor(d,g){this.titleService=d,this.meta=g,this.title="Real time Object Detection",this.detectFrame=(C,V)=>{V.detect(C).then(K=>{this.renderPredictions(K),requestAnimationFrame(()=>{this.detectFrame(C,V)})})},this.renderPredictions=C=>{const V=document.getElementById("canvas");let K,ae;V&&(K=V.getContext("2d"),V.width=300,V.height=300,K.clearRect(0,0,K.canvas.width,K.canvas.height),ae="16px sans-serif",K.font=ae,K.textBaseline="top",K.drawImage(this.video,0,0,300,350)),C.forEach(fe=>{const _e=fe.bbox[0],Ce=fe.bbox[1],Xe=fe.bbox[2],lt=fe.bbox[3];K.strokeStyle="#00FFFF",K.lineWidth=2,K.strokeRect(_e,Ce,Xe,lt),K.fillStyle="#00FFFF";const ht=K.measureText(fe.class).width,rt=parseInt(ae,10);K.fillRect(_e,Ce,ht+4,rt+4)}),C.forEach(fe=>{const _e=fe.bbox[0],Ce=fe.bbox[1];K.fillStyle="#000000",K.fillText(fe.class,_e,Ce)})},this.setMetaTag()}ngOnInit(){}predictWithCocoModel(){var d=this;return function ce(_){return function(){var v=this,d=arguments;return new Promise(function(g,C){var V=_.apply(v,d);function K(fe){re(V,g,C,K,ae,"next",fe)}function ae(fe){re(V,g,C,K,ae,"throw",fe)}K(void 0)})}}(function*(){const g=yield function Th(_){return void 0===_&&(_="lite_mobilenet_v2"),ml(this,void 0,void 0,function(){var v;return yu(this,function(d){switch(d.label){case 0:if(null==w)throw new Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this model.");if(-1===["mobilenet_v1","mobilenet_v2","lite_mobilenet_v2"].indexOf(_))throw new Error("ObjectDetection constructed with invalid base model "+_+". Valid names are 'mobilenet_v1', 'mobilenet_v2' and 'lite_mobilenet_v2'.");return[4,(v=new Mh(_)).load()];case 1:return d.sent(),[2,v]}})})}("lite_mobilenet_v2");d.detectFrame(d.video,g)})()}webcam_init(){this.loading=!0,this.video=document.getElementById("vid"),navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"user"}}).then(d=>{this.video.srcObject=d,this.loading=!1,this.video.onloadedmetadata=()=>{this.video.play()}}),this.predictWithCocoModel()}stopWebcam(){this.video&&this.video.srcObject.getTracks().forEach(d=>d.stop())}setMetaTag(){this.titleService.setTitle("Ewumesh | AI | Real Time Object Detection using Tensorflow | Artificial Intelligence"),this.meta.addTags([{property:"og:title",content:"Ewumesh | AI | Real Time Object Detection using Tensorflow | Artificial Intelligence"},{property:"og:url",content:"https://ewumesh.com/ai/object-detection"},{property:"og:description",content:"Real-time object detection using TensorFlow can be achieved using TensorFlows Object Detection API. This API provides pre-trained models for detecting objects in images and videos, and also allows users to train their own models on custom datasets. AI stands for Artificial Intelligence, which refers to the ability of machines to perform tasks that typically require human intelligence, such as recognizing speech, understanding natural language, making decisions, and learning from experience. AI is a rapidly growing field of computer science and engineering, which has its roots in the development of machine learning algorithms and neural networks. Some of the key applications of AI include natural language processing, computer vision, robotics, and autonomous systems. AI technology is used in a wide range of industries, including healthcare, finance, transportation, and manufacturing, to improve efficiency, accuracy, and decision-making.Frontend, software, developer, Nepal, Umesh, Ewumesh, ewumesh, nepali"},{property:"og:type",content:"article"},{property:"og:site_name",content:"Ewumesh"},{property:"og:image",content:"https://ewumesh.com/assets/images/AI.webp"},{property:"twitter:card",content:"summary_large_image"},{property:"twitter:site",content:"@ewumesh"},{property:"twitter:title",content:"Ewumesh | Discover Yourself!"},{property:"twitter:description",content:"Real-time object detection using TensorFlow can be achieved using TensorFlows Object Detection API. This API provides pre-trained models for detecting objects in images and videos, and also allows users to train their own models on custom datasets. AI stands for Artificial Intelligence, which refers to the ability of machines to perform tasks that typically require human intelligence, such as recognizing speech, understanding natural language, making decisions, and learning from experience. AI is a rapidly growing field of computer science and engineering, which has its roots in the development of machine learning algorithms and neural networks. Some of the key applications of AI include natural language processing, computer vision, robotics, and autonomous systems. AI technology is used in a wide range of industries, including healthcare, finance, transportation, and manufacturing, to improve efficiency, accuracy, and decision-making.Frontend, software, developer, Nepal, Umesh, Ewumesh, ewumesh, nepali"},{property:"twitter:image",content:"https://ewumesh.com/assets/images/AI.webp"},{property:"twitter:url",content:"https://ewumesh.com/ai/object-detection"},{name:"twitter:name:alt",content:"https://ewumesh.com/ai/object-detection"}])}ngOnDestroy(){this.stopWebcam()}}return _.\u0275fac=function(d){return new(d||_)(Bt.Y36(Ih.Dx),Bt.Y36(Ih.h_))},_.\u0275cmp=Bt.Xpm({type:_,selectors:[["app-name"]],decls:62,vars:14,consts:[[1,"section","banner","mb-25p"],[1,"container"],[1,"section-box-banner"],[1,"content"],[1,"n-section-title"],[1,"main-btn","mr-10px",3,"click"],[1,"main-btn",3,"click"],[1,"text-center"],["id","load",4,"ngIf"],["id","canvas"],["hidden","","id","vid","width","300","height","300"],[1,"row"],[1,"col-12"],["rel","canonical","target","_blank","href","https://appuals.com/fix-webgl-is-not-supported/"],["rel","canonical","href","https://js.tensorflow.org/"],["rel","canonical","href","https://github.com/tensorflow/tfjs-models"],["id","load"]],template:function(d,g){1&d&&(Bt.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"h3")(6,"span",4),Bt._uU(7,"03."),Bt.qZA(),Bt._uU(8),Bt.ALo(9,"translate"),Bt.qZA(),Bt.TgZ(10,"p"),Bt._uU(11),Bt.ALo(12,"translate"),Bt.qZA()(),Bt.TgZ(13,"button",5),Bt.NdJ("click",function(){return g.webcam_init()}),Bt._uU(14),Bt.ALo(15,"translate"),Bt.qZA(),Bt.TgZ(16,"button",6),Bt.NdJ("click",function(){return g.stopWebcam()}),Bt._uU(17),Bt.ALo(18,"translate"),Bt.qZA(),Bt.TgZ(19,"div",7),Bt.YNc(20,Vc,15,0,"div",8),Bt._UZ(21,"canvas",9)(22,"video",10),Bt.qZA(),Bt.TgZ(23,"div",11)(24,"div",12)(25,"h3"),Bt._uU(26," What is AI? "),Bt.qZA(),Bt.TgZ(27,"p"),Bt._uU(28," AI stands for Artificial Intelligence, which refers to the ability of machines to perform tasks that typically require human intelligence, such as recognizing speech, understanding natural language, making decisions, and learning from experience. AI is a rapidly growing field of computer science and engineering, which has its roots in the development of machine learning algorithms and neural networks. Some of the key applications of AI include natural language processing, computer vision, robotics, and autonomous systems. AI technology is used in a wide range of industries, including healthcare, finance, transportation, and manufacturing, to improve efficiency, accuracy, and decision-making. "),Bt.qZA(),Bt.TgZ(29,"h3"),Bt._uU(30," What is Tensorflow? "),Bt.qZA(),Bt.TgZ(31,"p"),Bt._uU(32,"TensorFlow is an open-source software library developed by Google Brain Team that is used for building and training machine learning models. It was initially released in 2015 and has since become one of the most popular libraries for machine learning and deep learning."),Bt.qZA(),Bt.TgZ(33,"p"),Bt._uU(34,"TensorFlow allows users to build and train models using various machine learning techniques such as deep neural networks, convolutional neural networks, and recurrent neural networks. It provides a flexible and efficient platform for implementing these techniques, and can run on a variety of platforms, including CPUs, GPUs, and even mobile devices."),Bt.qZA(),Bt.TgZ(35,"p"),Bt._uU(36,"In addition to its core machine learning capabilities, TensorFlow also provides tools and libraries for data manipulation, visualization, and high-level APIs for building and deploying machine learning models. TensorFlow is widely used in both academia and industry, and has been used to develop applications in areas such as image recognition, natural language processing, and robotics."),Bt.qZA(),Bt.TgZ(37,"h3"),Bt._uU(38," WebGL is Not Supported? "),Bt.qZA(),Bt.TgZ(39,"p"),Bt._uU(40,"Some users are reportedly unable to use WebGL-based sites like WebGL Earth, Shadertoy, etc. The message that comes up is \u2018WebGL is not supported\u2018. Although the message is much more common with Google Chrome, it\u2019s also confirmed to appear with other browsers (Opera & Firefox). The issue is not exclusive to a certain Windows version, but it\u2019s mostly reported to occur with systems using an older GPU model."),Bt.TgZ(41,"a",13),Bt._uU(42,"Read all.."),Bt.qZA()(),Bt.TgZ(43,"h3"),Bt._uU(44,"TENSORFLOW.JS"),Bt.qZA(),Bt.TgZ(45,"p"),Bt._uU(46,"Tensorflow.js is an open-source library enabling us to define, train and run machine learning models in the browser, using Javascript. For more information about "),Bt.TgZ(47,"a",14),Bt._uU(48,"Tensorflow.js"),Bt.qZA(),Bt._uU(49,", check out its official webpage. I will use Tensorflow.js library in Angular to build a Web App which detects multiple objects on webcam video feed. "),Bt.qZA(),Bt.TgZ(50,"h3"),Bt._uU(51,"COCO-SSD MODEL"),Bt.qZA(),Bt.TgZ(52,"p"),Bt._uU(53,"First, we have to select the pre-trained model which we are going to use for object detection. Tensorflow.js provides several pre-trained models for classification, pose estimation, speech recognition and object detection purposes. Check out all the "),Bt.TgZ(54,"a",15),Bt._uU(55,"Tensoflow.js pre-trained models"),Bt.qZA(),Bt._uU(56," for more information."),Bt.qZA(),Bt.TgZ(57,"p"),Bt._uU(58,"COCO-SSD model, which is a pre-trained object detection model that aims to localize and identify multiple objects in an image, is the one that we will use for object detection. Original "),Bt.TgZ(59,"a",15),Bt._uU(60,"ssd_mobilenet_v2_coco model"),Bt.qZA(),Bt._uU(61," size is 187.8 MB and can be downloaded from tensorflow model zoo. Compared to original model, Tensorflow.js version of the model is very lightweight and optimized for browser execution. The default object detection model for Tensorflow.js COCO-SSD is \u2018lite_mobilenet_v2\u2019 which is very very small in size, under 1MB, and fastest in inference speed. If you would like better classification accuracy you can use \u2018mobilenet_v2\u2019, in this case the size of the model increases to 75 MB which is not suitable for web-browser experience."),Bt.qZA()()()()()()()),2&d&&(Bt.xp6(1),Bt.Q6J("@bannerTrigger",void 0),Bt.xp6(7),Bt.hij("",Bt.lcZ(9,6,"AI.Title")," "),Bt.xp6(3),Bt.Oqu(Bt.lcZ(12,8,"AI.Sub")),Bt.xp6(3),Bt.Oqu(Bt.lcZ(15,10,"AI.StartWebcam")),Bt.xp6(3),Bt.Oqu(Bt.lcZ(18,12,"AI.StopWebcam")),Bt.xp6(3),Bt.Q6J("ngIf",g.loading))},dependencies:[N.O5,z.X$],styles:[".banner[_ngcontent-%COMP%]{min-height:100vh}.banner[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:table;height:100vh;margin-bottom:10%}.banner[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .section-box-banner[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}.banner[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .section-box-banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:98px}.banner[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .section-box-banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#64ffda;margin:0 0 20px 3px;font-size:16px;font-weight:400;font-family:SF Mono,Fira Code,Fira Mono,Roboto Mono,Lucida Console,Monaco,Monospace}.banner[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .section-box-banner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .banner[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .section-box-banner[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;line-height:1.1;margin:0;font-family:Calibre,San Francisco,SF Pro Text,-apple-system,system-ui,BlinkMacSystemFont,Roboto,Helvetica Neue,Segoe UI,Arial,sans-serif}.banner[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .section-box-banner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ccd6f6}.banner[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .section-box-banner[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#8892b0}.banner[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .section-box-banner[_ngcontent-%COMP%]   .banner-description[_ngcontent-%COMP%]{margin-bottom:70px}.banner[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .section-box-banner[_ngcontent-%COMP%]   .div-btn-banner[_ngcontent-%COMP%]{height:43px}.mb-25p[_ngcontent-%COMP%]{margin-bottom:25%}.mr-10px[_ngcontent-%COMP%]{margin-right:10px}"],data:{animation:[(0,Oe.X$)("bannerTrigger",[(0,Oe.eR)(":enter",[(0,Oe.IO)("*",[(0,Oe.oB)({opacity:0,transform:"translateX(-50px)"}),(0,Oe.EY)(50,[(0,Oe.jt)("250ms cubic-bezier(0.35, 0, 0.25, 1)",(0,Oe.oB)({opacity:1,transform:"none"}))])])])])]}}),_})();function kd(_){return new H.w(_,"./assets/i18n/",".json")}let Bp=(()=>{class _{}return _.\u0275fac=function(d){return new(d||_)},_.\u0275mod=Bt.oAB({type:_}),_.\u0275inj=Bt.cJS({imports:[N.ez,z.aw.forChild({loader:{provide:z.Zw,useFactory:kd,deps:[I.eN]}}),I.JF,t.Bz.forChild([{path:"",component:Ah}])]}),_})()},9867:(k,A,E)=>{"use strict";E.d(A,{y:()=>Ne});var w=E(4650),N=E(6895);E(4968),E(655),E(4553),E(9300),E(5684);const Oe=new w.OlP("ngx-google-analytics-settings",{factory:()=>({trackingCode:"",enableTracing:!1})}),Fe=new w.OlP("ngx-window",{providedIn:"root",factory:()=>function M(Le){return(0,N.NF)(Le)?window:null}((0,w.f3M)(w.Lbi))}),Tt=new w.OlP("ngx-data-layer",{providedIn:"root",factory:()=>function we(Le){return Le?Le.dataLayer=Le.dataLayer||[]:null}((0,w.f3M)(Fe))}),Ae=new w.OlP("ngx-gtag-fn",{providedIn:"root",factory:()=>function De(Le,cn){return Le?Le.gtag=Le.gtag||function(){cn.push(arguments)}:null}((0,w.f3M)(Fe),(0,w.f3M)(Tt))});let je=(()=>{class Le{constructor(ct,qe,it){this.settings=ct,this._document=qe,this._gtag=it}get document(){return this._document}throw(ct){(this.settings.enableTracing||(0,w.X6Q)())&&console&&console.error&&console.error(ct)}toKeyValue(ct){return ct.size>0?Array.from(ct).reduce((qe,[it,st])=>Object.defineProperty(qe,it,{value:st,enumerable:!0}),{}):void 0}gtag(...ct){try{this._gtag(...ct.filter(qe=>void 0!==qe))}catch(qe){this.throw(qe)}}event(ct,qe,it,st,nt){try{const wt=new Map;qe&&wt.set("event_category",qe),it&&wt.set("event_label",it),st&&wt.set("value",st),void 0!==nt&&wt.set("interaction",nt);const At=this.toKeyValue(wt);At?this.gtag("event",ct,At):this.gtag("event",ct)}catch(wt){this.throw(wt)}}pageView(ct,qe,it,st){try{const nt=new Map([["page_path",ct]]);qe&&nt.set("page_title",qe),(it||this.document)&&nt.set("page_location",it||this.document.location.href),st&&Object.entries(st).map(([wt,At])=>nt.set(wt,At)),this.gtag("config",this.settings.trackingCode,this.toKeyValue(nt))}catch(nt){this.throw(nt)}}appView(ct,qe,it,st,nt){try{const wt=new Map([["screen_name",ct],["app_name",qe]]);it&&wt.set("app_id",it),st&&wt.set("app_version",st),nt&&wt.set("app_installer_id",nt),this.gtag("event","screen_view",this.toKeyValue(wt))}catch(wt){this.throw(wt)}}set(...ct){try{this._gtag("set",...ct)}catch(qe){this.throw(qe)}}exception(ct,qe){try{const it=new Map;ct&&it.set("description",ct),qe&&it.set("fatal",qe),this.toKeyValue(it)?this.gtag("event","exception",this.toKeyValue(it)):this.gtag("event","exception")}catch(it){this.throw(it)}}}return Le.\u0275fac=function(ct){return new(ct||Le)(w.LFG(Oe),w.LFG(N.K0),w.LFG(Ae))},Le.\u0275prov=(0,w.Yz7)({factory:function(){return new Le((0,w.LFG)(Oe),(0,w.LFG)(N.K0),(0,w.LFG)(Ae))},token:Le,providedIn:"root"}),Le})();new w.OlP("ngx-google-analytics-routing-settings",{factory:()=>({})});let Ne=(()=>{class Le{constructor(ct){this.$gaService=ct}sendAnalyticEvent(ct,qe,it){this.$gaService.event(ct,qe,it)}sendAnalyticPageView(ct,qe){this.$gaService.pageView(ct,qe)}}return Le.\u0275fac=function(ct){return new(ct||Le)(w.LFG(je))},Le.\u0275prov=w.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})()},3202:(k,A,E)=>{"use strict";var w=E(1481),N=E(4006),t=E(4650),I=E(6895),H=E(529),z=E(727),re=E(4968),ce=E(515);let Oe=(()=>{class c{constructor(){this.scrollSub=new z.w0,this.resizeSub=new z.w0,this.manageScrollPos(),this.scrollObs=typeof window<"u"?(0,re.R)(window,"scroll"):ce.E,this.scrollSub=this.scrollObs.subscribe(()=>this.manageScrollPos()),this.resizeObs=typeof window<"u"?(0,re.R)(window,"resize"):ce.E,this.resizeSub=this.resizeObs.subscribe(()=>this.manageScrollPos())}manageScrollPos(){this.pos=typeof window<"u"?window.pageYOffset:0}ngOnDestroy(){this.scrollSub.unsubscribe(),this.resizeSub.unsubscribe()}}return c.\u0275fac=function(n){return new(n||c)},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac}),c})(),Fe=(()=>{class c{static forRoot(){return{ngModule:c,providers:[Oe]}}}return c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[I.ez]}),c})();var we=E(9770),Tt=E(2843),De=E(9646),Ae=E(7272),je=E(7579),se=E(9751),at=E(5032);const mt=new se.y(at.Z);var Pe=E(6451),Ee=E(4004),Ye=E(9300),Qe=E(3900),ze=E(4033),xt=E(576),pt=E(8421),Ne=E(4482);const cn={connector:()=>new je.x};function ct(c,p=cn){const{connector:n}=p;return(0,Ne.e)((u,b)=>{const T=n();(0,pt.Xf)(c(function Le(c){return new se.y(p=>c.subscribe(p))}(T))).subscribe(b),b.add(u.subscribe(T))})}var st=E(5698),nt=E(8505);class wt extends z.w0{constructor(p,n){super()}schedule(p,n=0){return this}}const At={setInterval(c,p,...n){const{delegate:u}=At;return u?.setInterval?u.setInterval(c,p,...n):setInterval(c,p,...n)},clearInterval(c){const{delegate:p}=At;return(p?.clearInterval||clearInterval)(c)},delegate:void 0};var Wt=E(8737),An=E(6063);class en{constructor(p,n=en.now){this.schedulerActionCtor=p,this.now=n}schedule(p,n=0,u){return new this.schedulerActionCtor(this,p).schedule(u,n)}}en.now=An.l.now;const yn=new class Qt extends en{constructor(p,n=en.now){super(p,n),this.actions=[],this._active=!1}flush(p){const{actions:n}=this;if(this._active)return void n.push(p);let u;this._active=!0;do{if(u=p.execute(p.state,p.delay))break}while(p=n.shift());if(this._active=!1,u){for(;p=n.shift();)p.unsubscribe();throw u}}}(class zt extends wt{constructor(p,n){super(p,n),this.scheduler=p,this.work=n,this.pending=!1}schedule(p,n=0){var u;if(this.closed)return this;this.state=p;const b=this.id,T=this.scheduler;return null!=b&&(this.id=this.recycleAsyncId(T,b,n)),this.pending=!0,this.delay=n,this.id=null!==(u=this.id)&&void 0!==u?u:this.requestAsyncId(T,this.id,n),this}requestAsyncId(p,n,u=0){return At.setInterval(p.flush.bind(p,this),u)}recycleAsyncId(p,n,u=0){if(null!=u&&this.delay===u&&!1===this.pending)return n;null!=n&&At.clearInterval(n)}execute(p,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const u=this._execute(p,n);if(u)return u;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(p,n){let b,u=!1;try{this.work(p)}catch(T){u=!0,b=T||new Error("Scheduled action threw falsy error")}if(u)return this.unsubscribe(),b}unsubscribe(){if(!this.closed){const{id:p,scheduler:n}=this,{actions:u}=n;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Wt.P)(u,this),null!=p&&(this.id=this.recycleAsyncId(n,p,null)),this.delay=null,super.unsubscribe()}}}),_t=yn;var Vt=E(5403),et=E(9718),It=E(5577);function Ut(c,p){return p?n=>(0,Ae.z)(p.pipe((0,st.q)(1),function Te(){return(0,Ne.e)((c,p)=>{c.subscribe((0,Vt.x)(p,at.Z))})}()),n.pipe(Ut(c))):(0,It.z)((n,u)=>(0,pt.Xf)(c(n,u)).pipe((0,st.q)(1),(0,et.h)(n)))}var rn=E(3532);function Sr(c=0,p,n=_t){let u=-1;return null!=p&&((0,rn.K)(p)?n=p:u=p),new se.y(b=>{let T=function xr(c){return c instanceof Date&&!isNaN(c)}(c)?+c-n.now():c;T<0&&(T=0);let q=0;return n.schedule(function(){b.closed||(b.next(q++),0<=u?this.schedule(void 0,u):b.complete())},T)})}function Xn(c,p=yn){const n=Sr(c,p);return Ut(()=>n)}const er="Service workers are disabled or not supported by this browser";class Jt{constructor(p){if(this.serviceWorker=p,p){const u=(0,re.R)(p,"controllerchange").pipe((0,Ee.U)(()=>p.controller)),b=(0,we.P)(()=>(0,De.of)(p.controller)),T=(0,Ae.z)(b,u);this.worker=T.pipe((0,Ye.h)(Ze=>!!Ze)),this.registration=this.worker.pipe((0,Qe.w)(()=>p.getRegistration()));const Se=(0,re.R)(p,"message").pipe((0,Ee.U)(Ze=>Ze.data)).pipe((0,Ye.h)(Ze=>Ze&&Ze.type)).pipe(function it(c){return c?p=>ct(c)(p):p=>function qe(c,p){const n=(0,xt.m)(c)?c:()=>c;return(0,xt.m)(p)?ct(p,{connector:n}):u=>new ze.c(u,n)}(new je.x)(p)}());Se.connect(),this.events=Se}else this.worker=this.events=this.registration=function di(c){return(0,we.P)(()=>(0,Tt._)(new Error(c)))}(er)}postMessage(p,n){return this.worker.pipe((0,st.q)(1),(0,nt.b)(u=>{u.postMessage({action:p,...n})})).toPromise().then(()=>{})}postMessageWithOperation(p,n,u){const b=this.waitForOperationCompleted(u),T=this.postMessage(p,n);return Promise.all([T,b]).then(([,q])=>q)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(p){let n;return n="string"==typeof p?u=>u.type===p:u=>p.includes(u.type),this.events.pipe((0,Ye.h)(n))}nextEventOfType(p){return this.eventsOfType(p).pipe((0,st.q)(1))}waitForOperationCompleted(p){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Ye.h)(n=>n.nonce===p),(0,st.q)(1),(0,Ee.U)(n=>{if(void 0!==n.result)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Ti=(()=>{class c{constructor(n){if(this.sw=n,this.subscriptionChanges=new je.x,!n.isEnabled)return this.messages=mt,this.notificationClicks=mt,void(this.subscription=mt);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Ee.U)(b=>b.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Ee.U)(b=>b.data)),this.pushManager=this.sw.registration.pipe((0,Ee.U)(b=>b.pushManager));const u=this.pushManager.pipe((0,Qe.w)(b=>b.getSubscription()));this.subscription=(0,Pe.T)(u,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(n){if(!this.sw.isEnabled)return Promise.reject(new Error(er));const u={userVisibleOnly:!0};let b=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),T=new Uint8Array(new ArrayBuffer(b.length));for(let q=0;q<b.length;q++)T[q]=b.charCodeAt(q);return u.applicationServerKey=T,this.pushManager.pipe((0,Qe.w)(q=>q.subscribe(u)),(0,st.q)(1)).toPromise().then(q=>(this.subscriptionChanges.next(q),q))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,st.q)(1),(0,Qe.w)(u=>{if(null===u)throw new Error("Not subscribed to push notifications.");return u.unsubscribe().then(b=>{if(!b)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(er))}decodeBase64(n){return atob(n)}}return c.\u0275fac=function(n){return new(n||c)(t.LFG(Jt))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac}),c})(),Pr=(()=>{class c{constructor(n){if(this.sw=n,!n.isEnabled)return this.versionUpdates=mt,this.available=mt,this.activated=mt,void(this.unrecoverable=mt);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe((0,Ye.h)(u=>"VERSION_READY"===u.type),(0,Ee.U)(u=>({type:"UPDATE_AVAILABLE",current:u.currentVersion,available:u.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(er));const n=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(er));const n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}}return c.\u0275fac=function(n){return new(n||c)(t.LFG(Jt))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac}),c})();class pr{}const bt=new t.OlP("NGSW_REGISTER_SCRIPT");function Ka(c,p,n,u){return()=>{if(!(0,I.NF)(u)||!("serviceWorker"in navigator)||!1===n.enabled)return;let T;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof n.registrationStrategy)T=n.registrationStrategy();else{const[X,...de]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(X){case"registerImmediately":T=(0,De.of)(null);break;case"registerWithDelay":T=zn(+de[0]||0);break;case"registerWhenStable":T=de[0]?(0,Pe.T)(Mt(c),zn(+de[0])):Mt(c);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}c.get(t.R0b).runOutsideAngular(()=>T.pipe((0,st.q)(1)).subscribe(()=>navigator.serviceWorker.register(p,{scope:n.scope}).catch(X=>console.error("Service worker registration failed with:",X))))}}function zn(c){return(0,De.of)(null).pipe(Xn(c))}function Mt(c){return c.get(t.z2F).isStable.pipe((0,Ye.h)(n=>n))}function nn(c,p){return new Jt((0,I.NF)(p)&&!1!==c.enabled?navigator.serviceWorker:void 0)}let Ri=(()=>{class c{static register(n,u={}){return{ngModule:c,providers:[{provide:bt,useValue:n},{provide:pr,useValue:u},{provide:Jt,useFactory:nn,deps:[pr,t.Lbi]},{provide:t.ip1,useFactory:Ka,deps:[t.zs3,bt,pr,t.Lbi],multi:!0}]}}}return c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({providers:[Ti,Pr]}),c})();var Cn=E(1744),fr=E(4484);const{isArray:ai}=Array;function Ja(c){return 1===c.length&&ai(c[0])?c[0]:c}function br(...c){return 1===(c=Ja(c)).length?(0,pt.Xf)(c[0]):new se.y(function oa(c){return p=>{let n=[];for(let u=0;n&&!p.closed&&u<c.length;u++)n.push((0,pt.Xf)(c[u]).subscribe((0,Vt.x)(p,b=>{if(n){for(let T=0;T<n.length;T++)T!==u&&n[T].unsubscribe();n=null}p.next(b)})))}}(c))}E(1135),E(9841);var Li=E(3269);function lr(...c){const p=(0,Li.jO)(c),n=Ja(c);return n.length?new se.y(u=>{let b=n.map(()=>[]),T=n.map(()=>!1);u.add(()=>{b=T=null});for(let q=0;!u.closed&&q<n.length;q++)(0,pt.Xf)(n[q]).subscribe((0,Vt.x)(u,X=>{if(b[q].push(X),b.every(de=>de.length)){const de=b.map(Se=>Se.shift());u.next(p?p(...de):de),b.some((Se,Ze)=>!Se.length&&T[Ze])&&u.complete()}},()=>{T[q]=!0,!b[q].length&&u.complete()}));return()=>{b=T=null}}):ce.E}function vt(c){return(0,Ne.e)((p,n)=>{(0,pt.Xf)(c).subscribe((0,Vt.x)(n,()=>n.complete(),at.Z)),!n.closed&&p.subscribe(n)})}var Ve=E(8675),Ge=E(4671);function kt(c,p){return c===p}function Sn(...c){const p=(0,Li.jO)(c);return(0,Ne.e)((n,u)=>{const b=c.length,T=new Array(b);let q=c.map(()=>!1),X=!1;for(let de=0;de<b;de++)(0,pt.Xf)(c[de]).subscribe((0,Vt.x)(u,Se=>{T[de]=Se,!X&&!q[de]&&(q[de]=!0,(X=q.every(Ge.y))&&(q=null))},at.Z));n.subscribe((0,Vt.x)(u,de=>{if(X){const Se=[de,...T];u.next(p?p(...Se):Se)}}))})}var $n=E(5684);E(3099);const Yt=["*"],Vr=["dialog"],Aa=["ngbNavOutlet",""];function Oo(c,p){}const sa=function(c){return{$implicit:c}};function ol(c,p){if(1&c&&(t.TgZ(0,"div",2),t.YNc(1,Oo,0,0,"ng-template",3),t.qZA()),2&c){const n=t.oxw().$implicit,u=t.oxw();t.Q6J("item",n)("nav",u.nav)("role",u.paneRole),t.xp6(1),t.Q6J("ngTemplateOutlet",(null==n.contentTpl?null:n.contentTpl.templateRef)||null)("ngTemplateOutletContext",t.VKq(5,sa,n.active||u.isPanelTransitioning(n)))}}function jr(c,p){if(1&c&&t.YNc(0,ol,2,7,"div",1),2&c){const n=p.$implicit,u=t.oxw();t.Q6J("ngIf",n.isPanelInDom()||u.isPanelTransitioning(n))}}function ro(c){return null!=c}function te(c){return(c||document.body).getBoundingClientRect()}typeof Element<"u"&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(c){let p=this;if(!document.documentElement.contains(p))return null;do{if(p.matches(c))return p;p=p.parentElement||p.parentNode}while(null!==p&&1===p.nodeType);return null});const me={animation:!0,transitionTimerDelayMs:5};let ft=(()=>{class c{constructor(){this.animation=me.animation}}return c.\u0275fac=function(n){return new(n||c)},c.\u0275prov=t.Yz7({factory:function(){return new c},token:c,providedIn:"root"}),c})();const yr=()=>{},{transitionTimerDelayMs:ti}=me,Zo=new Map,fi=(c,p,n,u)=>{let b=u.context||{};const T=Zo.get(p);if(T)switch(u.runningTransition){case"continue":return ce.E;case"stop":c.run(()=>T.transition$.complete()),b=Object.assign(T.context,b),Zo.delete(p)}const q=n(p,u.animation,b)||yr;if(!u.animation||"none"===window.getComputedStyle(p).transitionProperty)return c.run(()=>q()),(0,De.of)(void 0).pipe(function J(c){return p=>new se.y(n=>p.subscribe(q=>c.run(()=>n.next(q)),q=>c.run(()=>n.error(q)),()=>c.run(()=>n.complete())))}(c));const X=new je.x,de=new je.x,Se=X.pipe(function qi(...c){return p=>(0,Ae.z)(p,(0,De.of)(...c))}(!0));Zo.set(p,{transition$:X,complete:()=>{de.next(),de.complete()},context:b});const Ze=function On(c){const{transitionDelay:p,transitionDuration:n}=window.getComputedStyle(c);return 1e3*(parseFloat(p)+parseFloat(n))}(p);return c.runOutsideAngular(()=>{const yt=(0,re.R)(p,"transitionend").pipe(vt(Se),(0,Ye.h)(({target:jt})=>jt===p));br(Sr(Ze+ti).pipe(vt(Se)),yt,de).pipe(vt(Se)).subscribe(()=>{Zo.delete(p),c.run(()=>{q(),X.next(),X.complete()})})}),X.asObservable()};let ou=(()=>{class c{}return c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[I.ez]}),c})(),Al=(()=>{class c{}return c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[I.ez]}),c})(),ws=(()=>{class c{}return c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({}),c})(),Hs=(()=>{class c{}return c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[I.ez]}),c})(),hl=(()=>{class c{}return c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({}),c})();var Kn=(()=>{return(c=Kn||(Kn={}))[c.Tab=9]="Tab",c[c.Enter=13]="Enter",c[c.Escape=27]="Escape",c[c.Space=32]="Space",c[c.PageUp=33]="PageUp",c[c.PageDown=34]="PageDown",c[c.End=35]="End",c[c.Home=36]="Home",c[c.ArrowLeft=37]="ArrowLeft",c[c.ArrowUp=38]="ArrowUp",c[c.ArrowRight=39]="ArrowRight",c[c.ArrowDown=40]="ArrowDown",Kn;var c})();const uu=(c,p)=>!!p&&p.some(n=>n.contains(c)),kl=(c,p)=>!p||null!=function Co(c,p){return!p||typeof c.closest>"u"?null:c.closest(p)}(c,p),wi=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent)),xs=c=>wi?()=>setTimeout(()=>c(),100):c;const Rl=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Eo(c){const p=Array.from(c.querySelectorAll(Rl)).filter(n=>-1!==n.tabIndex);return[p[0],p[p.length-1]]}const hs=/\s+/,po=new class Bo{getAllStyles(p){return window.getComputedStyle(p)}getStyle(p,n){return this.getAllStyles(p)[n]}isStaticPositioned(p){return"static"===(this.getStyle(p,"position")||"static")}offsetParent(p){let n=p.offsetParent||document.documentElement;for(;n&&n!==document.documentElement&&this.isStaticPositioned(n);)n=n.offsetParent;return n||document.documentElement}position(p,n=!0){let u,b={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(p,"position"))u=p.getBoundingClientRect(),u={top:u.top,bottom:u.bottom,left:u.left,right:u.right,height:u.height,width:u.width};else{const T=this.offsetParent(p);u=this.offset(p,!1),T!==document.documentElement&&(b=this.offset(T,!1)),b.top+=T.clientTop,b.left+=T.clientLeft}return u.top-=b.top,u.bottom-=b.top,u.left-=b.left,u.right-=b.left,n&&(u.top=Math.round(u.top),u.bottom=Math.round(u.bottom),u.left=Math.round(u.left),u.right=Math.round(u.right)),u}offset(p,n=!0){const u=p.getBoundingClientRect(),b_top=window.pageYOffset-document.documentElement.clientTop,b_left=window.pageXOffset-document.documentElement.clientLeft;let T={height:u.height||p.offsetHeight,width:u.width||p.offsetWidth,top:u.top+b_top,bottom:u.bottom+b_top,left:u.left+b_left,right:u.right+b_left};return n&&(T.height=Math.round(T.height),T.width=Math.round(T.width),T.top=Math.round(T.top),T.bottom=Math.round(T.bottom),T.left=Math.round(T.left),T.right=Math.round(T.right)),T}positionElements(p,n,u,b){const[T="top",q="center"]=u.split("-"),X=b?this.offset(p,!1):this.position(p,!1),de=this.getAllStyles(n),Se=parseFloat(de.marginTop),Ze=parseFloat(de.marginBottom),yt=parseFloat(de.marginLeft),Ft=parseFloat(de.marginRight);let jt=0,an=0;switch(T){case"top":jt=X.top-(n.offsetHeight+Se+Ze);break;case"bottom":jt=X.top+X.height;break;case"left":an=X.left-(n.offsetWidth+yt+Ft);break;case"right":an=X.left+X.width}switch(q){case"top":jt=X.top;break;case"bottom":jt=X.top+X.height-n.offsetHeight;break;case"left":an=X.left;break;case"right":an=X.left+X.width-n.offsetWidth;break;case"center":"top"===T||"bottom"===T?an=X.left+X.width/2-n.offsetWidth/2:jt=X.top+X.height/2-n.offsetHeight/2}n.style.transform=`translate(${Math.round(an)}px, ${Math.round(jt)}px)`;const pn=n.getBoundingClientRect(),qn=document.documentElement,dr=window.innerHeight||qn.clientHeight,Br=window.innerWidth||qn.clientWidth;return pn.left>=0&&pn.top>=0&&pn.right<=Br&&pn.bottom<=dr}};new Date(1882,10,12),new Date(2174,10,25);let Hu=(()=>{class c{}return c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[I.ez,N.u5]}),c})(),gh=(()=>{class c{constructor(){this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return c.\u0275fac=function(n){return new(n||c)},c.\u0275prov=t.Yz7({factory:function(){return new c},token:c,providedIn:"root"}),c})(),md=(()=>{class c{}return c.\u0275fac=function(n){return new(n||c)},c.\u0275dir=t.lG2({type:c,selectors:[["",8,"navbar"]]}),c})(),yd=(()=>{class c{constructor(n){this.elementRef=n,this._disabled=!1}set disabled(n){this._disabled=""===n||!0===n}get disabled(){return this._disabled}}return c.\u0275fac=function(n){return new(n||c)(t.Y36(t.SBq))},c.\u0275dir=t.lG2({type:c,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:2,hostBindings:function(n,u){2&n&&t.ekj("disabled",u.disabled)},inputs:{disabled:"disabled"}}),c})(),mh=(()=>{class c{constructor(n,u){this.dropdown=n,this.placement="bottom",this.isOpen=!1,this.nativeElement=u.nativeElement}}return c.\u0275fac=function(n){return new(n||c)(t.Y36((0,t.Gpc)(()=>Gu)),t.Y36(t.SBq))},c.\u0275dir=t.lG2({type:c,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(n,u,b){if(1&n&&t.Suo(b,yd,4),2&n){let T;t.iGM(T=t.CRH())&&(u.menuItems=T)}},hostVars:5,hostBindings:function(n,u){1&n&&t.NdJ("keydown.ArrowUp",function(T){return u.dropdown.onKeyDown(T)})("keydown.ArrowDown",function(T){return u.dropdown.onKeyDown(T)})("keydown.Home",function(T){return u.dropdown.onKeyDown(T)})("keydown.End",function(T){return u.dropdown.onKeyDown(T)})("keydown.Enter",function(T){return u.dropdown.onKeyDown(T)})("keydown.Space",function(T){return u.dropdown.onKeyDown(T)})("keydown.Tab",function(T){return u.dropdown.onKeyDown(T)})("keydown.Shift.Tab",function(T){return u.dropdown.onKeyDown(T)}),2&n&&(t.uIk("x-placement",u.placement),t.ekj("dropdown-menu",!0)("show",u.dropdown.isOpen()))}}),c})(),$u=(()=>{class c{constructor(n,u){this.dropdown=n,this.nativeElement=u.nativeElement}}return c.\u0275fac=function(n){return new(n||c)(t.Y36((0,t.Gpc)(()=>Gu)),t.Y36(t.SBq))},c.\u0275dir=t.lG2({type:c,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(n,u){2&n&&t.uIk("aria-expanded",u.dropdown.isOpen())}}),c})(),yh=(()=>{class c extends $u{constructor(n,u){super(n,u)}}return c.\u0275fac=function(n){return new(n||c)(t.Y36((0,t.Gpc)(()=>Gu)),t.Y36(t.SBq))},c.\u0275dir=t.lG2({type:c,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(n,u){1&n&&t.NdJ("click",function(){return u.dropdown.toggle()})("keydown.ArrowUp",function(T){return u.dropdown.onKeyDown(T)})("keydown.ArrowDown",function(T){return u.dropdown.onKeyDown(T)})("keydown.Home",function(T){return u.dropdown.onKeyDown(T)})("keydown.End",function(T){return u.dropdown.onKeyDown(T)})("keydown.Tab",function(T){return u.dropdown.onKeyDown(T)})("keydown.Shift.Tab",function(T){return u.dropdown.onKeyDown(T)}),2&n&&t.uIk("aria-expanded",u.dropdown.isOpen())},features:[t._Bn([{provide:$u,useExisting:(0,t.Gpc)(()=>c)}]),t.qOj]}),c})(),Gu=(()=>{class c{constructor(n,u,b,T,q,X,de){this._changeDetector=n,this._document=b,this._ngZone=T,this._elementRef=q,this._renderer=X,this._closed$=new je.x,this._bodyContainer=null,this._open=!1,this.openChange=new t.vpe,this.placement=u.placement,this.container=u.container,this.autoClose=u.autoClose,this.display=de?"static":"dynamic",this._zoneSubscription=T.onStable.subscribe(()=>{this._positionMenu()})}ngAfterContentInit(){this._ngZone.onStable.pipe((0,st.q)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(n){if(n.container&&this._open&&this._applyContainer(this.container),n.placement&&!n.placement.isFirstChange&&this._applyPlacementClasses(),n.dropdownClass){const{currentValue:u,previousValue:b}=n.dropdownClass;this._applyCustomDropdownClass(u,b)}}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&this._anchor.nativeElement.focus())}_setCloseHandlers(){!function Gs(c,p,n,u,b,T,q,X){n&&c.runOutsideAngular(xs(()=>{const Se=(0,re.R)(p,"keydown").pipe(vt(b),(0,Ye.h)(Ft=>Ft.which===Kn.Escape),(0,nt.b)(Ft=>Ft.preventDefault())),Ze=(0,re.R)(p,"mousedown").pipe((0,Ee.U)(Ft=>{const jt=Ft.target;return 2!==Ft.button&&!uu(jt,q)&&("inside"===n?uu(jt,T)&&kl(jt,X):"outside"===n?!uu(jt,T):kl(jt,X)||!uu(jt,T))}),vt(b)),yt=(0,re.R)(p,"mouseup").pipe(Sn(Ze),(0,Ye.h)(([Ft,jt])=>jt),Xn(0),vt(b));br([Se.pipe((0,Ee.U)(Ft=>0)),yt.pipe((0,Ee.U)(Ft=>1))]).subscribe(Ft=>c.run(()=>u(Ft)))}))}(this._ngZone,this._document,this.autoClose,n=>{this.close(),0===n&&this._anchor.nativeElement.focus()},this._closed$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}onKeyDown(n){const u=n.which,b=this._getMenuElements();let T=-1,q=null;const X=this._isEventFromToggle(n);if(!X&&b.length&&b.forEach((de,Se)=>{de.contains(n.target)&&(q=de),de===this._document.activeElement&&(T=Se)}),u!==Kn.Space&&u!==Kn.Enter){if(u!==Kn.Tab){if(X||q){if(this.open(),b.length){switch(u){case Kn.ArrowDown:T=Math.min(T+1,b.length-1);break;case Kn.ArrowUp:if(this._isDropup()&&-1===T){T=b.length-1;break}T=Math.max(T-1,0);break;case Kn.Home:T=0;break;case Kn.End:T=b.length-1}b[T].focus()}n.preventDefault()}}else if(n.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===n.target)return void("body"!==this.container||n.shiftKey?n.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const de=this._menu.nativeElement.querySelectorAll(Rl);n.shiftKey&&n.target===de[0]?(this._anchor.nativeElement.focus(),n.preventDefault()):!n.shiftKey&&n.target===de[de.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else(0,re.R)(n.target,"focusout").pipe((0,st.q)(1)).subscribe(({relatedTarget:de})=>{this._elementRef.nativeElement.contains(de)||this.close()})}}else q&&(!0===this.autoClose||"inside"===this.autoClose)&&(0,re.R)(q,"click").pipe((0,st.q)(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(n){return this._anchor.nativeElement.contains(n.target)}_getMenuElements(){const n=this._menu;return null==n?[]:n.menuItems.filter(u=>!u.disabled).map(u=>u.elementRef.nativeElement)}_positionMenu(){const n=this._menu;this.isOpen()&&n&&this._applyPlacementClasses("dynamic"===this.display?function Fl(c,p,n,u,b){let T=Array.isArray(n)?n:n.split(hs);const q=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],X=p.classList,de=jt=>{const[an,pn]=jt.split("-"),qn=[];return b&&(qn.push(`${b}-${an}`),pn&&qn.push(`${b}-${an}-${pn}`),qn.forEach(dr=>{X.add(dr)})),qn};b&&q.forEach(jt=>{X.remove(`${b}-${jt}`)});let Se=T.findIndex(jt=>"auto"===jt);Se>=0&&q.forEach(function(jt){null==T.find(an=>-1!==an.search("^"+jt))&&T.splice(Se++,1,jt)});const Ze=p.style;Ze.position="absolute",Ze.top="0",Ze.left="0",Ze["will-change"]="transform";let yt=null,Ft=!1;for(yt of T){let jt=de(yt);if(po.positionElements(c,p,yt,u)){Ft=!0;break}b&&jt.forEach(an=>{X.remove(an)})}return Ft||(yt=T[0],de(yt),po.positionElements(c,p,yt,u)),yt}(this._anchor.nativeElement,this._bodyContainer||this._menu.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}_getFirstPlacement(n){return Array.isArray(n)?n[0]:n.split(" ")[0]}_resetContainer(){const n=this._renderer;if(this._menu){const b=this._menu.nativeElement;n.appendChild(this._elementRef.nativeElement,b),n.removeStyle(b,"position"),n.removeStyle(b,"transform")}this._bodyContainer&&(n.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(n=null){if(this._resetContainer(),"body"===n){const u=this._renderer,b=this._menu.nativeElement,T=this._bodyContainer=this._bodyContainer||u.createElement("div");u.setStyle(T,"position","absolute"),u.setStyle(b,"position","static"),u.setStyle(T,"z-index","1050"),u.appendChild(T,b),u.appendChild(this._document.body,T)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(n,u){const b="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;b&&(u&&this._renderer.removeClass(b,u),n&&this._renderer.addClass(b,n))}_applyPlacementClasses(n){const u=this._menu;if(u){n||(n=this._getFirstPlacement(this.placement));const b=this._renderer,T=this._elementRef.nativeElement;b.removeClass(T,"dropup"),b.removeClass(T,"dropdown"),u.placement="static"===this.display?null:n;const q=-1!==n.search("^top")?"dropup":"dropdown";b.addClass(T,q);const X=this._bodyContainer;X&&(b.removeClass(X,"dropup"),b.removeClass(X,"dropdown"),b.addClass(X,q))}}}return c.\u0275fac=function(n){return new(n||c)(t.Y36(t.sBO),t.Y36(gh),t.Y36(I.K0),t.Y36(t.R0b),t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(md,8))},c.\u0275dir=t.lG2({type:c,selectors:[["","ngbDropdown",""]],contentQueries:function(n,u,b){if(1&n&&(t.Suo(b,mh,5),t.Suo(b,$u,5)),2&n){let T;t.iGM(T=t.CRH())&&(u._menu=T.first),t.iGM(T=t.CRH())&&(u._anchor=T.first)}},hostVars:2,hostBindings:function(n,u){2&n&&t.ekj("show",u.isOpen())},inputs:{_open:["open","_open"],placement:"placement",container:"container",autoClose:"autoClose",display:"display",dropdownClass:"dropdownClass"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[t.TTD]}),c})(),Wu=(()=>{class c{}return c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({}),c})(),vh=(()=>{class c{constructor(n){this._ngbConfig=n,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}}return c.\u0275fac=function(n){return new(n||c)(t.LFG(ft))},c.\u0275prov=t.Yz7({factory:function(){return new c(t.LFG(ft))},token:c,providedIn:"root"}),c})();class pu{constructor(p,n,u){this.nodes=p,this.viewRef=n,this.componentRef=u}}const tg=()=>{};let Np=(()=>{class c{constructor(n){this._document=n}compensate(){const n=this._getWidth();return this._isPresent(n)?this._adjustBody(n):tg}_adjustBody(n){const u=this._document.body,b=u.style.paddingRight,T=parseFloat(window.getComputedStyle(u)["padding-right"]);return u.style["padding-right"]=`${T+n}px`,()=>u.style["padding-right"]=b}_isPresent(n){const u=this._document.body.getBoundingClientRect();return window.innerWidth-(u.left+u.right)>=n-.1*n}_getWidth(){const n=this._document.createElement("div");n.className="modal-scrollbar-measure";const u=this._document.body;u.appendChild(n);const b=n.getBoundingClientRect().width-n.clientWidth;return u.removeChild(n),b}}return c.\u0275fac=function(n){return new(n||c)(t.LFG(I.K0))},c.\u0275prov=t.Yz7({factory:function(){return new c(t.LFG(I.K0))},token:c,providedIn:"root"}),c})(),ng=(()=>{class c{constructor(n,u){this._el=n,this._zone=u}ngOnInit(){this._zone.onStable.asObservable().pipe((0,st.q)(1)).subscribe(()=>{fi(this._zone,this._el.nativeElement,(n,u)=>{u&&te(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return fi(this._zone,this._el.nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return c.\u0275fac=function(n){return new(n||c)(t.Y36(t.SBq),t.Y36(t.R0b))},c.\u0275cmp=t.Xpm({type:c,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(n,u){2&n&&(t.Tol("modal-backdrop"+(u.backdropClass?" "+u.backdropClass:"")),t.ekj("show",!u.animation)("fade",u.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(n,u){},encapsulation:2}),c})();class Tp{close(p){}dismiss(p){}}class vd{constructor(p,n,u,b){this._windowCmptRef=p,this._contentRef=n,this._backdropCmptRef=u,this._beforeDismiss=b,this._closed=new je.x,this._dismissed=new je.x,this._hidden=new je.x,p.instance.dismissEvent.subscribe(T=>{this.dismiss(T)}),this.result=new Promise((T,q)=>{this._resolve=T,this._reject=q}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(vt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(vt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(p){this._windowCmptRef&&(this._closed.next(p),this._resolve(p),this._removeModalElements())}_dismiss(p){this._dismissed.next(p),this._reject(p),this._removeModalElements()}dismiss(p){if(this._windowCmptRef)if(this._beforeDismiss){const n=this._beforeDismiss();n&&n.then?n.then(u=>{!1!==u&&this._dismiss(p)},()=>{}):!1!==n&&this._dismiss(p)}else this._dismiss(p)}_removeModalElements(){const p=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,De.of)(void 0);p.subscribe(()=>{const{nativeElement:u}=this._windowCmptRef.location;u.parentNode.removeChild(u),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:u}=this._backdropCmptRef.location;u.parentNode.removeChild(u),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),lr(p,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var fu=(()=>{return(c=fu||(fu={}))[c.BACKDROP_CLICK=0]="BACKDROP_CLICK",c[c.ESC=1]="ESC",fu;var c})();let _d=(()=>{class c{constructor(n,u,b){this._document=n,this._elRef=u,this._zone=b,this._closed$=new je.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new t.vpe,this.shown=new je.x,this.hidden=new je.x}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,st.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:n}=this._elRef,u={animation:this.animation,runningTransition:"stop"},q=lr(fi(this._zone,n,()=>n.classList.remove("show"),u),fi(this._zone,this._dialogEl.nativeElement,()=>{},u));return q.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),q}_show(){const n={animation:this.animation,runningTransition:"continue"};lr(fi(this._zone,this._elRef.nativeElement,(T,q)=>{q&&te(T),T.classList.add("show")},n),fi(this._zone,this._dialogEl.nativeElement,()=>{},n)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{(0,re.R)(n,"keydown").pipe(vt(this._closed$),(0,Ye.h)(b=>b.which===Kn.Escape)).subscribe(b=>{this.keyboard?requestAnimationFrame(()=>{b.defaultPrevented||this._zone.run(()=>this.dismiss(fu.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let u=!1;(0,re.R)(this._dialogEl.nativeElement,"mousedown").pipe(vt(this._closed$),(0,nt.b)(()=>u=!1),(0,Qe.w)(()=>(0,re.R)(n,"mouseup").pipe(vt(this._closed$),(0,st.q)(1))),(0,Ye.h)(({target:b})=>n===b)).subscribe(()=>{u=!0}),(0,re.R)(n,"click").pipe(vt(this._closed$)).subscribe(({target:b})=>{n===b&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!u&&this._zone.run(()=>this.dismiss(fu.BACKDROP_CLICK))),u=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){const u=n.querySelector("[ngbAutofocus]"),b=Eo(n)[0];(u||b||n).focus()}}_restoreFocus(){const n=this._document.body,u=this._elWithFocus;let b;b=u&&u.focus&&n.contains(u)?u:n,this._zone.runOutsideAngular(()=>{setTimeout(()=>b.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&fi(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return c.\u0275fac=function(n){return new(n||c)(t.Y36(I.K0),t.Y36(t.SBq),t.Y36(t.R0b))},c.\u0275cmp=t.Xpm({type:c,selectors:[["ngb-modal-window"]],viewQuery:function(n,u){if(1&n&&t.Gf(Vr,7),2&n){let b;t.iGM(b=t.CRH())&&(u._dialogEl=b.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(n,u){2&n&&(t.uIk("aria-modal",!0)("aria-labelledby",u.ariaLabelledBy)("aria-describedby",u.ariaDescribedBy),t.Tol("modal d-block"+(u.windowClass?" "+u.windowClass:"")),t.ekj("fade",u.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Yt,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(n,u){1&n&&(t.F$t(),t.TgZ(0,"div",0,1)(2,"div",2),t.Hsn(3),t.qZA()()),2&n&&t.Tol("modal-dialog"+(u.size?" modal-"+u.size:"")+(u.centered?" modal-dialog-centered":"")+(u.scrollable?" modal-dialog-scrollable":"")+(u.modalDialogClass?" "+u.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),c})(),bd=(()=>{class c{constructor(n,u,b,T,q,X){this._applicationRef=n,this._injector=u,this._document=b,this._scrollBar=T,this._rendererFactory=q,this._ngZone=X,this._activeWindowCmptHasChanged=new je.x,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new t.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const de=this._windowCmpts[this._windowCmpts.length-1];((c,p,n,u=!1)=>{c.runOutsideAngular(()=>{const b=(0,re.R)(p,"focusin").pipe(vt(n),(0,Ee.U)(T=>T.target));(0,re.R)(p,"keydown").pipe(vt(n),(0,Ye.h)(T=>T.which===Kn.Tab),Sn(b)).subscribe(([T,q])=>{const[X,de]=Eo(p);(q===X||q===p)&&T.shiftKey&&(de.focus(),T.preventDefault()),q===de&&!T.shiftKey&&(X.focus(),T.preventDefault())}),u&&(0,re.R)(p,"click").pipe(vt(n),Sn(b),(0,Ee.U)(T=>T[1])).subscribe(T=>T.focus())})})(this._ngZone,de.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(de.location.nativeElement)}})}open(n,u,b,T){const q=T.container instanceof HTMLElement?T.container:ro(T.container)?this._document.querySelector(T.container):this._document.body,X=this._rendererFactory.createRenderer(null,null),de=this._scrollBar.compensate(),Se=()=>{this._modalRefs.length||(X.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!q)throw new Error(`The specified modal container "${T.container||"body"}" was not found in the DOM.`);const Ze=new Tp,yt=this._getContentRef(n,T.injector||u,b,Ze,T);let Ft=!1!==T.backdrop?this._attachBackdrop(n,q):void 0,jt=this._attachWindowComponent(n,q,yt),an=new vd(jt,yt,Ft,T.beforeDismiss);return this._registerModalRef(an),this._registerWindowCmpt(jt),an.result.then(de,de),an.result.then(Se,Se),Ze.close=pn=>{an.close(pn)},Ze.dismiss=pn=>{an.dismiss(pn)},this._applyWindowOptions(jt.instance,T),1===this._modalRefs.length&&X.addClass(this._document.body,"modal-open"),Ft&&Ft.instance&&(this._applyBackdropOptions(Ft.instance,T),Ft.changeDetectorRef.detectChanges()),jt.changeDetectorRef.detectChanges(),an}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(u=>u.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n,u){let T=n.resolveComponentFactory(ng).create(this._injector);return this._applicationRef.attachView(T.hostView),u.appendChild(T.location.nativeElement),T}_attachWindowComponent(n,u,b){let q=n.resolveComponentFactory(_d).create(this._injector,b.nodes);return this._applicationRef.attachView(q.hostView),u.appendChild(q.location.nativeElement),q}_applyWindowOptions(n,u){this._windowAttributes.forEach(b=>{ro(u[b])&&(n[b]=u[b])})}_applyBackdropOptions(n,u){this._backdropAttributes.forEach(b=>{ro(u[b])&&(n[b]=u[b])})}_getContentRef(n,u,b,T,q){return b?b instanceof t.Rgc?this._createFromTemplateRef(b,T):function os(c){return"string"==typeof c}(b)?this._createFromString(b):this._createFromComponent(n,u,b,T,q):new pu([])}_createFromTemplateRef(n,u){const T=n.createEmbeddedView({$implicit:u,close(q){u.close(q)},dismiss(q){u.dismiss(q)}});return this._applicationRef.attachView(T),new pu([T.rootNodes],T)}_createFromString(n){const u=this._document.createTextNode(`${n}`);return new pu([[u]])}_createFromComponent(n,u,b,T,q){const X=n.resolveComponentFactory(b),de=t.zs3.create({providers:[{provide:Tp,useValue:T}],parent:u}),Se=X.create(de),Ze=Se.location.nativeElement;return q.scrollable&&Ze.classList.add("component-host-scrollable"),this._applicationRef.attachView(Se.hostView),new pu([[Ze]],Se.hostView,Se)}_setAriaHidden(n){const u=n.parentElement;u&&n!==this._document.body&&(Array.from(u.children).forEach(b=>{b!==n&&"SCRIPT"!==b.nodeName&&(this._ariaHiddenValues.set(b,b.getAttribute("aria-hidden")),b.setAttribute("aria-hidden","true"))}),this._setAriaHidden(u))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,u)=>{n?u.setAttribute("aria-hidden",n):u.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){const u=()=>{const b=this._modalRefs.indexOf(n);b>-1&&(this._modalRefs.splice(b,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(u,u)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{const u=this._windowCmpts.indexOf(n);u>-1&&(this._windowCmpts.splice(u,1),this._activeWindowCmptHasChanged.next())})}}return c.\u0275fac=function(n){return new(n||c)(t.LFG(t.z2F),t.LFG(t.zs3),t.LFG(I.K0),t.LFG(Np),t.LFG(t.FYo),t.LFG(t.R0b))},c.\u0275prov=t.Yz7({factory:function(){return new c(t.LFG(t.z2F),t.LFG(t.gxx),t.LFG(I.K0),t.LFG(Np),t.LFG(t.FYo),t.LFG(t.R0b))},token:c,providedIn:"root"}),c})(),_h=(()=>{class c{constructor(n,u,b,T){this._moduleCFR=n,this._injector=u,this._modalStack=b,this._config=T}open(n,u={}){const b=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),u);return this._modalStack.open(this._moduleCFR,this._injector,n,b)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return c.\u0275fac=function(n){return new(n||c)(t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(bd),t.LFG(vh))},c.\u0275prov=t.Yz7({factory:function(){return new c(t.LFG(t._Vd),t.LFG(t.gxx),t.LFG(bd),t.LFG(vh))},token:c,providedIn:"root"}),c})(),wd=(()=>{class c{}return c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({providers:[_h]}),c})(),Ha=(()=>{class c{constructor(n){this._ngbConfig=n,this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}}return c.\u0275fac=function(n){return new(n||c)(t.LFG(ft))},c.\u0275prov=t.Yz7({factory:function(){return new c(t.LFG(ft))},token:c,providedIn:"root"}),c})();const bh=c=>ro(c)&&""!==c;let Cd=0,gu=(()=>{class c{constructor(n){this.templateRef=n}}return c.\u0275fac=function(n){return new(n||c)(t.Y36(t.Rgc))},c.\u0275dir=t.lG2({type:c,selectors:[["ng-template","ngbNavContent",""]]}),c})(),jl=(()=>{class c{constructor(n,u){this.elementRef=u,this.disabled=!1,this.shown=new t.vpe,this.hidden=new t.vpe,this._nav=n}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){ro(this.domId)||(this.domId="ngb-nav-"+Cd++)}get active(){return this._nav.activeId===this.id}get id(){return bh(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(ro(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}}return c.\u0275fac=function(n){return new(n||c)(t.Y36((0,t.Gpc)(()=>Zu)),t.Y36(t.SBq))},c.\u0275dir=t.lG2({type:c,selectors:[["","ngbNavItem",""]],contentQueries:function(n,u,b){if(1&n&&t.Suo(b,gu,4),2&n){let T;t.iGM(T=t.CRH())&&(u.contentTpls=T)}},hostVars:2,hostBindings:function(n,u){2&n&&t.ekj("nav-item",!0)},inputs:{disabled:"disabled",domId:"domId",destroyOnHide:"destroyOnHide",_id:["ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"]}),c})(),Zu=(()=>{class c{constructor(n,u,b,T){this.role=n,this._cd=b,this._document=T,this.activeIdChange=new t.vpe,this.shown=new t.vpe,this.hidden=new t.vpe,this.destroy$=new je.x,this.navItemChange$=new je.x,this.navChange=new t.vpe,this.animation=u.animation,this.destroyOnHide=u.destroyOnHide,this.orientation=u.orientation,this.roles=u.roles,this.keyboard=u.keyboard}click(n){n.disabled||this._updateActiveId(n.id)}onKeyDown(n){if("tablist"!==this.roles||!this.keyboard)return;const u=n.which,b=this.links.filter(X=>!X.navItem.disabled),{length:T}=b;let q=-1;if(b.forEach((X,de)=>{X.elRef.nativeElement===this._document.activeElement&&(q=de)}),T){switch(u){case Kn.ArrowLeft:if("vertical"===this.orientation)return;q=(q-1+T)%T;break;case Kn.ArrowRight:if("vertical"===this.orientation)return;q=(q+1)%T;break;case Kn.ArrowDown:if("horizontal"===this.orientation)return;q=(q+1)%T;break;case Kn.ArrowUp:if("horizontal"===this.orientation)return;q=(q-1+T)%T;break;case Kn.Home:q=0;break;case Kn.End:q=T-1}"changeWithArrows"===this.keyboard&&this.select(b[q].navItem.id),b[q].elRef.nativeElement.focus(),n.preventDefault()}}select(n){this._updateActiveId(n,!1)}ngAfterContentInit(){if(!ro(this.activeId)){const n=this.items.first?this.items.first.id:null;bh(n)&&(this._updateActiveId(n,!1),this._cd.detectChanges())}this.items.changes.pipe(vt(this.destroy$)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:n}){n&&!n.firstChange&&this._notifyItemChanged(n.currentValue)}ngOnDestroy(){this.destroy$.next()}_updateActiveId(n,u=!0){if(this.activeId!==n){let b=!1;u&&this.navChange.emit({activeId:this.activeId,nextId:n,preventDefault:()=>{b=!0}}),b||(this.activeId=n,this.activeIdChange.emit(n),this._notifyItemChanged(n))}}_notifyItemChanged(n){this.navItemChange$.next(this._getItemById(n))}_getItemById(n){return this.items&&this.items.find(u=>u.id===n)||null}}return c.\u0275fac=function(n){return new(n||c)(t.$8M("role"),t.Y36(Ha),t.Y36(t.sBO),t.Y36(I.K0))},c.\u0275dir=t.lG2({type:c,selectors:[["","ngbNav",""]],contentQueries:function(n,u,b){if(1&n&&(t.Suo(b,jl,4),t.Suo(b,Ic,5)),2&n){let T;t.iGM(T=t.CRH())&&(u.items=T),t.iGM(T=t.CRH())&&(u.links=T)}},hostVars:6,hostBindings:function(n,u){1&n&&t.NdJ("keydown.arrowLeft",function(T){return u.onKeyDown(T)})("keydown.arrowRight",function(T){return u.onKeyDown(T)})("keydown.arrowDown",function(T){return u.onKeyDown(T)})("keydown.arrowUp",function(T){return u.onKeyDown(T)})("keydown.Home",function(T){return u.onKeyDown(T)})("keydown.End",function(T){return u.onKeyDown(T)}),2&n&&(t.uIk("aria-orientation","vertical"===u.orientation&&"tablist"===u.roles?"vertical":void 0)("role",u.role?u.role:u.roles?"tablist":void 0),t.ekj("nav",!0)("flex-column","vertical"===u.orientation))},inputs:{animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard",activeId:"activeId"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],features:[t.TTD]}),c})(),Ic=(()=>{class c{constructor(n,u,b,T){this.role=n,this.navItem=u,this.nav=b,this.elRef=T}hasNavItemClass(){return this.navItem.elementRef.nativeElement.nodeType===Node.COMMENT_NODE}}return c.\u0275fac=function(n){return new(n||c)(t.$8M("role"),t.Y36(jl),t.Y36(Zu),t.Y36(t.SBq))},c.\u0275dir=t.lG2({type:c,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostVars:14,hostBindings:function(n,u){1&n&&t.NdJ("click",function(T){return u.nav.click(u.navItem),T.preventDefault()}),2&n&&(t.Ikx("id",u.navItem.domId),t.uIk("role",u.role?u.role:u.nav.roles?"tab":void 0)("tabindex",u.navItem.disabled?-1:void 0)("aria-controls",u.navItem.isPanelInDom()?u.navItem.panelDomId:null)("aria-selected",u.navItem.active)("aria-disabled",u.navItem.disabled),t.ekj("nav-link",!0)("nav-item",u.hasNavItemClass())("active",u.navItem.active)("disabled",u.navItem.disabled))}}),c})();const wh=({classList:c})=>(c.remove("show"),()=>c.remove("active")),Dd=(c,p)=>{p&&te(c),c.classList.add("show")};let Ac=(()=>{class c{constructor(n){this.elRef=n}}return c.\u0275fac=function(n){return new(n||c)(t.Y36(t.SBq))},c.\u0275dir=t.lG2({type:c,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(n,u){2&n&&(t.Ikx("id",u.item.panelDomId),t.uIk("role",u.role?u.role:u.nav.roles?"tabpanel":void 0)("aria-labelledby",u.item.domId),t.ekj("fade",u.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"}}),c})(),Oc=(()=>{class c{constructor(n,u){this._cd=n,this._ngZone=u,this._activePane=null}isPanelTransitioning(n){var u;return(null===(u=this._activePane)||void 0===u?void 0:u.item)===n}ngAfterViewInit(){var n;this._updateActivePane(),this.nav.navItemChange$.pipe(vt(this.nav.destroy$),(0,Ve.O)((null===(n=this._activePane)||void 0===n?void 0:n.item)||null),function Ht(c,p=Ge.y){return c=c??kt,(0,Ne.e)((n,u)=>{let b,T=!0;n.subscribe((0,Vt.x)(u,q=>{const X=p(q);(T||!c(b,X))&&(T=!1,b=X,u.next(q))}))})}(),(0,$n.T)(1)).subscribe(u=>{const b={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?fi(this._ngZone,this._activePane.elRef.nativeElement,wh,b).subscribe(()=>{var T;const q=null===(T=this._activePane)||void 0===T?void 0:T.item;this._activePane=this._getPaneForItem(u),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),fi(this._ngZone,this._activePane.elRef.nativeElement,Dd,b).subscribe(()=>{u&&(u.shown.emit(),this.nav.shown.emit(u.id))})),q&&(q.hidden.emit(),this.nav.hidden.emit(q.id))}):this._updateActivePane()})}_updateActivePane(){var n,u;this._activePane=this._getActivePane(),null===(n=this._activePane)||void 0===n||n.elRef.nativeElement.classList.add("show"),null===(u=this._activePane)||void 0===u||u.elRef.nativeElement.classList.add("active")}_getPaneForItem(n){return this._panes&&this._panes.find(u=>u.item===n)||null}_getActivePane(){return this._panes&&this._panes.find(n=>n.item.active)||null}}return c.\u0275fac=function(n){return new(n||c)(t.Y36(t.sBO),t.Y36(t.R0b))},c.\u0275cmp=t.Xpm({type:c,selectors:[["","ngbNavOutlet",""]],viewQuery:function(n,u){if(1&n&&t.Gf(Ac,5),2&n){let b;t.iGM(b=t.CRH())&&(u._panes=b)}},hostVars:2,hostBindings:function(n,u){2&n&&t.ekj("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},attrs:Aa,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,u){1&n&&t.YNc(0,jr,1,1,"ng-template",0),2&n&&t.Q6J("ngForOf",u.nav.items)},dependencies:[I.sg,I.O5,I.tP,Ac],encapsulation:2,changeDetection:0}),c})(),Yu=(()=>{class c{}return c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[I.ez]}),c})(),Lc=(()=>{class c{}return c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[I.ez]}),c})(),Gl=(()=>{class c{}return c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[I.ez]}),c})(),Eh=(()=>{class c{}return c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[I.ez]}),c})(),xh=(()=>{class c{}return c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[I.ez]}),c})(),Pd=(()=>{class c{}return c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[I.ez]}),c})(),Ih=(()=>{class c{}return c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[I.ez]}),c})(),_=(()=>{class c{}return c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({}),c})();new t.OlP("live announcer delay",{providedIn:"root",factory:function C(){return 100}});let Ce=(()=>{class c{}return c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[I.ez]}),c})();const Xe=[ou,Al,ws,Hs,hl,Hu,Wu,wd,Yu,Lc,Gl,Eh,xh,Pd,Ih,_,Ce];let lt=(()=>{class c{}return c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[Xe,ou,Al,ws,Hs,hl,Hu,Wu,wd,Yu,Lc,Gl,Eh,xh,Pd,Ih,_,Ce]}),c})();var ht=E(4553),rt=E(7340);function $t(c){return new t.vHH(3e3,!1)}function _l(){return typeof window<"u"&&typeof window.document<"u"}function vu(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function $a(c){switch(c.length){case 0:return new rt.ZN;case 1:return c[0];default:return new rt.ZE(c)}}function gs(c,p,n,u,b=new Map,T=new Map){const q=[],X=[];let de=-1,Se=null;if(u.forEach(Ze=>{const yt=Ze.get("offset"),Ft=yt==de,jt=Ft&&Se||new Map;Ze.forEach((an,pn)=>{let qn=pn,dr=an;if("offset"!==pn)switch(qn=p.normalizePropertyName(qn,q),dr){case rt.k1:dr=b.get(pn);break;case rt.l3:dr=T.get(pn);break;default:dr=p.normalizeStyleValue(pn,qn,dr,q)}jt.set(qn,dr)}),Ft||X.push(jt),Se=jt,de=yt}),q.length)throw function Xo(c){return new t.vHH(3502,!1)}();return X}function _u(c,p,n,u){switch(p){case"start":c.onStart(()=>u(n&&zc(n,"start",c)));break;case"done":c.onDone(()=>u(n&&zc(n,"done",c)));break;case"destroy":c.onDestroy(()=>u(n&&zc(n,"destroy",c)))}}function zc(c,p,n){const T=Jr(c.element,c.triggerName,c.fromState,c.toState,p||c.phaseName,n.totalTime??c.totalTime,!!n.disabled),q=c._data;return null!=q&&(T._data=q),T}function Jr(c,p,n,u,b="",T=0,q){return{element:c,triggerName:p,fromState:n,toState:u,phaseName:b,totalTime:T,disabled:!!q}}function Di(c,p,n){let u=c.get(p);return u||c.set(p,u=n),u}function Xi(c){const p=c.indexOf(":");return[c.substring(1,p),c.slice(p+1)]}let Ga=(c,p)=>!1,Ju=(c,p,n)=>[],Qu=null;function zo(c){const p=c.parentNode||c.host;return p===Qu?null:p}(vu()||typeof Element<"u")&&(_l()?(Qu=(()=>document.documentElement)(),Ga=(c,p)=>{for(;p;){if(p===c)return!0;p=zo(p)}return!1}):Ga=(c,p)=>c.contains(p),Ju=(c,p,n)=>{if(n)return Array.from(c.querySelectorAll(p));const u=c.querySelector(p);return u?[u]:[]});let bl=null,bu=!1;const Xu=Ga,eo=Ju;let Hp=(()=>{class c{validateStyleProperty(n){return function wu(c){bl||(bl=function Cu(){return typeof document<"u"?document.body:null}()||{},bu=!!bl.style&&"WebkitAppearance"in bl.style);let p=!0;return bl.style&&!function Yl(c){return"ebkit"==c.substring(1,6)}(c)&&(p=c in bl.style,!p&&bu&&(p="Webkit"+c.charAt(0).toUpperCase()+c.slice(1)in bl.style)),p}(n)}matchesElement(n,u){return!1}containsElement(n,u){return Xu(n,u)}getParentElement(n){return zo(n)}query(n,u,b){return eo(n,u,b)}computeStyle(n,u,b){return b||""}animate(n,u,b,T,q,X=[],de){return new rt.ZN(b,T)}}return c.\u0275fac=function(n){return new(n||c)},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac}),c})(),ec=(()=>{class c{}return c.NOOP=new Hp,c})();const sg=1e3,kh="ng-enter",Rh="ng-leave",jc="ng-trigger",$p=".ng-trigger",jm="ng-animating",tc=".ng-animating";function Ys(c){if("number"==typeof c)return c;const p=c.match(/^(-?[\.\d]+)(m?s)/);return!p||p.length<2?0:Ld(parseFloat(p[1]),p[2])}function Ld(c,p){return"s"===p?c*sg:c}function Bd(c,p,n){return c.hasOwnProperty("duration")?c:function ug(c,p,n){let b,T=0,q="";if("string"==typeof c){const X=c.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===X)return p.push($t()),{duration:0,delay:0,easing:""};b=Ld(parseFloat(X[1]),X[2]);const de=X[3];null!=de&&(T=Ld(parseFloat(de),X[4]));const Se=X[5];Se&&(q=Se)}else b=c;if(!n){let X=!1,de=p.length;b<0&&(p.push(function tn(){return new t.vHH(3100,!1)}()),X=!0),T<0&&(p.push(function qt(){return new t.vHH(3101,!1)}()),X=!0),X&&p.splice(de,0,$t())}return{duration:b,delay:T,easing:q}}(c,p,n)}function Vd(c,p={}){return Object.keys(c).forEach(n=>{p[n]=c[n]}),p}function cg(c){const p=new Map;return Object.keys(c).forEach(n=>{p.set(n,c[n])}),p}function wl(c,p=new Map,n){if(n)for(let[u,b]of n)p.set(u,b);for(let[u,b]of c)p.set(u,b);return p}function Hm(c,p,n){return n?p+":"+n+";":""}function Fh(c){let p="";for(let n=0;n<c.style.length;n++){const u=c.style.item(n);p+=Hm(0,u,c.style.getPropertyValue(u))}for(const n in c.style)c.style.hasOwnProperty(n)&&!n.startsWith("_")&&(p+=Hm(0,Lh(n),c.style[n]));c.setAttribute("style",p)}function Cl(c,p,n){c.style&&(p.forEach((u,b)=>{const T=Ud(b);n&&!n.has(b)&&n.set(b,c.style[T]),c.style[T]=u}),vu()&&Fh(c))}function Kl(c,p){c.style&&(p.forEach((n,u)=>{const b=Ud(u);c.style[b]=""}),vu()&&Fh(c))}function Hc(c){return Array.isArray(c)?1==c.length?c[0]:(0,rt.vP)(c):c}const Jl=new RegExp("{{\\s*(.+?)\\s*}}","g");function pg(c){let p=[];if("string"==typeof c){let n;for(;n=Jl.exec(c);)p.push(n[1]);Jl.lastIndex=0}return p}function nc(c,p,n){const u=c.toString(),b=u.replace(Jl,(T,q)=>{let X=p[q];return null==X&&(n.push(function ln(c){return new t.vHH(3003,!1)}()),X=""),X.toString()});return b==u?c:b}function rc(c){const p=[];let n=c.next();for(;!n.done;)p.push(n.value),n=c.next();return p}const $m=/-+([a-z0-9])/g;function Ud(c){return c.replace($m,(...p)=>p[1].toUpperCase())}function Lh(c){return c.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ta(c,p,n){switch(p.type){case 7:return c.visitTrigger(p,n);case 0:return c.visitState(p,n);case 1:return c.visitTransition(p,n);case 2:return c.visitSequence(p,n);case 3:return c.visitGroup(p,n);case 4:return c.visitAnimate(p,n);case 5:return c.visitKeyframes(p,n);case 6:return c.visitStyle(p,n);case 8:return c.visitReference(p,n);case 9:return c.visitAnimateChild(p,n);case 10:return c.visitAnimateRef(p,n);case 11:return c.visitQuery(p,n);case 12:return c.visitStagger(p,n);default:throw function hn(c){return new t.vHH(3004,!1)}()}}function gg(c,p){return window.getComputedStyle(c)[p]}const jd="*";function qp(c,p){const n=[];return"string"==typeof c?c.split(/\s*,\s*/).forEach(u=>function vg(c,p,n){if(":"==c[0]){const de=function Zp(c,p){switch(c){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,u)=>parseFloat(u)>parseFloat(n);case":decrement":return(n,u)=>parseFloat(u)<parseFloat(n);default:return p.push(function Pi(c){return new t.vHH(3016,!1)}()),"* => *"}}(c,n);if("function"==typeof de)return void p.push(de);c=de}const u=c.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==u||u.length<4)return n.push(function Uo(c){return new t.vHH(3015,!1)}()),p;const b=u[1],T=u[2],q=u[3];p.push(oc(b,q));"<"==T[0]&&!(b==jd&&q==jd)&&p.push(oc(q,b))}(u,n,p)):n.push(c),n}const Vh=new Set(["true","1"]),Hd=new Set(["false","0"]);function oc(c,p){const n=Vh.has(c)||Hd.has(c),u=Vh.has(p)||Hd.has(p);return(b,T)=>{let q=c==jd||c==b,X=p==jd||p==T;return!q&&n&&"boolean"==typeof b&&(q=b?Vh.has(c):Hd.has(c)),!X&&u&&"boolean"==typeof T&&(X=T?Vh.has(p):Hd.has(p)),q&&X}}const ac=new RegExp("s*:selfs*,?","g");function Du(c,p,n,u){return new Jp(c).build(p,n,u)}class Jp{constructor(p){this._driver=p}build(p,n,u){const b=new Qp(n);return this._resetContextStyleTimingState(b),Ta(this,Hc(p),b)}_resetContextStyleTimingState(p){p.currentQuerySelector="",p.collectedStyles=new Map,p.collectedStyles.set("",new Map),p.currentTime=0}visitTrigger(p,n){let u=n.queryCount=0,b=n.depCount=0;const T=[],q=[];return"@"==p.name.charAt(0)&&n.errors.push(function Wn(){return new t.vHH(3006,!1)}()),p.definitions.forEach(X=>{if(this._resetContextStyleTimingState(n),0==X.type){const de=X,Se=de.name;Se.toString().split(/\s*,\s*/).forEach(Ze=>{de.name=Ze,T.push(this.visitState(de,n))}),de.name=Se}else if(1==X.type){const de=this.visitTransition(X,n);u+=de.queryCount,b+=de.depCount,q.push(de)}else n.errors.push(function kn(){return new t.vHH(3007,!1)}())}),{type:7,name:p.name,states:T,transitions:q,queryCount:u,depCount:b,options:null}}visitState(p,n){const u=this.visitStyle(p.styles,n),b=p.options&&p.options.params||null;if(u.containsDynamicStyles){const T=new Set,q=b||{};u.styles.forEach(X=>{X instanceof Map&&X.forEach(de=>{pg(de).forEach(Se=>{q.hasOwnProperty(Se)||T.add(Se)})})}),T.size&&(rc(T.values()),n.errors.push(function Yr(c,p){return new t.vHH(3008,!1)}()))}return{type:0,name:p.name,style:u,options:b?{params:b}:null}}visitTransition(p,n){n.queryCount=0,n.depCount=0;const u=Ta(this,Hc(p.animation),n);return{type:1,matchers:qp(p.expr,n.errors),animation:u,queryCount:n.queryCount,depCount:n.depCount,options:Ks(p.options)}}visitSequence(p,n){return{type:2,steps:p.steps.map(u=>Ta(this,u,n)),options:Ks(p.options)}}visitGroup(p,n){const u=n.currentTime;let b=0;const T=p.steps.map(q=>{n.currentTime=u;const X=Ta(this,q,n);return b=Math.max(b,n.currentTime),X});return n.currentTime=b,{type:3,steps:T,options:Ks(p.options)}}visitAnimate(p,n){const u=function wg(c,p){if(c.hasOwnProperty("duration"))return c;if("number"==typeof c)return Gc(Bd(c,p).duration,0,"");const n=c;if(n.split(/\s+/).some(T=>"{"==T.charAt(0)&&"{"==T.charAt(1))){const T=Gc(0,0,"");return T.dynamic=!0,T.strValue=n,T}const b=Bd(n,p);return Gc(b.duration,b.delay,b.easing)}(p.timings,n.errors);n.currentAnimateTimings=u;let b,T=p.styles?p.styles:(0,rt.oB)({});if(5==T.type)b=this.visitKeyframes(T,n);else{let q=p.styles,X=!1;if(!q){X=!0;const Se={};u.easing&&(Se.easing=u.easing),q=(0,rt.oB)(Se)}n.currentTime+=u.duration+u.delay;const de=this.visitStyle(q,n);de.isEmptyStep=X,b=de}return n.currentAnimateTimings=null,{type:4,timings:u,style:b,options:null}}visitStyle(p,n){const u=this._makeStyleAst(p,n);return this._validateStyleAst(u,n),u}_makeStyleAst(p,n){const u=[],b=Array.isArray(p.styles)?p.styles:[p.styles];for(let X of b)"string"==typeof X?X===rt.l3?u.push(X):n.errors.push(new t.vHH(3002,!1)):u.push(cg(X));let T=!1,q=null;return u.forEach(X=>{if(X instanceof Map&&(X.has("easing")&&(q=X.get("easing"),X.delete("easing")),!T))for(let de of X.values())if(de.toString().indexOf("{{")>=0){T=!0;break}}),{type:6,styles:u,easing:q,offset:p.offset,containsDynamicStyles:T,options:null}}_validateStyleAst(p,n){const u=n.currentAnimateTimings;let b=n.currentTime,T=n.currentTime;u&&T>0&&(T-=u.duration+u.delay),p.styles.forEach(q=>{"string"!=typeof q&&q.forEach((X,de)=>{const Se=n.collectedStyles.get(n.currentQuerySelector),Ze=Se.get(de);let yt=!0;Ze&&(T!=b&&T>=Ze.startTime&&b<=Ze.endTime&&(n.errors.push(function Kr(c,p,n,u,b){return new t.vHH(3010,!1)}()),yt=!1),T=Ze.startTime),yt&&Se.set(de,{startTime:T,endTime:b}),n.options&&function hg(c,p,n){const u=p.params||{},b=pg(c);b.length&&b.forEach(T=>{u.hasOwnProperty(T)||n.push(function Kt(c){return new t.vHH(3001,!1)}())})}(X,n.options,n.errors)})})}visitKeyframes(p,n){const u={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function jn(){return new t.vHH(3011,!1)}()),u;let T=0;const q=[];let X=!1,de=!1,Se=0;const Ze=p.steps.map(dr=>{const Br=this._makeStyleAst(dr,n);let go=null!=Br.offset?Br.offset:function Xp(c){if("string"==typeof c)return null;let p=null;if(Array.isArray(c))c.forEach(n=>{if(n instanceof Map&&n.has("offset")){const u=n;p=parseFloat(u.get("offset")),u.delete("offset")}});else if(c instanceof Map&&c.has("offset")){const n=c;p=parseFloat(n.get("offset")),n.delete("offset")}return p}(Br.styles),oo=0;return null!=go&&(T++,oo=Br.offset=go),de=de||oo<0||oo>1,X=X||oo<Se,Se=oo,q.push(oo),Br});de&&n.errors.push(function oi(){return new t.vHH(3012,!1)}()),X&&n.errors.push(function Ci(){return new t.vHH(3200,!1)}());const yt=p.steps.length;let Ft=0;T>0&&T<yt?n.errors.push(function Ni(){return new t.vHH(3202,!1)}()):0==T&&(Ft=1/(yt-1));const jt=yt-1,an=n.currentTime,pn=n.currentAnimateTimings,qn=pn.duration;return Ze.forEach((dr,Br)=>{const go=Ft>0?Br==jt?1:Ft*Br:q[Br],oo=go*qn;n.currentTime=an+pn.delay+oo,pn.duration=oo,this._validateStyleAst(dr,n),dr.offset=go,u.styles.push(dr)}),u}visitReference(p,n){return{type:8,animation:Ta(this,Hc(p.animation),n),options:Ks(p.options)}}visitAnimateChild(p,n){return n.depCount++,{type:9,options:Ks(p.options)}}visitAnimateRef(p,n){return{type:10,animation:this.visitReference(p.animation,n),options:Ks(p.options)}}visitQuery(p,n){const u=n.currentQuerySelector,b=p.options||{};n.queryCount++,n.currentQuery=p;const[T,q]=function _g(c){const p=!!c.split(/\s*,\s*/).find(n=>":self"==n);return p&&(c=c.replace(ac,"")),c=c.replace(/@\*/g,$p).replace(/@\w+/g,n=>$p+"-"+n.slice(1)).replace(/:animating/g,tc),[c,p]}(p.selector);n.currentQuerySelector=u.length?u+" "+T:T,Di(n.collectedStyles,n.currentQuerySelector,new Map);const X=Ta(this,Hc(p.animation),n);return n.currentQuery=null,n.currentQuerySelector=u,{type:11,selector:T,limit:b.limit||0,optional:!!b.optional,includeSelf:q,animation:X,originalSelector:p.selector,options:Ks(p.options)}}visitStagger(p,n){n.currentQuery||n.errors.push(function Ji(){return new t.vHH(3013,!1)}());const u="full"===p.timings?{duration:0,delay:0,easing:"full"}:Bd(p.timings,n.errors,!0);return{type:12,animation:Ta(this,Hc(p.animation),n),timings:u,options:null}}}class Qp{constructor(p){this.errors=p,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ks(c){return c?(c=Vd(c)).params&&(c.params=function bg(c){return c?Vd(c):null}(c.params)):c={},c}function Gc(c,p,n){return{duration:c,delay:p,easing:n}}function Uh(c,p,n,u,b,T,q=null,X=!1){return{type:1,element:c,keyframes:p,preStyleProps:n,postStyleProps:u,duration:b,delay:T,totalTime:b+T,easing:q,subTimeline:X}}class sc{constructor(){this._map=new Map}get(p){return this._map.get(p)||[]}append(p,n){let u=this._map.get(p);u||this._map.set(p,u=[]),u.push(...n)}has(p){return this._map.has(p)}clear(){this._map.clear()}}const Dg=new RegExp(":enter","g"),xg=new RegExp(":leave","g");function $d(c,p,n,u,b,T=new Map,q=new Map,X,de,Se=[]){return(new ef).buildKeyframes(c,p,n,u,b,T,q,X,de,Se)}class ef{buildKeyframes(p,n,u,b,T,q,X,de,Se,Ze=[]){Se=Se||new sc;const yt=new Eu(p,n,Se,b,T,Ze,[]);yt.options=de;const Ft=de.delay?Ys(de.delay):0;yt.currentTimeline.delayNextStep(Ft),yt.currentTimeline.setStyles([q],null,yt.errors,de),Ta(this,u,yt);const jt=yt.timelines.filter(an=>an.containsAnimation());if(jt.length&&X.size){let an;for(let pn=jt.length-1;pn>=0;pn--){const qn=jt[pn];if(qn.element===n){an=qn;break}}an&&!an.allowOnlyTimelineStyles()&&an.setStyles([X],null,yt.errors,de)}return jt.length?jt.map(an=>an.buildKeyframes()):[Uh(n,[],[],[],0,Ft,"",!1)]}visitTrigger(p,n){}visitState(p,n){}visitTransition(p,n){}visitAnimateChild(p,n){const u=n.subInstructions.get(n.element);if(u){const b=n.createSubContext(p.options),T=n.currentTimeline.currentTime,q=this._visitSubInstructions(u,b,b.options);T!=q&&n.transformIntoNewTimeline(q)}n.previousNode=p}visitAnimateRef(p,n){const u=n.createSubContext(p.options);u.transformIntoNewTimeline(),this._applyAnimationRefDelays([p.options,p.animation.options],n,u),this.visitReference(p.animation,u),n.transformIntoNewTimeline(u.currentTimeline.currentTime),n.previousNode=p}_applyAnimationRefDelays(p,n,u){for(const b of p){const T=b?.delay;if(T){const q="number"==typeof T?T:Ys(nc(T,b?.params??{},n.errors));u.delayNextStep(q)}}}_visitSubInstructions(p,n,u){let T=n.currentTimeline.currentTime;const q=null!=u.duration?Ys(u.duration):null,X=null!=u.delay?Ys(u.delay):null;return 0!==q&&p.forEach(de=>{const Se=n.appendInstructionToTimeline(de,q,X);T=Math.max(T,Se.duration+Se.delay)}),T}visitReference(p,n){n.updateOptions(p.options,!0),Ta(this,p.animation,n),n.previousNode=p}visitSequence(p,n){const u=n.subContextCount;let b=n;const T=p.options;if(T&&(T.params||T.delay)&&(b=n.createSubContext(T),b.transformIntoNewTimeline(),null!=T.delay)){6==b.previousNode.type&&(b.currentTimeline.snapshotCurrentStyles(),b.previousNode=zh);const q=Ys(T.delay);b.delayNextStep(q)}p.steps.length&&(p.steps.forEach(q=>Ta(this,q,b)),b.currentTimeline.applyStylesToKeyframe(),b.subContextCount>u&&b.transformIntoNewTimeline()),n.previousNode=p}visitGroup(p,n){const u=[];let b=n.currentTimeline.currentTime;const T=p.options&&p.options.delay?Ys(p.options.delay):0;p.steps.forEach(q=>{const X=n.createSubContext(p.options);T&&X.delayNextStep(T),Ta(this,q,X),b=Math.max(b,X.currentTimeline.currentTime),u.push(X.currentTimeline)}),u.forEach(q=>n.currentTimeline.mergeTimelineCollectedStyles(q)),n.transformIntoNewTimeline(b),n.previousNode=p}_visitTiming(p,n){if(p.dynamic){const u=p.strValue;return Bd(n.params?nc(u,n.params,n.errors):u,n.errors)}return{duration:p.duration,delay:p.delay,easing:p.easing}}visitAnimate(p,n){const u=n.currentAnimateTimings=this._visitTiming(p.timings,n),b=n.currentTimeline;u.delay&&(n.incrementTime(u.delay),b.snapshotCurrentStyles());const T=p.style;5==T.type?this.visitKeyframes(T,n):(n.incrementTime(u.duration),this.visitStyle(T,n),b.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=p}visitStyle(p,n){const u=n.currentTimeline,b=n.currentAnimateTimings;!b&&u.hasCurrentStyleProperties()&&u.forwardFrame();const T=b&&b.easing||p.easing;p.isEmptyStep?u.applyEmptyStep(T):u.setStyles(p.styles,T,n.errors,n.options),n.previousNode=p}visitKeyframes(p,n){const u=n.currentAnimateTimings,b=n.currentTimeline.duration,T=u.duration,X=n.createSubContext().currentTimeline;X.easing=u.easing,p.styles.forEach(de=>{X.forwardTime((de.offset||0)*T),X.setStyles(de.styles,de.easing,n.errors,n.options),X.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(X),n.transformIntoNewTimeline(b+T),n.previousNode=p}visitQuery(p,n){const u=n.currentTimeline.currentTime,b=p.options||{},T=b.delay?Ys(b.delay):0;T&&(6===n.previousNode.type||0==u&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=zh);let q=u;const X=n.invokeQuery(p.selector,p.originalSelector,p.limit,p.includeSelf,!!b.optional,n.errors);n.currentQueryTotal=X.length;let de=null;X.forEach((Se,Ze)=>{n.currentQueryIndex=Ze;const yt=n.createSubContext(p.options,Se);T&&yt.delayNextStep(T),Se===n.element&&(de=yt.currentTimeline),Ta(this,p.animation,yt),yt.currentTimeline.applyStylesToKeyframe(),q=Math.max(q,yt.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(q),de&&(n.currentTimeline.mergeTimelineCollectedStyles(de),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=p}visitStagger(p,n){const u=n.parentContext,b=n.currentTimeline,T=p.timings,q=Math.abs(T.duration),X=q*(n.currentQueryTotal-1);let de=q*n.currentQueryIndex;switch(T.duration<0?"reverse":T.easing){case"reverse":de=X-de;break;case"full":de=u.currentStaggerTime}const Ze=n.currentTimeline;de&&Ze.delayNextStep(de);const yt=Ze.currentTime;Ta(this,p.animation,n),n.previousNode=p,u.currentStaggerTime=b.currentTime-yt+(b.startTime-u.currentTimeline.startTime)}}const zh={};class Eu{constructor(p,n,u,b,T,q,X,de){this._driver=p,this.element=n,this.subInstructions=u,this._enterClassName=b,this._leaveClassName=T,this.errors=q,this.timelines=X,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=zh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=de||new Ms(this._driver,n,0),X.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(p,n){if(!p)return;const u=p;let b=this.options;null!=u.duration&&(b.duration=Ys(u.duration)),null!=u.delay&&(b.delay=Ys(u.delay));const T=u.params;if(T){let q=b.params;q||(q=this.options.params={}),Object.keys(T).forEach(X=>{(!n||!q.hasOwnProperty(X))&&(q[X]=nc(T[X],q,this.errors))})}}_copyOptions(){const p={};if(this.options){const n=this.options.params;if(n){const u=p.params={};Object.keys(n).forEach(b=>{u[b]=n[b]})}}return p}createSubContext(p=null,n,u){const b=n||this.element,T=new Eu(this._driver,b,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(b,u||0));return T.previousNode=this.previousNode,T.currentAnimateTimings=this.currentAnimateTimings,T.options=this._copyOptions(),T.updateOptions(p),T.currentQueryIndex=this.currentQueryIndex,T.currentQueryTotal=this.currentQueryTotal,T.parentContext=this,this.subContextCount++,T}transformIntoNewTimeline(p){return this.previousNode=zh,this.currentTimeline=this.currentTimeline.fork(this.element,p),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(p,n,u){const b={duration:n??p.duration,delay:this.currentTimeline.currentTime+(u??0)+p.delay,easing:""},T=new Wm(this._driver,p.element,p.keyframes,p.preStyleProps,p.postStyleProps,b,p.stretchStartingKeyframe);return this.timelines.push(T),b}incrementTime(p){this.currentTimeline.forwardTime(this.currentTimeline.duration+p)}delayNextStep(p){p>0&&this.currentTimeline.delayNextStep(p)}invokeQuery(p,n,u,b,T,q){let X=[];if(b&&X.push(this.element),p.length>0){p=(p=p.replace(Dg,"."+this._enterClassName)).replace(xg,"."+this._leaveClassName);let Se=this._driver.query(this.element,p,1!=u);0!==u&&(Se=u<0?Se.slice(Se.length+u,Se.length):Se.slice(0,u)),X.push(...Se)}return!T&&0==X.length&&q.push(function Qi(c){return new t.vHH(3014,!1)}()),X}}class Ms{constructor(p,n,u,b){this._driver=p,this.element=n,this.startTime=u,this._elementTimelineStylesLookup=b,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(p){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+p),n&&this.snapshotCurrentStyles()):this.startTime+=p}fork(p,n){return this.applyStylesToKeyframe(),new Ms(this._driver,p,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(p){this.applyStylesToKeyframe(),this.duration=p,this._loadKeyframe()}_updateStyle(p,n){this._localTimelineStyles.set(p,n),this._globalTimelineStyles.set(p,n),this._styleSummary.set(p,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(p){p&&this._previousKeyframe.set("easing",p);for(let[n,u]of this._globalTimelineStyles)this._backFill.set(n,u||rt.l3),this._currentKeyframe.set(n,rt.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(p,n,u,b){n&&this._previousKeyframe.set("easing",n);const T=b&&b.params||{},q=function qm(c,p){const n=new Map;let u;return c.forEach(b=>{if("*"===b){u=u||p.keys();for(let T of u)n.set(T,rt.l3)}else wl(b,n)}),n}(p,this._globalTimelineStyles);for(let[X,de]of q){const Se=nc(de,T,u);this._pendingStyles.set(X,Se),this._localTimelineStyles.has(X)||this._backFill.set(X,this._globalTimelineStyles.get(X)??rt.l3),this._updateStyle(X,Se)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((p,n)=>{this._currentKeyframe.set(n,p)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((p,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,p)}))}snapshotCurrentStyles(){for(let[p,n]of this._localTimelineStyles)this._pendingStyles.set(p,n),this._updateStyle(p,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const p=[];for(let n in this._currentKeyframe)p.push(n);return p}mergeTimelineCollectedStyles(p){p._styleSummary.forEach((n,u)=>{const b=this._styleSummary.get(u);(!b||n.time>b.time)&&this._updateStyle(u,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const p=new Set,n=new Set,u=1===this._keyframes.size&&0===this.duration;let b=[];this._keyframes.forEach((X,de)=>{const Se=wl(X,new Map,this._backFill);Se.forEach((Ze,yt)=>{Ze===rt.k1?p.add(yt):Ze===rt.l3&&n.add(yt)}),u||Se.set("offset",de/this.duration),b.push(Se)});const T=p.size?rc(p.values()):[],q=n.size?rc(n.values()):[];if(u){const X=b[0],de=new Map(X);X.set("offset",0),de.set("offset",1),b=[X,de]}return Uh(this.element,b,T,q,this.duration,this.startTime,this.easing,!1)}}class Wm extends Ms{constructor(p,n,u,b,T,q,X=!1){super(p,n,q.delay),this.keyframes=u,this.preStyleProps=b,this.postStyleProps=T,this._stretchStartingKeyframe=X,this.timings={duration:q.duration,delay:q.delay,easing:q.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let p=this.keyframes,{delay:n,duration:u,easing:b}=this.timings;if(this._stretchStartingKeyframe&&n){const T=[],q=u+n,X=n/q,de=wl(p[0]);de.set("offset",0),T.push(de);const Se=wl(p[0]);Se.set("offset",Gd(X)),T.push(Se);const Ze=p.length-1;for(let yt=1;yt<=Ze;yt++){let Ft=wl(p[yt]);const jt=Ft.get("offset");Ft.set("offset",Gd((n+jt*u)/q)),T.push(Ft)}u=q,n=0,b="",p=T}return Uh(this.element,p,this.preStyleProps,this.postStyleProps,u,n,b,!0)}}function Gd(c,p=3){const n=Math.pow(10,p-1);return Math.round(c*n)/n}class Wd{}const qc=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Zc extends Wd{normalizePropertyName(p,n){return Ud(p)}normalizeStyleValue(p,n,u,b){let T="";const q=u.toString().trim();if(qc.has(n)&&0!==u&&"0"!==u)if("number"==typeof u)T="px";else{const X=u.match(/^[+-]?[\d\.]+([a-z]*)$/);X&&0==X[1].length&&b.push(function xn(c,p){return new t.vHH(3005,!1)}())}return q+T}}function Sg(c,p,n,u,b,T,q,X,de,Se,Ze,yt,Ft){return{type:0,element:c,triggerName:p,isRemovalTransition:b,fromState:n,fromStyles:T,toState:u,toStyles:q,timelines:X,queriedElements:de,preStyleProps:Se,postStyleProps:Ze,totalTime:yt,errors:Ft}}const jh={};class qd{constructor(p,n,u){this._triggerName=p,this.ast=n,this._stateStyles=u}match(p,n,u,b){return function Js(c,p,n,u,b){return c.some(T=>T(p,n,u,b))}(this.ast.matchers,p,n,u,b)}buildStyles(p,n,u){let b=this._stateStyles.get("*");return void 0!==p&&(b=this._stateStyles.get(p?.toString())||b),b?b.buildStyles(n,u):new Map}build(p,n,u,b,T,q,X,de,Se,Ze){const yt=[],Ft=this.ast.options&&this.ast.options.params||jh,an=this.buildStyles(u,X&&X.params||jh,yt),pn=de&&de.params||jh,qn=this.buildStyles(b,pn,yt),dr=new Set,Br=new Map,go=new Map,oo="void"===b,vs={params:Tg(pn,Ft),delay:this.ast.options?.delay},ha=Ze?[]:$d(p,n,this.ast.animation,T,q,an,qn,vs,Se,yt);let ki=0;if(ha.forEach(eu=>{ki=Math.max(eu.duration+eu.delay,ki)}),yt.length)return Sg(n,this._triggerName,u,b,oo,an,qn,[],[],Br,go,ki,yt);ha.forEach(eu=>{const tl=eu.element,tu=Di(Br,tl,new Set);eu.preStyleProps.forEach(yc=>tu.add(yc));const mc=Di(go,tl,new Set);eu.postStyleProps.forEach(yc=>mc.add(yc)),tl!==n&&dr.add(tl)});const To=rc(dr.values());return Sg(n,this._triggerName,u,b,oo,an,qn,ha,To,Br,go,ki)}}function Tg(c,p){const n=Vd(p);for(const u in c)c.hasOwnProperty(u)&&null!=c[u]&&(n[u]=c[u]);return n}class Zd{constructor(p,n,u){this.styles=p,this.defaultParams=n,this.normalizer=u}buildStyles(p,n){const u=new Map,b=Vd(this.defaultParams);return Object.keys(p).forEach(T=>{const q=p[T];null!==q&&(b[T]=q)}),this.styles.styles.forEach(T=>{"string"!=typeof T&&T.forEach((q,X)=>{q&&(q=nc(q,b,n));const de=this.normalizer.normalizePropertyName(X,n);q=this.normalizer.normalizeStyleValue(X,de,q,n),u.set(X,q)})}),u}}class Zm{constructor(p,n,u){this.name=p,this.ast=n,this._normalizer=u,this.transitionFactories=[],this.states=new Map,n.states.forEach(b=>{this.states.set(b.name,new Zd(b.style,b.options&&b.options.params||{},u))}),Mg(this.states,"true","1"),Mg(this.states,"false","0"),n.transitions.forEach(b=>{this.transitionFactories.push(new qd(p,b,this.states))}),this.fallbackTransition=function Ym(c,p,n){return new qd(c,{type:1,animation:{type:2,steps:[],options:null},matchers:[(q,X)=>!0],options:null,queryCount:0,depCount:0},p)}(p,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(p,n,u,b){return this.transitionFactories.find(q=>q.match(p,n,u,b))||null}matchStyles(p,n,u){return this.fallbackTransition.buildStyles(p,n,u)}}function Mg(c,p,n){c.has(p)?c.has(n)||c.set(n,c.get(p)):c.has(n)&&c.set(p,c.get(n))}const Hh=new sc;class Ig{constructor(p,n,u){this.bodyNode=p,this._driver=n,this._normalizer=u,this._animations=new Map,this._playersById=new Map,this.players=[]}register(p,n){const u=[],b=[],T=Du(this._driver,n,u,b);if(u.length)throw function ql(c){return new t.vHH(3503,!1)}();this._animations.set(p,T)}_buildPlayer(p,n,u){const b=p.element,T=gs(0,this._normalizer,0,p.keyframes,n,u);return this._driver.animate(b,T,p.duration,p.delay,p.easing,[],!0)}create(p,n,u={}){const b=[],T=this._animations.get(p);let q;const X=new Map;if(T?(q=$d(this._driver,n,T,kh,Rh,new Map,new Map,u,Hh,b),q.forEach(Ze=>{const yt=Di(X,Ze.element,new Map);Ze.postStyleProps.forEach(Ft=>yt.set(Ft,null))})):(b.push(function vl(){return new t.vHH(3300,!1)}()),q=[]),b.length)throw function Rd(c){return new t.vHH(3504,!1)}();X.forEach((Ze,yt)=>{Ze.forEach((Ft,jt)=>{Ze.set(jt,this._driver.computeStyle(yt,jt,rt.l3))})});const Se=$a(q.map(Ze=>{const yt=X.get(Ze.element);return this._buildPlayer(Ze,new Map,yt)}));return this._playersById.set(p,Se),Se.onDestroy(()=>this.destroy(p)),this.players.push(Se),Se}destroy(p){const n=this._getPlayer(p);n.destroy(),this._playersById.delete(p);const u=this.players.indexOf(n);u>=0&&this.players.splice(u,1)}_getPlayer(p){const n=this._playersById.get(p);if(!n)throw function Vp(c){return new t.vHH(3301,!1)}();return n}listen(p,n,u,b){const T=Jr(n,"","","");return _u(this._getPlayer(p),u,T,b),()=>{}}command(p,n,u,b){if("register"==u)return void this.register(p,b[0]);if("create"==u)return void this.create(p,n,b[0]||{});const T=this._getPlayer(p);switch(u){case"play":T.play();break;case"pause":T.pause();break;case"reset":T.reset();break;case"restart":T.restart();break;case"finish":T.finish();break;case"init":T.init();break;case"setPosition":T.setPosition(parseFloat(b[0]));break;case"destroy":this.destroy(p)}}}const nf="ng-animate-queued",tr="ng-animate-disabled",Jm=[],Og={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Pg={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Is="__ng_removed";class Yd{get params(){return this.options.params}constructor(p,n=""){this.namespaceId=n;const u=p&&p.hasOwnProperty("value");if(this.value=function Qm(c){return c??null}(u?p.value:p),u){const T=Vd(p);delete T.value,this.options=T}else this.options={};this.options.params||(this.options.params={})}absorbOptions(p){const n=p.params;if(n){const u=this.options.params;Object.keys(n).forEach(b=>{null==u[b]&&(u[b]=n[b])})}}}const Ql="void",Kd=new Yd(Ql);class kg{constructor(p,n,u){this.id=p,this.hostElement=n,this._engine=u,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+p,As(n,this._hostClassName)}listen(p,n,u,b){if(!this._triggers.has(n))throw function Up(c,p){return new t.vHH(3302,!1)}();if(null==u||0==u.length)throw function Uc(c){return new t.vHH(3303,!1)}();if(!function lf(c){return"start"==c||"done"==c}(u))throw function Oh(c,p){return new t.vHH(3400,!1)}();const T=Di(this._elementListeners,p,[]),q={name:n,phase:u,callback:b};T.push(q);const X=Di(this._engine.statesByElement,p,new Map);return X.has(n)||(As(p,jc),As(p,jc+"-"+n),X.set(n,Kd)),()=>{this._engine.afterFlush(()=>{const de=T.indexOf(q);de>=0&&T.splice(de,1),this._triggers.has(n)||X.delete(n)})}}register(p,n){return!this._triggers.has(p)&&(this._triggers.set(p,n),!0)}_getTrigger(p){const n=this._triggers.get(p);if(!n)throw function Fd(c){return new t.vHH(3401,!1)}();return n}trigger(p,n,u,b=!0){const T=this._getTrigger(n),q=new Jd(this.id,n,p);let X=this._engine.statesByElement.get(p);X||(As(p,jc),As(p,jc+"-"+n),this._engine.statesByElement.set(p,X=new Map));let de=X.get(n);const Se=new Yd(u,this.id);if(!(u&&u.hasOwnProperty("value"))&&de&&Se.absorbOptions(de.options),X.set(n,Se),de||(de=Kd),Se.value!==Ql&&de.value===Se.value){if(!function cc(c,p){const n=Object.keys(c),u=Object.keys(p);if(n.length!=u.length)return!1;for(let b=0;b<n.length;b++){const T=n[b];if(!p.hasOwnProperty(T)||c[T]!==p[T])return!1}return!0}(de.params,Se.params)){const pn=[],qn=T.matchStyles(de.value,de.params,pn),dr=T.matchStyles(Se.value,Se.params,pn);pn.length?this._engine.reportError(pn):this._engine.afterFlush(()=>{Kl(p,qn),Cl(p,dr)})}return}const Ft=Di(this._engine.playersByElement,p,[]);Ft.forEach(pn=>{pn.namespaceId==this.id&&pn.triggerName==n&&pn.queued&&pn.destroy()});let jt=T.matchTransition(de.value,Se.value,p,Se.params),an=!1;if(!jt){if(!b)return;jt=T.fallbackTransition,an=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:p,triggerName:n,transition:jt,fromState:de,toState:Se,player:q,isFallbackTransition:an}),an||(As(p,nf),q.onStart(()=>{uc(p,nf)})),q.onDone(()=>{let pn=this.players.indexOf(q);pn>=0&&this.players.splice(pn,1);const qn=this._engine.playersByElement.get(p);if(qn){let dr=qn.indexOf(q);dr>=0&&qn.splice(dr,1)}}),this.players.push(q),Ft.push(q),q}deregister(p){this._triggers.delete(p),this._engine.statesByElement.forEach(n=>n.delete(p)),this._elementListeners.forEach((n,u)=>{this._elementListeners.set(u,n.filter(b=>b.name!=p))})}clearElementCache(p){this._engine.statesByElement.delete(p),this._elementListeners.delete(p);const n=this._engine.playersByElement.get(p);n&&(n.forEach(u=>u.destroy()),this._engine.playersByElement.delete(p))}_signalRemovalForInnerTriggers(p,n){const u=this._engine.driver.query(p,$p,!0);u.forEach(b=>{if(b[Is])return;const T=this._engine.fetchNamespacesByElement(b);T.size?T.forEach(q=>q.triggerLeaveAnimation(b,n,!1,!0)):this.clearElementCache(b)}),this._engine.afterFlushAnimationsDone(()=>u.forEach(b=>this.clearElementCache(b)))}triggerLeaveAnimation(p,n,u,b){const T=this._engine.statesByElement.get(p),q=new Map;if(T){const X=[];if(T.forEach((de,Se)=>{if(q.set(Se,de.value),this._triggers.has(Se)){const Ze=this.trigger(p,Se,Ql,b);Ze&&X.push(Ze)}}),X.length)return this._engine.markElementAsRemoved(this.id,p,!0,n,q),u&&$a(X).onDone(()=>this._engine.processLeaveNode(p)),!0}return!1}prepareLeaveAnimationListeners(p){const n=this._elementListeners.get(p),u=this._engine.statesByElement.get(p);if(n&&u){const b=new Set;n.forEach(T=>{const q=T.name;if(b.has(q))return;b.add(q);const de=this._triggers.get(q).fallbackTransition,Se=u.get(q)||Kd,Ze=new Yd(Ql),yt=new Jd(this.id,q,p);this._engine.totalQueuedPlayers++,this._queue.push({element:p,triggerName:q,transition:de,fromState:Se,toState:Ze,player:yt,isFallbackTransition:!0})})}}removeNode(p,n){const u=this._engine;if(p.childElementCount&&this._signalRemovalForInnerTriggers(p,n),this.triggerLeaveAnimation(p,n,!0))return;let b=!1;if(u.totalAnimations){const T=u.players.length?u.playersByQueriedElement.get(p):[];if(T&&T.length)b=!0;else{let q=p;for(;q=q.parentNode;)if(u.statesByElement.get(q)){b=!0;break}}}if(this.prepareLeaveAnimationListeners(p),b)u.markElementAsRemoved(this.id,p,!1,n);else{const T=p[Is];(!T||T===Og)&&(u.afterFlush(()=>this.clearElementCache(p)),u.destroyInnerAnimations(p),u._onRemovalComplete(p,n))}}insertNode(p,n){As(p,this._hostClassName)}drainQueuedTransitions(p){const n=[];return this._queue.forEach(u=>{const b=u.player;if(b.destroyed)return;const T=u.element,q=this._elementListeners.get(T);q&&q.forEach(X=>{if(X.name==u.triggerName){const de=Jr(T,u.triggerName,u.fromState.value,u.toState.value);de._data=p,_u(u.player,X.phase,de,X.callback)}}),b.markedForDestroy?this._engine.afterFlush(()=>{b.destroy()}):n.push(u)}),this._queue=[],n.sort((u,b)=>{const T=u.transition.ast.depCount,q=b.transition.ast.depCount;return 0==T||0==q?T-q:this._engine.driver.containsElement(u.element,b.element)?1:-1})}destroy(p){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,p)}elementContainsData(p){let n=!1;return this._elementListeners.has(p)&&(n=!0),n=!!this._queue.find(u=>u.element===p)||n,n}}class sf{_onRemovalComplete(p,n){this.onRemovalComplete(p,n)}constructor(p,n,u){this.bodyNode=p,this.driver=n,this._normalizer=u,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(b,T)=>{}}get queuedPlayers(){const p=[];return this._namespaceList.forEach(n=>{n.players.forEach(u=>{u.queued&&p.push(u)})}),p}createNamespace(p,n){const u=new kg(p,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(u,n):(this.newHostElements.set(n,u),this.collectEnterElement(n)),this._namespaceLookup[p]=u}_balanceNamespaceList(p,n){const u=this._namespaceList,b=this.namespacesByHostElement;if(u.length-1>=0){let q=!1,X=this.driver.getParentElement(n);for(;X;){const de=b.get(X);if(de){const Se=u.indexOf(de);u.splice(Se+1,0,p),q=!0;break}X=this.driver.getParentElement(X)}q||u.unshift(p)}else u.push(p);return b.set(n,p),p}register(p,n){let u=this._namespaceLookup[p];return u||(u=this.createNamespace(p,n)),u}registerTrigger(p,n,u){let b=this._namespaceLookup[p];b&&b.register(n,u)&&this.totalAnimations++}destroy(p,n){if(!p)return;const u=this._fetchNamespace(p);this.afterFlush(()=>{this.namespacesByHostElement.delete(u.hostElement),delete this._namespaceLookup[p];const b=this._namespaceList.indexOf(u);b>=0&&this._namespaceList.splice(b,1)}),this.afterFlushAnimationsDone(()=>u.destroy(n))}_fetchNamespace(p){return this._namespaceLookup[p]}fetchNamespacesByElement(p){const n=new Set,u=this.statesByElement.get(p);if(u)for(let b of u.values())if(b.namespaceId){const T=this._fetchNamespace(b.namespaceId);T&&n.add(T)}return n}trigger(p,n,u,b){if(Yc(n)){const T=this._fetchNamespace(p);if(T)return T.trigger(n,u,b),!0}return!1}insertNode(p,n,u,b){if(!Yc(n))return;const T=n[Is];if(T&&T.setForRemoval){T.setForRemoval=!1,T.setForMove=!0;const q=this.collectedLeaveElements.indexOf(n);q>=0&&this.collectedLeaveElements.splice(q,1)}if(p){const q=this._fetchNamespace(p);q&&q.insertNode(n,u)}b&&this.collectEnterElement(n)}collectEnterElement(p){this.collectedEnterElements.push(p)}markElementAsDisabled(p,n){n?this.disabledNodes.has(p)||(this.disabledNodes.add(p),As(p,tr)):this.disabledNodes.has(p)&&(this.disabledNodes.delete(p),uc(p,tr))}removeNode(p,n,u,b){if(Yc(n)){const T=p?this._fetchNamespace(p):null;if(T?T.removeNode(n,b):this.markElementAsRemoved(p,n,!1,b),u){const q=this.namespacesByHostElement.get(n);q&&q.id!==p&&q.removeNode(n,b)}}else this._onRemovalComplete(n,b)}markElementAsRemoved(p,n,u,b,T){this.collectedLeaveElements.push(n),n[Is]={namespaceId:p,setForRemoval:b,hasAnimation:u,removedBeforeQueried:!1,previousTriggersValues:T}}listen(p,n,u,b,T){return Yc(n)?this._fetchNamespace(p).listen(n,u,b,T):()=>{}}_buildInstruction(p,n,u,b,T){return p.transition.build(this.driver,p.element,p.fromState.value,p.toState.value,u,b,p.fromState.options,p.toState.options,n,T)}destroyInnerAnimations(p){let n=this.driver.query(p,$p,!0);n.forEach(u=>this.destroyActiveAnimationsForElement(u)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(p,tc,!0),n.forEach(u=>this.finishActiveQueriedAnimationOnElement(u)))}destroyActiveAnimationsForElement(p){const n=this.playersByElement.get(p);n&&n.forEach(u=>{u.queued?u.markedForDestroy=!0:u.destroy()})}finishActiveQueriedAnimationOnElement(p){const n=this.playersByQueriedElement.get(p);n&&n.forEach(u=>u.finish())}whenRenderingDone(){return new Promise(p=>{if(this.players.length)return $a(this.players).onDone(()=>p());p()})}processLeaveNode(p){const n=p[Is];if(n&&n.setForRemoval){if(p[Is]=Og,n.namespaceId){this.destroyInnerAnimations(p);const u=this._fetchNamespace(n.namespaceId);u&&u.clearElementCache(p)}this._onRemovalComplete(p,n.setForRemoval)}p.classList?.contains(tr)&&this.markElementAsDisabled(p,!1),this.driver.query(p,".ng-animate-disabled",!0).forEach(u=>{this.markElementAsDisabled(u,!1)})}flush(p=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((u,b)=>this._balanceNamespaceList(u,b)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let u=0;u<this.collectedEnterElements.length;u++)As(this.collectedEnterElements[u],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const u=[];try{n=this._flushAnimations(u,p)}finally{for(let b=0;b<u.length;b++)u[b]()}}else for(let u=0;u<this.collectedLeaveElements.length;u++)this.processLeaveNode(this.collectedLeaveElements[u]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(u=>u()),this._flushFns=[],this._whenQuietFns.length){const u=this._whenQuietFns;this._whenQuietFns=[],n.length?$a(n).onDone(()=>{u.forEach(b=>b())}):u.forEach(b=>b())}}reportError(p){throw function Gr(c){return new t.vHH(3402,!1)}()}_flushAnimations(p,n){const u=new sc,b=[],T=new Map,q=[],X=new Map,de=new Map,Se=new Map,Ze=new Set;this.disabledNodes.forEach(Tn=>{Ze.add(Tn);const Bn=this.driver.query(Tn,".ng-animate-queued",!0);for(let Zn=0;Zn<Bn.length;Zn++)Ze.add(Bn[Zn])});const yt=this.bodyNode,Ft=Array.from(this.statesByElement.keys()),jt=Fg(Ft,this.collectedEnterElements),an=new Map;let pn=0;jt.forEach((Tn,Bn)=>{const Zn=kh+pn++;an.set(Bn,Zn),Tn.forEach(Wr=>As(Wr,Zn))});const qn=[],dr=new Set,Br=new Set;for(let Tn=0;Tn<this.collectedLeaveElements.length;Tn++){const Bn=this.collectedLeaveElements[Tn],Zn=Bn[Is];Zn&&Zn.setForRemoval&&(qn.push(Bn),dr.add(Bn),Zn.hasAnimation?this.driver.query(Bn,".ng-star-inserted",!0).forEach(Wr=>dr.add(Wr)):Br.add(Bn))}const go=new Map,oo=Fg(Ft,Array.from(dr));oo.forEach((Tn,Bn)=>{const Zn=Rh+pn++;go.set(Bn,Zn),Tn.forEach(Wr=>As(Wr,Zn))}),p.push(()=>{jt.forEach((Tn,Bn)=>{const Zn=an.get(Bn);Tn.forEach(Wr=>uc(Wr,Zn))}),oo.forEach((Tn,Bn)=>{const Zn=go.get(Bn);Tn.forEach(Wr=>uc(Wr,Zn))}),qn.forEach(Tn=>{this.processLeaveNode(Tn)})});const vs=[],ha=[];for(let Tn=this._namespaceList.length-1;Tn>=0;Tn--)this._namespaceList[Tn].drainQueuedTransitions(n).forEach(Zn=>{const Wr=Zn.player,jo=Zn.element;if(vs.push(Wr),this.collectedEnterElements.length){const ta=jo[Is];if(ta&&ta.setForMove){if(ta.previousTriggersValues&&ta.previousTriggersValues.has(Zn.triggerName)){const El=ta.previousTriggersValues.get(Zn.triggerName),na=this.statesByElement.get(Zn.element);if(na&&na.has(Zn.triggerName)){const sh=na.get(Zn.triggerName);sh.value=El,na.set(Zn.triggerName,sh)}}return void Wr.destroy()}}const vi=!yt||!this.driver.containsElement(yt,jo),Wa=go.get(jo),nu=an.get(jo),Wi=this._buildInstruction(Zn,u,nu,Wa,vi);if(Wi.errors&&Wi.errors.length)return void ha.push(Wi);if(vi)return Wr.onStart(()=>Kl(jo,Wi.fromStyles)),Wr.onDestroy(()=>Cl(jo,Wi.toStyles)),void b.push(Wr);if(Zn.isFallbackTransition)return Wr.onStart(()=>Kl(jo,Wi.fromStyles)),Wr.onDestroy(()=>Cl(jo,Wi.toStyles)),void b.push(Wr);const Gf=[];Wi.timelines.forEach(ta=>{ta.stretchStartingKeyframe=!0,this.disabledNodes.has(ta.element)||Gf.push(ta)}),Wi.timelines=Gf,u.append(jo,Wi.timelines),q.push({instruction:Wi,player:Wr,element:jo}),Wi.queriedElements.forEach(ta=>Di(X,ta,[]).push(Wr)),Wi.preStyleProps.forEach((ta,El)=>{if(ta.size){let na=de.get(El);na||de.set(El,na=new Set),ta.forEach((sh,Wf)=>na.add(Wf))}}),Wi.postStyleProps.forEach((ta,El)=>{let na=Se.get(El);na||Se.set(El,na=new Set),ta.forEach((sh,Wf)=>na.add(Wf))})});if(ha.length){const Tn=[];ha.forEach(Bn=>{Tn.push(function Zl(c,p){return new t.vHH(3505,!1)}())}),vs.forEach(Bn=>Bn.destroy()),this.reportError(Tn)}const ki=new Map,To=new Map;q.forEach(Tn=>{const Bn=Tn.element;u.has(Bn)&&(To.set(Bn,Bn),this._beforeAnimationBuild(Tn.player.namespaceId,Tn.instruction,ki))}),b.forEach(Tn=>{const Bn=Tn.element;this._getPreviousPlayers(Bn,!1,Tn.namespaceId,Tn.triggerName,null).forEach(Wr=>{Di(ki,Bn,[]).push(Wr),Wr.destroy()})});const eu=qn.filter(Tn=>Bg(Tn,de,Se)),tl=new Map;Kc(tl,this.driver,Br,Se,rt.l3).forEach(Tn=>{Bg(Tn,de,Se)&&eu.push(Tn)});const mc=new Map;jt.forEach((Tn,Bn)=>{Kc(mc,this.driver,new Set(Tn),de,rt.k1)}),eu.forEach(Tn=>{const Bn=tl.get(Tn),Zn=mc.get(Tn);tl.set(Tn,new Map([...Array.from(Bn?.entries()??[]),...Array.from(Zn?.entries()??[])]))});const yc=[],gp=[],Ty={};q.forEach(Tn=>{const{element:Bn,player:Zn,instruction:Wr}=Tn;if(u.has(Bn)){if(Ze.has(Bn))return Zn.onDestroy(()=>Cl(Bn,Wr.toStyles)),Zn.disabled=!0,Zn.overrideTotalTime(Wr.totalTime),void b.push(Zn);let jo=Ty;if(To.size>1){let Wa=Bn;const nu=[];for(;Wa=Wa.parentNode;){const Wi=To.get(Wa);if(Wi){jo=Wi;break}nu.push(Wa)}nu.forEach(Wi=>To.set(Wi,jo))}const vi=this._buildAnimation(Zn.namespaceId,Wr,ki,T,mc,tl);if(Zn.setRealPlayer(vi),jo===Ty)yc.push(Zn);else{const Wa=this.playersByElement.get(jo);Wa&&Wa.length&&(Zn.parentPlayer=$a(Wa)),b.push(Zn)}}else Kl(Bn,Wr.fromStyles),Zn.onDestroy(()=>Cl(Bn,Wr.toStyles)),gp.push(Zn),Ze.has(Bn)&&b.push(Zn)}),gp.forEach(Tn=>{const Bn=T.get(Tn.element);if(Bn&&Bn.length){const Zn=$a(Bn);Tn.setRealPlayer(Zn)}}),b.forEach(Tn=>{Tn.parentPlayer?Tn.syncPlayerEvents(Tn.parentPlayer):Tn.destroy()});for(let Tn=0;Tn<qn.length;Tn++){const Bn=qn[Tn],Zn=Bn[Is];if(uc(Bn,Rh),Zn&&Zn.hasAnimation)continue;let Wr=[];if(X.size){let vi=X.get(Bn);vi&&vi.length&&Wr.push(...vi);let Wa=this.driver.query(Bn,tc,!0);for(let nu=0;nu<Wa.length;nu++){let Wi=X.get(Wa[nu]);Wi&&Wi.length&&Wr.push(...Wi)}}const jo=Wr.filter(vi=>!vi.destroyed);jo.length?uf(this,Bn,jo):this.processLeaveNode(Bn)}return qn.length=0,yc.forEach(Tn=>{this.players.push(Tn),Tn.onDone(()=>{Tn.destroy();const Bn=this.players.indexOf(Tn);this.players.splice(Bn,1)}),Tn.play()}),yc}elementContainsData(p,n){let u=!1;const b=n[Is];return b&&b.setForRemoval&&(u=!0),this.playersByElement.has(n)&&(u=!0),this.playersByQueriedElement.has(n)&&(u=!0),this.statesByElement.has(n)&&(u=!0),this._fetchNamespace(p).elementContainsData(n)||u}afterFlush(p){this._flushFns.push(p)}afterFlushAnimationsDone(p){this._whenQuietFns.push(p)}_getPreviousPlayers(p,n,u,b,T){let q=[];if(n){const X=this.playersByQueriedElement.get(p);X&&(q=X)}else{const X=this.playersByElement.get(p);if(X){const de=!T||T==Ql;X.forEach(Se=>{Se.queued||!de&&Se.triggerName!=b||q.push(Se)})}}return(u||b)&&(q=q.filter(X=>!(u&&u!=X.namespaceId||b&&b!=X.triggerName))),q}_beforeAnimationBuild(p,n,u){const T=n.element,q=n.isRemovalTransition?void 0:p,X=n.isRemovalTransition?void 0:n.triggerName;for(const de of n.timelines){const Se=de.element,Ze=Se!==T,yt=Di(u,Se,[]);this._getPreviousPlayers(Se,Ze,q,X,n.toState).forEach(jt=>{const an=jt.getRealPlayer();an.beforeDestroy&&an.beforeDestroy(),jt.destroy(),yt.push(jt)})}Kl(T,n.fromStyles)}_buildAnimation(p,n,u,b,T,q){const X=n.triggerName,de=n.element,Se=[],Ze=new Set,yt=new Set,Ft=n.timelines.map(an=>{const pn=an.element;Ze.add(pn);const qn=pn[Is];if(qn&&qn.removedBeforeQueried)return new rt.ZN(an.duration,an.delay);const dr=pn!==de,Br=function Xm(c){const p=[];return Lg(c,p),p}((u.get(pn)||Jm).map(ki=>ki.getRealPlayer())).filter(ki=>!!ki.element&&ki.element===pn),go=T.get(pn),oo=q.get(pn),vs=gs(0,this._normalizer,0,an.keyframes,go,oo),ha=this._buildPlayer(an,vs,Br);if(an.subTimeline&&b&&yt.add(pn),dr){const ki=new Jd(p,X,pn);ki.setRealPlayer(ha),Se.push(ki)}return ha});Se.forEach(an=>{Di(this.playersByQueriedElement,an.element,[]).push(an),an.onDone(()=>function lc(c,p,n){let u=c.get(p);if(u){if(u.length){const b=u.indexOf(n);u.splice(b,1)}0==u.length&&c.delete(p)}return u}(this.playersByQueriedElement,an.element,an))}),Ze.forEach(an=>As(an,jm));const jt=$a(Ft);return jt.onDestroy(()=>{Ze.forEach(an=>uc(an,jm)),Cl(de,n.toStyles)}),yt.forEach(an=>{Di(b,an,[]).push(jt)}),jt}_buildPlayer(p,n,u){return n.length>0?this.driver.animate(p.element,n,p.duration,p.delay,p.easing,u):new rt.ZN(p.duration,p.delay)}}class Jd{constructor(p,n,u){this.namespaceId=p,this.triggerName=n,this.element=u,this._player=new rt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(p){this._containsRealPlayer||(this._player=p,this._queuedCallbacks.forEach((n,u)=>{n.forEach(b=>_u(p,u,void 0,b))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(p.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(p){this.totalTime=p}syncPlayerEvents(p){const n=this._player;n.triggerCallback&&p.onStart(()=>n.triggerCallback("start")),p.onDone(()=>this.finish()),p.onDestroy(()=>this.destroy())}_queueEvent(p,n){Di(this._queuedCallbacks,p,[]).push(n)}onDone(p){this.queued&&this._queueEvent("done",p),this._player.onDone(p)}onStart(p){this.queued&&this._queueEvent("start",p),this._player.onStart(p)}onDestroy(p){this.queued&&this._queueEvent("destroy",p),this._player.onDestroy(p)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(p){this.queued||this._player.setPosition(p)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(p){const n=this._player;n.triggerCallback&&n.triggerCallback(p)}}function Yc(c){return c&&1===c.nodeType}function Rg(c,p){const n=c.style.display;return c.style.display=p??"none",n}function Kc(c,p,n,u,b){const T=[];n.forEach(de=>T.push(Rg(de)));const q=[];u.forEach((de,Se)=>{const Ze=new Map;de.forEach(yt=>{const Ft=p.computeStyle(Se,yt,b);Ze.set(yt,Ft),(!Ft||0==Ft.length)&&(Se[Is]=Pg,q.push(Se))}),c.set(Se,Ze)});let X=0;return n.forEach(de=>Rg(de,T[X++])),q}function Fg(c,p){const n=new Map;if(c.forEach(X=>n.set(X,[])),0==p.length)return n;const u=1,b=new Set(p),T=new Map;function q(X){if(!X)return u;let de=T.get(X);if(de)return de;const Se=X.parentNode;return de=n.has(Se)?Se:b.has(Se)?u:q(Se),T.set(X,de),de}return p.forEach(X=>{const de=q(X);de!==u&&n.get(de).push(X)}),n}function As(c,p){c.classList?.add(p)}function uc(c,p){c.classList?.remove(p)}function uf(c,p,n){$a(n).onDone(()=>c.processLeaveNode(p))}function Lg(c,p){for(let n=0;n<c.length;n++){const u=c[n];u instanceof rt.ZE?Lg(u.players,p):p.push(u)}}function Bg(c,p,n){const u=n.get(c);if(!u)return!1;let b=p.get(c);return b?u.forEach(T=>b.add(T)):p.set(c,u),n.delete(c),!0}class Qd{constructor(p,n,u){this.bodyNode=p,this._driver=n,this._normalizer=u,this._triggerCache={},this.onRemovalComplete=(b,T)=>{},this._transitionEngine=new sf(p,n,u),this._timelineEngine=new Ig(p,n,u),this._transitionEngine.onRemovalComplete=(b,T)=>this.onRemovalComplete(b,T)}registerTrigger(p,n,u,b,T){const q=p+"-"+b;let X=this._triggerCache[q];if(!X){const de=[],Se=[],Ze=Du(this._driver,T,de,Se);if(de.length)throw function ps(c,p){return new t.vHH(3404,!1)}();X=function xu(c,p,n){return new Zm(c,p,n)}(b,Ze,this._normalizer),this._triggerCache[q]=X}this._transitionEngine.registerTrigger(n,b,X)}register(p,n){this._transitionEngine.register(p,n)}destroy(p,n){this._transitionEngine.destroy(p,n)}onInsert(p,n,u,b){this._transitionEngine.insertNode(p,n,u,b)}onRemove(p,n,u,b){this._transitionEngine.removeNode(p,n,b||!1,u)}disableAnimations(p,n){this._transitionEngine.markElementAsDisabled(p,n)}process(p,n,u,b){if("@"==u.charAt(0)){const[T,q]=Xi(u);this._timelineEngine.command(T,n,q,b)}else this._transitionEngine.trigger(p,n,u,b)}listen(p,n,u,b,T){if("@"==u.charAt(0)){const[q,X]=Xi(u);return this._timelineEngine.listen(q,n,X,T)}return this._transitionEngine.listen(p,n,u,b,T)}flush(p=-1){this._transitionEngine.flush(p)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ey=(()=>{class c{constructor(n,u,b){this._element=n,this._startStyles=u,this._endStyles=b,this._state=0;let T=c.initialStylesByElement.get(n);T||c.initialStylesByElement.set(n,T=new Map),this._initialStyles=T}start(){this._state<1&&(this._startStyles&&Cl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Cl(this._element,this._initialStyles),this._endStyles&&(Cl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(c.initialStylesByElement.delete(this._element),this._startStyles&&(Kl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Kl(this._element,this._endStyles),this._endStyles=null),Cl(this._element,this._initialStyles),this._state=3)}}return c.initialStylesByElement=new WeakMap,c})();function Gh(c){let p=null;return c.forEach((n,u)=>{(function ty(c){return"display"===c||"position"===c})(u)&&(p=p||new Map,p.set(u,n))}),p}class cf{constructor(p,n,u,b){this.element=p,this.keyframes=n,this.options=u,this._specialStyles=b,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=u.duration,this._delay=u.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(p=>p()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const p=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,p,this.options),this._finalKeyframe=p.length?p[p.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(p){const n=[];return p.forEach(u=>{n.push(Object.fromEntries(u))}),n}_triggerWebAnimation(p,n,u){return p.animate(this._convertKeyframesToObject(n),u)}onStart(p){this._originalOnStartFns.push(p),this._onStartFns.push(p)}onDone(p){this._originalOnDoneFns.push(p),this._onDoneFns.push(p)}onDestroy(p){this._onDestroyFns.push(p)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(p=>p()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(p=>p()),this._onDestroyFns=[])}setPosition(p){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=p*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const p=new Map;this.hasStarted()&&this._finalKeyframe.forEach((u,b)=>{"offset"!==b&&p.set(b,this._finished?u:gg(this.element,b))}),this.currentSnapshot=p}triggerCallback(p){const n="start"===p?this._onStartFns:this._onDoneFns;n.forEach(u=>u()),n.length=0}}class Vg{validateStyleProperty(p){return!0}validateAnimatableStyleProperty(p){return!0}matchesElement(p,n){return!1}containsElement(p,n){return Xu(p,n)}getParentElement(p){return zo(p)}query(p,n,u){return eo(p,n,u)}computeStyle(p,n,u){return window.getComputedStyle(p)[n]}animate(p,n,u,b,T,q=[]){const de={duration:u,delay:b,fill:0==b?"both":"forwards"};T&&(de.easing=T);const Se=new Map,Ze=q.filter(jt=>jt instanceof cf);(function ic(c,p){return 0===c||0===p})(u,b)&&Ze.forEach(jt=>{jt.currentSnapshot.forEach((an,pn)=>Se.set(pn,an))});let yt=function dg(c){return c.length?c[0]instanceof Map?c:c.map(p=>cg(p)):[]}(n).map(jt=>wl(jt));yt=function fg(c,p,n){if(n.size&&p.length){let u=p[0],b=[];if(n.forEach((T,q)=>{u.has(q)||b.push(q),u.set(q,T)}),b.length)for(let T=1;T<p.length;T++){let q=p[T];b.forEach(X=>q.set(X,gg(c,X)))}}return p}(p,yt,Se);const Ft=function $h(c,p){let n=null,u=null;return Array.isArray(p)&&p.length?(n=Gh(p[0]),p.length>1&&(u=Gh(p[p.length-1]))):p instanceof Map&&(n=Gh(p)),n||u?new ey(c,n,u):null}(p,yt);return new cf(p,yt,de,Ft)}}let Ug=(()=>{class c extends rt._j{constructor(n,u){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(u.body,{id:"0",encapsulation:t.ifc.None,styles:[],data:{animation:[]}})}build(n){const u=this._nextAnimationId.toString();this._nextAnimationId++;const b=Array.isArray(n)?(0,rt.vP)(n):n;return jg(this._renderer,null,u,"register",[b]),new ny(u,this._renderer)}}return c.\u0275fac=function(n){return new(n||c)(t.LFG(t.FYo),t.LFG(I.K0))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac}),c})();class ny extends rt.LC{constructor(p,n){super(),this._id=p,this._renderer=n}create(p,n){return new zg(this._id,p,n||{},this._renderer)}}class zg{constructor(p,n,u,b){this.id=p,this.element=n,this._renderer=b,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",u)}_listen(p,n){return this._renderer.listen(this.element,`@@${this.id}:${p}`,n)}_command(p,...n){return jg(this._renderer,this.element,this.id,p,n)}onDone(p){this._listen("done",p)}onStart(p){this._listen("start",p)}onDestroy(p){this._listen("destroy",p)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(p){this._command("setPosition",p)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function jg(c,p,n,u,b){return c.setProperty(p,`@@${n}:${u}`,b)}const df="@.disabled";let Su=(()=>{class c{constructor(n,u,b){this.delegate=n,this.engine=u,this._zone=b,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),u.onRemovalComplete=(T,q)=>{const X=q?.parentNode(T);X&&q.removeChild(X,T)}}createRenderer(n,u){const T=this.delegate.createRenderer(n,u);if(!(n&&u&&u.data&&u.data.animation)){let Ze=this._rendererCache.get(T);return Ze||(Ze=new Hg("",T,this.engine,()=>this._rendererCache.delete(T)),this._rendererCache.set(T,Ze)),Ze}const q=u.id,X=u.id+"-"+this._currentId;this._currentId++,this.engine.register(X,n);const de=Ze=>{Array.isArray(Ze)?Ze.forEach(de):this.engine.registerTrigger(q,X,n,Ze.name,Ze)};return u.data.animation.forEach(de),new Wh(this,X,T,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(n,u,b){n>=0&&n<this._microtaskId?this._zone.run(()=>u(b)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(T=>{const[q,X]=T;q(X)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([u,b]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return c.\u0275fac=function(n){return new(n||c)(t.LFG(t.FYo),t.LFG(Qd),t.LFG(t.R0b))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac}),c})();class Hg{constructor(p,n,u,b){this.namespaceId=p,this.delegate=n,this.engine=u,this._onDestroy=b,this.destroyNode=this.delegate.destroyNode?T=>n.destroyNode(T):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(p,n){return this.delegate.createElement(p,n)}createComment(p){return this.delegate.createComment(p)}createText(p){return this.delegate.createText(p)}appendChild(p,n){this.delegate.appendChild(p,n),this.engine.onInsert(this.namespaceId,n,p,!1)}insertBefore(p,n,u,b=!0){this.delegate.insertBefore(p,n,u),this.engine.onInsert(this.namespaceId,n,p,b)}removeChild(p,n,u){this.engine.onRemove(this.namespaceId,n,this.delegate,u)}selectRootElement(p,n){return this.delegate.selectRootElement(p,n)}parentNode(p){return this.delegate.parentNode(p)}nextSibling(p){return this.delegate.nextSibling(p)}setAttribute(p,n,u,b){this.delegate.setAttribute(p,n,u,b)}removeAttribute(p,n,u){this.delegate.removeAttribute(p,n,u)}addClass(p,n){this.delegate.addClass(p,n)}removeClass(p,n){this.delegate.removeClass(p,n)}setStyle(p,n,u,b){this.delegate.setStyle(p,n,u,b)}removeStyle(p,n,u){this.delegate.removeStyle(p,n,u)}setProperty(p,n,u){"@"==n.charAt(0)&&n==df?this.disableAnimations(p,!!u):this.delegate.setProperty(p,n,u)}setValue(p,n){this.delegate.setValue(p,n)}listen(p,n,u){return this.delegate.listen(p,n,u)}disableAnimations(p,n){this.engine.disableAnimations(p,n)}}class Wh extends Hg{constructor(p,n,u,b,T){super(n,u,b,T),this.factory=p,this.namespaceId=n}setProperty(p,n,u){"@"==n.charAt(0)?"."==n.charAt(1)&&n==df?this.disableAnimations(p,u=void 0===u||!!u):this.engine.process(this.namespaceId,p,n.slice(1),u):this.delegate.setProperty(p,n,u)}listen(p,n,u){if("@"==n.charAt(0)){const b=function $g(c){switch(c){case"body":return document.body;case"document":return document;case"window":return window;default:return c}}(p);let T=n.slice(1),q="";return"@"!=T.charAt(0)&&([T,q]=function ry(c){const p=c.indexOf(".");return[c.substring(0,p),c.slice(p+1)]}(T)),this.engine.listen(this.namespaceId,b,T,q,X=>{this.factory.scheduleListenerCallback(X._data||-1,u,X)})}return this.delegate.listen(p,n,u)}}const hf=[{provide:rt._j,useClass:Ug},{provide:Wd,useFactory:function Gg(){return new Zc}},{provide:Qd,useClass:(()=>{class c extends Qd{constructor(n,u,b,T){super(n.body,u,b)}ngOnDestroy(){this.flush()}}return c.\u0275fac=function(n){return new(n||c)(t.LFG(I.K0),t.LFG(ec),t.LFG(Wd),t.LFG(t.z2F))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac}),c})()},{provide:t.FYo,useFactory:function iy(c,p,n){return new Su(c,p,n)},deps:[w.se,Qd,t.R0b]}],qh=[{provide:ec,useFactory:()=>new Vg},{provide:t.QbO,useValue:"BrowserAnimations"},...hf],Wg=[{provide:ec,useClass:Hp},{provide:t.QbO,useValue:"NoopAnimations"},...hf];let Zh=(()=>{class c{static withConfig(n){return{ngModule:c,providers:n.disableAnimations?Wg:qh}}}return c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({providers:qh,imports:[w.b2]}),c})();function pf(c){return new Cn.w(c,"./assets/i18n/",".json")}let Kh=(()=>{class c{}return c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[I.ez,Zh,lt,ht.Bz,Wu,N.u5,N.UX,fr.aw.forChild({loader:{provide:fr.Zw,useFactory:pf,deps:[H.eN]}})]}),c})();var ff=E(2076),Qc=E(590),Jh=E(7359);const gf=(c,p)=>(c.push(p),c);const Zg=function(c,p){return{isMouseDragable:c,isTouchDragable:p}};function Yg(c,p){if(1&c&&(t.TgZ(0,"div",4),t._UZ(1,"owl-stage",5),t.qZA()),2&c){const n=t.oxw();t.xp6(1),t.Q6J("owlDraggable",t.WLB(3,Zg,null==n.owlDOMData?null:n.owlDOMData.isMouseDragable,null==n.owlDOMData?null:n.owlDOMData.isTouchDragable))("stageData",n.stageData)("slidesData",n.slidesData)}}const mf=function(c,p){return{active:c,"owl-dot-text":p}};function yf(c,p){if(1&c){const n=t.EpF();t.TgZ(0,"div",11),t.NdJ("click",function(){const T=t.CHM(n).$implicit,q=t.oxw(2);return t.KtG(q.moveByDot(T.id))}),t._UZ(1,"span",12),t.qZA()}if(2&c){const n=p.$implicit;t.Q6J("ngClass",t.WLB(2,mf,n.active,n.showInnerContent)),t.xp6(1),t.Q6J("innerHTML",n.innerContent,t.oJD)}}const Xc=function(c){return{disabled:c}};function Kg(c,p){if(1&c){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",6)(2,"div",7),t.NdJ("click",function(){t.CHM(n);const b=t.oxw();return t.KtG(b.prev())}),t.qZA(),t.TgZ(3,"div",8),t.NdJ("click",function(){t.CHM(n);const b=t.oxw();return t.KtG(b.next())}),t.qZA()(),t.TgZ(4,"div",9),t.YNc(5,yf,2,5,"div",10),t.qZA(),t.BQk()}if(2&c){const n=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(7,Xc,null==n.navData?null:n.navData.disabled)),t.xp6(1),t.Q6J("ngClass",t.VKq(9,Xc,null==n.navData||null==n.navData.prev?null:n.navData.prev.disabled))("innerHTML",null==n.navData||null==n.navData.prev?null:n.navData.prev.htmlText,t.oJD),t.xp6(1),t.Q6J("ngClass",t.VKq(11,Xc,null==n.navData||null==n.navData.next?null:n.navData.next.disabled))("innerHTML",null==n.navData||null==n.navData.next?null:n.navData.next.htmlText,t.oJD),t.xp6(1),t.Q6J("ngClass",t.VKq(13,Xc,null==n.dotsData?null:n.dotsData.disabled)),t.xp6(1),t.Q6J("ngForOf",null==n.dotsData?null:n.dotsData.dots)}}const oy=function(c,p,n,u,b){return{"owl-rtl":c,"owl-loaded":p,"owl-responsive":n,"owl-drag":u,"owl-grab":b}};function ay(c,p){}const ms=function(c,p){return{$implicit:c,index:p}};function Jg(c,p){if(1&c&&t.YNc(0,ay,0,0,"ng-template",4),2&c){const n=t.oxw(),u=n.$implicit,b=n.index,T=t.oxw();t.Q6J("ngTemplateOutlet",u.tplRef)("ngTemplateOutletContext",t.WLB(2,ms,T.preparePublicSlide(u),b))}}const sy=function(c,p,n,u){return{width:c,"margin-left":p,"margin-right":n,left:u}};function qy(c,p){if(1&c){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",2),t.NdJ("animationend",function(){const T=t.CHM(n).$implicit,q=t.oxw();return t.KtG(q.clear(T.id))}),t.YNc(2,Jg,1,5,null,3),t.qZA(),t.BQk()}if(2&c){const n=p.$implicit;t.xp6(1),t.Q6J("ngClass",n.classes)("ngStyle",t.l5B(4,sy,n.width+"px",n.marginL?n.marginL+"px":"",n.marginR?n.marginR+"px":"",n.left))("@autoHeight",n.heightState),t.xp6(1),t.Q6J("ngIf",n.load)}}const vf=function(c,p,n,u,b){return{width:c,transform:p,transition:n,"padding-left":u,"padding-right":b}};let _f=(()=>{class c{constructor(n){this.eventManager=n,this.resizeSubject=new je.x,this.eventManager.addGlobalEventListener("window","resize",this.onResize.bind(this)),this.eventManager.addGlobalEventListener("window","onload",this.onLoaded.bind(this))}get onResize$(){return this.resizeSubject.asObservable()}onResize(n){this.resizeSubject.next(n.target)}onLoaded(n){this.windowWidth=n.target}}return c.\u0275fac=function(n){return new(n||c)(t.LFG(w.Qz))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac}),c})();class ly{constructor(){this.items=3,this.skip_validateItems=!1,this.loop=!1,this.center=!1,this.rewind=!1,this.mouseDrag=!0,this.touchDrag=!0,this.pullDrag=!0,this.freeDrag=!1,this.margin=0,this.stagePadding=0,this.merge=!1,this.mergeFit=!0,this.autoWidth=!1,this.startPosition=0,this.rtl=!1,this.smartSpeed=250,this.fluidSpeed=!1,this.dragEndSpeed=!1,this.responsive={},this.responsiveRefreshRate=200,this.nav=!1,this.navText=["prev","next"],this.navSpeed=!1,this.slideBy=1,this.dots=!0,this.dotsEach=!1,this.dotsData=!1,this.dotsSpeed=!1,this.autoplay=!1,this.autoplayTimeout=5e3,this.autoplayHoverPause=!1,this.autoplaySpeed=!1,this.autoplayMouseleaveTimeout=1,this.lazyLoad=!1,this.lazyLoadEager=0,this.slideTransition="",this.animateOut=!1,this.animateIn=!1,this.autoHeight=!1,this.URLhashListener=!1}}class uy{constructor(){this.items="number",this.skip_validateItems="boolean",this.loop="boolean",this.center="boolean",this.rewind="boolean",this.mouseDrag="boolean",this.touchDrag="boolean",this.pullDrag="boolean",this.freeDrag="boolean",this.margin="number",this.stagePadding="number",this.merge="boolean",this.mergeFit="boolean",this.autoWidth="boolean",this.startPosition="number|string",this.rtl="boolean",this.smartSpeed="number",this.fluidSpeed="boolean",this.dragEndSpeed="number|boolean",this.responsive={},this.responsiveRefreshRate="number",this.nav="boolean",this.navText="string[]",this.navSpeed="number|boolean",this.slideBy="number|string",this.dots="boolean",this.dotsEach="number|boolean",this.dotsData="boolean",this.dotsSpeed="number|boolean",this.autoplay="boolean",this.autoplayTimeout="number",this.autoplayHoverPause="boolean",this.autoplaySpeed="number|boolean",this.autoplayMouseleaveTimeout="number",this.lazyLoad="boolean",this.lazyLoadEager="number",this.slideTransition="string",this.animateOut="string|boolean",this.animateIn="string|boolean",this.autoHeight="boolean",this.URLhashListener="boolean"}}let bf=(()=>{class c{constructor(n){this.errorHandler=n}log(n,...u){(0,t.X6Q)()&&console.log(n,...u)}error(n){this.errorHandler.handleError(n)}warn(n,...u){console.warn(n,...u)}}return c.\u0275fac=function(n){return new(n||c)(t.LFG(t.qLn))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac}),c})();var th=(()=>{return(c=th||(th={})).Event="event",c.State="state",th;var c})(),dc=(()=>{return(c=dc||(dc={})).Default="default",c.Inner="inner",c.Outer="outer",dc;var c})();let Dl=(()=>{class c{constructor(n){this.logger=n,this._viewSettingsShipper$=new je.x,this._initializedCarousel$=new je.x,this._changeSettingsCarousel$=new je.x,this._changedSettingsCarousel$=new je.x,this._translateCarousel$=new je.x,this._translatedCarousel$=new je.x,this._resizeCarousel$=new je.x,this._resizedCarousel$=new je.x,this._refreshCarousel$=new je.x,this._refreshedCarousel$=new je.x,this._dragCarousel$=new je.x,this._draggedCarousel$=new je.x,this.settings={items:0},this.owlDOMData={rtl:!1,isResponsive:!1,isRefreshed:!1,isLoaded:!1,isLoading:!1,isMouseDragable:!1,isGrab:!1,isTouchDragable:!1},this.stageData={transform:"translate3d(0px,0px,0px)",transition:"0s",width:0,paddingL:0,paddingR:0},this._items=[],this._widths=[],this._supress={},this._plugins={},this._current=null,this._clones=[],this._mergers=[],this._speed=null,this._coordinates=[],this._breakpoint=null,this.clonedIdPrefix="cloned-",this._options={},this._invalidated={},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},this._pipe=[{filter:["width","items","settings"],run:u=>{u.current=this._items&&this._items[this.relative(this._current)].id}},{filter:["width","items","settings"],run:u=>{const b=this.settings.margin||"",q=this.settings.rtl,X={"margin-left":q?b:"","margin-right":q?"":b};!this.settings.autoWidth||this.slidesData.forEach(de=>{de.marginL=X["margin-left"],de.marginR=X["margin-right"]}),u.css=X}},{filter:["width","items","settings"],run:u=>{const b=+(this.width()/this.settings.items).toFixed(3)-this.settings.margin,T=!this.settings.autoWidth,q=[];let X=null,de=this._items.length;for(u.items={merge:!1,width:b};de--;)X=this._mergers[de],X=this.settings.mergeFit&&Math.min(X,this.settings.items)||X,u.items.merge=X>1||u.items.merge,q[de]=T?b*X:this._items[de].width?this._items[de].width:b;this._widths=q,this.slidesData.forEach((Se,Ze)=>{Se.width=this._widths[Ze],Se.marginR=u.css["margin-right"],Se.marginL=u.css["margin-left"]})}},{filter:["items","settings"],run:()=>{const u=[],b=this._items,T=this.settings,q=Math.max(2*T.items,4),X=2*Math.ceil(b.length/2);let de=[],Se=[],Ze=T.loop&&b.length?T.rewind?q:Math.max(q,X):0;for(Ze/=2;Ze--;)u.push(this.normalize(u.length/2,!0)),de.push(Object.assign({},this.slidesData[u[u.length-1]])),u.push(this.normalize(b.length-1-(u.length-1)/2,!0)),Se.unshift(Object.assign({},this.slidesData[u[u.length-1]]));this._clones=u,de=de.map(yt=>(yt.id=`${this.clonedIdPrefix}${yt.id}`,yt.isActive=!1,yt.isCloned=!0,yt)),Se=Se.map(yt=>(yt.id=`${this.clonedIdPrefix}${yt.id}`,yt.isActive=!1,yt.isCloned=!0,yt)),this.slidesData=Se.concat(this.slidesData).concat(de)}},{filter:["width","items","settings"],run:()=>{const u=this.settings.rtl?1:-1,b=this._clones.length+this._items.length,T=[];let q=-1,X=0,de=0;for(;++q<b;)X=T[q-1]||0,de=this._widths[this.relative(q)]+this.settings.margin,T.push(X+de*u);this._coordinates=T}},{filter:["width","items","settings"],run:()=>{const u=this.settings.stagePadding,b=this._coordinates,T={width:Math.ceil(Math.abs(b[b.length-1]))+2*u,"padding-left":u||"","padding-right":u||""};this.stageData.width=T.width,this.stageData.paddingL=T["padding-left"],this.stageData.paddingR=T["padding-right"]}},{filter:["width","items","settings"],run:u=>{let b=u.current?this.slidesData.findIndex(T=>T.id===u.current):0;b=Math.max(this.minimum(),Math.min(this.maximum(),b)),this.reset(b)}},{filter:["position"],run:()=>{this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:()=>{const u=this.settings.rtl?1:-1,b=2*this.settings.stagePadding,T=[];let q,X,de,Se,Ze,yt;if(q=this.coordinates(this.current()),"number"==typeof q?q+=b:q=0,X=q+this.width()*u,-1===u&&this.settings.center){const Ft=this._coordinates.filter(jt=>this.settings.items%2==1?jt>=q:jt>q);q=Ft.length?Ft[Ft.length-1]:q}for(Ze=0,yt=this._coordinates.length;Ze<yt;Ze++)de=Math.ceil(this._coordinates[Ze-1]||0),Se=Math.ceil(Math.abs(this._coordinates[Ze])+b*u),(this._op(de,"<=",q)&&this._op(de,">",X)||this._op(Se,"<",q)&&this._op(Se,">",X))&&T.push(Ze);this.slidesData.forEach(Ft=>(Ft.isActive=!1,Ft)),T.forEach(Ft=>{this.slidesData[Ft].isActive=!0}),this.settings.center&&(this.slidesData.forEach(Ft=>(Ft.isCentered=!1,Ft)),this.slidesData[this.current()].isCentered=!0)}}]}get invalidated(){return this._invalidated}get states(){return this._states}getViewCurSettings(){return this._viewSettingsShipper$.asObservable()}getInitializedState(){return this._initializedCarousel$.asObservable()}getChangeState(){return this._changeSettingsCarousel$.asObservable()}getChangedState(){return this._changedSettingsCarousel$.asObservable()}getTranslateState(){return this._translateCarousel$.asObservable()}getTranslatedState(){return this._translatedCarousel$.asObservable()}getResizeState(){return this._resizeCarousel$.asObservable()}getResizedState(){return this._resizedCarousel$.asObservable()}getRefreshState(){return this._refreshCarousel$.asObservable()}getRefreshedState(){return this._refreshedCarousel$.asObservable()}getDragState(){return this._dragCarousel$.asObservable()}getDraggedState(){return this._draggedCarousel$.asObservable()}setOptions(n){const u=new ly,b=this._validateOptions(n,u);this._options=Object.assign(Object.assign({},u),b)}_validateOptions(n,u){const b=Object.assign({},n),T=new uy,q=(X,de)=>(this.logger.log(`options.${de} must be type of ${X}; ${de}=${n[de]} skipped to defaults: ${de}=${u[de]}`),u[de]);for(const X in b)if(b.hasOwnProperty(X))if("number"===T[X])this._isNumeric(b[X])?(b[X]=+b[X],b[X]="items"===X?this._validateItems(b[X],b.skip_validateItems):b[X]):b[X]=q(T[X],X);else if("boolean"===T[X]&&"boolean"!=typeof b[X])b[X]=q(T[X],X);else if("number|boolean"!==T[X]||this._isNumberOrBoolean(b[X]))if("number|string"!==T[X]||this._isNumberOrString(b[X]))if("string|boolean"!==T[X]||this._isStringOrBoolean(b[X])){if("string[]"===T[X])if(Array.isArray(b[X])){let de=!1;b[X].forEach(Se=>{de="string"==typeof Se}),de||(b[X]=q(T[X],X))}else b[X]=q(T[X],X)}else b[X]=q(T[X],X);else b[X]=q(T[X],X);else b[X]=q(T[X],X);return b}_validateItems(n,u){let b=n;return n>this._items.length?u?this.logger.log("The option 'items' in your options is bigger than the number of slides. The navigation got disabled"):(b=this._items.length,this.logger.log("The option 'items' in your options is bigger than the number of slides. This option is updated to the current number of slides and the navigation got disabled")):n===this._items.length&&(this.settings.dots||this.settings.nav)&&this.logger.log("Option 'items' in your options is equal to the number of slides. So the navigation got disabled"),b}setCarouselWidth(n){this._width=n}setup(n,u,b){this.setCarouselWidth(n),this.setItems(u),this._defineSlidesData(),this.setOptions(b),this.settings=Object.assign({},this._options),this.setOptionsForViewport(),this._trigger("change",{property:{name:"settings",value:this.settings}}),this.invalidate("settings"),this._trigger("changed",{property:{name:"settings",value:this.settings}})}setOptionsForViewport(){const n=this._width,u=this._options.responsive;let b=-1;if(!Object.keys(u).length)return;if(!n)return void(this.settings.items=1);for(const q in u)u.hasOwnProperty(q)&&+q<=n&&+q>b&&(b=Number(q));this.settings=Object.assign(Object.assign(Object.assign({},this._options),u[b]),{items:u[b]&&u[b].items?this._validateItems(u[b].items,this._options.skip_validateItems):this._options.items}),delete this.settings.responsive,this.owlDOMData.isResponsive=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag;const T=[];this._items.forEach(q=>{T.push(this.settings.merge?q.dataMerge:1)}),this._mergers=T,this._breakpoint=b,this.invalidate("settings")}initialize(n){this.enter("initializing"),this.owlDOMData.rtl=this.settings.rtl,this._mergers.length&&(this._mergers=[]),n.forEach(u=>{this._mergers.push(this.settings.merge?u.dataMerge:1)}),this._clones=[],this.reset(this._isNumeric(this.settings.startPosition)?+this.settings.startPosition:0),this.invalidate("items"),this.refresh(),this.owlDOMData.isLoaded=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag,this.sendChanges(),this.leave("initializing"),this._trigger("initialized")}sendChanges(){this._viewSettingsShipper$.next({owlDOMData:this.owlDOMData,stageData:this.stageData,slidesData:this.slidesData,navData:this.navData,dotsData:this.dotsData})}_optionsLogic(){this.settings.autoWidth&&(this.settings.stagePadding=0,this.settings.merge=!1)}update(){let n=0;const u=this._pipe.length,b=q=>this._invalidated[q],T={};for(;n<u;){const q=this._pipe[n].filter.filter(b);(this._invalidated.all||q.length>0)&&this._pipe[n].run(T),n++}this.slidesData.forEach(q=>q.classes=this.setCurSlideClasses(q)),this.sendChanges(),this._invalidated={},this.is("valid")||this.enter("valid")}width(n){switch(n=n||dc.Default){case dc.Inner:case dc.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}}refresh(){this.enter("refreshing"),this._trigger("refresh"),this._defineSlidesData(),this.setOptionsForViewport(),this._optionsLogic(),this.update(),this.leave("refreshing"),this._trigger("refreshed")}onResize(n){if(!this._items.length)return!1;this.setCarouselWidth(n),this.enter("resizing"),this._trigger("resize"),this.invalidate("width"),this.refresh(),this.leave("resizing"),this._trigger("resized")}prepareDragging(n){let b,u=null;return b=this.stageData.transform.replace(/.*\(|\)| |[^,-\d]\w|\)/g,"").split(","),u={x:+b[0],y:+b[1]},this.is("animating")&&this.invalidate("position"),"mousedown"===n.type&&(this.owlDOMData.isGrab=!0),this.speed(0),u}enterDragging(){this.enter("dragging"),this._trigger("drag")}defineNewCoordsDrag(n,u){let b=null,T=null,q=null;const X=this.difference(u.pointer,this.pointer(n)),de=this.difference(u.stage.start,X);return!!this.is("dragging")&&(this.settings.loop?(b=this.coordinates(this.minimum()),T=+this.coordinates(this.maximum()+1)-b,de.x=((de.x-b)%T+T)%T+b):(b=this.coordinates(this.settings.rtl?this.maximum():this.minimum()),T=this.coordinates(this.settings.rtl?this.minimum():this.maximum()),q=this.settings.pullDrag?-1*X.x/5:0,de.x=Math.max(Math.min(de.x,b+q),T+q)),de)}finishDragging(n,u,b){const q=this.difference(u.pointer,this.pointer(n)),X=u.stage.current,de=["right","left"][+(this.settings.rtl?q.x<+this.settings.rtl:q.x>+this.settings.rtl)];let Se,Ze,yt;(0!==q.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(+this.settings.dragEndSpeed||this.settings.smartSpeed),Se=this.closest(X.x,0!==q.x?de:u.direction),Ze=this.current(),yt=this.current(-1===Se?void 0:Se),Ze!==yt&&(this.invalidate("position"),this.update()),u.direction=de,(Math.abs(q.x)>3||(new Date).getTime()-u.time>300)&&b()),this.is("dragging")&&(this.leave("dragging"),this._trigger("dragged"))}closest(n,u){const T=this.width();let q=this.coordinates(),X=-1;this.settings.center&&(q=q.map(de=>(0===de&&(de+=1e-6),de)));for(let de=0;de<q.length&&("left"===u&&n>q[de]-30&&n<q[de]+30?X=de:"right"===u&&n>q[de]-T-30&&n<q[de]-T+30?X=de+1:this._op(n,"<",q[de])&&this._op(n,">",q[de+1]||q[de]-T)?X="left"===u?de+1:de:null===u&&n>q[de]-30&&n<q[de]+30&&(X=de),-1===X);de++);return this.settings.loop||(this._op(n,">",q[this.minimum()])?X=n=this.minimum():this._op(n,"<",q[this.maximum()])&&(X=n=this.maximum())),X}animate(n){const u=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),u&&(this.enter("animating"),this._trigger("translate")),this.stageData.transform="translate3d("+n+"px,0px,0px)",this.stageData.transition=this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}is(n){return this._states.current[n]&&this._states.current[n]>0}current(n){return void 0===n?this._current:0!==this._items.length?(n=this.normalize(n),this._current!==n&&(this._trigger("change",{property:{name:"position",value:n}}),this._current=n,this.invalidate("position"),this._trigger("changed",{property:{name:"position",value:this._current}})),this._current):void 0}invalidate(n){return"string"==typeof n&&(this._invalidated[n]=!0,this.is("valid")&&this.leave("valid")),Object.keys(this._invalidated)}reset(n){void 0!==(n=this.normalize(n))&&(this._speed=0,this._current=n,this._suppress(["translate","translated"]),this.animate(this.coordinates(n)),this._release(["translate","translated"]))}normalize(n,u){const b=this._items.length,T=u?0:this._clones.length;return!this._isNumeric(n)||b<1?n=void 0:(n<0||n>=b+T)&&(n=((n-T/2)%b+b)%b+T/2),n}relative(n){return this.normalize(n-=this._clones.length/2,!0)}maximum(n=!1){const u=this.settings;let T,q,X,b=this._coordinates.length;if(u.loop)b=this._clones.length/2+this._items.length-1;else if(u.autoWidth||u.merge){for(T=this._items.length,q=this.slidesData[--T].width,X=this._width;T--&&(q+=+this.slidesData[T].width+this.settings.margin,!(q>X)););b=T+1}else b=u.center?this._items.length-1:this._items.length-u.items;return n&&(b-=this._clones.length/2),Math.max(b,0)}minimum(n=!1){return n?0:this._clones.length/2}items(n){return void 0===n?this._items.slice():(n=this.normalize(n,!0),[this._items[n]])}mergers(n){return void 0===n?this._mergers.slice():(n=this.normalize(n,!0),this._mergers[n])}clones(n){const u=this._clones.length/2,b=u+this._items.length,T=q=>q%2==0?b+q/2:u-(q+1)/2;return void 0===n?this._clones.map((q,X)=>T(X)):this._clones.map((q,X)=>q===n?T(X):null).filter(q=>q)}speed(n){return void 0!==n&&(this._speed=n),this._speed}coordinates(n){let T,q,u=1,b=n-1;return void 0===n?(q=this._coordinates.map((X,de)=>this.coordinates(de)),q):(this.settings.center?(this.settings.rtl&&(u=-1,b=n+1),T=this._coordinates[n],T+=(this.width()-T+(this._coordinates[b]||0))/2*u):T=this._coordinates[b]||0,T=Math.ceil(T),T)}_duration(n,u,b){return 0===b?0:Math.min(Math.max(Math.abs(u-n),1),6)*Math.abs(+b||this.settings.smartSpeed)}to(n,u){let b=this.current(),T=null,q=n-this.relative(b),X=this.maximum(),de=0;const Se=+(q>0)-+(q<0),Ze=this._items.length,yt=this.minimum();this.settings.loop?(!this.settings.rewind&&Math.abs(q)>Ze/2&&(q+=-1*Se*Ze),T=(((n=b+q)-yt)%Ze+Ze)%Ze+yt,T!==n&&T-q<=X&&T-q>0&&(b=T-q,n=T,de=30,this.reset(b),this.sendChanges())):this.settings.rewind?(X+=1,n=(n%X+X)%X):n=Math.max(yt,Math.min(X,n)),setTimeout(()=>{this.speed(this._duration(b,n,u)),this.current(n),this.update()},de)}next(n){n=n||!1,this.to(this.relative(this.current())+1,n)}prev(n){n=n||!1,this.to(this.relative(this.current())-1,n)}onTransitionEnd(n){if(void 0!==n)return!1;this.leave("animating"),this._trigger("translated")}_viewport(){let n;return this._width?n=this._width:this.logger.log("Can not detect viewport width."),n}setItems(n){this._items=n}_defineSlidesData(){let n;this.slidesData&&this.slidesData.length&&(n=new Map,this.slidesData.forEach(u=>{u.load&&n.set(u.id,u.load)})),this.slidesData=this._items.map(u=>({id:`${u.id}`,isActive:!1,tplRef:u.tplRef,dataMerge:u.dataMerge,width:0,isCloned:!1,load:!!n&&n.get(u.id),hashFragment:u.dataHash}))}setCurSlideClasses(n){const u={active:n.isActive,center:n.isCentered,cloned:n.isCloned,animated:n.isAnimated,"owl-animated-in":n.isDefAnimatedIn,"owl-animated-out":n.isDefAnimatedOut};return this.settings.animateIn&&(u[this.settings.animateIn]=n.isCustomAnimatedIn),this.settings.animateOut&&(u[this.settings.animateOut]=n.isCustomAnimatedOut),u}_op(n,u,b){const T=this.settings.rtl;switch(u){case"<":return T?n>b:n<b;case">":return T?n<b:n>b;case">=":return T?n<=b:n>=b;case"<=":return T?n>=b:n<=b}}_trigger(n,u,b,T,q){switch(n){case"initialized":this._initializedCarousel$.next(n);break;case"change":this._changeSettingsCarousel$.next(u);break;case"changed":this._changedSettingsCarousel$.next(u);break;case"drag":this._dragCarousel$.next(n);break;case"dragged":this._draggedCarousel$.next(n);break;case"resize":this._resizeCarousel$.next(n);break;case"resized":this._resizedCarousel$.next(n);break;case"refresh":this._refreshCarousel$.next(n);break;case"refreshed":this._refreshedCarousel$.next(n);break;case"translate":this._translateCarousel$.next(n);break;case"translated":this._translatedCarousel$.next(n)}}enter(n){[n].concat(this._states.tags[n]||[]).forEach(u=>{void 0===this._states.current[u]&&(this._states.current[u]=0),this._states.current[u]++})}leave(n){[n].concat(this._states.tags[n]||[]).forEach(u=>{(0===this._states.current[u]||this._states.current[u])&&this._states.current[u]--})}register(n){n.type===th.State&&(this._states.tags[n.name]=this._states.tags[n.name]?this._states.tags[n.name].concat(n.tags):n.tags,this._states.tags[n.name]=this._states.tags[n.name].filter((u,b)=>this._states.tags[n.name].indexOf(u)===b))}_suppress(n){n.forEach(u=>{this._supress[u]=!0})}_release(n){n.forEach(u=>{delete this._supress[u]})}pointer(n){const u={x:null,y:null};return(n=(n=n.originalEvent||n||window.event).touches&&n.touches.length?n.touches[0]:n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n).pageX?(u.x=n.pageX,u.y=n.pageY):(u.x=n.clientX,u.y=n.clientY),u}_isNumeric(n){return!isNaN(parseFloat(n))}_isNumberOrBoolean(n){return this._isNumeric(n)||"boolean"==typeof n}_isNumberOrString(n){return this._isNumeric(n)||"string"==typeof n}_isStringOrBoolean(n){return"string"==typeof n||"boolean"==typeof n}difference(n,u){return null===n||null===u?{x:0,y:0}:{x:n.x-u.x,y:n.y-u.y}}}return c.\u0275fac=function(n){return new(n||c)(t.LFG(bf))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac}),c})(),Cf=(()=>{class c{constructor(n){this.carouselService=n,this._initialized=!1,this._pages=[],this._navData={disabled:!1,prev:{disabled:!1,htmlText:""},next:{disabled:!1,htmlText:""}},this._dotsData={disabled:!1,dots:[]},this.spyDataStreams()}ngOnDestroy(){this.navSubscription.unsubscribe()}spyDataStreams(){const n=this.carouselService.getInitializedState().pipe((0,nt.b)(q=>{this.initialize(),this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),u=this.carouselService.getChangedState().pipe((0,Ye.h)(q=>"position"===q.property.name),(0,nt.b)(q=>{this.update()})),b=this.carouselService.getRefreshedState().pipe((0,nt.b)(()=>{this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),T=(0,Pe.T)(n,u,b);this.navSubscription=T.subscribe(()=>{})}initialize(){this._navData.disabled=!0,this._navData.prev.htmlText=this.carouselService.settings.navText[0],this._navData.next.htmlText=this.carouselService.settings.navText[1],this._dotsData.disabled=!0,this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}_updateNavPages(){let n,u,b;const T=this.carouselService.clones().length/2,q=T+this.carouselService.items().length,X=this.carouselService.maximum(!0),de=[],Se=this.carouselService.settings;let Ze=Se.center||Se.autoWidth||Se.dotsData?1:Se.dotsEach||Se.items;if(Ze=+Ze,"page"!==Se.slideBy&&(Se.slideBy=Math.min(+Se.slideBy,Se.items)),Se.dots||"page"===Se.slideBy)for(n=T,u=0,b=0;n<q;n++){if(u>=Ze||0===u){if(de.push({start:Math.min(X,n-T),end:n-T+Ze-1}),Math.min(X,n-T)===X)break;u=0,++b}u+=this.carouselService.mergers(this.carouselService.relative(n))}this._pages=de}draw(){let n;const u=this.carouselService.settings,b=this.carouselService.items(),T=b.length<=u.items;if(this._navData.disabled=!u.nav||T,this._dotsData.disabled=!u.dots||T,u.dots)if(n=this._pages.length-this._dotsData.dots.length,u.dotsData&&0!==n)this._dotsData.dots=[],b.forEach(q=>{this._dotsData.dots.push({active:!1,id:`dot-${q.id}`,innerContent:q.dotContent,showInnerContent:!0})});else if(n>0){const q=this._dotsData.dots.length>0?this._dotsData.dots.length:0;for(let X=0;X<n;X++)this._dotsData.dots.push({active:!1,id:`dot-${X+q}`,innerContent:"",showInnerContent:!1})}else n<0&&this._dotsData.dots.splice(n,Math.abs(n));this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}update(){this._updateNavButtons(),this._updateDots()}_updateNavButtons(){const n=this.carouselService.settings,u=n.loop||n.rewind,b=this.carouselService.relative(this.carouselService.current());n.nav&&(this._navData.prev.disabled=!u&&b<=this.carouselService.minimum(!0),this._navData.next.disabled=!u&&b>=this.carouselService.maximum(!0)),this.carouselService.navData=this._navData}_updateDots(){let n;this.carouselService.settings.dots&&(this._dotsData.dots.forEach(u=>{!0===u.active&&(u.active=!1)}),n=this._current(),this._dotsData.dots.length&&(this._dotsData.dots[n].active=!0),this.carouselService.dotsData=this._dotsData)}_current(){const n=this.carouselService.relative(this.carouselService.current());let u;const b=this._pages.filter((T,q)=>T.start<=n&&T.end>=n).pop();return u=this._pages.findIndex(T=>T.start===b.start&&T.end===b.end),u}_getPosition(n){let u,b;const T=this.carouselService.settings;return"page"===T.slideBy?(u=this._current(),b=this._pages.length,n?++u:--u,u=this._pages[(u%b+b)%b].start):(u=this.carouselService.relative(this.carouselService.current()),b=this.carouselService.items().length,n?u+=+T.slideBy:u-=+T.slideBy),u}next(n){this.carouselService.to(this._getPosition(!0),n)}prev(n){this.carouselService.to(this._getPosition(!1),n)}to(n,u,b){let T;!b&&this._pages.length?(T=this._pages.length,this.carouselService.to(this._pages[(n%T+T)%T].start,u)):this.carouselService.to(n,u)}moveByDot(n){const u=this._dotsData.dots.findIndex(b=>n===b.id);this.to(u,this.carouselService.settings.dotsSpeed)}toSlideById(n){const u=this.carouselService.slidesData.findIndex(b=>b.id===n&&!1===b.isCloned);-1===u||u===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(u),!1)}}return c.\u0275fac=function(n){return new(n||c)(t.LFG(Dl))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac}),c})();const Df=new t.OlP("WindowToken");class tp{get nativeWindow(){throw new Error("Not implemented.")}}const Xg=[{provide:tp,useClass:(()=>{class c extends tp{constructor(){super()}get nativeWindow(){return window}}return c.\u0275fac=function(n){return new(n||c)},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac}),c})()},{provide:Df,useFactory:function np(c,p){return(0,I.NF)(p)?c.nativeWindow:{setTimeout:(u,b)=>{},clearTimeout:u=>{}}},deps:[tp,t.Lbi]}],Ef=new t.OlP("DocumentToken");class xf{get nativeDocument(){throw new Error("Not implemented.")}}const rp=[{provide:xf,useClass:(()=>{class c extends xf{constructor(){super()}get nativeDocument(){return document}}return c.\u0275fac=function(n){return new(n||c)},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac}),c})()},{provide:Ef,useFactory:function Sf(c,p){return(0,I.NF)(p)?c.nativeDocument:{hidden:!1,visibilityState:"visible"}},deps:[xf,t.Lbi]}];let ip=(()=>{class c{constructor(n,u,b,T){this.carouselService=n,this.ngZone=T,this._timeout=null,this._paused=!1,this._isAutoplayStopped=!1,this.winRef=u,this.docRef=b,this.spyDataStreams()}get isAutoplayStopped(){return this._isAutoplayStopped}set isAutoplayStopped(n){this._isAutoplayStopped=n}ngOnDestroy(){this.autoplaySubscription.unsubscribe()}spyDataStreams(){const n=this.carouselService.getInitializedState().pipe((0,nt.b)(()=>{this.carouselService.settings.autoplay&&this.play()})),u=this.carouselService.getChangedState().pipe((0,nt.b)(q=>{this._handleChangeObservable(q)})),b=this.carouselService.getResizedState().pipe((0,nt.b)(()=>{this.carouselService.settings.autoplay&&!this._isAutoplayStopped?this.play():this.stop()})),T=(0,Pe.T)(n,u,b);this.autoplaySubscription=T.subscribe(()=>{})}play(n,u){this._paused&&(this._paused=!1,this._setAutoPlayInterval(this.carouselService.settings.autoplayMouseleaveTimeout)),!this.carouselService.is("rotating")&&(this.carouselService.enter("rotating"),this._setAutoPlayInterval())}_getNextTimeout(n,u){return this._timeout&&this.winRef.clearTimeout(this._timeout),this._isArtificialAutoplayTimeout=!!n,this.ngZone.runOutsideAngular(()=>this.winRef.setTimeout(()=>{this.ngZone.run(()=>{this._paused||this.carouselService.is("busy")||this.carouselService.is("interacting")||this.docRef.hidden||this.carouselService.next(u||this.carouselService.settings.autoplaySpeed)})},n||this.carouselService.settings.autoplayTimeout))}_setAutoPlayInterval(n){this._timeout=this._getNextTimeout(n)}stop(){this.carouselService.is("rotating")&&(this._paused=!0,this.winRef.clearTimeout(this._timeout),this.carouselService.leave("rotating"))}pause(){this.carouselService.is("rotating")&&(this._paused=!0)}_handleChangeObservable(n){"settings"===n.property.name?this.carouselService.settings.autoplay?this.play():this.stop():"position"===n.property.name&&this.carouselService.settings.autoplay&&this._setAutoPlayInterval()}_playAfterTranslated(){(0,De.of)("translated").pipe((0,Qe.w)(n=>this.carouselService.getTranslatedState()),(0,Qc.P)(),(0,Ye.h)(()=>this._isArtificialAutoplayTimeout),(0,nt.b)(()=>this._setAutoPlayInterval())).subscribe(()=>{})}startPausing(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&this.pause()}startPlayingMouseLeave(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}startPlayingTouchEnd(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}}return c.\u0275fac=function(n){return new(n||c)(t.LFG(Dl),t.LFG(Df),t.LFG(Ef),t.LFG(t.R0b))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac}),c})(),nh=(()=>{class c{constructor(n){this.carouselService=n,this.spyDataStreams()}ngOnDestroy(){this.lazyLoadSubscription.unsubscribe()}spyDataStreams(){const n=this.carouselService.getInitializedState().pipe((0,nt.b)(()=>{const q=this.carouselService.settings&&!this.carouselService.settings.lazyLoad;this.carouselService.slidesData.forEach(X=>X.load=!!q)})),u=this.carouselService.getChangeState(),b=this.carouselService.getResizedState(),T=(0,Pe.T)(n,u,b).pipe((0,nt.b)(q=>this._defineLazyLoadSlides(q)));this.lazyLoadSubscription=T.subscribe(()=>{})}_defineLazyLoadSlides(n){if(this.carouselService.settings&&this.carouselService.settings.lazyLoad&&(n.property&&"position"===n.property.name||"initialized"===n||"resized"===n)){const u=this.carouselService.settings,b=this.carouselService.clones().length;let T=u.center&&Math.ceil(u.items/2)||u.items,q=u.center&&-1*T||0,X=(n.property&&void 0!==n.property.value?n.property.value:this.carouselService.current())+q;for(u.lazyLoadEager>0&&(T+=u.lazyLoadEager,u.loop&&(X-=u.lazyLoadEager,T++));q++<T;)this._load(b/2+this.carouselService.relative(X)),b&&this.carouselService.clones(this.carouselService.relative(X)).forEach(de=>this._load(de)),X++}}_load(n){this.carouselService.slidesData[n].load||(this.carouselService.slidesData[n].load=!0)}}return c.\u0275fac=function(n){return new(n||c)(t.LFG(Dl))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac}),c})(),em=(()=>{class c{constructor(n){this.carouselService=n,this.swapping=!0,this.previous=void 0,this.next=void 0,this.spyDataStreams()}ngOnDestroy(){this.animateSubscription.unsubscribe()}spyDataStreams(){const n=this.carouselService.getChangeState().pipe((0,nt.b)(Se=>{"position"===Se.property.name&&(this.previous=this.carouselService.current(),this.next=Se.property.value)})),u=this.carouselService.getDragState(),b=this.carouselService.getDraggedState(),T=this.carouselService.getTranslatedState(),q=(0,Pe.T)(u,b,T).pipe((0,nt.b)(Se=>this.swapping="translated"===Se)),X=this.carouselService.getTranslateState().pipe((0,nt.b)(Se=>{this.swapping&&(this.carouselService._options.animateOut||this.carouselService._options.animateIn)&&this._swap()})),de=(0,Pe.T)(n,X,q).pipe();this.animateSubscription=de.subscribe(()=>{})}_swap(){if(1!==this.carouselService.settings.items)return;let n;this.carouselService.speed(0);const u=this.carouselService.slidesData[this.previous],b=this.carouselService.slidesData[this.next],T=this.carouselService.settings.animateIn,q=this.carouselService.settings.animateOut;this.carouselService.current()!==this.previous&&(q&&(n=+this.carouselService.coordinates(this.previous)-+this.carouselService.coordinates(this.next),this.carouselService.slidesData.forEach(X=>{X.id===u.id&&(X.left=`${n}px`,X.isAnimated=!0,X.isDefAnimatedOut=!0,X.isCustomAnimatedOut=!0)})),T&&this.carouselService.slidesData.forEach(X=>{X.id===b.id&&(X.isAnimated=!0,X.isDefAnimatedIn=!0,X.isCustomAnimatedIn=!0)}))}clear(n){this.carouselService.slidesData.forEach(u=>{u.id===n&&(u.left="",u.isAnimated=!1,u.isDefAnimatedOut=!1,u.isCustomAnimatedOut=!1,u.isDefAnimatedIn=!1,u.isCustomAnimatedIn=!1,u.classes=this.carouselService.setCurSlideClasses(u))}),this.carouselService.onTransitionEnd()}}return c.\u0275fac=function(n){return new(n||c)(t.LFG(Dl))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac}),c})(),op=(()=>{class c{constructor(n){this.carouselService=n,this.spyDataStreams()}ngOnDestroy(){this.autoHeightSubscription.unsubscribe()}spyDataStreams(){const n=this.carouselService.getInitializedState().pipe((0,nt.b)(q=>{this.carouselService.settings.autoHeight?this.update():this.carouselService.slidesData.forEach(X=>X.heightState="full")})),u=this.carouselService.getChangedState().pipe((0,nt.b)(q=>{this.carouselService.settings.autoHeight&&"position"===q.property.name&&this.update()})),b=this.carouselService.getRefreshedState().pipe((0,nt.b)(q=>{this.carouselService.settings.autoHeight&&this.update()})),T=(0,Pe.T)(n,u,b);this.autoHeightSubscription=T.subscribe(()=>{})}update(){const n=this.carouselService.settings.items;let u=this.carouselService.current(),b=u+n;this.carouselService.settings.center&&(u=n%2==1?u-(n-1)/2:u-n/2,b=n%2==1?u+n:u+n+1),this.carouselService.slidesData.forEach((T,q)=>{T.heightState=q>=u&&q<b?"full":"nulled"})}}return c.\u0275fac=function(n){return new(n||c)(t.LFG(Dl))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac}),c})(),gy=(()=>{class c{constructor(n,u,b){this.carouselService=n,this.route=u,this.router=b,this.spyDataStreams(),this.route||(this.route={fragment:(0,De.of)("no route").pipe((0,st.q)(1))}),this.router||(this.router={navigate:(T,q)=>{}})}ngOnDestroy(){this.hashSubscription.unsubscribe()}spyDataStreams(){const n=this.carouselService.getInitializedState().pipe((0,nt.b)(()=>this.listenToRoute())),u=this.carouselService.getChangedState().pipe((0,nt.b)(T=>{if(this.carouselService.settings.URLhashListener&&"position"===T.property.name){const q=this.carouselService.current(),X=this.carouselService.slidesData[q].hashFragment;if(!X||X===this.currentHashFragment)return;this.router.navigate(["./"],{fragment:X,relativeTo:this.route})}})),b=(0,Pe.T)(n,u);this.hashSubscription=b.subscribe(()=>{})}rewind(n){const u=this.carouselService.slidesData.findIndex(b=>b.hashFragment===n&&!1===b.isCloned);-1===u||u===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(u),!1)}listenToRoute(){this.route.fragment.pipe((0,$n.T)("URLHash"===this.carouselService.settings.startPosition?0:2)).subscribe(u=>{this.currentHashFragment=u,this.rewind(u)})}}return c.\u0275fac=function(n){return new(n||c)(t.LFG(Dl),t.LFG(ht.gz,8),t.LFG(ht.F0,8))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac}),c})(),tm=0,Nf=(()=>{class c{constructor(n){this.tplRef=n,this.id="owl-slide-"+tm++,this._dataMerge=1,this.width=0,this.dotContent="",this.dataHash=""}set dataMerge(n){this._dataMerge=this.isNumeric(n)?n:1}get dataMerge(){return this._dataMerge}isNumeric(n){return!isNaN(parseFloat(n))}}return c.\u0275fac=function(n){return new(n||c)(t.Y36(t.Rgc))},c.\u0275dir=t.lG2({type:c,selectors:[["ng-template","carouselSlide",""]],inputs:{id:"id",width:"width",dotContent:"dotContent",dataHash:"dataHash",dataMerge:"dataMerge"}}),c})(),nm=(()=>{class c{constructor(n,u,b,T,q,X,de,Se,Ze,yt,Ft,jt){this.el=n,this.resizeService=u,this.carouselService=b,this.navigationService=T,this.autoplayService=q,this.lazyLoadService=X,this.animateService=de,this.autoHeightService=Se,this.hashService=Ze,this.logger=yt,this.changeDetectorRef=Ft,this.translated=new t.vpe,this.dragging=new t.vpe,this.change=new t.vpe,this.changed=new t.vpe,this.initialized=new t.vpe,this.slidesData=[],this.carouselLoaded=!1,this.docRef=jt}onVisibilityChange(n){if(this.carouselService.settings.autoplay)switch(this.docRef.visibilityState){case"visible":!this.autoplayService.isAutoplayStopped&&this.autoplayService.play();break;case"hidden":this.autoplayService.pause()}}ngOnInit(){this.spyDataStreams(),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}ngOnChanges(){var n;this.prevOptions!==this.options&&(this.prevOptions&&null!==(n=this.slides)&&void 0!==n&&n.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options),this.carouselService.initialize(this.slides.toArray())):(this.carouselLoaded=!1,this.logger.log("There are no slides to show. So the carousel won't be re-rendered")),this.prevOptions=this.options)}ngAfterContentInit(){this.slides.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options),this.carouselService.initialize(this.slides.toArray()),this._winResizeWatcher()):this.logger.log("There are no slides to show. So the carousel won't be rendered"),this._slidesChangesSubscription=this.slides.changes.pipe((0,nt.b)(n=>{n.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,n.toArray(),this.options),this.carouselService.initialize(n.toArray())):(this.carouselLoaded=!1,this.logger.log("There are no slides to show. So the carousel won't be re-rendered"))})).subscribe(()=>{})}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe(),this._slidesChangesSubscription&&this._slidesChangesSubscription.unsubscribe(),this._allObservSubscription&&this._allObservSubscription.unsubscribe()}spyDataStreams(){this._viewCurSettings$=this.carouselService.getViewCurSettings().pipe((0,nt.b)(n=>{this.owlDOMData=n.owlDOMData,this.stageData=n.stageData,this.slidesData=n.slidesData,this.carouselLoaded||(this.carouselLoaded=!0),this.navData=n.navData,this.dotsData=n.dotsData,this.changeDetectorRef.markForCheck()})),this._initializedCarousel$=this.carouselService.getInitializedState().pipe((0,nt.b)(()=>{this.gatherTranslatedData(),this.initialized.emit(this.slidesOutputData)})),this._translatedCarousel$=this.carouselService.getTranslatedState().pipe((0,nt.b)(()=>{this.gatherTranslatedData(),this.translated.emit(this.slidesOutputData)})),this._changeCarousel$=this.carouselService.getChangeState().pipe((0,nt.b)(()=>{this.gatherTranslatedData(),this.change.emit(this.slidesOutputData)})),this._changedCarousel$=this.carouselService.getChangeState().pipe((0,Qe.w)(n=>{const u=(0,De.of)(n).pipe((0,Ye.h)(()=>"position"===n.property.name),(0,Qe.w)(()=>(0,ff.D)(this.slidesData)),(0,$n.T)(n.property.value),(0,st.q)(this.carouselService.settings.items),(0,Ee.U)(b=>{const T=this.carouselService.clonedIdPrefix,q=b.id.indexOf(T)>=0?b.id.slice(T.length):b.id;return Object.assign(Object.assign({},b),{id:q,isActive:!0})}),function Xh(){return(0,Ne.e)((c,p)=>{(function Qh(c,p){return(0,Ne.e)((0,Jh.U)(c,p,arguments.length>=2,!1,!0))})(gf,[])(c).subscribe(p)})}(),(0,Ee.U)(b=>({slides:b,startPosition:this.carouselService.relative(n.property.value)})));return(0,Pe.T)(u)}),(0,nt.b)(n=>{this.gatherTranslatedData(),this.changed.emit(n.slides.length?n:this.slidesOutputData)})),this._draggingCarousel$=this.carouselService.getDragState().pipe((0,nt.b)(()=>{this.gatherTranslatedData(),this.dragging.emit({dragging:!0,data:this.slidesOutputData})}),(0,Qe.w)(()=>this.carouselService.getDraggedState().pipe((0,Ee.U)(()=>!!this.carouselService.is("animating")))),(0,Qe.w)(n=>n?this.carouselService.getTranslatedState().pipe((0,Qc.P)()):(0,De.of)("not animating")),(0,nt.b)(()=>{this.dragging.emit({dragging:!1,data:this.slidesOutputData})})),this._carouselMerge$=(0,Pe.T)(this._viewCurSettings$,this._translatedCarousel$,this._draggingCarousel$,this._changeCarousel$,this._changedCarousel$,this._initializedCarousel$),this._allObservSubscription=this._carouselMerge$.subscribe(()=>{})}_winResizeWatcher(){Object.keys(this.carouselService._options.responsive).length&&(this.resizeSubscription=this.resizeService.onResize$.pipe((0,Ye.h)(()=>this.carouselWindowWidth!==this.el.nativeElement.querySelector(".owl-carousel").clientWidth),Xn(this.carouselService.settings.responsiveRefreshRate)).subscribe(()=>{this.carouselService.onResize(this.el.nativeElement.querySelector(".owl-carousel").clientWidth),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}))}onTransitionEnd(){this.carouselService.onTransitionEnd()}next(){this.carouselLoaded&&this.navigationService.next(this.carouselService.settings.navSpeed)}prev(){this.carouselLoaded&&this.navigationService.prev(this.carouselService.settings.navSpeed)}moveByDot(n){this.carouselLoaded&&this.navigationService.moveByDot(n)}to(n){this.carouselLoaded&&this.navigationService.toSlideById(n)}gatherTranslatedData(){let n;const u=this.carouselService.clonedIdPrefix,b=this.slidesData.filter(T=>!0===T.isActive).map(T=>({id:T.id.indexOf(u)>=0?T.id.slice(u.length):T.id,width:T.width,marginL:T.marginL,marginR:T.marginR,center:T.isCentered}));n=this.carouselService.relative(this.carouselService.current()),this.slidesOutputData={startPosition:n,slides:b}}startPausing(){this.autoplayService.startPausing()}startPlayML(){this.autoplayService.startPlayingMouseLeave()}startPlayTE(){this.autoplayService.startPlayingTouchEnd()}stopAutoplay(){this.autoplayService.isAutoplayStopped=!0,this.autoplayService.stop()}startAutoplay(){this.autoplayService.isAutoplayStopped=!1,this.autoplayService.play()}}return c.\u0275fac=function(n){return new(n||c)(t.Y36(t.SBq),t.Y36(_f),t.Y36(Dl),t.Y36(Cf),t.Y36(ip),t.Y36(nh),t.Y36(em),t.Y36(op),t.Y36(gy),t.Y36(bf),t.Y36(t.sBO),t.Y36(Ef))},c.\u0275cmp=t.Xpm({type:c,selectors:[["owl-carousel-o"]],contentQueries:function(n,u,b){if(1&n&&t.Suo(b,Nf,4),2&n){let T;t.iGM(T=t.CRH())&&(u.slides=T)}},hostBindings:function(n,u){1&n&&t.NdJ("visibilitychange",function(T){return u.onVisibilityChange(T)},!1,t.evT)},inputs:{options:"options"},outputs:{translated:"translated",dragging:"dragging",change:"change",changed:"changed",initialized:"initialized"},features:[t._Bn([Cf,ip,Dl,nh,em,op,gy]),t.TTD],decls:4,vars:9,consts:[[1,"owl-carousel","owl-theme",3,"ngClass","mouseover","mouseleave","touchstart","touchend"],["owlCarousel",""],["class","owl-stage-outer",4,"ngIf"],[4,"ngIf"],[1,"owl-stage-outer"],[3,"owlDraggable","stageData","slidesData"],[1,"owl-nav",3,"ngClass"],[1,"owl-prev",3,"ngClass","innerHTML","click"],[1,"owl-next",3,"ngClass","innerHTML","click"],[1,"owl-dots",3,"ngClass"],["class","owl-dot",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"owl-dot",3,"ngClass","click"],[3,"innerHTML"]],template:function(n,u){1&n&&(t.TgZ(0,"div",0,1),t.NdJ("mouseover",function(){return u.startPausing()})("mouseleave",function(){return u.startPlayML()})("touchstart",function(){return u.startPausing()})("touchend",function(){return u.startPlayTE()}),t.YNc(2,Yg,2,6,"div",2),t.YNc(3,Kg,6,15,"ng-container",3),t.qZA()),2&n&&(t.Q6J("ngClass",t.qbA(3,oy,null==u.owlDOMData?null:u.owlDOMData.rtl,null==u.owlDOMData?null:u.owlDOMData.isLoaded,null==u.owlDOMData?null:u.owlDOMData.isResponsive,null==u.owlDOMData?null:u.owlDOMData.isMouseDragable,null==u.owlDOMData?null:u.owlDOMData.isGrab)),t.xp6(2),t.Q6J("ngIf",u.carouselLoaded),t.xp6(1),t.Q6J("ngIf",u.slides.toArray().length))},dependencies:function(){return[I.mk,I.sg,I.O5,Tf]},styles:[".owl-theme[_ngcontent-%COMP%] { display: block; }"],changeDetection:0}),c})(),Tf=(()=>{class c{constructor(n,u,b,T,q){this.zone=n,this.el=u,this.renderer=b,this.carouselService=T,this.animateService=q,this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1},this._oneDragMove$=new je.x,this.preparePublicSlide=X=>{const de=Object.assign({},X);return delete de.tplRef,de},this.bindOneMouseTouchMove=X=>{this._oneMouseTouchMove(X)},this.bindOnDragMove=X=>{this._onDragMove(X)},this.bindOnDragEnd=X=>{this._onDragEnd(X)},this._oneClickHandler=()=>{this.listenerOneClick=this.renderer.listen(this._drag.target,"click",()=>!1),this.listenerOneClick()}}onMouseDown(n){this.owlDraggable.isMouseDragable&&this._onDragStart(n)}onTouchStart(n){if(n.targetTouches.length>=2)return!1;this.owlDraggable.isTouchDragable&&this._onDragStart(n)}onTouchCancel(n){this._onDragEnd(n)}onDragStart(){if(this.owlDraggable.isMouseDragable)return!1}onSelectStart(){if(this.owlDraggable.isMouseDragable)return!1}ngOnInit(){this._oneMoveSubsription=this._oneDragMove$.pipe((0,Qc.P)()).subscribe(()=>{this._sendChanges()})}ngOnDestroy(){this._oneMoveSubsription.unsubscribe()}_onDragStart(n){let u=null;3!==n.which&&(u=this._prepareDragging(n),this._drag.time=(new Date).getTime(),this._drag.target=n.target,this._drag.stage.start=u,this._drag.stage.current=u,this._drag.pointer=this._pointer(n),this.listenerMouseUp=this.renderer.listen(document,"mouseup",this.bindOnDragEnd),this.listenerTouchEnd=this.renderer.listen(document,"touchend",this.bindOnDragEnd),this.zone.runOutsideAngular(()=>{this.listenerOneMouseMove=this.renderer.listen(document,"mousemove",this.bindOneMouseTouchMove),this.listenerOneTouchMove=this.renderer.listen(document,"touchmove",this.bindOneMouseTouchMove)}))}_oneMouseTouchMove(n){const u=this._difference(this._drag.pointer,this._pointer(n));this.listenerATag&&this.listenerATag(),!(Math.abs(u.x)<3&&Math.abs(u.y)<3&&this._is("valid"))&&(Math.abs(u.x)<3&&Math.abs(u.x)<Math.abs(u.y)&&this._is("valid")||(this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving=!0,this.blockClickAnchorInDragging(n),this.listenerMouseMove=this.renderer.listen(document,"mousemove",this.bindOnDragMove),this.listenerTouchMove=this.renderer.listen(document,"touchmove",this.bindOnDragMove),n.preventDefault(),this._enterDragging(),this._oneDragMove$.next(n)))}blockClickAnchorInDragging(n){let u=n.target;for(;u&&!(u instanceof HTMLAnchorElement);)u=u.parentElement;u instanceof HTMLAnchorElement&&(this.listenerATag=this.renderer.listen(u,"click",()=>!1))}_onDragMove(n){let u;const b=this.carouselService.defineNewCoordsDrag(n,this._drag);!1!==b&&(u=b,n.preventDefault(),this._drag.stage.current=u,this._animate(u.x-this._drag.stage.start.x))}_animate(n){this.renderer.setStyle(this.el.nativeElement.children[0],"transform",`translate3d(${n}px,0px,0px`),this.renderer.setStyle(this.el.nativeElement.children[0],"transition","0s")}_onDragEnd(n){this.carouselService.owlDOMData.isGrab=!1,this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving&&(this.renderer.setStyle(this.el.nativeElement.children[0],"transform",""),this.renderer.setStyle(this.el.nativeElement.children[0],"transition",this.carouselService.speed(+this.carouselService.settings.dragEndSpeed||this.carouselService.settings.smartSpeed)/1e3+"s"),this._finishDragging(n),this.listenerMouseMove(),this.listenerTouchMove()),this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1},this.listenerMouseUp(),this.listenerTouchEnd()}_prepareDragging(n){return this.carouselService.prepareDragging(n)}_finishDragging(n){this.carouselService.finishDragging(n,this._drag,this._oneClickHandler)}_pointer(n){return this.carouselService.pointer(n)}_difference(n,u){return this.carouselService.difference(n,u)}_is(n){return this.carouselService.is(n)}_enter(n){this.carouselService.enter(n)}_sendChanges(){this.carouselService.sendChanges()}onTransitionEnd(){this.carouselService.onTransitionEnd()}_enterDragging(){this.carouselService.enterDragging()}clear(n){this.animateService.clear(n)}}return c.\u0275fac=function(n){return new(n||c)(t.Y36(t.R0b),t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(Dl),t.Y36(em))},c.\u0275cmp=t.Xpm({type:c,selectors:[["owl-stage"]],hostBindings:function(n,u){1&n&&t.NdJ("mousedown",function(T){return u.onMouseDown(T)})("touchstart",function(T){return u.onTouchStart(T)})("touchcancel",function(T){return u.onTouchCancel(T)})("dragstart",function(){return u.onDragStart()})("selectstart",function(){return u.onSelectStart()})},inputs:{owlDraggable:"owlDraggable",stageData:"stageData",slidesData:"slidesData"},decls:3,vars:8,consts:[[1,"owl-stage",3,"ngStyle","transitionend"],[4,"ngFor","ngForOf"],[1,"owl-item",3,"ngClass","ngStyle","animationend"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,u){1&n&&(t.TgZ(0,"div")(1,"div",0),t.NdJ("transitionend",function(){return u.onTransitionEnd()}),t.YNc(2,qy,3,9,"ng-container",1),t.qZA()()),2&n&&(t.xp6(1),t.Q6J("ngStyle",t.qbA(2,vf,u.stageData.width+"px",u.stageData.transform,u.stageData.transition,u.stageData.paddingL?u.stageData.paddingL+"px":"",u.stageData.paddingR?u.stageData.paddingR+"px":"")),t.xp6(1),t.Q6J("ngForOf",u.slidesData))},dependencies:[I.mk,I.sg,I.O5,I.tP,I.PC],encapsulation:2,data:{animation:[(0,rt.X$)("autoHeight",[(0,rt.SB)("nulled",(0,rt.oB)({height:0})),(0,rt.SB)("full",(0,rt.oB)({height:"*"})),(0,rt.eR)("full => nulled",[(0,rt.jt)("700ms 350ms")]),(0,rt.eR)("nulled => full",[(0,rt.jt)(350)])])]}}),c})(),rm=(()=>{class c{}return c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({providers:[Xg,_f,rp,bf],imports:[I.ez]}),c})();function If(c){return new Cn.w(c,"./assets/i18n/",".json")}let om=(()=>{class c{}return c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[I.ez,Yu,rm,fr.aw.forChild({loader:{provide:fr.Zw,useFactory:If,deps:[H.eN]}})]}),c})();var Xs=E(9867);let Xl=(()=>{class c{constructor(n){this.analyticsService=n}ngOnInit(){}}return c.\u0275fac=function(n){return new(n||c)(t.Y36(Xs.y))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-banner"]],decls:22,vars:16,consts:[[1,"section","banner"],[1,"container"],[1,"section-box-banner"],[1,"content"],[1,"banner-title"],[3,"click"],[1,"banner-description"],[1,"mt-4",3,"innerHTML","click"],[1,"div-btn-banner"],["rel","canonical","href","mailto:ewumesh@gmail.com","target","_black",1,"main-btn",3,"click"]],template:function(n,u){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"h1"),t._uU(6),t.ALo(7,"translate"),t.qZA()(),t.TgZ(8,"div",4)(9,"h2",5),t.NdJ("click",function(){return u.analyticsService.sendAnalyticEvent("click_ewumesh","banner","click")}),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"h3",5),t.NdJ("click",function(){return u.analyticsService.sendAnalyticEvent("click_designation","banner","click")}),t._uU(13),t.ALo(14,"translate"),t.qZA()(),t.TgZ(15,"div",6)(16,"p",7),t.NdJ("click",function(){return u.analyticsService.sendAnalyticEvent("click_description","banner","click")}),t.ALo(17,"translate"),t.qZA()()(),t.TgZ(18,"div",8)(19,"a",9),t.NdJ("click",function(){return u.analyticsService.sendAnalyticEvent("click_send_mail","banner","email")}),t._uU(20),t.ALo(21,"translate"),t.qZA()()()()()),2&n&&(t.xp6(1),t.Q6J("@bannerTrigger",void 0),t.xp6(5),t.Oqu(t.lcZ(7,6,"Banner.Pretitle")),t.xp6(4),t.hij("",t.lcZ(11,8,"Banner.Title"),"."),t.xp6(3),t.Oqu(t.lcZ(14,10,"Banner.Designation")),t.xp6(3),t.Q6J("innerHTML",t.lcZ(17,12,"Banner.Description"),t.oJD),t.xp6(4),t.hij(" ",t.lcZ(21,14,"Banner.ActionBtn")," "))},dependencies:[fr.X$],styles:[".banner[_ngcontent-%COMP%]{min-height:100vh}.banner[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:table;height:100vh}.banner[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .section-box-banner[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}.banner[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .section-box-banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:98px}.banner[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .section-box-banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#64ffda;margin:0 0 20px 3px;font-size:16px;font-weight:400;font-family:SF Mono,Fira Code,Fira Mono,Roboto Mono,Lucida Console,Monaco,Monospace}.banner[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .section-box-banner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .banner[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .section-box-banner[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;font-size:80px;line-height:1.1;margin:0;font-family:Calibre,San Francisco,SF Pro Text,-apple-system,system-ui,BlinkMacSystemFont,Roboto,Helvetica Neue,Segoe UI,Arial,sans-serif}.banner[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .section-box-banner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ccd6f6}.banner[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .section-box-banner[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#8892b0}.banner[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .section-box-banner[_ngcontent-%COMP%]   .banner-description[_ngcontent-%COMP%]{margin-bottom:70px}.banner[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .section-box-banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:500px}.banner[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .section-box-banner[_ngcontent-%COMP%]   .div-btn-banner[_ngcontent-%COMP%]{height:43px}"],data:{animation:[(0,rt.X$)("bannerTrigger",[(0,rt.eR)(":enter",[(0,rt.IO)("*",[(0,rt.oB)({opacity:0,transform:"translateX(-50px)"}),(0,rt.EY)(50,[(0,rt.jt)("250ms cubic-bezier(0.35, 0, 0.25, 1)",(0,rt.oB)({opacity:1,transform:"none"}))])])])])]}}),c})();function am(c,p){1&c&&t._UZ(0,"p",15),2&c&&t.Q6J("innerHTML",p.$implicit,t.oJD)}let Af=(()=>{class c{constructor(n){this.analyticsService=n}ngOnInit(){}}return c.\u0275fac=function(n){return new(n||c)(t.Y36(Xs.y))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-about"]],decls:52,vars:6,consts:[["id","about",1,"section","about"],[1,"container"],[1,"section-box"],["data-aos","fade-up",1,"about-title"],[1,"section-title",3,"click"],[1,"row"],[1,"col-12","col-md-6","mb-4","mb-md-0"],[1,"about-description"],["data-aos","fade-up","data-aos-duration","1000",3,"innerHTML",4,"ngFor","ngForOf"],["data-aos","fade-up",1,"skills-list"],["data-aos","fade-up","data-aos-duration","1000",1,"skill-element",3,"click"],[1,"underline"],["data-aos","fade-up","data-aos-duration","1000",1,"col-12","col-md-6","mt-4","mt-md-0","text-center"],[1,"about-img-container"],["title","Ewumesh","width","300","height","300","src","assets/images/profile.webp","alt","Ewumesh",1,"rounded",3,"click"],["data-aos","fade-up","data-aos-duration","1000",3,"innerHTML"]],template:function(n,u){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.NdJ("click",function(){return u.analyticsService.sendAnalyticEvent("click_aboutme","about","click")}),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7),t.YNc(10,am,1,1,"p",8),t.ALo(11,"translate"),t.TgZ(12,"ul",9)(13,"li",10),t.NdJ("click",function(){return u.analyticsService.sendAnalyticEvent("click_angular","about","skills")}),t.TgZ(14,"span",11),t._uU(15,"Angular "),t.qZA()(),t.TgZ(16,"li",10),t.NdJ("click",function(){return u.analyticsService.sendAnalyticEvent("click_vuejs","about","skills")}),t.TgZ(17,"span",11),t._uU(18,"Vuejs "),t.qZA()(),t.TgZ(19,"li",10),t.NdJ("click",function(){return u.analyticsService.sendAnalyticEvent("click_reactjs","about","skills")}),t.TgZ(20,"span",11),t._uU(21,"React "),t.qZA()(),t.TgZ(22,"li",10),t.NdJ("click",function(){return u.analyticsService.sendAnalyticEvent("click_rxjs","about","skills")}),t.TgZ(23,"span",11),t._uU(24,"RxJS "),t.qZA()(),t.TgZ(25,"li",10),t.NdJ("click",function(){return u.analyticsService.sendAnalyticEvent("click_HTML","about","skills")}),t.TgZ(26,"span",11),t._uU(27,"HTML & (S)CSS "),t.qZA()(),t.TgZ(28,"li",10),t.NdJ("click",function(){return u.analyticsService.sendAnalyticEvent("click_nodejs","about","skills")}),t.TgZ(29,"span",11),t._uU(30,"Nodejs "),t.qZA()(),t.TgZ(31,"li",10),t.NdJ("click",function(){return u.analyticsService.sendAnalyticEvent("click_mysql","about","skills")}),t.TgZ(32,"span",11),t._uU(33,"MYSQL "),t.qZA()(),t.TgZ(34,"li",10),t.NdJ("click",function(){return u.analyticsService.sendAnalyticEvent("click_express","about","skills")}),t.TgZ(35,"span",11),t._uU(36,"Express "),t.qZA()(),t.TgZ(37,"li",10),t.NdJ("click",function(){return u.analyticsService.sendAnalyticEvent("click_wordpress","about","skills")}),t.TgZ(38,"span",11),t._uU(39,"WordPress "),t.qZA()(),t.TgZ(40,"li",10),t.NdJ("click",function(){return u.analyticsService.sendAnalyticEvent("click_jasmine","about","skills")}),t.TgZ(41,"span",11),t._uU(42,"Jasmine / Karma (TDD) "),t.qZA()(),t.TgZ(43,"li",10),t.NdJ("click",function(){return u.analyticsService.sendAnalyticEvent("click_CI/CD","about","skills")}),t.TgZ(44,"span",11),t._uU(45,"CI / CD "),t.qZA()(),t.TgZ(46,"li",10),t.NdJ("click",function(){return u.analyticsService.sendAnalyticEvent("click_ngrx","about","skills")}),t.TgZ(47,"span",11),t._uU(48,"NGRX "),t.qZA()()()()(),t.TgZ(49,"div",12)(50,"div",13)(51,"img",14),t.NdJ("click",function(){return u.analyticsService.sendAnalyticEvent("click_image","about","image")}),t.qZA()()()()()()()),2&n&&(t.xp6(5),t.hij(" ",t.lcZ(6,2,"AboutMe.Title")," "),t.xp6(5),t.Q6J("ngForOf",t.lcZ(11,4,"AboutMe.Paragraphs")))},dependencies:[I.sg,fr.X$],styles:['@charset "UTF-8";.about[_ngcontent-%COMP%]   .about-description[_ngcontent-%COMP%]{margin-top:30px;max-width:480px}.about[_ngcontent-%COMP%]   .about-img-container[_ngcontent-%COMP%]{width:324px;margin:auto}.about[_ngcontent-%COMP%]   .about-img-container[_ngcontent-%COMP%]:after{content:"";border:2px solid #BAD7E9;z-index:0;display:block;position:relative;width:300px;height:300px;border-radius:3px;bottom:290px;left:23px}.about[_ngcontent-%COMP%]   .about-img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{z-index:2;position:relative}.about[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,minmax(140px,200px));overflow:hidden;padding:0;margin:20px 0 0;list-style:none}.about[_ngcontent-%COMP%]   .skill-element[_ngcontent-%COMP%]{position:relative;margin-bottom:10px;padding-left:20px;font-size:13px;font-family:SF Mono,Fira Code,Fira Mono,Roboto Mono,Lucida Console,Monaco,Monospace;color:#8892b0}.about[_ngcontent-%COMP%]   .skill-element[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-bottom:5px}.about[_ngcontent-%COMP%]   .skill-element[_ngcontent-%COMP%]:before{content:"\\25b9";position:absolute;left:0;color:#bad7e9;font-size:14px;line-height:12px}@media (min-width: 992px) and (max-width: 1300px){.about-img-container[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}}@media (max-width: 500px){.about[_ngcontent-%COMP%]   .about-img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:200px}.about[_ngcontent-%COMP%]   .about-img-container[_ngcontent-%COMP%]:after{width:200px;height:200px;bottom:190px;left:74px}}@media (max-width: 500px){.about[_ngcontent-%COMP%]   .about-img-container[_ngcontent-%COMP%]{width:100%}.about[_ngcontent-%COMP%]   .about-img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:180px;height:180px}.about[_ngcontent-%COMP%]   .about-img-container[_ngcontent-%COMP%]:after{display:none}}']}),c})();function sm(c,p){1&c&&(t._UZ(0,"p",17),t.ALo(1,"translate")),2&c&&t.Q6J("innerHTML",t.lcZ(1,1,p.$implicit),t.oJD)}function lm(c,p){if(1&c&&(t.TgZ(0,"h4",13),t._uU(1),t.TgZ(2,"span",14),t._uU(3),t.qZA()(),t.TgZ(4,"h5",15),t._uU(5),t.qZA(),t.YNc(6,sm,2,3,"p",16),t._UZ(7,"span")),2&c){const n=t.oxw().$implicit;t.xp6(1),t.hij("",n.Title," | "),t.xp6(2),t.Oqu(n.Tab),t.xp6(2),t.Oqu(n.Date),t.xp6(1),t.Q6J("ngForOf",n.Description)}}function um(c,p){if(1&c&&(t.TgZ(0,"li",10)(1,"a",11),t._uU(2),t.qZA(),t.YNc(3,lm,8,4,"ng-template",12),t.qZA()),2&c){const n=p.$implicit,u=p.index;t.Q6J("title",n.Tab)("ngbNavItem",u),t.xp6(2),t.Oqu(n.Tab)}}let cm=(()=>{class c{constructor(n){this.analyticsService=n,this.active=0}ngOnInit(){}}return c.\u0275fac=function(n){return new(n||c)(t.Y36(Xs.y))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-jobs"]],decls:13,vars:8,consts:[["id","jobs",1,"section","jobs"],[1,"container"],[1,"section-box"],["data-aos","fade-up","data-aos-duration","1000",1,"about-title","mb-5"],[1,"e-font","section-title"],["data-aos","fade-up","data-aos-duration","1000",1,"jobs-tabs"],["ngbNav","","orientation","vertical",1,"nav-tabs","jobs-tabs",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"title","ngbNavItem",4,"ngFor","ngForOf"],[1,"mt-2",3,"ngbNavOutlet"],[3,"title","ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"title-tab-content"],[1,"company-tab-content"],[1,"job-time"],["class","job-description",3,"innerHTML",4,"ngFor","ngForOf"],[1,"job-description",3,"innerHTML"]],template:function(n,u){if(1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"div",5)(8,"ul",6,7),t.NdJ("activeIdChange",function(T){return u.active=T}),t.YNc(10,um,4,3,"li",8),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"div",9),t.qZA()()()()),2&n){const b=t.MAs(9);t.xp6(5),t.hij(" ",t.lcZ(6,4,"Experience.Title")," "),t.xp6(3),t.Q6J("activeId",u.active),t.xp6(2),t.Q6J("ngForOf",t.lcZ(11,6,"Experience.Jobs")),t.xp6(2),t.Q6J("ngbNavOutlet",b)}},dependencies:[I.sg,gu,Zu,jl,Ic,Oc,fr.X$],styles:['@charset "UTF-8";  .jobs .jobs-tabs{display:flex}  .jobs .jobs-tabs .tab-content{margin-left:38px}  .jobs .jobs-tabs ul{display:block;width:114.33px;border:none}  .jobs .jobs-tabs a.active{background-color:#2e3840!important;color:#bad7e9!important;border-color:transparent!important;border-radius:0}  .jobs .jobs-tabs a:hover{background-color:#2e3840!important;color:#bad7e9!important;border-color:transparent!important;border-radius:0}  .jobs .jobs-tabs a{display:inline-block;-webkit-text-decoration:none;text-decoration:none;-webkit-text-decoration-skip-ink:auto;text-decoration-skip-ink:auto;color:inherit;position:relative;cursor:pointer;display:flex;align-items:center;width:100%;background-color:transparent;height:42px;padding:0 20px 2px;transition:all .25s cubic-bezier(.645,.045,.355,1);text-align:left;white-space:nowrap;font-family:SF Mono,Fira Code,Fira Mono,Roboto Mono,Lucida Console,Monaco,Monospace;font-size:13px;color:#8892b0}  .jobs .jobs-tabs li{border-left:2px solid #303C55;border-left-width:2px;border-left-style:solid;border-left-color:#303c55}.jobs[_ngcontent-%COMP%]{max-width:700px;margin:auto}.jobs[_ngcontent-%COMP%]   .title-tab-content[_ngcontent-%COMP%]{color:#ccd6f6;font-size:22px;font-weight:500;margin-bottom:5px}.jobs[_ngcontent-%COMP%]   .title-tab-content[_ngcontent-%COMP%]   .company-tab-content[_ngcontent-%COMP%]{color:#bad7e9}.jobs[_ngcontent-%COMP%]   .job-time[_ngcontent-%COMP%]{font-family:SF Mono,Fira Code,Fira Mono,Roboto Mono,Lucida Console,Monaco,Monospace;font-size:13px;font-weight:400;-webkit-letter-spacing:.05em;-moz-letter-spacing:.05em;-ms-letter-spacing:.05em;letter-spacing:.05em;color:#a8b2d1;margin-bottom:30px}.jobs[_ngcontent-%COMP%]   .job-description[_ngcontent-%COMP%]{position:relative;padding-left:30px;margin-bottom:10px;font-size:18px}.jobs[_ngcontent-%COMP%]   .job-description[_ngcontent-%COMP%]:before{content:"\\25b9";position:absolute;left:0;color:#bad7e9}@media (max-width: 768px){.jobs[_ngcontent-%COMP%]   .job-description[_ngcontent-%COMP%]{padding:0}  .jobs-tabs{display:block!important}  .jobs-tabs .tab-content{margin-left:0!important}  .jobs-tabs ul{display:block;width:100%!important;margin-bottom:50px}}']}),c})();const dm=["imgContainer"];function Of(c,p){if(1&c&&(t.TgZ(0,"div",22,23),t._UZ(2,"img",24),t.qZA()),2&c){const n=t.oxw().$implicit,u=t.oxw(2).$implicit;t.xp6(2),t.Q6J("src",n,t.LSH)("alt",u.Title)}}function hm(c,p){if(1&c&&(t.ynx(0),t.YNc(1,Of,3,2,"ng-template",21),t.BQk()),2&c){const n=t.oxw(2),u=n.$implicit,b=n.index,T=t.oxw();t.xp6(1),t.Q6J("id",u.Title+T.slide+b)}}function Pf(c,p){if(1&c&&(t.TgZ(0,"owl-carousel-o",19),t.YNc(1,hm,2,1,"ng-container",20),t.qZA()),2&c){const n=t.oxw().$implicit,u=t.oxw();t.Q6J("options",u.customOptions),t.xp6(1),t.Q6J("ngForOf",n.imgs)}}function ap(c,p){if(1&c&&(t.TgZ(0,"div",25)(1,"div",26)(2,"div",27),t._UZ(3,"img",28),t.qZA()()()),2&c){const n=t.oxw().$implicit;t.xp6(3),t.Q6J("src",n.imgs[0],t.LSH)("alt",n.imgs[0])}}function pm(c,p){if(1&c&&(t.TgZ(0,"li",29)(1,"span",30),t._uU(2),t.qZA()()),2&c){const n=p.$implicit;t.xp6(2),t.Oqu(n)}}function sp(c,p){if(1&c&&(t.TgZ(0,"a",31),t._UZ(1,"i",32),t.qZA()),2&c){const n=t.oxw().$implicit;t.Q6J("href",n.ghLink,t.LSH)}}function yy(c,p){if(1&c&&(t.TgZ(0,"a",31),t._UZ(1,"i",33),t.qZA()),2&c){const n=t.oxw().$implicit;t.Q6J("href",n.demoLink,t.LSH)}}function vy(c,p){if(1&c&&(t.TgZ(0,"div",22),t._UZ(1,"img",24),t.qZA()),2&c){const n=t.oxw().$implicit,u=t.oxw(2).$implicit;t.xp6(1),t.Q6J("src",n,t.LSH)("alt",u.Title)}}function _y(c,p){if(1&c&&(t.ynx(0),t.YNc(1,vy,2,2,"ng-template",21),t.BQk()),2&c){const n=t.oxw(2),u=n.$implicit,b=n.index,T=t.oxw();t.xp6(1),t.Q6J("id",u.Title+T.slide+b)}}function by(c,p){if(1&c&&(t.TgZ(0,"owl-carousel-o",19),t.YNc(1,_y,2,1,"ng-container",20),t.qZA()),2&c){const n=t.oxw().$implicit,u=t.oxw();t.Q6J("options",u.customOptions),t.xp6(1),t.Q6J("ngForOf",n.imgs)}}function wy(c,p){if(1&c&&(t.TgZ(0,"div",25)(1,"div",26)(2,"div",27),t._UZ(3,"img",28),t.qZA()()()),2&c){const n=t.oxw().$implicit;t.xp6(3),t.Q6J("src",n.imgs[0],t.LSH)("alt",n.imgs[0])}}function Cy(c,p){if(1&c){const n=t.EpF();t.TgZ(0,"div",6),t.YNc(1,Pf,2,2,"owl-carousel-o",7),t.YNc(2,ap,4,2,"div",8),t.TgZ(3,"div",9)(4,"div",10)(5,"h4",11),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"h5",12),t._uU(9),t.qZA(),t.TgZ(10,"div",13),t.NdJ("click",function(){t.CHM(n);const b=t.oxw();return t.KtG(b.debug())}),t._UZ(11,"p",14),t.qZA(),t.TgZ(12,"ul",15),t.YNc(13,pm,3,1,"li",16),t.qZA(),t.TgZ(14,"div",17),t.YNc(15,sp,2,1,"a",18),t.YNc(16,yy,2,1,"a",18),t.qZA()()(),t.YNc(17,by,2,2,"owl-carousel-o",7),t.YNc(18,wy,4,2,"div",8),t.qZA()}if(2&c){const n=p.$implicit,u=p.index;t.xp6(1),t.Q6J("ngIf",u%2==0),t.xp6(1),t.Q6J("ngIf",u%2==0),t.xp6(1),t.Jzz("background-image: url('",n.img,"');"),t.ekj("proyect-info-right",u%2==0)("proyect-info-left",u%2!=0),t.xp6(2),t.ekj("text-right",u%2==0)("text-left",u%2!=0),t.xp6(1),t.Oqu(t.lcZ(7,33,"FeatureProjects.Label")),t.xp6(2),t.ekj("text-right",u%2==0)("text-left",u%2!=0),t.xp6(1),t.Oqu(n.Title),t.xp6(2),t.Q6J("innerHTML",n.Description,t.oJD),t.xp6(1),t.ekj("justify-content-end",u%2==0)("justify-content-start",u%2!=0),t.xp6(1),t.Q6J("ngForOf",n.Technologies),t.xp6(1),t.ekj("text-right",u%2==0)("text-left",u%2!=0),t.xp6(1),t.Q6J("ngIf",n.ghLink),t.xp6(1),t.Q6J("ngIf",n.demoLink),t.xp6(1),t.Q6J("ngIf",u%2!=0),t.xp6(1),t.Q6J("ngIf",u%2!=0)}}let lp=(()=>{class c{constructor(n){this.analyticsService=n,this.customOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,navSpeed:700,items:1,autoplay:!0,autoplayTimeout:3e3}}ngOnInit(){}debug(){this.imgContainer.nativeElement.scroll({top:this.imgContainer.nativeElement.scrollHeight,left:0,behavior:"smooth"})}}return c.\u0275fac=function(n){return new(n||c)(t.Y36(Xs.y))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-proyects"]],viewQuery:function(n,u){if(1&n&&t.Gf(dm,5),2&n){let b;t.iGM(b=t.CRH())&&(u.imgContainer=b.first)}},decls:10,vars:6,consts:[["id","proyects",1,"section","proyects"],[1,"container"],[1,"section-box"],["data-aos","fade-up","data-aos-duration","1000"],[1,"section-title"],["class","d-flex proyect-container","data-aos","fade-up","data-aos-duration","1000",4,"ngFor","ngForOf"],["data-aos","fade-up","data-aos-duration","1000",1,"d-flex","proyect-container"],["class","owl-carousel-o",3,"options",4,"ngIf"],["class","img-feature-proyect-container","data-aos","fade-up","data-aos-duration","1000",4,"ngIf"],[1,"h-100"],[1,"proyect-box"],[1,"feature-proyect"],[1,"proyect-name"],[1,"proyect-description-box",3,"click"],[1,"mb-0",3,"innerHTML"],[1,"proyect-skills"],["class","ml-3",4,"ngFor","ngForOf"],[1,"proyect-links"],["class","color-inherit","rel","canonical","target","_blank",3,"href",4,"ngIf"],[1,"owl-carousel-o",3,"options"],[4,"ngFor","ngForOf"],["carouselSlide","",3,"id"],[1,"img-container"],["imgContainer",""],[1,"img-feature-proyect","rounded",3,"src","alt"],["data-aos","fade-up","data-aos-duration","1000",1,"img-feature-proyect-container"],[1,"img-feature-proyect-box"],[1,"img-container","w-auto"],["width","600px",1,"img-feature-proyect","rounded",3,"src","alt"],[1,"ml-3"],[1,"underline","technology"],["rel","canonical","target","_blank",1,"color-inherit",3,"href"],[1,"ml-3","fab","fa-github"],[1,"ml-3","fas","fa-external-link-alt"]],template:function(n,u){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.YNc(7,Cy,19,35,"div",5),t.ALo(8,"translate"),t._UZ(9,"div"),t.qZA()()()),2&n&&(t.xp6(5),t.hij(" ",t.lcZ(6,2,"FeatureProjects.Title")," "),t.xp6(2),t.Q6J("ngForOf",t.lcZ(8,4,"FeatureProjects.Projects")))},dependencies:[I.sg,I.O5,nm,Nf,fr.X$],styles:[".proyects[_ngcontent-%COMP%]   .proyect-container[_ngcontent-%COMP%]{height:360px;margin:100px 0}.proyects[_ngcontent-%COMP%]   .proyect-container[_ngcontent-%COMP%]   .proyect-info-left[_ngcontent-%COMP%]{width:50%;margin-right:-57px;margin-left:0;display:table}.proyects[_ngcontent-%COMP%]   .proyect-container[_ngcontent-%COMP%]   .proyect-info-right[_ngcontent-%COMP%]{width:50%;margin-left:-57px;margin-right:0;display:table}.proyects[_ngcontent-%COMP%]   .proyect-container[_ngcontent-%COMP%]   .proyect-box[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}.proyects[_ngcontent-%COMP%]   .proyect-container[_ngcontent-%COMP%]   .proyect-box[_ngcontent-%COMP%]   .feature-proyect[_ngcontent-%COMP%]{font-size:13px;font-weight:400;color:#bad7e9;font-family:SF Mono,Fira Code,Fira Mono,Roboto Mono,Lucida Console,Monaco,Monospace;margin-top:10px;padding-top:0}.proyects[_ngcontent-%COMP%]   .proyect-container[_ngcontent-%COMP%]   .proyect-box[_ngcontent-%COMP%]   .proyect-name[_ngcontent-%COMP%]{font-size:28px;margin:0 0 20px;color:#ccd6f6}.proyects[_ngcontent-%COMP%]   .proyect-container[_ngcontent-%COMP%]   .proyect-box[_ngcontent-%COMP%]   .proyect-description-box[_ngcontent-%COMP%]{box-shadow:0 10px 30px -15px #020c1bb3;transition:all .25s cubic-bezier(.645,.045,.355,1);position:relative;z-index:2;padding:25px;background-color:#2e3840;color:#a8b2d1;font-size:18px;border-radius:3px}.proyects[_ngcontent-%COMP%]   .proyect-container[_ngcontent-%COMP%]   .proyect-box[_ngcontent-%COMP%]   .proyect-skills[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;flex-wrap:wrap;padding:0;margin:25px 0 10px;list-style:none}.proyects[_ngcontent-%COMP%]   .proyect-container[_ngcontent-%COMP%]   .proyect-box[_ngcontent-%COMP%]   .proyect-skills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:0;font-family:SF Mono,Fira Code,Fira Mono,Roboto Mono,Lucida Console,Monaco,Monospace;font-size:13px;color:#8892b0;margin-bottom:7px;white-space:nowrap}.proyects[_ngcontent-%COMP%]   .proyect-container[_ngcontent-%COMP%]   .proyect-box[_ngcontent-%COMP%]   .proyect-skills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .technology[_ngcontent-%COMP%]{padding-bottom:5px}.proyects[_ngcontent-%COMP%]   .proyect-container[_ngcontent-%COMP%]   .proyect-box[_ngcontent-%COMP%]   .proyect-links[_ngcontent-%COMP%]{margin-top:10px}.proyects[_ngcontent-%COMP%]   .proyect-container[_ngcontent-%COMP%]   .proyect-box[_ngcontent-%COMP%]   .proyect-links[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22px}.owl-carousel-o[_ngcontent-%COMP%]{width:600px}.img-feature-proyect-container[_ngcontent-%COMP%]{display:none}@media (min-width: 768px) and (max-width: 1300px){.owl-carousel-o[_ngcontent-%COMP%]{display:none}.img-feature-proyect-container[_ngcontent-%COMP%]{width:50%;display:table!important;height:-webkit-fill-available}.img-feature-proyect-container[_ngcontent-%COMP%]   .img-feature-proyect-box[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}.img-feature-proyect-container[_ngcontent-%COMP%]   .img-feature-proyect[_ngcontent-%COMP%]{width:100%}.proyect-info-right[_ngcontent-%COMP%], .proyect-info-left[_ngcontent-%COMP%]{width:50%}}@media (min-width: 768px){.proyect-info-right[_ngcontent-%COMP%], .proyect-info-left[_ngcontent-%COMP%]{background-image:none!important}}@media (max-width: 768px){.owl-carousel-o[_ngcontent-%COMP%]{display:none}.proyects[_ngcontent-%COMP%]   .proyect-container[_ngcontent-%COMP%]{height:100%!important;margin:33px 0!important}.proyects[_ngcontent-%COMP%]   .proyect-container[_ngcontent-%COMP%]   .proyect-info-left[_ngcontent-%COMP%], .proyects[_ngcontent-%COMP%]   .proyect-container[_ngcontent-%COMP%]   .proyect-info-right[_ngcontent-%COMP%]{width:100%}.proyects[_ngcontent-%COMP%]   .proyect-container[_ngcontent-%COMP%]   .proyect-description-box[_ngcontent-%COMP%]{padding:0!important;box-shadow:none!important;position:relative;z-index:2;padding:25px;background-color:transparent!important;color:#a8b2d1;font-size:18px;border-radius:3px}.proyects[_ngcontent-%COMP%]   .proyect-container[_ngcontent-%COMP%]   .proyect-info-right[_ngcontent-%COMP%], .proyects[_ngcontent-%COMP%]   .proyect-container[_ngcontent-%COMP%]   .proyect-info-left[_ngcontent-%COMP%]{display:block!important;margin:0!important;background-size:cover;background-position:center;background-repeat:no-repeat;border-radius:3px}.proyects[_ngcontent-%COMP%]   .proyect-container[_ngcontent-%COMP%]   .proyect-info-right[_ngcontent-%COMP%]   .proyect-box[_ngcontent-%COMP%], .proyects[_ngcontent-%COMP%]   .proyect-container[_ngcontent-%COMP%]   .proyect-info-left[_ngcontent-%COMP%]   .proyect-box[_ngcontent-%COMP%]{display:block}.proyects[_ngcontent-%COMP%]   .proyect-container[_ngcontent-%COMP%]   .img-feature-proyect-container[_ngcontent-%COMP%]{display:none}.proyects[_ngcontent-%COMP%]   .proyect-info-right[_ngcontent-%COMP%], .proyects[_ngcontent-%COMP%]   .proyect-info-left[_ngcontent-%COMP%]{padding:0}.proyects[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%], .proyects[_ngcontent-%COMP%]   .text-left[_ngcontent-%COMP%]{text-align:center!important}.proyects[_ngcontent-%COMP%]   .justify-content-end[_ngcontent-%COMP%], .proyects[_ngcontent-%COMP%]   .justify-content-start[_ngcontent-%COMP%]{justify-content:center!important}.proyects[_ngcontent-%COMP%]   .proyect-info-right[_ngcontent-%COMP%]   .proyect-box[_ngcontent-%COMP%], .proyects[_ngcontent-%COMP%]   .proyect-info-left[_ngcontent-%COMP%]   .proyect-box[_ngcontent-%COMP%]{padding:20px;background:rgba(10,25,47,.8901960784)}}  .owl-theme .owl-dots .owl-dot.active span,   .owl-theme .owl-dots .owl-dot:hover span{background-color:#fff!important}  .owl-theme .owl-dots .owl-dot span{background:rgba(255,255,255,.2)}.img-container[_ngcontent-%COMP%]{width:600px;max-height:320px;overflow:auto;border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 5px #8892b0;border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#BAD7E9;border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#BAD7E9}.w-auto[_ngcontent-%COMP%]{width:auto}.color-inherit[_ngcontent-%COMP%]{color:inherit}"]}),c})();function kf(c,p){if(1&c&&(t.TgZ(0,"li")(1,"span",21),t._uU(2),t.qZA()()),2&c){const n=p.$implicit;t.xp6(2),t.Oqu(n)}}function up(c,p){if(1&c){const n=t.EpF();t.TgZ(0,"div",8),t.NdJ("click",function(b){const q=t.CHM(n).$implicit,X=t.oxw();return t.KtG(X.redirect(q.demoLink,b))}),t.TgZ(1,"div",9)(2,"div",10)(3,"div",11),t._UZ(4,"img",12),t.qZA(),t.TgZ(5,"div",13)(6,"a",14),t.NdJ("click",function(){t.CHM(n);const b=t.oxw();return t.KtG(b.analyticsService.sendAnalyticEvent("click_pokemonlist_external_link","proyects","click"))}),t._UZ(7,"i",15),t.qZA(),t.TgZ(8,"a",14),t.NdJ("click",function(){t.CHM(n);const b=t.oxw();return t.KtG(b.analyticsService.sendAnalyticEvent("click_pokemonlist_github","proyects","click"))}),t._UZ(9,"i",16),t.qZA()(),t.TgZ(10,"h5",17),t._uU(11),t.qZA(),t.TgZ(12,"p",18),t._uU(13),t.qZA()(),t.TgZ(14,"div")(15,"ul",19),t.YNc(16,kf,3,1,"li",20),t.qZA()()()()}if(2&c){const n=p.$implicit;t.xp6(6),t.Q6J("href",n.demoLink,t.LSH),t.xp6(2),t.Q6J("href",n.ghLink,t.LSH),t.xp6(3),t.Oqu(n.Title),t.xp6(2),t.hij(" ",n.Description," "),t.xp6(3),t.Q6J("ngForOf",n.Technologies)}}let fm=(()=>{class c{constructor(n,u){this.router=n,this.analyticsService=u}ngOnInit(){this.router.events.subscribe(n=>{n instanceof ht.m2&&window.scrollTo(0,0)})}redirect(n,u){const b=u.target.id;"demoLink"==b||"ghLink"==b||window.open(n,"_blank")}}return c.\u0275fac=function(n){return new(n||c)(t.Y36(ht.F0),t.Y36(Xs.y))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-more-proyects"]],decls:11,vars:6,consts:[[1,"section","more-proyects"],[1,"container"],[1,"section-box"],[1,""],[1,"section-title"],[1,"mt-5"],[1,"row","p-0"],["class","col-12 col-md-6 col-lg-6 col-xl-4 proyect-col","data-aos","fade-up","data-aos-duration","1000",3,"click",4,"ngFor","ngForOf"],["data-aos","fade-up","data-aos-duration","1000",1,"col-12","col-md-6","col-lg-6","col-xl-4","proyect-col",3,"click"],[1,"more-proyect-box"],[1,"row","w-100","text-left","m-0","p-0"],[1,"col-6","p-0"],["alt","Projects","src","assets/icons/folder.svg","width","40"],[1,"col-6","d-flex","p-0","justify-content-end"],["rel","canonical","target","_blank",1,"color-inherit",3,"href","click"],["id","demoLink",1,"ml-3","fas","fa-external-link-alt"],["id","ghLink",1,"ml-4","fab","fa-github"],[1,"other-proyect-title","mt-4"],[1,"other-proyect-description"],[1,"more-proyects-skills"],[4,"ngFor","ngForOf"],[1,"underline"]],template:function(n,u){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6),t.YNc(9,up,17,5,"div",7),t.ALo(10,"translate"),t.qZA()()()()()),2&n&&(t.xp6(5),t.hij(" ",t.lcZ(6,2,"OtherProjects.Title")," "),t.xp6(4),t.Q6J("ngForOf",t.lcZ(10,4,"OtherProjects.Projects")))},dependencies:[I.sg,fr.X$],styles:[".more-proyects[_ngcontent-%COMP%]   .proyect-col[_ngcontent-%COMP%]{padding:10px;height:400px}.more-proyects[_ngcontent-%COMP%]   .proyect-col[_ngcontent-%COMP%]   .more-proyect-box[_ngcontent-%COMP%]{box-shadow:0 10px 30px -15px #020c1bb3;display:flex;justify-content:space-between;align-items:center;flex-direction:column;align-items:flex-start;position:relative;padding:2rem 1.75rem;height:100%;border-radius:3px;transition:all .25s cubic-bezier(.645,.045,.355,1);background-color:#2e3840;cursor:pointer}.more-proyects[_ngcontent-%COMP%]   .proyect-col[_ngcontent-%COMP%]   .more-proyect-box[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.more-proyects[_ngcontent-%COMP%]   .proyect-col[_ngcontent-%COMP%]   .more-proyect-box[_ngcontent-%COMP%]:hover, .more-proyects[_ngcontent-%COMP%]   .proyect-col[_ngcontent-%COMP%]   .more-proyect-box[_ngcontent-%COMP%]:focus{box-shadow:0 20px 30px -15px #020c1bb3}.more-proyects[_ngcontent-%COMP%]   .proyect-col[_ngcontent-%COMP%]   .more-proyect-box[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:40px;height:40px;color:#bad7e9}.more-proyects[_ngcontent-%COMP%]   .proyect-col[_ngcontent-%COMP%]   .more-proyect-box[_ngcontent-%COMP%]   .other-proyect-title[_ngcontent-%COMP%]{margin:0 0 10px;font-size:22px;color:#ccd6f6}.more-proyects[_ngcontent-%COMP%]   .proyect-col[_ngcontent-%COMP%]   .more-proyect-box[_ngcontent-%COMP%]   .other-proyect-description[_ngcontent-%COMP%]{font-size:17px;color:#a8b2d1}.more-proyects[_ngcontent-%COMP%]   .proyect-col[_ngcontent-%COMP%]   .more-proyect-box[_ngcontent-%COMP%]   .more-proyects-skills[_ngcontent-%COMP%]{display:flex;align-items:flex-end;flex-grow:1;flex-wrap:wrap;padding:0;margin:20px 0 0;list-style:none}.more-proyects[_ngcontent-%COMP%]   .proyect-col[_ngcontent-%COMP%]   .more-proyect-box[_ngcontent-%COMP%]   .more-proyects-skills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px;color:#8892b0;line-height:1.75;margin-right:15px;font-family:SF Mono,Fira Code,Fira Mono,Roboto Mono,Lucida Console,Monaco,Monospace}.more-proyects[_ngcontent-%COMP%]   .proyect-col[_ngcontent-%COMP%]   .more-proyect-box[_ngcontent-%COMP%]   .more-proyects-skills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{padding-bottom:3.5px}@media (max-width: 1300px){.more-proyects[_ngcontent-%COMP%]   .proyect-col[_ngcontent-%COMP%]{height:auto}}.color-inherit[_ngcontent-%COMP%]{color:inherit}"]}),c})(),Rf=(()=>{class c{constructor(n){this.analyticsService=n}ngOnInit(){}}return c.\u0275fac=function(n){return new(n||c)(t.Y36(Xs.y))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-contact"]],decls:17,vars:12,consts:[["id","contact",1,"section","contact"],[1,"container"],[1,"section-box"],["data-aos","fade-up","data-aos-duration","1000",1,"mb-4"],[1,"contact-pre-title","big-subtitle"],[1,"e-font","contact-title","big-title"],["data-aos","fade-up","data-aos-duration","1000"],[1,"mt-5"],["rel","canonical","href","mailto:ewumesh@gmail.com","target","_blank","data-aos","fade-up","data-aos-duration","1000",1,"main-btn",3,"click"]],template:function(n,u){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"h4",5),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.TgZ(10,"p",6),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"div",7)(14,"a",8),t.NdJ("click",function(){return u.analyticsService.sendAnalyticEvent("click_send_mail","contact","email")}),t._uU(15),t.ALo(16,"translate"),t.qZA()()()()()),2&n&&(t.xp6(5),t.hij(" ",t.lcZ(6,4,"Contact.Pretitle"),""),t.xp6(3),t.hij(" ",t.lcZ(9,6,"Contact.Title")," "),t.xp6(3),t.hij(" ",t.lcZ(12,8,"Contact.Content")," "),t.xp6(4),t.hij(" ",t.lcZ(16,10,"Contact.Btn")," "))},dependencies:[fr.X$],styles:[".contact[_ngcontent-%COMP%]{max-width:1000px;text-align:center;max-width:600px;margin:0 auto;height:100vh;display:table}.contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}.contact[_ngcontent-%COMP%]   .contact-title[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;white-space:nowrap;font-size:60px;font-weight:600;color:#ccd6f6;margin:auto;width:-moz-fit-content;width:fit-content}.contact[_ngcontent-%COMP%]   .contact-pre-title[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;margin:10px 0 20px;width:100%;white-space:nowrap;font-size:32px;display:block;color:#bad7e9;font-size:16px;font-family:SF Mono,Fira Code,Fira Mono,Roboto Mono,Lucida Console,Monaco,Monospace;font-weight:400;justify-content:center;text-align:center}@media (max-width: 768px){.contact[_ngcontent-%COMP%]{height:100vh;padding:0!important;margin:0 auto!important;display:table}.contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}}"]}),c})();const cp=[{path:"home",component:(()=>{class c{constructor(n,u,b){this.analyticsService=n,this.titleService=u,this.metaService=b}ngOnInit(){this.analyticsService.sendAnalyticPageView("/home","Home"),this.setMetaTags()}setMetaTags(){this.titleService.setTitle("Discover and Explore Yourself with Ewumesh"),this.metaService.addTag({name:"description",content:"Ewumesh is a digital platform where you can showcase your personal brand, share your thoughts and ideas, and connect with others."}),this.metaService.addTag({name:"keywords",content:"ewumesh, personal brand, online presence, social network"}),this.metaService.addTag({name:"author",content:"Umesh Thapa"}),this.metaService.addTags([{property:"og:title",content:"Discover and Explore Yourself with Ewumesh"},{property:"og:url",content:"https://ewumesh.com"},{property:"og:description",content:"Ewumesh is a digital platform where you can showcase your personal brand, share your thoughts and ideas, and connect with others."},{property:"og:type",content:"website"},{property:"og:site_name",content:"Ewumesh"},{property:"og:image",content:"https://ewumesh.com/assets/images/banner.webp"},{property:"twitter:card",content:"summary_large_image"},{property:"twitter:site",content:"@ewumesh"},{property:"twitter:title",content:"Discover and Explore Yourself with Ewumesh"},{property:"twitter:description",content:"Ewumesh is a digital platform where you can showcase your personal brand, share your thoughts and ideas, and connect with others."},{property:"twitter:image",content:"https://ewumesh.com/assets/images/banner.webp"},{property:"twitter:url",content:"https://ewumesh.com"},{name:"twitter:name:alt",content:"Discover and Explore Yourself! - Ewumesh"}])}}return c.\u0275fac=function(n){return new(n||c)(t.Y36(Xs.y),t.Y36(w.Dx),t.Y36(w.h_))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-home"]],decls:7,vars:0,template:function(n,u){1&n&&(t.TgZ(0,"main"),t._UZ(1,"app-banner")(2,"app-about")(3,"app-jobs")(4,"app-proyects")(5,"app-more-proyects")(6,"app-contact"),t.qZA())},dependencies:[Xl,Af,cm,lp,fm,Rf]}),c})()},{path:"blogs",loadChildren:()=>Promise.resolve().then(E.bind(E,9167)).then(c=>c.BlogsModule)},{path:"games/maze",loadChildren:()=>Promise.resolve().then(E.bind(E,5385)).then(c=>c.GamesModule)},{path:"ai/object-detection",loadChildren:()=>Promise.resolve().then(E.bind(E,7285)).then(c=>c.ObjectDetectionModule)},{path:"shop",loadChildren:()=>E.e(370).then(E.bind(E,2370)).then(c=>c.ShopModule)},{path:"",pathMatch:"full",redirectTo:"/home"},{path:"404",component:(()=>{class c{}return c.\u0275fac=function(n){return new(n||c)},c.\u0275cmp=t.Xpm({type:c,selectors:[["ng-component"]],decls:13,vars:0,consts:[[1,"face"],[1,"band"],[1,"red"],[1,"white"],[1,"blue"],[1,"eyes"],[1,"dimples"],[1,"mouth"],[1,"text-center","go-home"],["rel","canonical","href","/home","data-aos","fade-up","data-aos-duration","1000",1,"main-btn"]],template:function(n,u){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"div",2)(3,"div",3)(4,"div",4),t.qZA(),t._UZ(5,"div",5)(6,"div",6)(7,"div",7),t.qZA(),t.TgZ(8,"h1"),t._uU(9,"Oops! Something went wrong!"),t.qZA(),t.TgZ(10,"div",8)(11,"a",9),t._uU(12,"Return to Home"),t.qZA()())},styles:['.face[_ngcontent-%COMP%]{width:300px;height:300px;border:4px solid #383A41;border-radius:10px;background-color:#fff;margin:100px auto 0}@media screen and (max-width: 400px){.face[_ngcontent-%COMP%]{margin-top:40px;transform:scale(.8)}}.face[_ngcontent-%COMP%]   .band[_ngcontent-%COMP%]{width:350px;height:27px;border:4px solid #383A41;border-radius:5px;margin-left:-25px;margin-top:50px}.face[_ngcontent-%COMP%]   .band[_ngcontent-%COMP%]   .red[_ngcontent-%COMP%]{height:33.3333333333%;width:100%;background-color:#eb6d6d}.face[_ngcontent-%COMP%]   .band[_ngcontent-%COMP%]   .white[_ngcontent-%COMP%]{height:33.3333333333%;width:100%;background-color:#fff}.face[_ngcontent-%COMP%]   .band[_ngcontent-%COMP%]   .blue[_ngcontent-%COMP%]{height:33.3333333333%;width:100%;background-color:#5e7fdc}.face[_ngcontent-%COMP%]   .band[_ngcontent-%COMP%]:before{content:"";display:inline-block;height:27px;width:30px;background-color:#ffffff4d;position:absolute;z-index:999}.face[_ngcontent-%COMP%]   .band[_ngcontent-%COMP%]:after{content:"";display:inline-block;height:27px;width:30px;background-color:#383a414d;position:absolute;z-index:999;right:0;margin-top:-27px}.face[_ngcontent-%COMP%]   .eyes[_ngcontent-%COMP%]{width:128px;margin:40px auto 0}.face[_ngcontent-%COMP%]   .eyes[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:30px;height:15px;border:7px solid #383A41;margin-right:20px;border-top-left-radius:22px;border-top-right-radius:22px;border-bottom:0}.face[_ngcontent-%COMP%]   .eyes[_ngcontent-%COMP%]:after{content:"";display:inline-block;width:30px;height:15px;border:7px solid #383A41;margin-left:20px;border-top-left-radius:22px;border-top-right-radius:22px;border-bottom:0}.face[_ngcontent-%COMP%]   .dimples[_ngcontent-%COMP%]{width:180px;margin:15px auto 0}.face[_ngcontent-%COMP%]   .dimples[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:10px;height:10px;margin-right:80px;border-radius:50%;background-color:#eb6d6d66}.face[_ngcontent-%COMP%]   .dimples[_ngcontent-%COMP%]:after{content:"";display:inline-block;width:10px;height:10px;margin-left:80px;border-radius:50%;background-color:#eb6d6d66}.face[_ngcontent-%COMP%]   .mouth[_ngcontent-%COMP%]{width:40px;height:5px;border-radius:5px;background-color:#383a41;margin:25px auto 0}h1[_ngcontent-%COMP%]{font-weight:800;color:#383a41;text-align:center;font-size:2.5em;padding-top:20px}@media screen and (max-width: 400px){h1[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px;font-size:2em}}.go-home[_ngcontent-%COMP%]{margin:120px 0}']}),c})()},{path:"**",redirectTo:"/404"}];let Dy=(()=>{class c{}return c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[ht.Bz.forRoot(cp),ht.Bz]}),c})();var Ey=E(7123);let ih=(()=>{class c{constructor(n,u){this.translateService=n,this.location=u;let b=localStorage.getItem("lang");b&&this.changeLanguage(b.toString())}initLanguage(){this.translateService.addLangs(["en","es","jp","ch","ar","fr","kr","ru","th"]);let n=navigator.language||navigator.userLanguage;n.split("-").includes("es")?n="es":n.split("-").includes("jp")?n="jp":n.split("-").includes("en")?n="en":n.split("-").includes("ch")?n="ch":n.split("-").includes("ar")&&(n="ar"),this.translateService.setDefaultLang(n),this.language=n}changeLanguage(n){localStorage.setItem("lang",n),this.translateService.setDefaultLang(n),this.language=n}}return c.\u0275fac=function(n){return new(n||c)(t.LFG(fr.sK),t.LFG(I.Ye))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();function mm(c,p){1&c&&t._uU(0,"Home")}function el(c,p){1&c&&t._uU(0,"Blog content")}function ed(c,p){1&c&&t._uU(0,"Artificial Intelligence")}function ea(c,p){1&c&&t._uU(0,"Shop")}function Tu(c,p){if(1&c){const n=t.EpF();t.TgZ(0,"img",70),t.NdJ("click",function(){t.CHM(n);const b=t.oxw();return t.KtG(b.clickOnLanguage())}),t.qZA()}}function dp(c,p){if(1&c){const n=t.EpF();t.TgZ(0,"span",71),t.NdJ("click",function(){t.CHM(n);const b=t.oxw();return t.KtG(b.clickOnLanguage())}),t._uU(1,"Thai"),t.qZA()}}function ys(c,p){if(1&c){const n=t.EpF();t.TgZ(0,"img",72),t.NdJ("click",function(){t.CHM(n);const b=t.oxw();return t.KtG(b.clickOnLanguage())}),t.qZA()}}function Ff(c,p){if(1&c){const n=t.EpF();t.TgZ(0,"span",73),t.NdJ("click",function(){t.CHM(n);const b=t.oxw();return t.KtG(b.clickOnLanguage())}),t._uU(1,"Korean"),t.qZA()}}function hc(c,p){if(1&c){const n=t.EpF();t.TgZ(0,"img",74),t.NdJ("click",function(){t.CHM(n);const b=t.oxw();return t.KtG(b.clickOnLanguage())}),t.qZA()}}function td(c,p){if(1&c){const n=t.EpF();t.TgZ(0,"span",75),t.NdJ("click",function(){t.CHM(n);const b=t.oxw();return t.KtG(b.clickOnLanguage())}),t._uU(1,"French"),t.qZA()}}function pc(c,p){if(1&c){const n=t.EpF();t.TgZ(0,"img",76),t.NdJ("click",function(){t.CHM(n);const b=t.oxw();return t.KtG(b.clickOnLanguage())}),t.qZA()}}function Mu(c,p){if(1&c){const n=t.EpF();t.TgZ(0,"span",77),t.NdJ("click",function(){t.CHM(n);const b=t.oxw();return t.KtG(b.clickOnLanguage())}),t._uU(1,"Russian"),t.qZA()}}function nd(c,p){if(1&c){const n=t.EpF();t.TgZ(0,"img",78),t.NdJ("click",function(){t.CHM(n);const b=t.oxw();return t.KtG(b.clickOnLanguage())}),t.qZA()}}function rd(c,p){if(1&c){const n=t.EpF();t.TgZ(0,"span",79),t.NdJ("click",function(){t.CHM(n);const b=t.oxw();return t.KtG(b.clickOnLanguage())}),t._uU(1,"English"),t.qZA()}}function fc(c,p){if(1&c){const n=t.EpF();t.TgZ(0,"img",80),t.NdJ("click",function(){t.CHM(n);const b=t.oxw();return t.KtG(b.clickOnLanguage())}),t.qZA()}}function gc(c,p){if(1&c){const n=t.EpF();t.TgZ(0,"span",81),t.NdJ("click",function(){t.CHM(n);const b=t.oxw();return t.KtG(b.clickOnLanguage())}),t._uU(1,"Espa\xf1ol"),t.qZA()}}function id(c,p){if(1&c){const n=t.EpF();t.TgZ(0,"img",82),t.NdJ("click",function(){t.CHM(n);const b=t.oxw();return t.KtG(b.clickOnLanguage())}),t.qZA()}}function hp(c,p){if(1&c){const n=t.EpF();t.TgZ(0,"span",83),t.NdJ("click",function(){t.CHM(n);const b=t.oxw();return t.KtG(b.clickOnLanguage())}),t._uU(1,"\u65e5\u672c"),t.qZA()}}function oh(c,p){if(1&c){const n=t.EpF();t.TgZ(0,"img",84),t.NdJ("click",function(){t.CHM(n);const b=t.oxw();return t.KtG(b.clickOnLanguage())}),t.qZA()}}function ym(c,p){if(1&c){const n=t.EpF();t.TgZ(0,"span",85),t.NdJ("click",function(){t.CHM(n);const b=t.oxw();return t.KtG(b.clickOnLanguage())}),t._uU(1,"\u4e2d\u56fd\u4eba"),t.qZA()}}function vm(c,p){if(1&c){const n=t.EpF();t.TgZ(0,"img",86),t.NdJ("click",function(){t.CHM(n);const b=t.oxw();return t.KtG(b.clickOnLanguage())}),t.qZA()}}function Lf(c,p){if(1&c){const n=t.EpF();t.TgZ(0,"span",87),t.NdJ("click",function(){t.CHM(n);const b=t.oxw();return t.KtG(b.clickOnLanguage())}),t._uU(1,"\u0639\u0631\u0628\u064a"),t.qZA()}}const Bf=function(c){return{"pointer-events":c}};let _m=(()=>{class c{constructor(n,u,b,T){this.router=n,this.analyticsService=u,this.languageService=b,this.document=T,this.responsiveMenuVisible=!1,this.languageFormControl=new N.NI,this.cvName=""}ngOnInit(){this.languageFormControl.valueChanges.subscribe(n=>this.languageService.changeLanguage(n)),this.languageFormControl.setValue(this.languageService.language)}scroll(n){document.getElementById(n)?document.getElementById(n).scrollIntoView({behavior:"smooth"}):this.router.navigate(["/home"]).then(()=>document.getElementById(n).scrollIntoView({behavior:"smooth"})),this.responsiveMenuVisible=!1}downloadCV(){this.analyticsService.sendAnalyticEvent("click_downloadcv","menu","click"),this.languageService.translateService.get("Header.cvName").subscribe(n=>{this.cvName=n,console.log(n);let u=window.location.href;window.open(u+"/../assets/cv/"+this.cvName,"_blank")})}getScrollPosition(n){this.pageYPosition=window.pageYOffset}changeLanguage(n){this.clickOnLanguage(),this.languageFormControl.setValue(n)}gotoBlogsPage(){this.analyticsService.sendAnalyticEvent("click_blogs","menu","click"),this.router.navigate(["/blogs"])}goHome(){this.router.navigate(["/home"]),this.analyticsService.sendAnalyticEvent("click_home","menu","click")}gotoHomePage(){this.router.navigate(["/home"]),this.analyticsService.sendAnalyticEvent("click_logo","menu","click")}clickOnLanguage(){this.analyticsService.sendAnalyticEvent("click_language","menu","click")}gotoAI(){this.analyticsService.sendAnalyticEvent("click_AI","menu","click"),this.router.navigate(["/ai/object-detection"])}gotoShop(){this.analyticsService.sendAnalyticEvent("click_Shop","menu","click"),this.router.navigate(["/shop"])}}return c.\u0275fac=function(n){return new(n||c)(t.Y36(ht.F0),t.Y36(Xs.y),t.Y36(ih),t.Y36(I.K0))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-header"]],hostBindings:function(n,u){1&n&&t.NdJ("scroll",function(T){return u.getScrollPosition(u.getScrollPosition(T))},!1,t.Jf7)},decls:210,vars:96,consts:[[1,"navbar","main-navbar","on-top"],[1,"container"],[1,"navbar-brand","text-light","cursor-pointer",3,"click"],["alt","Ewumesh home","title","Navigate to Home","src","assets/images/logo.webp","width","30",1,"br-5"],["ngbNav","",1,"menu-ul"],["nav","ngbNav"],["ngbNavItem","",3,"click"],["title","Home","ngbNavLink",""],[1,"nav-number"],[1,"underline","nav-text"],["ngbNavContent",""],["title","Blogs","ngbNavLink",""],["title","Artificial Intelligence","ngbNavLink",""],["title","Shop","ngbNavLink",""],["ngbNavItem",""],["title","Download CV","ngbNavLink","",1,"main-btn","cv-btn",3,"click"],["ngbDropdown","",1,"d-inline-block"],["id","dropdownForm1","ngbDropdownToggle","",1,"language-container"],["title","Thai Language Selected","width","20px","src","https://www.worldometers.info/img/flags/small/tn_th-flag.gif","alt","Thailand",3,"click",4,"ngIf"],["title","Thai Language Selected","class","flag-text",3,"click",4,"ngIf"],["title","Korean Language Selected","width","20px","src","https://www.worldometers.info/img/flags/small/tn_ks-flag.gif","alt","Korea",3,"click",4,"ngIf"],["title","Korean Language Selected","class","flag-text",3,"click",4,"ngIf"],["title","French Language Selected","width","20px","src","https://www.worldometers.info/img/flags/small/tn_fr-flag.gif","alt","French",3,"click",4,"ngIf"],["title","French Language Selected","class","flag-text",3,"click",4,"ngIf"],["title","Russian Language Selected","width","20px","src","https://www.worldometers.info/img/flags/small/tn_fr-flag.gif","alt","Russian",3,"click",4,"ngIf"],["title","Russian Language Selected","class","flag-text",3,"click",4,"ngIf"],["title","English Language Selected","width","20px","src","https://www.worldometers.info/img/flags/us-flag.gif","alt","English",3,"click",4,"ngIf"],["title","English Language Selected","class","flag-text",3,"click",4,"ngIf"],["title","Espa\xf1ol Language Selected","width","20px","src","https://www.worldometers.info/img/flags/sp-flag.gif","alt","Espa\xf1ol",3,"click",4,"ngIf"],["title","Espa\xf1ol Language Selected","class","flag-text",3,"click",4,"ngIf"],["title","\u65e5\u672c Language Selected","width","20px","src","https://www.worldometers.info/img/flags/small/tn_ja-flag.gif","alt","\u65e5\u672c",3,"click",4,"ngIf"],["title","\u65e5\u672c Language Selected","class","flag-text",3,"click",4,"ngIf"],["title","\u4e2d\u56fd\u4eba Language Selected","width","20px","src","https://www.worldometers.info/img/flags/small/tn_ch-flag.gif","alt","\u4e2d\u56fd\u4eba",3,"click",4,"ngIf"],["title","\u4e2d\u56fd\u4eba Language Selected","class","flag-text",3,"click",4,"ngIf"],["title","\u0639\u0631\u0628\u064a Language Selected","width","20px","src","https://www.worldometers.info/img/flags/small/tn_sa-flag.gif","alt","\u0639\u0631\u0628\u064a",3,"click",4,"ngIf"],["title","\u0639\u0631\u0628\u064a Language Selected","class","flag-text",3,"click",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24",1,"arrow-language",3,"click"],["d","M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"],["ngbDropdownMenu","","aria-labelledby","dropdownForm1"],[1,"language-container","language-container-selector","active",2,"border-bottom-left-radius","0px !important","border-bottom-right-radius","0px !important",3,"click"],["width","20px","src","https://www.worldometers.info/img/flags/small/tn_th-flag.gif","alt","Thailand"],[1,"flag-text"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-check2","arrow-active"],["d","M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"],["width","20px","src","https://www.worldometers.info/img/flags/small/tn_ks-flag.gif","alt","Korean"],["width","20px","src","https://www.worldometers.info/img/flags/small/tn_fr-flag.gif","alt","French"],["width","20px","src","https://www.worldometers.info/img/flags/small/tn_sa-flag.gif","alt","\u0639\u0631\u0628\u064a"],["width","20px","src","https://www.worldometers.info/img/flags/small/tn_ch-flag.gif","alt","\u4e2d\u56fd\u4eba"],["width","20px","src","https://www.worldometers.info/img/flags/small/tn_ja-flag.gif","alt","\u65e5\u672c"],["width","20px","src","https://www.worldometers.info/img/flags/sp-flag.gif","alt","Espa\xf1ol"],[1,"language-container","language-container-selector",2,"margin-top","1px !important","border-top-left-radius","0px !important","border-top-right-radius","0px !important",3,"click"],["width","20px","src","https://www.worldometers.info/img/flags/us-flag.gif","alt","English"],["width","20px","src","https://www.worldometers.info/img/flags/small/tn_rs-flag.gif","alt","Russian"],[1,"menu-wrapper"],[1,"hamburger-menu",3,"click"],[1,"menu-responsive",3,"ngStyle"],[1,"on-top"],[3,"click"],["rel","canonical","href","/home"],[1,"main-btn","cv-btn",3,"click"],[1,"language-container"],["src","https://www.worldometers.info/img/flags/small/tn_fr-flag.gif","alt","french"],["src","https://www.worldometers.info/img/flags/small/tn_th-flag.gif","alt","Thailand"],["src","https://www.worldometers.info/img/flags/small/tn_rs-flag.gif","alt","Russian"],["src","https://www.worldometers.info/img/flags/sp-flag.gif","alt","Espa\xf1ol"],["src","https://www.worldometers.info/img/flags/us-flag.gif","alt","English"],["src","https://www.worldometers.info/img/flags/small/tn_ja-flag.gif","alt","\u65e5\u672c"],["src","https://www.worldometers.info/img/flags/small/tn_ch-flag.gif","alt","\u4e2d\u56fd\u4eba"],["src","https://www.worldometers.info/img/flags/small/tn_sa-flag.gif","alt","\u0639\u0631\u0628\u064a"],["src","https://www.worldometers.info/img/flags/small/tn_ks-flag.gif","alt","korean"],["title","Thai Language Selected","width","20px","src","https://www.worldometers.info/img/flags/small/tn_th-flag.gif","alt","Thailand",3,"click"],["title","Thai Language Selected",1,"flag-text",3,"click"],["title","Korean Language Selected","width","20px","src","https://www.worldometers.info/img/flags/small/tn_ks-flag.gif","alt","Korea",3,"click"],["title","Korean Language Selected",1,"flag-text",3,"click"],["title","French Language Selected","width","20px","src","https://www.worldometers.info/img/flags/small/tn_fr-flag.gif","alt","French",3,"click"],["title","French Language Selected",1,"flag-text",3,"click"],["title","Russian Language Selected","width","20px","src","https://www.worldometers.info/img/flags/small/tn_fr-flag.gif","alt","Russian",3,"click"],["title","Russian Language Selected",1,"flag-text",3,"click"],["title","English Language Selected","width","20px","src","https://www.worldometers.info/img/flags/us-flag.gif","alt","English",3,"click"],["title","English Language Selected",1,"flag-text",3,"click"],["title","Espa\xf1ol Language Selected","width","20px","src","https://www.worldometers.info/img/flags/sp-flag.gif","alt","Espa\xf1ol",3,"click"],["title","Espa\xf1ol Language Selected",1,"flag-text",3,"click"],["title","\u65e5\u672c Language Selected","width","20px","src","https://www.worldometers.info/img/flags/small/tn_ja-flag.gif","alt","\u65e5\u672c",3,"click"],["title","\u65e5\u672c Language Selected",1,"flag-text",3,"click"],["title","\u4e2d\u56fd\u4eba Language Selected","width","20px","src","https://www.worldometers.info/img/flags/small/tn_ch-flag.gif","alt","\u4e2d\u56fd\u4eba",3,"click"],["title","\u4e2d\u56fd\u4eba Language Selected",1,"flag-text",3,"click"],["title","\u0639\u0631\u0628\u064a Language Selected","width","20px","src","https://www.worldometers.info/img/flags/small/tn_sa-flag.gif","alt","\u0639\u0631\u0628\u064a",3,"click"],["title","\u0639\u0631\u0628\u064a Language Selected",1,"flag-text",3,"click"]],template:function(n,u){1&n&&(t.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),t.NdJ("click",function(){return u.gotoHomePage()}),t._UZ(3,"img",3),t.qZA(),t.TgZ(4,"ul",4,5)(6,"li",6),t.NdJ("click",function(){return u.goHome()}),t.TgZ(7,"a",7)(8,"span",8),t._uU(9,"01. "),t.qZA(),t.TgZ(10,"span",9),t._uU(11),t.ALo(12,"translate"),t.qZA()(),t.YNc(13,mm,1,0,"ng-template",10),t.qZA(),t.TgZ(14,"li",6),t.NdJ("click",function(){return u.gotoBlogsPage()}),t.TgZ(15,"a",11)(16,"span",8),t._uU(17,"02. "),t.qZA(),t.TgZ(18,"span",9),t._uU(19),t.ALo(20,"translate"),t.qZA()(),t.YNc(21,el,1,0,"ng-template",10),t.qZA(),t.TgZ(22,"li",6),t.NdJ("click",function(){return u.gotoAI()}),t.TgZ(23,"a",12)(24,"span",8),t._uU(25,"03. "),t.qZA(),t.TgZ(26,"span",9),t._uU(27),t.ALo(28,"translate"),t.qZA()(),t.YNc(29,ed,1,0,"ng-template",10),t.qZA(),t.TgZ(30,"li",6),t.NdJ("click",function(){return u.gotoShop()}),t.TgZ(31,"a",13)(32,"span",8),t._uU(33,"04. "),t.qZA(),t.TgZ(34,"span",9),t._uU(35),t.ALo(36,"translate"),t.qZA()(),t.YNc(37,ea,1,0,"ng-template",10),t.qZA(),t.TgZ(38,"li",14)(39,"a",15),t.NdJ("click",function(){return u.downloadCV()}),t._uU(40),t.ALo(41,"translate"),t.qZA()(),t.TgZ(42,"li")(43,"div",16)(44,"div",17),t.YNc(45,Tu,1,0,"img",18),t.YNc(46,dp,2,0,"span",19),t.YNc(47,ys,1,0,"img",20),t.YNc(48,Ff,2,0,"span",21),t.YNc(49,hc,1,0,"img",22),t.YNc(50,td,2,0,"span",23),t.YNc(51,pc,1,0,"img",24),t.YNc(52,Mu,2,0,"span",25),t.YNc(53,nd,1,0,"img",26),t.YNc(54,rd,2,0,"span",27),t.YNc(55,fc,1,0,"img",28),t.YNc(56,gc,2,0,"span",29),t.YNc(57,id,1,0,"img",30),t.YNc(58,hp,2,0,"span",31),t.YNc(59,oh,1,0,"img",32),t.YNc(60,ym,2,0,"span",33),t.YNc(61,vm,1,0,"img",34),t.YNc(62,Lf,2,0,"span",35),t.O4$(),t.TgZ(63,"svg",36),t.NdJ("click",function(){return u.clickOnLanguage()}),t._UZ(64,"path",37),t.qZA()(),t.kcU(),t.TgZ(65,"div",38)(66,"div",39),t.NdJ("click",function(){return u.changeLanguage("th")}),t._UZ(67,"img",40),t.TgZ(68,"span",41),t._uU(69,"Thai"),t.qZA(),t.O4$(),t.TgZ(70,"svg",42),t._UZ(71,"path",43),t.qZA()(),t.kcU(),t.TgZ(72,"div",39),t.NdJ("click",function(){return u.changeLanguage("kr")}),t._UZ(73,"img",44),t.TgZ(74,"span",41),t._uU(75,"Korean"),t.qZA(),t.O4$(),t.TgZ(76,"svg",42),t._UZ(77,"path",43),t.qZA()(),t.kcU(),t.TgZ(78,"div",39),t.NdJ("click",function(){return u.changeLanguage("fr")}),t._UZ(79,"img",45),t.TgZ(80,"span",41),t._uU(81,"French"),t.qZA(),t.O4$(),t.TgZ(82,"svg",42),t._UZ(83,"path",43),t.qZA()(),t.kcU(),t.TgZ(84,"div",39),t.NdJ("click",function(){return u.changeLanguage("ar")}),t._UZ(85,"img",46),t.TgZ(86,"span",41),t._uU(87,"\u0639\u0631\u0628\u064a"),t.qZA(),t.O4$(),t.TgZ(88,"svg",42),t._UZ(89,"path",43),t.qZA()(),t.kcU(),t.TgZ(90,"div",39),t.NdJ("click",function(){return u.changeLanguage("ch")}),t._UZ(91,"img",47),t.TgZ(92,"span",41),t._uU(93,"\u4e2d\u56fd\u4eba"),t.qZA(),t.O4$(),t.TgZ(94,"svg",42),t._UZ(95,"path",43),t.qZA()(),t.kcU(),t.TgZ(96,"div",39),t.NdJ("click",function(){return u.changeLanguage("jp")}),t._UZ(97,"img",48),t.TgZ(98,"span",41),t._uU(99,"\u65e5\u672c"),t.qZA(),t.O4$(),t.TgZ(100,"svg",42),t._UZ(101,"path",43),t.qZA()(),t.kcU(),t.TgZ(102,"div",39),t.NdJ("click",function(){return u.changeLanguage("es")}),t._UZ(103,"img",49),t.TgZ(104,"span",41),t._uU(105,"Espa\xf1ol"),t.qZA(),t.O4$(),t.TgZ(106,"svg",42),t._UZ(107,"path",43),t.qZA()(),t.kcU(),t.TgZ(108,"div",50),t.NdJ("click",function(){return u.changeLanguage("en")}),t._UZ(109,"img",51),t.TgZ(110,"span",41),t._uU(111,"English"),t.qZA(),t.O4$(),t.TgZ(112,"svg",42),t._UZ(113,"path",43),t.qZA()(),t.kcU(),t.TgZ(114,"div",50),t.NdJ("click",function(){return u.changeLanguage("ru")}),t._UZ(115,"img",52),t.TgZ(116,"span",41),t._uU(117,"Russian"),t.qZA(),t.O4$(),t.TgZ(118,"svg",42),t._UZ(119,"path",43),t.qZA()()()()()(),t.kcU(),t.TgZ(120,"div",53)(121,"div",54),t.NdJ("click",function(){return u.responsiveMenuVisible=!u.responsiveMenuVisible}),t.qZA()(),t.TgZ(122,"div",55)(123,"aside",56)(124,"nav")(125,"ol")(126,"li",57),t.NdJ("click",function(){return u.analyticsService.sendAnalyticEvent("click_about","menu","click")}),t.TgZ(127,"a",58)(128,"span"),t._uU(129,"01. "),t.qZA(),t._uU(130),t.ALo(131,"translate"),t.qZA()(),t.TgZ(132,"li",57),t.NdJ("click",function(){return u.analyticsService.sendAnalyticEvent("click_blogs","menu","click")}),t.TgZ(133,"a",57),t.NdJ("click",function(){return u.gotoBlogsPage()}),t.TgZ(134,"span"),t._uU(135,"02. "),t.qZA(),t._uU(136),t.ALo(137,"translate"),t.qZA()(),t.TgZ(138,"li")(139,"a",57),t.NdJ("click",function(){return u.gotoAI()}),t.TgZ(140,"span"),t._uU(141,"03. "),t.qZA(),t._uU(142),t.ALo(143,"translate"),t.qZA()(),t.TgZ(144,"li")(145,"a",57),t.NdJ("click",function(){return u.gotoShop()}),t.TgZ(146,"span"),t._uU(147,"04. "),t.qZA(),t._uU(148),t.ALo(149,"translate"),t.qZA()(),t.TgZ(150,"li")(151,"a",59),t.NdJ("click",function(){return u.downloadCV()}),t._uU(152),t.ALo(153,"translate"),t.qZA()(),t.TgZ(154,"li")(155,"div",60)(156,"div",39),t.NdJ("click",function(){return u.changeLanguage("fr")}),t._UZ(157,"img",61),t.TgZ(158,"span",41),t._uU(159,"French"),t.qZA(),t.O4$(),t.TgZ(160,"svg",42),t._UZ(161,"path",43),t.qZA()(),t.kcU(),t.TgZ(162,"div",39),t.NdJ("click",function(){return u.changeLanguage("th")}),t._UZ(163,"img",62),t.TgZ(164,"span",41),t._uU(165,"Thai"),t.qZA(),t.O4$(),t.TgZ(166,"svg",42),t._UZ(167,"path",43),t.qZA()(),t.kcU(),t.TgZ(168,"div",39),t.NdJ("click",function(){return u.changeLanguage("ru")}),t._UZ(169,"img",63),t.TgZ(170,"span",41),t._uU(171,"Russian"),t.qZA(),t.O4$(),t.TgZ(172,"svg",42),t._UZ(173,"path",43),t.qZA()(),t.kcU(),t.TgZ(174,"div",39),t.NdJ("click",function(){return u.changeLanguage("es")}),t._UZ(175,"img",64),t.TgZ(176,"span",41),t._uU(177,"Espa\xf1ol"),t.qZA(),t.O4$(),t.TgZ(178,"svg",42),t._UZ(179,"path",43),t.qZA()(),t.kcU(),t.TgZ(180,"div",50),t.NdJ("click",function(){return u.changeLanguage("en")}),t._UZ(181,"img",65),t.TgZ(182,"span",41),t._uU(183,"English"),t.qZA(),t.O4$(),t.TgZ(184,"svg",42),t._UZ(185,"path",43),t.qZA()(),t.kcU(),t.TgZ(186,"div",50),t.NdJ("click",function(){return u.changeLanguage("jp")}),t._UZ(187,"img",66),t.TgZ(188,"span",41),t._uU(189,"\u65e5\u672c"),t.qZA(),t.O4$(),t.TgZ(190,"svg",42),t._UZ(191,"path",43),t.qZA()(),t.kcU(),t.TgZ(192,"div",50),t.NdJ("click",function(){return u.changeLanguage("ch")}),t._UZ(193,"img",67),t.TgZ(194,"span",41),t._uU(195,"\u4e2d\u56fd\u4eba"),t.qZA(),t.O4$(),t.TgZ(196,"svg",42),t._UZ(197,"path",43),t.qZA()(),t.kcU(),t.TgZ(198,"div",50),t.NdJ("click",function(){return u.changeLanguage("ar")}),t._UZ(199,"img",68),t.TgZ(200,"span",41),t._uU(201,"\u0639\u0631\u0628\u064a"),t.qZA(),t.O4$(),t.TgZ(202,"svg",42),t._UZ(203,"path",43),t.qZA()(),t.kcU(),t.TgZ(204,"div",50),t.NdJ("click",function(){return u.changeLanguage("kr")}),t._UZ(205,"img",69),t.TgZ(206,"span",41),t._uU(207,"Korean"),t.qZA(),t.O4$(),t.TgZ(208,"svg",42),t._UZ(209,"path",43),t.qZA()()()()()()()()()()),2&n&&(t.ekj("nav-shadow",u.pageYPosition>0),t.Q6J("@animateMenu",void 0),t.xp6(11),t.hij(" ",t.lcZ(12,74,"Header.Home"),""),t.xp6(8),t.hij(" ",t.lcZ(20,76,"Header.Blogs"),""),t.xp6(8),t.hij(" ",t.lcZ(28,78,"Header.AI"),""),t.xp6(8),t.hij(" ",t.lcZ(36,80,"Header.Shop"),""),t.xp6(5),t.hij(" ",t.lcZ(41,82,"Header.cvBtn")," "),t.xp6(5),t.Q6J("ngIf","th"==u.languageFormControl.value),t.xp6(1),t.Q6J("ngIf","th"==u.languageFormControl.value),t.xp6(1),t.Q6J("ngIf","kr"==u.languageFormControl.value),t.xp6(1),t.Q6J("ngIf","kr"==u.languageFormControl.value),t.xp6(1),t.Q6J("ngIf","fr"==u.languageFormControl.value),t.xp6(1),t.Q6J("ngIf","fr"==u.languageFormControl.value),t.xp6(1),t.Q6J("ngIf","ru"==u.languageFormControl.value),t.xp6(1),t.Q6J("ngIf","ru"==u.languageFormControl.value),t.xp6(1),t.Q6J("ngIf","en"==u.languageFormControl.value),t.xp6(1),t.Q6J("ngIf","en"==u.languageFormControl.value),t.xp6(1),t.Q6J("ngIf","es"==u.languageFormControl.value),t.xp6(1),t.Q6J("ngIf","es"==u.languageFormControl.value),t.xp6(1),t.Q6J("ngIf","jp"==u.languageFormControl.value),t.xp6(1),t.Q6J("ngIf","jp"==u.languageFormControl.value),t.xp6(1),t.Q6J("ngIf","ch"==u.languageFormControl.value),t.xp6(1),t.Q6J("ngIf","ch"==u.languageFormControl.value),t.xp6(1),t.Q6J("ngIf","ar"==u.languageFormControl.value),t.xp6(1),t.Q6J("ngIf","ar"==u.languageFormControl.value),t.xp6(4),t.ekj("active","th"==u.languageFormControl.value),t.xp6(6),t.ekj("active","kr"==u.languageFormControl.value),t.xp6(6),t.ekj("active","fr"==u.languageFormControl.value),t.xp6(6),t.ekj("active","ar"==u.languageFormControl.value),t.xp6(6),t.ekj("active","ch"==u.languageFormControl.value),t.xp6(6),t.ekj("active","jp"==u.languageFormControl.value),t.xp6(6),t.ekj("active","es"==u.languageFormControl.value),t.xp6(6),t.ekj("active","en"==u.languageFormControl.value),t.xp6(6),t.ekj("active","ru"==u.languageFormControl.value),t.xp6(7),t.ekj("animate",u.responsiveMenuVisible),t.xp6(1),t.Q6J("ngStyle",t.VKq(94,Bf,u.responsiveMenuVisible?"":"none")),t.xp6(1),t.ekj("aside-show",u.responsiveMenuVisible)("nav-shadow",u.pageYPosition>0),t.xp6(7),t.hij(" ",t.lcZ(131,84,"Header.Home")," "),t.xp6(6),t.hij(" ",t.lcZ(137,86,"Header.Blogs")," "),t.xp6(6),t.hij(" ",t.lcZ(143,88,"Header.AI")," "),t.xp6(6),t.hij(" ",t.lcZ(149,90,"Header.Shop")," "),t.xp6(4),t.hij(" ",t.lcZ(153,92,"Header.cvBtn")," "),t.xp6(4),t.ekj("active","fr"==u.languageFormControl.value),t.xp6(6),t.ekj("active","th"==u.languageFormControl.value),t.xp6(6),t.ekj("active","fr"==u.languageFormControl.value),t.xp6(6),t.ekj("active","es"==u.languageFormControl.value),t.xp6(6),t.ekj("active","en"==u.languageFormControl.value),t.xp6(6),t.ekj("active","jp"==u.languageFormControl.value),t.xp6(6),t.ekj("active","ch"==u.languageFormControl.value),t.xp6(6),t.ekj("active","ar"==u.languageFormControl.value),t.xp6(6),t.ekj("active","kr"==u.languageFormControl.value))},dependencies:[I.O5,I.PC,Gu,yh,mh,md,gu,Zu,jl,Ic,fr.X$],styles:['.main-navbar[_ngcontent-%COMP%]{height:70px;background:#18122B;font-family:SF Mono,Fira Code,Fira Mono,Roboto Mono,Lucida Console,Monaco,Monospace}.main-navbar[_ngcontent-%COMP%]   .menu-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 13px}.main-navbar[_ngcontent-%COMP%]   .menu-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{margin-left:0}.main-navbar[_ngcontent-%COMP%]   .menu-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-right:0}.main-navbar[_ngcontent-%COMP%]   .menu-responsive[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;right:0;width:100%;height:100vh;z-index:10;transform:translate(0);visibility:visible;outline:0px;transition:all .25s cubic-bezier(.645,.045,.355,1) 0s}.main-navbar[_ngcontent-%COMP%]   .menu-responsive[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex!important}.main-navbar[_ngcontent-%COMP%]   .menu-responsive[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .cv-btn[_ngcontent-%COMP%]{width:-moz-fit-content!important;width:fit-content!important;margin-left:20px}.main-navbar[_ngcontent-%COMP%]   .menu-responsive[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .language-container[_ngcontent-%COMP%]{width:200px;margin-left:18px;margin-top:50px;padding-left:0;padding-bottom:0}.main-navbar[_ngcontent-%COMP%]   .menu-responsive[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .language-container-selector[_ngcontent-%COMP%]{display:flex}.main-navbar[_ngcontent-%COMP%]   .menu-responsive[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .language-container-selector[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px}.main-navbar[_ngcontent-%COMP%]   .aside-show[_ngcontent-%COMP%]{transition:all .25s cubic-bezier(.645,.045,.355,1) 0s;right:0}.main-navbar[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]{width:75vw;display:flex;justify-content:center;align-items:center;flex-direction:column;background-color:#2e3840;height:100%;position:relative;right:-625px;margin-left:auto;font-family:SF Mono,Fira Code,Fira Mono,Roboto Mono,Lucida Console,Monaco,Monospace;box-shadow:#020c1bb3 -10px 0 30px -15px;padding:25px;transition:all .25s cubic-bezier(.645,.045,.355,1) 0s}.main-navbar[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;flex-direction:column;text-align:center;color:#ccd6f6}.main-navbar[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{width:100%;padding:0;margin:0;list-style:none}.main-navbar[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin:0 auto 10px}.main-navbar[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;color:#bad7e9;font-size:14px;margin-bottom:5px}.main-navbar[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;-webkit-text-decoration-skip:ink;text-decoration-skip-ink:auto;color:inherit;position:relative;cursor:pointer;width:100%;text-decoration:none;transition:all .25s cubic-bezier(.645,.045,.355,1) 0s;padding:3px 20px 20px}.main-navbar[_ngcontent-%COMP%]   .cv-btn[_ngcontent-%COMP%]{padding:7px 15px!important}.main-navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:5px 0;color:inherit;margin:0;font-size:13px}.main-navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#bad7e9}.main-navbar[_ngcontent-%COMP%]   .nav-number[_ngcontent-%COMP%]{color:#bad7e9;font-size:12px}.main-navbar[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{color:#ccd6f6!important;padding-bottom:4px}.main-navbar[_ngcontent-%COMP%]   .menu-wrapper[_ngcontent-%COMP%]{inset:0;width:36px;height:60px;cursor:pointer;z-index:11}.main-navbar[_ngcontent-%COMP%]   .menu-wrapper[_ngcontent-%COMP%]   .hamburger-menu[_ngcontent-%COMP%], .main-navbar[_ngcontent-%COMP%]   .menu-wrapper[_ngcontent-%COMP%]   .hamburger-menu[_ngcontent-%COMP%]:after, .main-navbar[_ngcontent-%COMP%]   .menu-wrapper[_ngcontent-%COMP%]   .hamburger-menu[_ngcontent-%COMP%]:before{width:36px;height:1.5px}.main-navbar[_ngcontent-%COMP%]   .menu-wrapper[_ngcontent-%COMP%]   .hamburger-menu[_ngcontent-%COMP%]{position:relative;transform:translateY(25px);background:#BAD7E9;transition:all 0ms .3s}.main-navbar[_ngcontent-%COMP%]   .menu-wrapper[_ngcontent-%COMP%]   .hamburger-menu[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;bottom:8px;background:#BAD7E9;transition:bottom .3s .3s cubic-bezier(.23,1,.32,1),transform .3s cubic-bezier(.23,1,.32,1)}.main-navbar[_ngcontent-%COMP%]   .menu-wrapper[_ngcontent-%COMP%]   .hamburger-menu[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;top:8px;background:#BAD7E9;transition:top .3s .3s cubic-bezier(.23,1,.32,1),transform .3s cubic-bezier(.23,1,.32,1)}.main-navbar[_ngcontent-%COMP%]   .menu-wrapper[_ngcontent-%COMP%]   .hamburger-menu.animate[_ngcontent-%COMP%]{background:rgba(255,255,255,0)}.main-navbar[_ngcontent-%COMP%]   .menu-wrapper[_ngcontent-%COMP%]   .hamburger-menu.animate[_ngcontent-%COMP%]:after{top:0;transform:rotate(45deg);transition:top .3s cubic-bezier(.23,1,.32,1),transform .3s .3s cubic-bezier(.23,1,.32,1)}.main-navbar[_ngcontent-%COMP%]   .menu-wrapper[_ngcontent-%COMP%]   .hamburger-menu.animate[_ngcontent-%COMP%]:before{bottom:0;transform:rotate(-45deg);transition:bottom .3s cubic-bezier(.23,1,.32,1),transform .3s .3s cubic-bezier(.23,1,.32,1)}.on-top[_ngcontent-%COMP%]{position:fixed;width:100%;top:0;z-index:9;height:100px;transition:all .25s cubic-bezier(.645,.045,.355,1) 0s}.nav-shadow[_ngcontent-%COMP%]{height:70px;box-shadow:0 10px 30px -10px #020c1bb3;transition:all .25s cubic-bezier(.645,.045,.355,1) 0s}@media (max-width: 1000px){.main-navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{margin:0;padding:.5rem .7rem}}@media (max-width: 827px){nav[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{display:none}}@media (min-width: 827px){.menu-wrapper[_ngcontent-%COMP%], .menu-responsive[_ngcontent-%COMP%]{display:none}}.flag-text[_ngcontent-%COMP%]{color:inherit;margin:0 10px;font-size:13px;font-family:SF Mono,Fira Code,Fira Mono,Roboto Mono,Lucida Console,Monaco,Monospace}.language-container[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px;padding-bottom:4px;background:#172a45;border-radius:5px;cursor:pointer}.language-container-selector[_ngcontent-%COMP%]{margin:0!important;color:#cbd5f5!important;padding:11px 8px!important;text-align:center;background:#0a192f!important}.language-container-selector.active[_ngcontent-%COMP%]{margin:0!important;color:#cbd5f5!important;padding:11px 8px!important;text-align:center;background:#172a45!important}.language-container-selector[_ngcontent-%COMP%]:hover{background:#172a45!important}.arrow-language[_ngcontent-%COMP%]{font-size:10px;height:10px;width:10px;fill:#64ffda}  .dropdown-toggle:after{display:none}  .dropdown-menu.show{padding:0!important;border-radius:7px!important;background:#ccd6f6!important;margin-top:10px!important;left:20px!important;box-shadow:0 10px 30px -15px #020c1bb3}.arrow-active[_ngcontent-%COMP%]{font-size:20px;height:20px;width:25px;fill:#64ffda;visibility:hidden}.language-container-selector.active[_ngcontent-%COMP%]   .arrow-active[_ngcontent-%COMP%]{visibility:inherit}.cursor-pointer[_ngcontent-%COMP%]:hover{cursor:pointer}.br-5[_ngcontent-%COMP%]{border-radius:5px}.selected-lang[_ngcontent-%COMP%]{border-bottom-left-radius:0!important;border-bottom-right-radius:0!important}'],data:{animation:[(0,rt.X$)("animateMenu",[(0,rt.eR)(":enter",[(0,rt.IO)("*",[(0,rt.oB)({opacity:0,transform:"translateY(-50%)"}),(0,rt.EY)(50,[(0,rt.jt)("250ms cubic-bezier(0.35, 0, 0.25, 1)",(0,rt.oB)({opacity:1,transform:"none"}))])])])])]}}),c})();function Vf(c,p){if(1&c){const n=t.EpF();t.TgZ(0,"a",26),t.NdJ("click",function(){t.CHM(n);const b=t.oxw(2);return t.KtG(b.downloadCV())}),t._uU(1),t.qZA()}if(2&c){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.Name)}}function bm(c,p){if(1&c&&(t.TgZ(0,"a",27),t._uU(1),t.qZA()),2&c){const n=t.oxw().$implicit;t.Q6J("href",n.link,t.LSH),t.xp6(1),t.Oqu(n.Name)}}function wm(c,p){if(1&c){const n=t.EpF();t.TgZ(0,"a",26),t.NdJ("click",function(){t.CHM(n);const b=t.oxw(2);return t.KtG(b.scroll("jobs"))}),t._uU(1),t.qZA()}if(2&c){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.Name)}}function xy(c,p){if(1&c){const n=t.EpF();t.TgZ(0,"a",26),t.NdJ("click",function(){t.CHM(n);const b=t.oxw(2);return t.KtG(b.scroll("about"))}),t._uU(1),t.qZA()}if(2&c){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.Name)}}function Uf(c,p){if(1&c){const n=t.EpF();t.TgZ(0,"a",26),t.NdJ("click",function(){t.CHM(n);const b=t.oxw(2);return t.KtG(b.scroll("proyects"))}),t._uU(1),t.qZA()}if(2&c){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.Name)}}function Sy(c,p){if(1&c){const n=t.EpF();t.TgZ(0,"a",26),t.NdJ("click",function(){t.CHM(n);const b=t.oxw(2);return t.KtG(b.scroll("contact"))}),t._uU(1),t.qZA()}if(2&c){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.Name)}}function zf(c,p){if(1&c&&(t.TgZ(0,"a",28),t._uU(1),t.qZA()),2&c){const n=t.oxw().$implicit;t.Q6J("href",n.link,t.LSH),t.xp6(1),t.Oqu(n.Name)}}function jf(c,p){if(1&c&&(t.TgZ(0,"a",28),t._uU(1),t.qZA()),2&c){const n=t.oxw().$implicit;t.Q6J("href",n.link,t.LSH),t.xp6(1),t.Oqu(n.Name)}}function Hf(c,p){if(1&c&&(t.TgZ(0,"a",28),t._uU(1),t.qZA()),2&c){const n=t.oxw().$implicit;t.Q6J("href",n.link,t.LSH),t.xp6(1),t.Oqu(n.Name)}}function Ny(c,p){if(1&c&&(t.TgZ(0,"li",22),t.YNc(1,Vf,2,1,"a",23),t.YNc(2,bm,2,2,"a",24),t.YNc(3,wm,2,1,"a",23),t.YNc(4,xy,2,1,"a",23),t.YNc(5,Uf,2,1,"a",23),t.YNc(6,Sy,2,1,"a",23),t.YNc(7,zf,2,2,"a",25),t.YNc(8,jf,2,2,"a",25),t.YNc(9,Hf,2,2,"a",25),t.qZA()),2&c){const n=p.$implicit;t.xp6(1),t.Q6J("ngIf",7===n.ID),t.xp6(1),t.Q6J("ngIf",7!==n.ID&&5!==n.ID&&2!==n.ID&&3!==n.ID&&4!==n.ID&&9!==n.ID&&10!==n.ID&&11!==n.ID),t.xp6(1),t.Q6J("ngIf",5===n.ID),t.xp6(1),t.Q6J("ngIf",2===n.ID),t.xp6(1),t.Q6J("ngIf",3===n.ID),t.xp6(1),t.Q6J("ngIf",4===n.ID),t.xp6(1),t.Q6J("ngIf",9===n.ID),t.xp6(1),t.Q6J("ngIf",10===n.ID),t.xp6(1),t.Q6J("ngIf",11===n.ID)}}function od(c,p){if(1&c){const n=t.EpF();t.TgZ(0,"li",29),t.NdJ("click",function(){const T=t.CHM(n).$implicit,q=t.oxw();return t.KtG(q.changeLanguage(T.value))}),t._UZ(1,"img",30),t.TgZ(2,"span",31),t._uU(3),t.qZA()()}if(2&c){const n=p.$implicit;t.xp6(1),t.Q6J("src",n.image,t.LSH),t.xp6(2),t.Oqu(n.name)}}let ad=(()=>{class c{constructor(n,u,b,T){this.analyticsService=n,this.languageServie=u,this.router=b,this.document=T,this.languages=[{name:"English",value:"en",image:"https://www.worldometers.info/img/flags/us-flag.gif"},{name:"Japanese",value:"jp",image:"https://www.worldometers.info/img/flags/small/tn_ja-flag.gif"},{name:"Spanish",value:"es",image:"https://www.worldometers.info/img/flags/us-flag.gif"},{name:"Russian",value:"ru",image:"https://www.worldometers.info/img/flags/small/tn_rs-flag.gif"},{name:"Chinese",value:"ch",image:"https://www.worldometers.info/img/flags/small/tn_ch-flag.gif"},{name:"Arabic",value:"ar",image:"https://www.worldometers.info/img/flags/small/tn_sa-flag.gif"},{name:"French",value:"fr",image:"https://www.worldometers.info/img/flags/small/tn_fr-flag.gif"},{name:"Korean",value:"kr",image:"https://www.worldometers.info/img/flags/small/tn_ks-flag.gif"},{name:"Thai",value:"kr",image:"https://www.worldometers.info/img/flags/small/tn_th-flag.gif"}],this.responsiveMenuVisible=!1}ngOnInit(){}scroll(n){document.getElementById(n)?document.getElementById(n).scrollIntoView({behavior:"smooth"}):this.router.navigate(["/home"]).then(()=>document.getElementById(n).scrollIntoView({behavior:"smooth"})),this.responsiveMenuVisible=!1}changeLanguage(n){this.analyticsService.sendAnalyticEvent("language_change","footer","click"),this.languageServie.changeLanguage(n)}downloadCV(){this.analyticsService.sendAnalyticEvent("click_downloadcv","menu","click"),this.languageServie.translateService.get("Header.cvName").subscribe(n=>{this.cvName=n,console.log(n);let u=window.location.href;window.open(u+"/../assets/cv/"+this.cvName,"_blank")})}}return c.\u0275fac=function(n){return new(n||c)(t.Y36(Xs.y),t.Y36(ih),t.Y36(ht.F0),t.Y36(I.K0))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-footer"]],decls:37,vars:8,consts:[[1,"footer-left-bar","d-none","d-md-block"],["rel","canonical","title","Medium","href","https://medium.com/@ewumesh","target","_blank",3,"click"],[1,"fab","fa-medium"],["rel","canonical","title","Instagram","href","https://instagram.com/ewumesh","target","_blank",3,"click"],[1,"fab","fa-instagram"],["rel","canonical","title","Facebook","href","https://facebook.com/ewumesh","target","_blank",3,"click"],[1,"fab","fa-facebook"],["rel","canonical","title","Twitter","href","https://twitter.com/ewumesh","target","_blank",3,"click"],[1,"fab","fa-twitter"],["rel","canonical","title","GitLab","href","https://gitlab.com/umesh122","target","_blank",3,"click"],[1,"fab","fa-gitlab"],["rel","canonical","title","Github","href","https://github.com/umeshthapa12/","target","_blank",3,"click"],[1,"fab","fa-github"],["rel","canonical","title","Linkedin","href","https://www.linkedin.com/in/ewumesh/","target","_blank",3,"click"],[1,"fab","fa-linkedin-in"],[1,"footer-right-bar","d-none","d-md-block"],["rel","canonical","href","mailto:ewumesh@gmail.com","target","_blank",3,"click"],[1,"footer-credits","text-center"],["rel","canonical","href","https://github.com/ewumesh","target","_blank","rel","nofollow noopener noreferrer",3,"click"],[1,"mt-1p"],["class","cursor-pointer footer-list",4,"ngFor","ngForOf"],["class","cursor-pointer footer-list",3,"click",4,"ngFor","ngForOf"],[1,"cursor-pointer","footer-list"],["class","underline",3,"click",4,"ngIf"],["rel","canonical","class","underline",3,"href",4,"ngIf"],["rel","canonical","target","_blank","class","underline",3,"href",4,"ngIf"],[1,"underline",3,"click"],["rel","canonical",1,"underline",3,"href"],["rel","canonical","target","_blank",1,"underline",3,"href"],[1,"cursor-pointer","footer-list",3,"click"],["width","20",3,"src"],[1,"underline"]],template:function(n,u){1&n&&(t.TgZ(0,"footer")(1,"div")(2,"ul",0)(3,"li")(4,"a",1),t.NdJ("click",function(){return u.analyticsService.sendAnalyticEvent("click_medium","footer","medium")}),t._UZ(5,"i",2),t.qZA()(),t.TgZ(6,"li")(7,"a",3),t.NdJ("click",function(){return u.analyticsService.sendAnalyticEvent("click_instagram","footer","instagram")}),t._UZ(8,"i",4),t.qZA()(),t.TgZ(9,"li")(10,"a",5),t.NdJ("click",function(){return u.analyticsService.sendAnalyticEvent("click_facebook","footer","facebook")}),t._UZ(11,"i",6),t.qZA()(),t.TgZ(12,"li")(13,"a",7),t.NdJ("click",function(){return u.analyticsService.sendAnalyticEvent("click_twitter","footer","twitter")}),t._UZ(14,"i",8),t.qZA()(),t.TgZ(15,"li")(16,"a",9),t.NdJ("click",function(){return u.analyticsService.sendAnalyticEvent("click_gitlab","footer","gitlab")}),t._UZ(17,"i",10),t.qZA()(),t.TgZ(18,"li")(19,"a",11),t.NdJ("click",function(){return u.analyticsService.sendAnalyticEvent("click_github","footer","github")}),t._UZ(20,"i",12),t.qZA()(),t.TgZ(21,"li")(22,"a",13),t.NdJ("click",function(){return u.analyticsService.sendAnalyticEvent("click_linkedin","footer","linkedin")}),t._UZ(23,"i",14),t.qZA()()(),t.TgZ(24,"div",15)(25,"a",16),t.NdJ("click",function(){return u.analyticsService.sendAnalyticEvent("click_send_mail","footer","email")}),t._uU(26,"ewumesh@gmail.com "),t.qZA()()(),t.TgZ(27,"div",17)(28,"a",18),t.NdJ("click",function(){return u.analyticsService.sendAnalyticEvent("click_github_portfolio_ewumesh","footer","click")}),t.TgZ(29,"div"),t._uU(30),t.ALo(31,"translate"),t.qZA()(),t.TgZ(32,"ul",19),t.YNc(33,Ny,10,9,"li",20),t.ALo(34,"translate"),t.qZA(),t.TgZ(35,"ul",19),t.YNc(36,od,4,2,"li",21),t.qZA()()()),2&n&&(t.xp6(1),t.Q6J("@animateFooter",void 0),t.xp6(29),t.Oqu(t.lcZ(31,4,"Footer.Content")),t.xp6(3),t.Q6J("ngForOf",t.lcZ(34,6,"Footer.Shortcuts")),t.xp6(3),t.Q6J("ngForOf",u.languages))},dependencies:[I.sg,I.O5,fr.X$],styles:['footer[_ngcontent-%COMP%]{color:#a8b2d1}footer[_ngcontent-%COMP%]   .footer-left-bar[_ngcontent-%COMP%]:after, footer[_ngcontent-%COMP%]   .footer-right-bar[_ngcontent-%COMP%]:after{content:"";display:block;width:1px;height:90px;margin:0 auto;background-color:#a8b2d1}footer[_ngcontent-%COMP%]   .footer-left-bar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]   .footer-right-bar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}footer[_ngcontent-%COMP%]   .footer-left-bar[_ngcontent-%COMP%]{position:fixed;bottom:-16px;left:51px;padding:0}footer[_ngcontent-%COMP%]   .footer-left-bar[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:19px;color:#a8b2d1}footer[_ngcontent-%COMP%]   .footer-left-bar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}footer[_ngcontent-%COMP%]   .footer-left-bar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type{margin-bottom:33px}footer[_ngcontent-%COMP%]   .footer-right-bar[_ngcontent-%COMP%]{position:fixed;bottom:0;right:41px;padding:0}footer[_ngcontent-%COMP%]   .footer-right-bar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{transform:rotate(90deg)}footer[_ngcontent-%COMP%]   .footer-right-bar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:SF Mono,Fira Code,Fira Mono,Roboto Mono,Lucida Console,Monaco,Monospace;font-size:12px;-webkit-letter-spacing:.1em;-moz-letter-spacing:.1em;-ms-letter-spacing:.1em;letter-spacing:.1em;writing-mode:vertical-rl;margin:20px auto;padding:10px;color:#a8b2d1}footer[_ngcontent-%COMP%]   .footer-credits[_ngcontent-%COMP%]{font-family:SF Mono,Fira Code,Fira Mono,Roboto Mono,Lucida Console,Monaco,Monospace;font-size:12px;line-height:1;position:absolute;margin:-60px auto auto;left:0;right:0}footer[_ngcontent-%COMP%]   .footer-credits[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#a8b2d1;transition:all .25s cubic-bezier(.645,.045,.355,1);transition-property:all;transition-duration:.25s;transition-timing-function:cubic-bezier(.645,.045,.355,1);transition-delay:0s}footer[_ngcontent-%COMP%]   .footer-credits[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, footer[_ngcontent-%COMP%]   .footer-credits[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{text-decoration:none;color:#bad7e9}.more-proyects-skills[_ngcontent-%COMP%]{display:flex;align-items:flex-end;flex-grow:1;flex-wrap:wrap;padding:0;margin:20px 0 0;list-style:none}.more-proyects-skills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px;color:#8892b0;line-height:1.75;margin-right:15px;font-family:SF Mono,Fira Code,Fira Mono,Roboto Mono,Lucida Console,Monaco,Monospace}.more-proyects-skills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{padding-bottom:3.5px}.cursor-pointer[_ngcontent-%COMP%]:hover{cursor:pointer}.mt-1p[_ngcontent-%COMP%]{margin-top:1%}.footer-list[_ngcontent-%COMP%]{display:inline;margin:1% .6%}'],data:{animation:[(0,rt.X$)("animateFooter",[(0,rt.eR)(":enter",[(0,rt.IO)("*",[(0,rt.oB)({opacity:0,transform:"translateY(100%)"}),(0,rt.EY)(50,[(0,rt.jt)("250ms cubic-bezier(0.35, 0, 0.25, 1)",(0,rt.oB)({opacity:1,transform:"none"}))])])])])]}}),c})(),ah=(()=>{class c{constructor(n,u,b){if(this.platformId=n,this.renderer=u,this.el=b,this.trackingCode="G-RYM8MWS7EW",(0,I.NF)(this.platformId)){const T=this.renderer.createElement("script");T.src=`//www.googletagmanager.com/gtag/js?id=${this.trackingCode}`,T.async=!0,this.renderer.appendChild(this.el.nativeElement,T);const q=this.renderer.createElement("script"),X=this.renderer.createText(`\n        window.dataLayer = window.dataLayer || [];\n        function gtag() {\n          dataLayer.push(arguments);\n        }\n        gtag('js', new Date());\n\n        gtag('config', '${this.trackingCode}');\n      `);this.renderer.appendChild(q,X),this.renderer.appendChild(this.el.nativeElement,q)}}}return c.\u0275fac=function(n){return new(n||c)(t.Y36(t.Lbi),t.Y36(t.Qsj),t.Y36(t.SBq))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-google-analytics-gtag"]],decls:0,vars:0,template:function(n,u){},encapsulation:2}),c})(),Cm=(()=>{class c{constructor(n,u,b){this.titleService=n,this.meta=u,this.languageService=b,this.title="Ewumesh"}ngOnInit(){let n=localStorage.getItem("lang");n?this.languageService.changeLanguage(n.toString()):this.languageService.initLanguage(),Ey.init()}setMetaTags(){this.titleService.setTitle("Discover and Explore Yourself with Ewumesh"),this.meta.addTag({name:"description",content:"Ewumesh is a digital platform where you can showcase your personal brand, share your thoughts and ideas, and connect with others."}),this.meta.addTag({name:"keywords",content:"ewumesh, personal brand, online presence, social network"}),this.meta.addTag({name:"author",content:"Umesh Thapa"}),this.meta.addTags([{property:"og:title",content:"Discover and Explore Yourself with Ewumesh"},{property:"og:url",content:"https://ewumesh.com"},{property:"og:description",content:"Ewumesh is a digital platform where you can showcase your personal brand, share your thoughts and ideas, and connect with others."},{property:"og:type",content:"website"},{property:"og:site_name",content:"Ewumesh"},{property:"og:image",content:"https://ewumesh.com/assets/images/banner.webp"},{property:"twitter:card",content:"summary_large_image"},{property:"twitter:site",content:"@ewumesh"},{property:"twitter:title",content:"Discover and Explore Yourself with Ewumesh"},{property:"twitter:description",content:"Ewumesh is a digital platform where you can showcase your personal brand, share your thoughts and ideas, and connect with others."},{property:"twitter:image",content:"https://ewumesh.com/assets/images/banner.webp"},{property:"twitter:url",content:"https://ewumesh.com"},{name:"twitter:name:alt",content:"Discover and Explore Yourself! - Ewumesh"}])}}return c.\u0275fac=function(n){return new(n||c)(t.Y36(w.Dx),t.Y36(w.h_),t.Y36(ih))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-root"]],decls:4,vars:0,template:function(n,u){1&n&&t._UZ(0,"app-header")(1,"app-google-analytics-gtag")(2,"router-outlet")(3,"app-footer")},dependencies:[ht.lC,_m,ad,ah],styles:["#route[_ngcontent-%COMP%]{margin-top:2%}.code[_ngcontent-%COMP%]{height:150px;width:250px;color:#fff;margin:20px;width:40%;clear:both;height:200px;background:#000;border-radius:2px;padding:10px}"]}),c})();var pp=E(9167),fp=E(7285),$f=E(5385);function Dm(c){return new Cn.w(c,"./assets/i18n/",".json")}let No=(()=>{class c{constructor(n,u){this.platformId=n,this.appId=u;const b=(0,I.NF)(n)?"in the browser":"on the server";console.log(`Running ${b} with appId=${u}`)}}return c.\u0275fac=function(n){return new(n||c)(t.LFG(t.Lbi),t.LFG(t.AFp))},c.\u0275mod=t.oAB({type:c,bootstrap:[Cm]}),c.\u0275inj=t.cJS({imports:[w.b2.withServerTransition({appId:"ewumesh"}),N.u5,Dy,H.JF,Kh,om,pp.BlogsModule,fp.ObjectDetectionModule,$f.GamesModule,Fe.forRoot(),w.b2.withServerTransition({appId:"serverApp"}),H.JF,Ri.register("ngsw-worker.js",{enabled:true}),fr.aw.forRoot({loader:{provide:fr.Zw,useFactory:Dm,deps:[H.eN]}})]}),c})();w.q6().bootstrapModule(No).catch(c=>console.error(c))},4484:(k,A,E)=>{"use strict";E.d(A,{Zw:()=>at,aw:()=>yn,X$:()=>en,sK:()=>zt});var w=E(4650),N=E(9646),t=E(9751),I=E(576);function H(_t){return!!_t&&(_t instanceof t.y||(0,I.m)(_t.lift)&&(0,I.m)(_t.subscribe))}var z=E(4128),re=E(7272),ce=E(9770),Oe=E(5698),M=E(7579),Fe=E(6063);class we extends M.x{constructor(Vt=1/0,Te=1/0,et=Fe.l){super(),this._bufferSize=Vt,this._windowTime=Te,this._timestampProvider=et,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Te===1/0,this._bufferSize=Math.max(1,Vt),this._windowTime=Math.max(1,Te)}next(Vt){const{isStopped:Te,_buffer:et,_infiniteTimeWindow:It,_timestampProvider:Ut,_windowTime:rn}=this;Te||(et.push(Vt),!It&&et.push(Ut.now()+rn)),this._trimBuffer(),super.next(Vt)}_subscribe(Vt){this._throwIfClosed(),this._trimBuffer();const Te=this._innerSubscribe(Vt),{_infiniteTimeWindow:et,_buffer:It}=this,Ut=It.slice();for(let rn=0;rn<Ut.length&&!Vt.closed;rn+=et?1:2)Vt.next(Ut[rn]);return this._checkFinalizedStatuses(Vt),Te}_trimBuffer(){const{_bufferSize:Vt,_timestampProvider:Te,_buffer:et,_infiniteTimeWindow:It}=this,Ut=(It?1:2)*Vt;if(Vt<1/0&&Ut<et.length&&et.splice(0,et.length-Ut),!It){const rn=Te.now();let xr=0;for(let Sr=1;Sr<et.length&&et[Sr]<=rn;Sr+=2)xr=Sr;xr&&et.splice(0,xr+1)}}}var Tt=E(3099);function De(_t,Vt,Te){let et,It=!1;return _t&&"object"==typeof _t?({bufferSize:et=1/0,windowTime:Vt=1/0,refCount:It=!1,scheduler:Te}=_t):et=_t??1/0,(0,Tt.B)({connector:()=>new we(et,Vt,Te),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:It})}var Ae=E(4004),je=E(4351),se=E(3900);class at{}let mt=(()=>{class _t extends at{getTranslation(Te){return(0,N.of)({})}}return _t.\u0275fac=function(){let Vt;return function(et){return(Vt||(Vt=w.n5z(_t)))(et||_t)}}(),_t.\u0275prov=w.Yz7({token:_t,factory:_t.\u0275fac}),_t})();class Pe{}let Ee=(()=>{class _t{handle(Te){return Te.key}}return _t.\u0275fac=function(Te){return new(Te||_t)},_t.\u0275prov=w.Yz7({token:_t,factory:_t.\u0275fac}),_t})();function Ye(_t,Vt){if(_t===Vt)return!0;if(null===_t||null===Vt)return!1;if(_t!=_t&&Vt!=Vt)return!0;let It,Ut,rn,Te=typeof _t;if(Te==typeof Vt&&"object"==Te){if(!Array.isArray(_t)){if(Array.isArray(Vt))return!1;for(Ut in rn=Object.create(null),_t){if(!Ye(_t[Ut],Vt[Ut]))return!1;rn[Ut]=!0}for(Ut in Vt)if(!(Ut in rn)&&typeof Vt[Ut]<"u")return!1;return!0}if(!Array.isArray(Vt))return!1;if((It=_t.length)==Vt.length){for(Ut=0;Ut<It;Ut++)if(!Ye(_t[Ut],Vt[Ut]))return!1;return!0}}return!1}function Qe(_t){return typeof _t<"u"&&null!==_t}function ze(_t){return _t&&"object"==typeof _t&&!Array.isArray(_t)}function xt(_t,Vt){let Te=Object.assign({},_t);return ze(_t)&&ze(Vt)&&Object.keys(Vt).forEach(et=>{ze(Vt[et])?et in _t?Te[et]=xt(_t[et],Vt[et]):Object.assign(Te,{[et]:Vt[et]}):Object.assign(Te,{[et]:Vt[et]})}),Te}class pt{}let Ne=(()=>{class _t extends pt{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(Te,et){let It;return It="string"==typeof Te?this.interpolateString(Te,et):"function"==typeof Te?this.interpolateFunction(Te,et):Te,It}getValue(Te,et){let It="string"==typeof et?et.split("."):[et];et="";do{et+=It.shift(),!Qe(Te)||!Qe(Te[et])||"object"!=typeof Te[et]&&It.length?It.length?et+=".":Te=void 0:(Te=Te[et],et="")}while(It.length);return Te}interpolateFunction(Te,et){return Te(et)}interpolateString(Te,et){return et?Te.replace(this.templateMatcher,(It,Ut)=>{let rn=this.getValue(et,Ut);return Qe(rn)?rn:It}):Te}}return _t.\u0275fac=function(){let Vt;return function(et){return(Vt||(Vt=w.n5z(_t)))(et||_t)}}(),_t.\u0275prov=w.Yz7({token:_t,factory:_t.\u0275fac}),_t})();class Le{}let cn=(()=>{class _t extends Le{compile(Te,et){return Te}compileTranslations(Te,et){return Te}}return _t.\u0275fac=function(){let Vt;return function(et){return(Vt||(Vt=w.n5z(_t)))(et||_t)}}(),_t.\u0275prov=w.Yz7({token:_t,factory:_t.\u0275fac}),_t})();class ct{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new w.vpe,this.onLangChange=new w.vpe,this.onDefaultLangChange=new w.vpe}}const qe=new w.OlP("USE_STORE"),it=new w.OlP("USE_DEFAULT_LANG"),st=new w.OlP("DEFAULT_LANGUAGE"),nt=new w.OlP("USE_EXTEND");let zt=(()=>{class _t{constructor(Te,et,It,Ut,rn,xr=!0,Sr=!1,Xn=!1,er){this.store=Te,this.currentLoader=et,this.compiler=It,this.parser=Ut,this.missingTranslationHandler=rn,this.useDefaultLang=xr,this.isolate=Sr,this.extend=Xn,this.pending=!1,this._onTranslationChange=new w.vpe,this._onLangChange=new w.vpe,this._onDefaultLangChange=new w.vpe,this._langs=[],this._translations={},this._translationRequests={},er&&this.setDefaultLang(er)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(Te){this.isolate?this._defaultLang=Te:this.store.defaultLang=Te}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(Te){this.isolate?this._currentLang=Te:this.store.currentLang=Te}get langs(){return this.isolate?this._langs:this.store.langs}set langs(Te){this.isolate?this._langs=Te:this.store.langs=Te}get translations(){return this.isolate?this._translations:this.store.translations}set translations(Te){this.isolate?this._translations=Te:this.store.translations=Te}setDefaultLang(Te){if(Te===this.defaultLang)return;let et=this.retrieveTranslations(Te);typeof et<"u"?(null==this.defaultLang&&(this.defaultLang=Te),et.pipe((0,Oe.q)(1)).subscribe(It=>{this.changeDefaultLang(Te)})):this.changeDefaultLang(Te)}getDefaultLang(){return this.defaultLang}use(Te){if(Te===this.currentLang)return(0,N.of)(this.translations[Te]);let et=this.retrieveTranslations(Te);return typeof et<"u"?(this.currentLang||(this.currentLang=Te),et.pipe((0,Oe.q)(1)).subscribe(It=>{this.changeLang(Te)}),et):(this.changeLang(Te),(0,N.of)(this.translations[Te]))}retrieveTranslations(Te){let et;return(typeof this.translations[Te]>"u"||this.extend)&&(this._translationRequests[Te]=this._translationRequests[Te]||this.getTranslation(Te),et=this._translationRequests[Te]),et}getTranslation(Te){this.pending=!0;const et=this.currentLoader.getTranslation(Te).pipe(De(1),(0,Oe.q)(1));return this.loadingTranslations=et.pipe((0,Ae.U)(It=>this.compiler.compileTranslations(It,Te)),De(1),(0,Oe.q)(1)),this.loadingTranslations.subscribe({next:It=>{this.translations[Te]=this.extend&&this.translations[Te]?Object.assign(Object.assign({},It),this.translations[Te]):It,this.updateLangs(),this.pending=!1},error:It=>{this.pending=!1}}),et}setTranslation(Te,et,It=!1){et=this.compiler.compileTranslations(et,Te),this.translations[Te]=(It||this.extend)&&this.translations[Te]?xt(this.translations[Te],et):et,this.updateLangs(),this.onTranslationChange.emit({lang:Te,translations:this.translations[Te]})}getLangs(){return this.langs}addLangs(Te){Te.forEach(et=>{-1===this.langs.indexOf(et)&&this.langs.push(et)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(Te,et,It){let Ut;if(et instanceof Array){let rn={},xr=!1;for(let Sr of et)rn[Sr]=this.getParsedResult(Te,Sr,It),H(rn[Sr])&&(xr=!0);if(xr){const Sr=et.map(Xn=>H(rn[Xn])?rn[Xn]:(0,N.of)(rn[Xn]));return(0,z.D)(Sr).pipe((0,Ae.U)(Xn=>{let er={};return Xn.forEach((di,Jt)=>{er[et[Jt]]=di}),er}))}return rn}if(Te&&(Ut=this.parser.interpolate(this.parser.getValue(Te,et),It)),typeof Ut>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Ut=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],et),It)),typeof Ut>"u"){let rn={key:et,translateService:this};typeof It<"u"&&(rn.interpolateParams=It),Ut=this.missingTranslationHandler.handle(rn)}return typeof Ut<"u"?Ut:et}get(Te,et){if(!Qe(Te)||!Te.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,je.b)(It=>H(It=this.getParsedResult(It,Te,et))?It:(0,N.of)(It)));{let It=this.getParsedResult(this.translations[this.currentLang],Te,et);return H(It)?It:(0,N.of)(It)}}getStreamOnTranslationChange(Te,et){if(!Qe(Te)||!Te.length)throw new Error('Parameter "key" required');return(0,re.z)((0,ce.P)(()=>this.get(Te,et)),this.onTranslationChange.pipe((0,se.w)(It=>{const Ut=this.getParsedResult(It.translations,Te,et);return"function"==typeof Ut.subscribe?Ut:(0,N.of)(Ut)})))}stream(Te,et){if(!Qe(Te)||!Te.length)throw new Error('Parameter "key" required');return(0,re.z)((0,ce.P)(()=>this.get(Te,et)),this.onLangChange.pipe((0,se.w)(It=>{const Ut=this.getParsedResult(It.translations,Te,et);return H(Ut)?Ut:(0,N.of)(Ut)})))}instant(Te,et){if(!Qe(Te)||!Te.length)throw new Error('Parameter "key" required');let It=this.getParsedResult(this.translations[this.currentLang],Te,et);if(H(It)){if(Te instanceof Array){let Ut={};return Te.forEach((rn,xr)=>{Ut[Te[xr]]=Te[xr]}),Ut}return Te}return It}set(Te,et,It=this.currentLang){this.translations[It][Te]=this.compiler.compile(et,It),this.updateLangs(),this.onTranslationChange.emit({lang:It,translations:this.translations[It]})}changeLang(Te){this.currentLang=Te,this.onLangChange.emit({lang:Te,translations:this.translations[Te]}),null==this.defaultLang&&this.changeDefaultLang(Te)}changeDefaultLang(Te){this.defaultLang=Te,this.onDefaultLangChange.emit({lang:Te,translations:this.translations[Te]})}reloadLang(Te){return this.resetLang(Te),this.getTranslation(Te)}resetLang(Te){this._translationRequests[Te]=void 0,this.translations[Te]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let Te=window.navigator.languages?window.navigator.languages[0]:null;return Te=Te||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof Te>"u"?void 0:(-1!==Te.indexOf("-")&&(Te=Te.split("-")[0]),-1!==Te.indexOf("_")&&(Te=Te.split("_")[0]),Te)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let Te=window.navigator.languages?window.navigator.languages[0]:null;return Te=Te||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,Te}}return _t.\u0275fac=function(Te){return new(Te||_t)(w.LFG(ct),w.LFG(at),w.LFG(Le),w.LFG(pt),w.LFG(Pe),w.LFG(it),w.LFG(qe),w.LFG(nt),w.LFG(st))},_t.\u0275prov=w.Yz7({token:_t,factory:_t.\u0275fac}),_t})(),en=(()=>{class _t{constructor(Te,et){this.translate=Te,this._ref=et,this.value=""}updateValue(Te,et,It){let Ut=rn=>{this.value=void 0!==rn?rn:Te,this.lastKey=Te,this._ref.markForCheck()};if(It){let rn=this.translate.getParsedResult(It,Te,et);H(rn.subscribe)?rn.subscribe(Ut):Ut(rn)}this.translate.get(Te,et).subscribe(Ut)}transform(Te,...et){if(!Te||!Te.length)return Te;if(Ye(Te,this.lastKey)&&Ye(et,this.lastParams))return this.value;let It;if(Qe(et[0])&&et.length)if("string"==typeof et[0]&&et[0].length){let Ut=et[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{It=JSON.parse(Ut)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${et[0]}`)}}else"object"==typeof et[0]&&!Array.isArray(et[0])&&(It=et[0]);return this.lastKey=Te,this.lastParams=et,this.updateValue(Te,It),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Ut=>{this.lastKey&&Ut.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(Te,It,Ut.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Ut=>{this.lastKey&&(this.lastKey=null,this.updateValue(Te,It,Ut.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(Te,It))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return _t.\u0275fac=function(Te){return new(Te||_t)(w.Y36(zt,16),w.Y36(w.sBO,16))},_t.\u0275pipe=w.Yjl({name:"translate",type:_t,pure:!1}),_t.\u0275prov=w.Yz7({token:_t,factory:_t.\u0275fac}),_t})(),yn=(()=>{class _t{static forRoot(Te={}){return{ngModule:_t,providers:[Te.loader||{provide:at,useClass:mt},Te.compiler||{provide:Le,useClass:cn},Te.parser||{provide:pt,useClass:Ne},Te.missingTranslationHandler||{provide:Pe,useClass:Ee},ct,{provide:qe,useValue:Te.isolate},{provide:it,useValue:Te.useDefaultLang},{provide:nt,useValue:Te.extend},{provide:st,useValue:Te.defaultLanguage},zt]}}static forChild(Te={}){return{ngModule:_t,providers:[Te.loader||{provide:at,useClass:mt},Te.compiler||{provide:Le,useClass:cn},Te.parser||{provide:pt,useClass:Ne},Te.missingTranslationHandler||{provide:Pe,useClass:Ee},{provide:qe,useValue:Te.isolate},{provide:it,useValue:Te.useDefaultLang},{provide:nt,useValue:Te.extend},{provide:st,useValue:Te.defaultLanguage},zt]}}}return _t.\u0275fac=function(Te){return new(Te||_t)},_t.\u0275mod=w.oAB({type:_t}),_t.\u0275inj=w.cJS({}),_t})()},1744:(k,A,E)=>{"use strict";E.d(A,{w:()=>w});class w{constructor(t,I="/assets/i18n/",H=".json"){this.http=t,this.prefix=I,this.suffix=H}getTranslation(t){return this.http.get(`${this.prefix}${t}${this.suffix}`)}}},8418:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Gi:()=>FrozenModel,gJ:()=>version,xG:()=>loadFrozenModel});var _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(253),__assign=Object.assign||function(k){for(var A,E=1,w=arguments.length;E<w;E++)for(var N in A=arguments[E])Object.prototype.hasOwnProperty.call(A,N)&&(k[N]=A[N]);return k};function __awaiter(k,A,E,w){return new(E||(E=Promise))(function(N,t){function I(re){try{z(w.next(re))}catch(ce){t(ce)}}function H(re){try{z(w.throw(re))}catch(ce){t(ce)}}function z(re){re.done?N(re.value):new E(function(ce){ce(re.value)}).then(I,H)}z((w=w.apply(k,A||[])).next())})}function __generator(k,A){var E,w,N,t,I={label:0,sent:function(){if(1&N[0])throw N[1];return N[1]},trys:[],ops:[]};return t={next:H(0),throw:H(1),return:H(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function H(z){return function(re){return function(ce){if(E)throw new TypeError("Generator is already executing.");for(;I;)try{if(E=1,w&&(N=w[2&ce[0]?"return":ce[0]?"throw":"next"])&&!(N=N.call(w,ce[1])).done)return N;switch(w=0,N&&(ce=[0,N.value]),ce[0]){case 0:case 1:N=ce;break;case 4:return I.label++,{value:ce[1],done:!1};case 5:I.label++,w=ce[1],ce=[0];continue;case 7:ce=I.ops.pop(),I.trys.pop();continue;default:if(!(N=(N=I.trys).length>0&&N[N.length-1])&&(6===ce[0]||2===ce[0])){I=0;continue}if(3===ce[0]&&(!N||ce[1]>N[0]&&ce[1]<N[3])){I.label=ce[1];break}if(6===ce[0]&&I.label<N[1]){I.label=N[1],N=ce;break}if(N&&I.label<N[2]){I.label=N[2],I.ops.push(ce);break}N[2]&&I.ops.pop(),I.trys.pop();continue}ce=A.call(k,I)}catch(Oe){ce=[6,Oe],w=0}finally{E=N=0}if(5&ce[0])throw ce[1];return{value:ce[0]?ce[1]:void 0,done:!0}}([z,re])}}}var commonjsGlobal=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function createCommonjsModule(k,A){return k(A={exports:{}},A.exports),A.exports}var aspromise=asPromise;function asPromise(k,A){for(var E=new Array(arguments.length-1),w=0,N=2,t=!0;N<arguments.length;)E[w++]=arguments[N++];return new Promise(function(I,H){E[w]=function(z){if(t)if(t=!1,z)H(z);else{for(var re=new Array(arguments.length-1),ce=0;ce<re.length;)re[ce++]=arguments[ce];I.apply(null,re)}};try{k.apply(A||null,E)}catch(z){t&&(t=!1,H(z))}})}var base64_1=createCommonjsModule(function(k,A){var E=A;E.length=function(I){var H=I.length;if(!H)return 0;for(var z=0;--H%4>1&&"="===I.charAt(H);)++z;return Math.ceil(3*I.length)/4-z};for(var w=new Array(64),N=new Array(123),t=0;t<64;)N[w[t]=t<26?t+65:t<52?t+71:t<62?t-4:t-59|43]=t++;E.encode=function(I,H,z){for(var re,ce=null,Oe=[],M=0,Fe=0;H<z;){var we=I[H++];switch(Fe){case 0:Oe[M++]=w[we>>2],re=(3&we)<<4,Fe=1;break;case 1:Oe[M++]=w[re|we>>4],re=(15&we)<<2,Fe=2;break;case 2:Oe[M++]=w[re|we>>6],Oe[M++]=w[63&we],Fe=0}M>8191&&((ce||(ce=[])).push(String.fromCharCode.apply(String,Oe)),M=0)}return Fe&&(Oe[M++]=w[re],Oe[M++]=61,1===Fe&&(Oe[M++]=61)),ce?(M&&ce.push(String.fromCharCode.apply(String,Oe.slice(0,M))),ce.join("")):String.fromCharCode.apply(String,Oe.slice(0,M))},E.decode=function(I,H,z){for(var re,ce=z,Oe=0,M=0;M<I.length;){var Fe=I.charCodeAt(M++);if(61===Fe&&Oe>1)break;if(void 0===(Fe=N[Fe]))throw Error("invalid encoding");switch(Oe){case 0:re=Fe,Oe=1;break;case 1:H[z++]=re<<2|(48&Fe)>>4,re=Fe,Oe=2;break;case 2:H[z++]=(15&re)<<4|(60&Fe)>>2,re=Fe,Oe=3;break;case 3:H[z++]=(3&re)<<6|Fe,Oe=0}}if(1===Oe)throw Error("invalid encoding");return z-ce},E.test=function(I){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(I)}}),eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(k,A,E){return(this._listeners[k]||(this._listeners[k]=[])).push({fn:A,ctx:E||this}),this},EventEmitter.prototype.off=function(k,A){if(void 0===k)this._listeners={};else if(void 0===A)this._listeners[k]=[];else for(var E=this._listeners[k],w=0;w<E.length;)E[w].fn===A?E.splice(w,1):++w;return this},EventEmitter.prototype.emit=function(k){var A=this._listeners[k];if(A){for(var E=[],w=1;w<arguments.length;)E.push(arguments[w++]);for(w=0;w<A.length;)A[w].fn.apply(A[w++].ctx,E)}return this};var float_1=factory(factory);function factory(k){return typeof Float32Array<"u"?function(){var A=new Float32Array([-0]),E=new Uint8Array(A.buffer),w=128===E[3];function N(z,re,ce){A[0]=z,re[ce]=E[0],re[ce+1]=E[1],re[ce+2]=E[2],re[ce+3]=E[3]}function t(z,re,ce){A[0]=z,re[ce]=E[3],re[ce+1]=E[2],re[ce+2]=E[1],re[ce+3]=E[0]}function I(z,re){return E[0]=z[re],E[1]=z[re+1],E[2]=z[re+2],E[3]=z[re+3],A[0]}function H(z,re){return E[3]=z[re],E[2]=z[re+1],E[1]=z[re+2],E[0]=z[re+3],A[0]}k.writeFloatLE=w?N:t,k.writeFloatBE=w?t:N,k.readFloatLE=w?I:H,k.readFloatBE=w?H:I}():function(){function A(w,N,t,I){var H=N<0?1:0;if(H&&(N=-N),0===N)w(1/N>0?0:2147483648,t,I);else if(isNaN(N))w(2143289344,t,I);else if(N>34028234663852886e22)w((H<<31|2139095040)>>>0,t,I);else if(N<11754943508222875e-54)w((H<<31|Math.round(N/1401298464324817e-60))>>>0,t,I);else{var z=Math.floor(Math.log(N)/Math.LN2);w((H<<31|z+127<<23|8388607&Math.round(N*Math.pow(2,-z)*8388608))>>>0,t,I)}}function E(w,N,t){var I=w(N,t),H=2*(I>>31)+1,z=I>>>23&255,re=8388607&I;return 255===z?re?NaN:H*(1/0):0===z?1401298464324817e-60*H*re:H*Math.pow(2,z-150)*(re+8388608)}k.writeFloatLE=A.bind(null,writeUintLE),k.writeFloatBE=A.bind(null,writeUintBE),k.readFloatLE=E.bind(null,readUintLE),k.readFloatBE=E.bind(null,readUintBE)}(),typeof Float64Array<"u"?function(){var A=new Float64Array([-0]),E=new Uint8Array(A.buffer),w=128===E[7];function N(z,re,ce){A[0]=z,re[ce]=E[0],re[ce+1]=E[1],re[ce+2]=E[2],re[ce+3]=E[3],re[ce+4]=E[4],re[ce+5]=E[5],re[ce+6]=E[6],re[ce+7]=E[7]}function t(z,re,ce){A[0]=z,re[ce]=E[7],re[ce+1]=E[6],re[ce+2]=E[5],re[ce+3]=E[4],re[ce+4]=E[3],re[ce+5]=E[2],re[ce+6]=E[1],re[ce+7]=E[0]}function I(z,re){return E[0]=z[re],E[1]=z[re+1],E[2]=z[re+2],E[3]=z[re+3],E[4]=z[re+4],E[5]=z[re+5],E[6]=z[re+6],E[7]=z[re+7],A[0]}function H(z,re){return E[7]=z[re],E[6]=z[re+1],E[5]=z[re+2],E[4]=z[re+3],E[3]=z[re+4],E[2]=z[re+5],E[1]=z[re+6],E[0]=z[re+7],A[0]}k.writeDoubleLE=w?N:t,k.writeDoubleBE=w?t:N,k.readDoubleLE=w?I:H,k.readDoubleBE=w?H:I}():function(){function A(w,N,t,I,H,z){var re=I<0?1:0;if(re&&(I=-I),0===I)w(0,H,z+N),w(1/I>0?0:2147483648,H,z+t);else if(isNaN(I))w(0,H,z+N),w(2146959360,H,z+t);else if(I>17976931348623157e292)w(0,H,z+N),w((re<<31|2146435072)>>>0,H,z+t);else{var ce;if(I<22250738585072014e-324)w((ce=I/5e-324)>>>0,H,z+N),w((re<<31|ce/4294967296)>>>0,H,z+t);else{var Oe=Math.floor(Math.log(I)/Math.LN2);1024===Oe&&(Oe=1023),w(4503599627370496*(ce=I*Math.pow(2,-Oe))>>>0,H,z+N),w((re<<31|Oe+1023<<20|1048576*ce&1048575)>>>0,H,z+t)}}}function E(w,N,t,I,H){var z=w(I,H+N),re=w(I,H+t),ce=2*(re>>31)+1,Oe=re>>>20&2047,M=4294967296*(1048575&re)+z;return 2047===Oe?M?NaN:ce*(1/0):0===Oe?5e-324*ce*M:ce*Math.pow(2,Oe-1075)*(M+4503599627370496)}k.writeDoubleLE=A.bind(null,writeUintLE,0,4),k.writeDoubleBE=A.bind(null,writeUintBE,4,0),k.readDoubleLE=E.bind(null,readUintLE,0,4),k.readDoubleBE=E.bind(null,readUintBE,4,0)}(),k}function writeUintLE(k,A,E){A[E]=255&k,A[E+1]=k>>>8&255,A[E+2]=k>>>16&255,A[E+3]=k>>>24}function writeUintBE(k,A,E){A[E]=k>>>24,A[E+1]=k>>>16&255,A[E+2]=k>>>8&255,A[E+3]=255&k}function readUintLE(k,A){return(k[A]|k[A+1]<<8|k[A+2]<<16|k[A+3]<<24)>>>0}function readUintBE(k,A){return(k[A]<<24|k[A+1]<<16|k[A+2]<<8|k[A+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod$$1=eval("quire".replace(/^/,"re"))(moduleName);if(mod$$1&&(mod$$1.length||Object.keys(mod$$1).length))return mod$$1}catch(k){}return null}var utf8_1=createCommonjsModule(function(k,A){var E=A;E.length=function(w){for(var N=0,t=0,I=0;I<w.length;++I)(t=w.charCodeAt(I))<128?N+=1:t<2048?N+=2:55296==(64512&t)&&56320==(64512&w.charCodeAt(I+1))?(++I,N+=4):N+=3;return N},E.read=function(w,N,t){if(t-N<1)return"";for(var I,H=null,z=[],re=0;N<t;)(I=w[N++])<128?z[re++]=I:I>191&&I<224?z[re++]=(31&I)<<6|63&w[N++]:I>239&&I<365?(I=((7&I)<<18|(63&w[N++])<<12|(63&w[N++])<<6|63&w[N++])-65536,z[re++]=55296+(I>>10),z[re++]=56320+(1023&I)):z[re++]=(15&I)<<12|(63&w[N++])<<6|63&w[N++],re>8191&&((H||(H=[])).push(String.fromCharCode.apply(String,z)),re=0);return H?(re&&H.push(String.fromCharCode.apply(String,z.slice(0,re))),H.join("")):String.fromCharCode.apply(String,z.slice(0,re))},E.write=function(w,N,t){for(var I,H,z=t,re=0;re<w.length;++re)(I=w.charCodeAt(re))<128?N[t++]=I:I<2048?(N[t++]=I>>6|192,N[t++]=63&I|128):55296==(64512&I)&&56320==(64512&(H=w.charCodeAt(re+1)))?(++re,N[t++]=(I=65536+((1023&I)<<10)+(1023&H))>>18|240,N[t++]=I>>12&63|128,N[t++]=I>>6&63|128,N[t++]=63&I|128):(N[t++]=I>>12|224,N[t++]=I>>6&63|128,N[t++]=63&I|128);return t-z}}),pool_1=pool;function pool(k,A,E){var w=E||8192,N=w>>>1,t=null,I=w;return function(H){if(H<1||H>N)return k(H);I+H>w&&(t=k(w),I=0);var z=A.call(t,I,I+=H);return 7&I&&(I=1+(7|I)),z}}var longbits=LongBits;function LongBits(k,A){this.lo=k>>>0,this.hi=A>>>0}var zero=LongBits.zero=new LongBits(0,0);zero.toNumber=function(){return 0},zero.zzEncode=zero.zzDecode=function(){return this},zero.length=function(){return 1};var zeroHash=LongBits.zeroHash="\0\0\0\0\0\0\0\0";LongBits.fromNumber=function(k){if(0===k)return zero;var A=k<0;A&&(k=-k);var E=k>>>0,w=(k-E)/4294967296>>>0;return A&&(w=~w>>>0,E=~E>>>0,++E>4294967295&&(E=0,++w>4294967295&&(w=0))),new LongBits(E,w)},LongBits.from=function(k){if("number"==typeof k)return LongBits.fromNumber(k);if(minimal.isString(k)){if(!minimal.Long)return LongBits.fromNumber(parseInt(k,10));k=minimal.Long.fromString(k)}return k.low||k.high?new LongBits(k.low>>>0,k.high>>>0):zero},LongBits.prototype.toNumber=function(k){if(!k&&this.hi>>>31){var A=1+~this.lo>>>0,E=~this.hi>>>0;return A||(E=E+1>>>0),-(A+4294967296*E)}return this.lo+4294967296*this.hi},LongBits.prototype.toLong=function(k){return minimal.Long?new minimal.Long(0|this.lo,0|this.hi,Boolean(k)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(k)}};var charCodeAt=String.prototype.charCodeAt;LongBits.fromHash=function(k){return k===zeroHash?zero:new LongBits((charCodeAt.call(k,0)|charCodeAt.call(k,1)<<8|charCodeAt.call(k,2)<<16|charCodeAt.call(k,3)<<24)>>>0,(charCodeAt.call(k,4)|charCodeAt.call(k,5)<<8|charCodeAt.call(k,6)<<16|charCodeAt.call(k,7)<<24)>>>0)},LongBits.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},LongBits.prototype.zzEncode=function(){var k=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^k)>>>0,this.lo=(this.lo<<1^k)>>>0,this},LongBits.prototype.zzDecode=function(){var k=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^k)>>>0,this.hi=(this.hi>>>1^k)>>>0,this},LongBits.prototype.length=function(){var k=this.lo,A=(this.lo>>>28|this.hi<<4)>>>0,E=this.hi>>>24;return 0===E?0===A?k<16384?k<128?1:2:k<2097152?3:4:A<16384?A<128?5:6:A<2097152?7:8:E<128?9:10};var minimal=createCommonjsModule(function(k,A){var E=A;function w(t,I,H){for(var z=Object.keys(I),re=0;re<z.length;++re)void 0!==t[z[re]]&&H||(t[z[re]]=I[z[re]]);return t}function N(t){function I(H,z){if(!(this instanceof I))return new I(H,z);Object.defineProperty(this,"message",{get:function(){return H}}),Error.captureStackTrace?Error.captureStackTrace(this,I):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),z&&w(this,z)}return(I.prototype=Object.create(Error.prototype)).constructor=I,Object.defineProperty(I.prototype,"name",{get:function(){return t}}),I.prototype.toString=function(){return this.name+": "+this.message},I}E.asPromise=aspromise,E.base64=base64_1,E.EventEmitter=eventemitter,E.float=float_1,E.inquire=inquire_1,E.utf8=utf8_1,E.pool=pool_1,E.LongBits=longbits,E.emptyArray=Object.freeze?Object.freeze([]):[],E.emptyObject=Object.freeze?Object.freeze({}):{},E.isNode=Boolean(commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),E.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},E.isString=function(t){return"string"==typeof t||t instanceof String},E.isObject=function(t){return t&&"object"==typeof t},E.isset=E.isSet=function(t,I){var H=t[I];return!(null==H||!t.hasOwnProperty(I))&&("object"!=typeof H||(Array.isArray(H)?H.length:Object.keys(H).length)>0)},E.Buffer=function(){try{var t=E.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch{return null}}(),E._Buffer_from=null,E._Buffer_allocUnsafe=null,E.newBuffer=function(t){return"number"==typeof t?E.Buffer?E._Buffer_allocUnsafe(t):new E.Array(t):E.Buffer?E._Buffer_from(t):typeof Uint8Array>"u"?t:new Uint8Array(t)},E.Array=typeof Uint8Array<"u"?Uint8Array:Array,E.Long=commonjsGlobal.dcodeIO&&commonjsGlobal.dcodeIO.Long||E.inquire("long"),E.key2Re=/^true|false|0|1$/,E.key32Re=/^-?(?:0|[1-9][0-9]*)$/,E.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,E.longToHash=function(t){return t?E.LongBits.from(t).toHash():E.LongBits.zeroHash},E.longFromHash=function(t,I){var H=E.LongBits.fromHash(t);return E.Long?E.Long.fromBits(H.lo,H.hi,I):H.toNumber(Boolean(I))},E.merge=w,E.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},E.newError=N,E.ProtocolError=N("ProtocolError"),E.oneOfGetter=function(t){for(var I={},H=0;H<t.length;++H)I[t[H]]=1;return function(){for(var z=Object.keys(this),re=z.length-1;re>-1;--re)if(1===I[z[re]]&&null!=this[z[re]])return z[re]}},E.oneOfSetter=function(t){return function(I){for(var H=0;H<t.length;++H)t[H]!==I&&delete this[t[H]]}},E.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},E._configure=function(){var t=E.Buffer;t?(E._Buffer_from=t.from!==Uint8Array.from&&t.from||function(I,H){return new t(I,H)},E._Buffer_allocUnsafe=t.allocUnsafe||function(I){return new t(I)}):E._Buffer_from=E._Buffer_allocUnsafe=null}}),writer=Writer,BufferWriter,LongBits$1=minimal.LongBits,base64=minimal.base64,utf8=minimal.utf8;function Op(k,A,E){this.fn=k,this.len=A,this.next=void 0,this.val=E}function noop(){}function State(k){this.head=k.head,this.tail=k.tail,this.len=k.len,this.next=k.states}function Writer(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}function writeByte(k,A,E){A[E]=255&k}function writeVarint32(k,A,E){for(;k>127;)A[E++]=127&k|128,k>>>=7;A[E]=k}function VarintOp(k,A){this.len=k,this.next=void 0,this.val=A}function writeVarint64(k,A,E){for(;k.hi;)A[E++]=127&k.lo|128,k.lo=(k.lo>>>7|k.hi<<25)>>>0,k.hi>>>=7;for(;k.lo>127;)A[E++]=127&k.lo|128,k.lo=k.lo>>>7;A[E++]=k.lo}function writeFixed32(k,A,E){A[E]=255&k,A[E+1]=k>>>8&255,A[E+2]=k>>>16&255,A[E+3]=k>>>24}Writer.create=minimal.Buffer?function(){return(Writer.create=function(){return new BufferWriter})()}:function(){return new Writer},Writer.alloc=function(k){return new minimal.Array(k)},minimal.Array!==Array&&(Writer.alloc=minimal.pool(Writer.alloc,minimal.Array.prototype.subarray)),Writer.prototype._push=function(k,A,E){return this.tail=this.tail.next=new Op(k,A,E),this.len+=A,this},VarintOp.prototype=Object.create(Op.prototype),VarintOp.prototype.fn=writeVarint32,Writer.prototype.uint32=function(k){return this.len+=(this.tail=this.tail.next=new VarintOp((k>>>=0)<128?1:k<16384?2:k<2097152?3:k<268435456?4:5,k)).len,this},Writer.prototype.int32=function(k){return k<0?this._push(writeVarint64,10,LongBits$1.fromNumber(k)):this.uint32(k)},Writer.prototype.sint32=function(k){return this.uint32((k<<1^k>>31)>>>0)},Writer.prototype.uint64=function(k){var A=LongBits$1.from(k);return this._push(writeVarint64,A.length(),A)},Writer.prototype.int64=Writer.prototype.uint64,Writer.prototype.sint64=function(k){var A=LongBits$1.from(k).zzEncode();return this._push(writeVarint64,A.length(),A)},Writer.prototype.bool=function(k){return this._push(writeByte,1,k?1:0)},Writer.prototype.fixed32=function(k){return this._push(writeFixed32,4,k>>>0)},Writer.prototype.sfixed32=Writer.prototype.fixed32,Writer.prototype.fixed64=function(k){var A=LongBits$1.from(k);return this._push(writeFixed32,4,A.lo)._push(writeFixed32,4,A.hi)},Writer.prototype.sfixed64=Writer.prototype.fixed64,Writer.prototype.float=function(k){return this._push(minimal.float.writeFloatLE,4,k)},Writer.prototype.double=function(k){return this._push(minimal.float.writeDoubleLE,8,k)};var writeBytes=minimal.Array.prototype.set?function(k,A,E){A.set(k,E)}:function(k,A,E){for(var w=0;w<k.length;++w)A[E+w]=k[w]};Writer.prototype.bytes=function(k){var A=k.length>>>0;if(!A)return this._push(writeByte,1,0);if(minimal.isString(k)){var E=Writer.alloc(A=base64.length(k));base64.decode(k,E,0),k=E}return this.uint32(A)._push(writeBytes,A,k)},Writer.prototype.string=function(k){var A=utf8.length(k);return A?this.uint32(A)._push(utf8.write,A,k):this._push(writeByte,1,0)},Writer.prototype.fork=function(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this},Writer.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this},Writer.prototype.ldelim=function(){var k=this.head,A=this.tail,E=this.len;return this.reset().uint32(E),E&&(this.tail.next=k.next,this.tail=A,this.len+=E),this},Writer.prototype.finish=function(){for(var k=this.head.next,A=this.constructor.alloc(this.len),E=0;k;)k.fn(k.val,A,E),E+=k.len,k=k.next;return A},Writer._configure=function(k){BufferWriter=k};var writer_buffer=BufferWriter$1;(BufferWriter$1.prototype=Object.create(writer.prototype)).constructor=BufferWriter$1;var Buffer=minimal.Buffer;function BufferWriter$1(){writer.call(this)}BufferWriter$1.alloc=function(k){return(BufferWriter$1.alloc=minimal._Buffer_allocUnsafe)(k)};var writeBytesBuffer=Buffer&&Buffer.prototype instanceof Uint8Array&&"set"===Buffer.prototype.set.name?function(k,A,E){A.set(k,E)}:function(k,A,E){if(k.copy)k.copy(A,E,0,k.length);else for(var w=0;w<k.length;)A[E++]=k[w++]};function writeStringBuffer(k,A,E){k.length<40?minimal.utf8.write(k,A,E):A.utf8Write(k,E)}BufferWriter$1.prototype.bytes=function(k){minimal.isString(k)&&(k=minimal._Buffer_from(k,"base64"));var A=k.length>>>0;return this.uint32(A),A&&this._push(writeBytesBuffer,A,k),this},BufferWriter$1.prototype.string=function(k){var A=Buffer.byteLength(k);return this.uint32(A),A&&this._push(writeStringBuffer,A,k),this};var reader=Reader,BufferReader,LongBits$2=minimal.LongBits,utf8$1=minimal.utf8;function indexOutOfRange(k,A){return RangeError("index out of range: "+k.pos+" + "+(A||1)+" > "+k.len)}function Reader(k){this.buf=k,this.pos=0,this.len=k.length}var create_array=typeof Uint8Array<"u"?function(k){if(k instanceof Uint8Array||Array.isArray(k))return new Reader(k);throw Error("illegal buffer")}:function(k){if(Array.isArray(k))return new Reader(k);throw Error("illegal buffer")},k;function readLongVarint(){var k=new LongBits$2(0,0),A=0;if(!(this.len-this.pos>4)){for(;A<3;++A){if(this.pos>=this.len)throw indexOutOfRange(this);if(k.lo=(k.lo|(127&this.buf[this.pos])<<7*A)>>>0,this.buf[this.pos++]<128)return k}return k.lo=(k.lo|(127&this.buf[this.pos++])<<7*A)>>>0,k}for(;A<4;++A)if(k.lo=(k.lo|(127&this.buf[this.pos])<<7*A)>>>0,this.buf[this.pos++]<128)return k;if(k.lo=(k.lo|(127&this.buf[this.pos])<<28)>>>0,k.hi=(k.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return k;if(A=0,this.len-this.pos>4){for(;A<5;++A)if(k.hi=(k.hi|(127&this.buf[this.pos])<<7*A+3)>>>0,this.buf[this.pos++]<128)return k}else for(;A<5;++A){if(this.pos>=this.len)throw indexOutOfRange(this);if(k.hi=(k.hi|(127&this.buf[this.pos])<<7*A+3)>>>0,this.buf[this.pos++]<128)return k}throw Error("invalid varint encoding")}function readFixed32_end(k,A){return(k[A-4]|k[A-3]<<8|k[A-2]<<16|k[A-1]<<24)>>>0}function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits$2(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader.create=minimal.Buffer?function(k){return(Reader.create=function(A){return minimal.Buffer.isBuffer(A)?new BufferReader(A):create_array(A)})(k)}:create_array,Reader.prototype._slice=minimal.Array.prototype.subarray||minimal.Array.prototype.slice,Reader.prototype.uint32=(k=4294967295,function(){if(k=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(k=(k|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(k=(k|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(k=(k|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(k=(k|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return k;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return k}),Reader.prototype.int32=function(){return 0|this.uint32()},Reader.prototype.sint32=function(){var k=this.uint32();return k>>>1^-(1&k)|0},Reader.prototype.bool=function(){return 0!==this.uint32()},Reader.prototype.fixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)},Reader.prototype.sfixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return 0|readFixed32_end(this.buf,this.pos+=4)},Reader.prototype.float=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var k=minimal.float.readFloatLE(this.buf,this.pos);return this.pos+=4,k},Reader.prototype.double=function(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var k=minimal.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,k},Reader.prototype.bytes=function(){var k=this.uint32(),A=this.pos,E=this.pos+k;if(E>this.len)throw indexOutOfRange(this,k);return this.pos+=k,Array.isArray(this.buf)?this.buf.slice(A,E):A===E?new this.buf.constructor(0):this._slice.call(this.buf,A,E)},Reader.prototype.string=function(){var k=this.bytes();return utf8$1.read(k,0,k.length)},Reader.prototype.skip=function(k){if("number"==typeof k){if(this.pos+k>this.len)throw indexOutOfRange(this,k);this.pos+=k}else do{if(this.pos>=this.len)throw indexOutOfRange(this)}while(128&this.buf[this.pos++]);return this},Reader.prototype.skipType=function(k){switch(k){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(k=7&this.uint32());)this.skipType(k);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+k+" at offset "+this.pos)}return this},Reader._configure=function(k){BufferReader=k;var A=minimal.Long?"toLong":"toNumber";minimal.merge(Reader.prototype,{int64:function(){return readLongVarint.call(this)[A](!1)},uint64:function(){return readLongVarint.call(this)[A](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[A](!1)},fixed64:function(){return readFixed64.call(this)[A](!0)},sfixed64:function(){return readFixed64.call(this)[A](!1)}})};var reader_buffer=BufferReader$1;function BufferReader$1(k){reader.call(this,k)}(BufferReader$1.prototype=Object.create(reader.prototype)).constructor=BufferReader$1,minimal.Buffer&&(BufferReader$1.prototype._slice=minimal.Buffer.prototype.slice),BufferReader$1.prototype.string=function(){var k=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+k,this.len))};var service=Service;function Service(k,A,E){if("function"!=typeof k)throw TypeError("rpcImpl must be a function");minimal.EventEmitter.call(this),this.rpcImpl=k,this.requestDelimited=Boolean(A),this.responseDelimited=Boolean(E)}(Service.prototype=Object.create(minimal.EventEmitter.prototype)).constructor=Service,Service.prototype.rpcCall=function k(A,E,w,N,t){if(!N)throw TypeError("request must be specified");var I=this;if(!t)return minimal.asPromise(k,I,A,E,w,N);if(I.rpcImpl)try{return I.rpcImpl(A,E[I.requestDelimited?"encodeDelimited":"encode"](N).finish(),function(H,z){if(H)return I.emit("error",H,A),t(H);if(null!==z){if(!(z instanceof w))try{z=w[I.responseDelimited?"decodeDelimited":"decode"](z)}catch(re){return I.emit("error",re,A),t(re)}return I.emit("data",z,A),t(null,z)}I.end(!0)})}catch(H){return I.emit("error",H,A),void setTimeout(function(){t(H)},0)}else setTimeout(function(){t(Error("already ended"))},0)},Service.prototype.end=function(k){return this.rpcImpl&&(k||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};var rpc_1=createCommonjsModule(function(k,A){A.Service=service}),roots={},indexMinimal=createCommonjsModule(function(k,A){var E=A;function w(){E.Reader._configure(E.BufferReader),E.util._configure()}E.build="minimal",E.Writer=writer,E.BufferWriter=writer_buffer,E.Reader=reader,E.BufferReader=reader_buffer,E.util=minimal,E.rpc=rpc_1,E.roots=roots,E.configure=w,E.Writer._configure(E.BufferWriter),w()}),minimal$1=indexMinimal,minimal_1=minimal$1.roots,minimal_2=minimal$1.Reader,minimal_3=minimal$1.util,$Reader=minimal$1.Reader,$util=minimal$1.util,$root=minimal$1.roots.default||(minimal$1.roots.default={});$root.tensorflow=function(){var k,A,E={};return E.Any=function(){function w(N){if(N)for(var t=Object.keys(N),I=0;I<t.length;++I)null!=N[t[I]]&&(this[t[I]]=N[t[I]])}return w.prototype.typeUrl="",w.prototype.value=$util.newBuffer([]),w.decode=function(N,t){N instanceof $Reader||(N=$Reader.create(N));for(var I=void 0===t?N.len:N.pos+t,H=new $root.tensorflow.Any;N.pos<I;){var z=N.uint32();switch(z>>>3){case 1:H.typeUrl=N.string();break;case 2:H.value=N.bytes();break;default:N.skipType(7&z)}}return H},w}(),E.DataType=(k={},(A=Object.create(k))[k[0]="DT_INVALID"]=0,A[k[1]="DT_FLOAT"]=1,A[k[2]="DT_DOUBLE"]=2,A[k[3]="DT_INT32"]=3,A[k[4]="DT_UINT8"]=4,A[k[5]="DT_INT16"]=5,A[k[6]="DT_INT8"]=6,A[k[7]="DT_STRING"]=7,A[k[8]="DT_COMPLEX64"]=8,A[k[9]="DT_INT64"]=9,A[k[10]="DT_BOOL"]=10,A[k[11]="DT_QINT8"]=11,A[k[12]="DT_QUINT8"]=12,A[k[13]="DT_QINT32"]=13,A[k[14]="DT_BFLOAT16"]=14,A[k[101]="DT_FLOAT_REF"]=101,A[k[102]="DT_DOUBLE_REF"]=102,A[k[103]="DT_INT32_REF"]=103,A[k[104]="DT_UINT8_REF"]=104,A[k[105]="DT_INT16_REF"]=105,A[k[106]="DT_INT8_REF"]=106,A[k[107]="DT_STRING_REF"]=107,A[k[108]="DT_COMPLEX64_REF"]=108,A[k[109]="DT_INT64_REF"]=109,A[k[110]="DT_BOOL_REF"]=110,A[k[111]="DT_QINT8_REF"]=111,A[k[112]="DT_QUINT8_REF"]=112,A[k[113]="DT_QINT32_REF"]=113,A[k[114]="DT_BFLOAT16_REF"]=114,A),E.TensorShape=function(){function w(N){if(this.dim=[],N)for(var t=Object.keys(N),I=0;I<t.length;++I)null!=N[t[I]]&&(this[t[I]]=N[t[I]])}return w.prototype.dim=$util.emptyArray,w.prototype.unknownRank=!1,w.decode=function(N,t){N instanceof $Reader||(N=$Reader.create(N));for(var I=void 0===t?N.len:N.pos+t,H=new $root.tensorflow.TensorShape;N.pos<I;){var z=N.uint32();switch(z>>>3){case 2:H.dim&&H.dim.length||(H.dim=[]),H.dim.push($root.tensorflow.TensorShape.Dim.decode(N,N.uint32()));break;case 3:H.unknownRank=N.bool();break;default:N.skipType(7&z)}}return H},w.Dim=function(){function N(t){if(t)for(var I=Object.keys(t),H=0;H<I.length;++H)null!=t[I[H]]&&(this[I[H]]=t[I[H]])}return N.prototype.size=$util.Long?$util.Long.fromBits(0,0,!1):0,N.prototype.name="",N.decode=function(t,I){t instanceof $Reader||(t=$Reader.create(t));for(var H=void 0===I?t.len:t.pos+I,z=new $root.tensorflow.TensorShape.Dim;t.pos<H;){var re=t.uint32();switch(re>>>3){case 1:z.size=t.int64();break;case 2:z.name=t.string();break;default:t.skipType(7&re)}}return z},N}(),w}(),E.Tensor=function(){function w(N){if(this.floatVal=[],this.doubleVal=[],this.intVal=[],this.stringVal=[],this.scomplexVal=[],this.int64Val=[],this.boolVal=[],this.uint32Val=[],this.uint64Val=[],N)for(var t=Object.keys(N),I=0;I<t.length;++I)null!=N[t[I]]&&(this[t[I]]=N[t[I]])}return w.prototype.dtype=0,w.prototype.tensorShape=null,w.prototype.versionNumber=0,w.prototype.tensorContent=$util.newBuffer([]),w.prototype.floatVal=$util.emptyArray,w.prototype.doubleVal=$util.emptyArray,w.prototype.intVal=$util.emptyArray,w.prototype.stringVal=$util.emptyArray,w.prototype.scomplexVal=$util.emptyArray,w.prototype.int64Val=$util.emptyArray,w.prototype.boolVal=$util.emptyArray,w.prototype.uint32Val=$util.emptyArray,w.prototype.uint64Val=$util.emptyArray,w.decode=function(N,t){N instanceof $Reader||(N=$Reader.create(N));for(var I=void 0===t?N.len:N.pos+t,H=new $root.tensorflow.Tensor;N.pos<I;){var z=N.uint32();switch(z>>>3){case 1:H.dtype=N.int32();break;case 2:H.tensorShape=$root.tensorflow.TensorShape.decode(N,N.uint32());break;case 3:H.versionNumber=N.int32();break;case 4:H.tensorContent=N.bytes();break;case 5:if(H.floatVal&&H.floatVal.length||(H.floatVal=[]),2==(7&z))for(var re=N.uint32()+N.pos;N.pos<re;)H.floatVal.push(N.float());else H.floatVal.push(N.float());break;case 6:if(H.doubleVal&&H.doubleVal.length||(H.doubleVal=[]),2==(7&z))for(re=N.uint32()+N.pos;N.pos<re;)H.doubleVal.push(N.double());else H.doubleVal.push(N.double());break;case 7:if(H.intVal&&H.intVal.length||(H.intVal=[]),2==(7&z))for(re=N.uint32()+N.pos;N.pos<re;)H.intVal.push(N.int32());else H.intVal.push(N.int32());break;case 8:H.stringVal&&H.stringVal.length||(H.stringVal=[]),H.stringVal.push(N.bytes());break;case 9:if(H.scomplexVal&&H.scomplexVal.length||(H.scomplexVal=[]),2==(7&z))for(re=N.uint32()+N.pos;N.pos<re;)H.scomplexVal.push(N.float());else H.scomplexVal.push(N.float());break;case 10:if(H.int64Val&&H.int64Val.length||(H.int64Val=[]),2==(7&z))for(re=N.uint32()+N.pos;N.pos<re;)H.int64Val.push(N.int64());else H.int64Val.push(N.int64());break;case 11:if(H.boolVal&&H.boolVal.length||(H.boolVal=[]),2==(7&z))for(re=N.uint32()+N.pos;N.pos<re;)H.boolVal.push(N.bool());else H.boolVal.push(N.bool());break;case 16:if(H.uint32Val&&H.uint32Val.length||(H.uint32Val=[]),2==(7&z))for(re=N.uint32()+N.pos;N.pos<re;)H.uint32Val.push(N.uint32());else H.uint32Val.push(N.uint32());break;case 17:if(H.uint64Val&&H.uint64Val.length||(H.uint64Val=[]),2==(7&z))for(re=N.uint32()+N.pos;N.pos<re;)H.uint64Val.push(N.uint64());else H.uint64Val.push(N.uint64());break;default:N.skipType(7&z)}}return H},w}(),E.AttrValue=function(){function w(t){if(t)for(var I=Object.keys(t),H=0;H<I.length;++H)null!=t[I[H]]&&(this[I[H]]=t[I[H]])}var N;return w.prototype.list=null,w.prototype.s=$util.newBuffer([]),w.prototype.i=$util.Long?$util.Long.fromBits(0,0,!1):0,w.prototype.f=0,w.prototype.b=!1,w.prototype.type=0,w.prototype.shape=null,w.prototype.tensor=null,w.prototype.placeholder="",w.prototype.func=null,Object.defineProperty(w.prototype,"value",{get:$util.oneOfGetter(N=["list","s","i","f","b","type","shape","tensor","placeholder","func"]),set:$util.oneOfSetter(N)}),w.decode=function(t,I){t instanceof $Reader||(t=$Reader.create(t));for(var H=void 0===I?t.len:t.pos+I,z=new $root.tensorflow.AttrValue;t.pos<H;){var re=t.uint32();switch(re>>>3){case 1:z.list=$root.tensorflow.AttrValue.ListValue.decode(t,t.uint32());break;case 2:z.s=t.bytes();break;case 3:z.i=t.int64();break;case 4:z.f=t.float();break;case 5:z.b=t.bool();break;case 6:z.type=t.int32();break;case 7:z.shape=$root.tensorflow.TensorShape.decode(t,t.uint32());break;case 8:z.tensor=$root.tensorflow.Tensor.decode(t,t.uint32());break;case 9:z.placeholder=t.string();break;case 10:z.func=$root.tensorflow.NameAttrList.decode(t,t.uint32());break;default:t.skipType(7&re)}}return z},w.ListValue=function(){function t(I){if(this.s=[],this.i=[],this.f=[],this.b=[],this.type=[],this.shape=[],this.tensor=[],this.func=[],I)for(var H=Object.keys(I),z=0;z<H.length;++z)null!=I[H[z]]&&(this[H[z]]=I[H[z]])}return t.prototype.s=$util.emptyArray,t.prototype.i=$util.emptyArray,t.prototype.f=$util.emptyArray,t.prototype.b=$util.emptyArray,t.prototype.type=$util.emptyArray,t.prototype.shape=$util.emptyArray,t.prototype.tensor=$util.emptyArray,t.prototype.func=$util.emptyArray,t.decode=function(I,H){I instanceof $Reader||(I=$Reader.create(I));for(var z=void 0===H?I.len:I.pos+H,re=new $root.tensorflow.AttrValue.ListValue;I.pos<z;){var ce=I.uint32();switch(ce>>>3){case 2:re.s&&re.s.length||(re.s=[]),re.s.push(I.bytes());break;case 3:if(re.i&&re.i.length||(re.i=[]),2==(7&ce))for(var Oe=I.uint32()+I.pos;I.pos<Oe;)re.i.push(I.int64());else re.i.push(I.int64());break;case 4:if(re.f&&re.f.length||(re.f=[]),2==(7&ce))for(Oe=I.uint32()+I.pos;I.pos<Oe;)re.f.push(I.float());else re.f.push(I.float());break;case 5:if(re.b&&re.b.length||(re.b=[]),2==(7&ce))for(Oe=I.uint32()+I.pos;I.pos<Oe;)re.b.push(I.bool());else re.b.push(I.bool());break;case 6:if(re.type&&re.type.length||(re.type=[]),2==(7&ce))for(Oe=I.uint32()+I.pos;I.pos<Oe;)re.type.push(I.int32());else re.type.push(I.int32());break;case 7:re.shape&&re.shape.length||(re.shape=[]),re.shape.push($root.tensorflow.TensorShape.decode(I,I.uint32()));break;case 8:re.tensor&&re.tensor.length||(re.tensor=[]),re.tensor.push($root.tensorflow.Tensor.decode(I,I.uint32()));break;case 9:re.func&&re.func.length||(re.func=[]),re.func.push($root.tensorflow.NameAttrList.decode(I,I.uint32()));break;default:I.skipType(7&ce)}}return re},t}(),w}(),E.NameAttrList=function(){function w(N){if(this.attr={},N)for(var t=Object.keys(N),I=0;I<t.length;++I)null!=N[t[I]]&&(this[t[I]]=N[t[I]])}return w.prototype.name="",w.prototype.attr=$util.emptyObject,w.decode=function(N,t){N instanceof $Reader||(N=$Reader.create(N));for(var I,H=void 0===t?N.len:N.pos+t,z=new $root.tensorflow.NameAttrList;N.pos<H;){var re=N.uint32();switch(re>>>3){case 1:z.name=N.string();break;case 2:N.skip().pos++,z.attr===$util.emptyObject&&(z.attr={}),I=N.string(),N.pos++,z.attr[I]=$root.tensorflow.AttrValue.decode(N,N.uint32());break;default:N.skipType(7&re)}}return z},w}(),E.NodeDef=function(){function w(N){if(this.input=[],this.attr={},N)for(var t=Object.keys(N),I=0;I<t.length;++I)null!=N[t[I]]&&(this[t[I]]=N[t[I]])}return w.prototype.name="",w.prototype.op="",w.prototype.input=$util.emptyArray,w.prototype.device="",w.prototype.attr=$util.emptyObject,w.decode=function(N,t){N instanceof $Reader||(N=$Reader.create(N));for(var I,H=void 0===t?N.len:N.pos+t,z=new $root.tensorflow.NodeDef;N.pos<H;){var re=N.uint32();switch(re>>>3){case 1:z.name=N.string();break;case 2:z.op=N.string();break;case 3:z.input&&z.input.length||(z.input=[]),z.input.push(N.string());break;case 4:z.device=N.string();break;case 5:N.skip().pos++,z.attr===$util.emptyObject&&(z.attr={}),I=N.string(),N.pos++,z.attr[I]=$root.tensorflow.AttrValue.decode(N,N.uint32());break;default:N.skipType(7&re)}}return z},w}(),E.VersionDef=function(){function w(N){if(this.badConsumers=[],N)for(var t=Object.keys(N),I=0;I<t.length;++I)null!=N[t[I]]&&(this[t[I]]=N[t[I]])}return w.prototype.producer=0,w.prototype.minConsumer=0,w.prototype.badConsumers=$util.emptyArray,w.decode=function(N,t){N instanceof $Reader||(N=$Reader.create(N));for(var I=void 0===t?N.len:N.pos+t,H=new $root.tensorflow.VersionDef;N.pos<I;){var z=N.uint32();switch(z>>>3){case 1:H.producer=N.int32();break;case 2:H.minConsumer=N.int32();break;case 3:if(H.badConsumers&&H.badConsumers.length||(H.badConsumers=[]),2==(7&z))for(var re=N.uint32()+N.pos;N.pos<re;)H.badConsumers.push(N.int32());else H.badConsumers.push(N.int32());break;default:N.skipType(7&z)}}return H},w}(),E.GraphDef=function(){function w(N){if(this.node=[],N)for(var t=Object.keys(N),I=0;I<t.length;++I)null!=N[t[I]]&&(this[t[I]]=N[t[I]])}return w.prototype.node=$util.emptyArray,w.prototype.versions=null,w.prototype.library=null,w.decode=function(N,t){N instanceof $Reader||(N=$Reader.create(N));for(var I=void 0===t?N.len:N.pos+t,H=new $root.tensorflow.GraphDef;N.pos<I;){var z=N.uint32();switch(z>>>3){case 1:H.node&&H.node.length||(H.node=[]),H.node.push($root.tensorflow.NodeDef.decode(N,N.uint32()));break;case 4:H.versions=$root.tensorflow.VersionDef.decode(N,N.uint32());break;case 2:H.library=$root.tensorflow.FunctionDefLibrary.decode(N,N.uint32());break;default:N.skipType(7&z)}}return H},w}(),E.CollectionDef=function(){function w(t){if(t)for(var I=Object.keys(t),H=0;H<I.length;++H)null!=t[I[H]]&&(this[I[H]]=t[I[H]])}var N;return w.prototype.nodeList=null,w.prototype.bytesList=null,w.prototype.int64List=null,w.prototype.floatList=null,w.prototype.anyList=null,Object.defineProperty(w.prototype,"kind",{get:$util.oneOfGetter(N=["nodeList","bytesList","int64List","floatList","anyList"]),set:$util.oneOfSetter(N)}),w.decode=function(t,I){t instanceof $Reader||(t=$Reader.create(t));for(var H=void 0===I?t.len:t.pos+I,z=new $root.tensorflow.CollectionDef;t.pos<H;){var re=t.uint32();switch(re>>>3){case 1:z.nodeList=$root.tensorflow.CollectionDef.NodeList.decode(t,t.uint32());break;case 2:z.bytesList=$root.tensorflow.CollectionDef.BytesList.decode(t,t.uint32());break;case 3:z.int64List=$root.tensorflow.CollectionDef.Int64List.decode(t,t.uint32());break;case 4:z.floatList=$root.tensorflow.CollectionDef.FloatList.decode(t,t.uint32());break;case 5:z.anyList=$root.tensorflow.CollectionDef.AnyList.decode(t,t.uint32());break;default:t.skipType(7&re)}}return z},w.NodeList=function(){function t(I){if(this.value=[],I)for(var H=Object.keys(I),z=0;z<H.length;++z)null!=I[H[z]]&&(this[H[z]]=I[H[z]])}return t.prototype.value=$util.emptyArray,t.decode=function(I,H){I instanceof $Reader||(I=$Reader.create(I));for(var z=void 0===H?I.len:I.pos+H,re=new $root.tensorflow.CollectionDef.NodeList;I.pos<z;){var ce=I.uint32();ce>>>3==1?(re.value&&re.value.length||(re.value=[]),re.value.push(I.string())):I.skipType(7&ce)}return re},t}(),w.BytesList=function(){function t(I){if(this.value=[],I)for(var H=Object.keys(I),z=0;z<H.length;++z)null!=I[H[z]]&&(this[H[z]]=I[H[z]])}return t.prototype.value=$util.emptyArray,t.decode=function(I,H){I instanceof $Reader||(I=$Reader.create(I));for(var z=void 0===H?I.len:I.pos+H,re=new $root.tensorflow.CollectionDef.BytesList;I.pos<z;){var ce=I.uint32();ce>>>3==1?(re.value&&re.value.length||(re.value=[]),re.value.push(I.bytes())):I.skipType(7&ce)}return re},t}(),w.Int64List=function(){function t(I){if(this.value=[],I)for(var H=Object.keys(I),z=0;z<H.length;++z)null!=I[H[z]]&&(this[H[z]]=I[H[z]])}return t.prototype.value=$util.emptyArray,t.decode=function(I,H){I instanceof $Reader||(I=$Reader.create(I));for(var z=void 0===H?I.len:I.pos+H,re=new $root.tensorflow.CollectionDef.Int64List;I.pos<z;){var ce=I.uint32();if(ce>>>3==1)if(re.value&&re.value.length||(re.value=[]),2==(7&ce))for(var Oe=I.uint32()+I.pos;I.pos<Oe;)re.value.push(I.int64());else re.value.push(I.int64());else I.skipType(7&ce)}return re},t}(),w.FloatList=function(){function t(I){if(this.value=[],I)for(var H=Object.keys(I),z=0;z<H.length;++z)null!=I[H[z]]&&(this[H[z]]=I[H[z]])}return t.prototype.value=$util.emptyArray,t.decode=function(I,H){I instanceof $Reader||(I=$Reader.create(I));for(var z=void 0===H?I.len:I.pos+H,re=new $root.tensorflow.CollectionDef.FloatList;I.pos<z;){var ce=I.uint32();if(ce>>>3==1)if(re.value&&re.value.length||(re.value=[]),2==(7&ce))for(var Oe=I.uint32()+I.pos;I.pos<Oe;)re.value.push(I.float());else re.value.push(I.float());else I.skipType(7&ce)}return re},t}(),w.AnyList=function(){function t(I){if(this.value=[],I)for(var H=Object.keys(I),z=0;z<H.length;++z)null!=I[H[z]]&&(this[H[z]]=I[H[z]])}return t.prototype.value=$util.emptyArray,t.decode=function(I,H){I instanceof $Reader||(I=$Reader.create(I));for(var z=void 0===H?I.len:I.pos+H,re=new $root.tensorflow.CollectionDef.AnyList;I.pos<z;){var ce=I.uint32();ce>>>3==1?(re.value&&re.value.length||(re.value=[]),re.value.push($root.tensorflow.Any.decode(I,I.uint32()))):I.skipType(7&ce)}return re},t}(),w}(),E.SaverDef=function(){function w(I){if(I)for(var H=Object.keys(I),z=0;z<H.length;++z)null!=I[H[z]]&&(this[H[z]]=I[H[z]])}var N,t;return w.prototype.filenameTensorName="",w.prototype.saveTensorName="",w.prototype.restoreOpName="",w.prototype.maxToKeep=0,w.prototype.sharded=!1,w.prototype.keepCheckpointEveryNHours=0,w.prototype.version=0,w.decode=function(I,H){I instanceof $Reader||(I=$Reader.create(I));for(var z=void 0===H?I.len:I.pos+H,re=new $root.tensorflow.SaverDef;I.pos<z;){var ce=I.uint32();switch(ce>>>3){case 1:re.filenameTensorName=I.string();break;case 2:re.saveTensorName=I.string();break;case 3:re.restoreOpName=I.string();break;case 4:re.maxToKeep=I.int32();break;case 5:re.sharded=I.bool();break;case 6:re.keepCheckpointEveryNHours=I.float();break;case 7:re.version=I.int32();break;default:I.skipType(7&ce)}}return re},w.CheckpointFormatVersion=(N={},(t=Object.create(N))[N[0]="LEGACY"]=0,t[N[1]="V1"]=1,t[N[2]="V2"]=2,t),w}(),E.TensorInfo=function(){function w(t){if(t)for(var I=Object.keys(t),H=0;H<I.length;++H)null!=t[I[H]]&&(this[I[H]]=t[I[H]])}var N;return w.prototype.name="",w.prototype.cooSparse=null,w.prototype.dtype=0,w.prototype.tensorShape=null,Object.defineProperty(w.prototype,"encoding",{get:$util.oneOfGetter(N=["name","cooSparse"]),set:$util.oneOfSetter(N)}),w.decode=function(t,I){t instanceof $Reader||(t=$Reader.create(t));for(var H=void 0===I?t.len:t.pos+I,z=new $root.tensorflow.TensorInfo;t.pos<H;){var re=t.uint32();switch(re>>>3){case 1:z.name=t.string();break;case 4:z.cooSparse=$root.tensorflow.TensorInfo.CooSparse.decode(t,t.uint32());break;case 2:z.dtype=t.int32();break;case 3:z.tensorShape=$root.tensorflow.TensorShape.decode(t,t.uint32());break;default:t.skipType(7&re)}}return z},w.CooSparse=function(){function t(I){if(I)for(var H=Object.keys(I),z=0;z<H.length;++z)null!=I[H[z]]&&(this[H[z]]=I[H[z]])}return t.prototype.valuesTensorName="",t.prototype.indicesTensorName="",t.prototype.denseShapeTensorName="",t.decode=function(I,H){I instanceof $Reader||(I=$Reader.create(I));for(var z=void 0===H?I.len:I.pos+H,re=new $root.tensorflow.TensorInfo.CooSparse;I.pos<z;){var ce=I.uint32();switch(ce>>>3){case 1:re.valuesTensorName=I.string();break;case 2:re.indicesTensorName=I.string();break;case 3:re.denseShapeTensorName=I.string();break;default:I.skipType(7&ce)}}return re},t}(),w}(),E.SignatureDef=function(){function w(N){if(this.inputs={},this.outputs={},N)for(var t=Object.keys(N),I=0;I<t.length;++I)null!=N[t[I]]&&(this[t[I]]=N[t[I]])}return w.prototype.inputs=$util.emptyObject,w.prototype.outputs=$util.emptyObject,w.prototype.methodName="",w.decode=function(N,t){N instanceof $Reader||(N=$Reader.create(N));for(var I,H=void 0===t?N.len:N.pos+t,z=new $root.tensorflow.SignatureDef;N.pos<H;){var re=N.uint32();switch(re>>>3){case 1:N.skip().pos++,z.inputs===$util.emptyObject&&(z.inputs={}),I=N.string(),N.pos++,z.inputs[I]=$root.tensorflow.TensorInfo.decode(N,N.uint32());break;case 2:N.skip().pos++,z.outputs===$util.emptyObject&&(z.outputs={}),I=N.string(),N.pos++,z.outputs[I]=$root.tensorflow.TensorInfo.decode(N,N.uint32());break;case 3:z.methodName=N.string();break;default:N.skipType(7&re)}}return z},w}(),E.AssetFileDef=function(){function w(N){if(N)for(var t=Object.keys(N),I=0;I<t.length;++I)null!=N[t[I]]&&(this[t[I]]=N[t[I]])}return w.prototype.tensorInfo=null,w.prototype.filename="",w.decode=function(N,t){N instanceof $Reader||(N=$Reader.create(N));for(var I=void 0===t?N.len:N.pos+t,H=new $root.tensorflow.AssetFileDef;N.pos<I;){var z=N.uint32();switch(z>>>3){case 1:H.tensorInfo=$root.tensorflow.TensorInfo.decode(N,N.uint32());break;case 2:H.filename=N.string();break;default:N.skipType(7&z)}}return H},w}(),E.OpDef=function(){function w(N){if(this.inputArg=[],this.outputArg=[],this.attr=[],N)for(var t=Object.keys(N),I=0;I<t.length;++I)null!=N[t[I]]&&(this[t[I]]=N[t[I]])}return w.prototype.name="",w.prototype.inputArg=$util.emptyArray,w.prototype.outputArg=$util.emptyArray,w.prototype.attr=$util.emptyArray,w.prototype.deprecation=null,w.prototype.summary="",w.prototype.description="",w.prototype.isCommutative=!1,w.prototype.isAggregate=!1,w.prototype.isStateful=!1,w.prototype.allowsUninitializedInput=!1,w.decode=function(N,t){N instanceof $Reader||(N=$Reader.create(N));for(var I=void 0===t?N.len:N.pos+t,H=new $root.tensorflow.OpDef;N.pos<I;){var z=N.uint32();switch(z>>>3){case 1:H.name=N.string();break;case 2:H.inputArg&&H.inputArg.length||(H.inputArg=[]),H.inputArg.push($root.tensorflow.OpDef.ArgDef.decode(N,N.uint32()));break;case 3:H.outputArg&&H.outputArg.length||(H.outputArg=[]),H.outputArg.push($root.tensorflow.OpDef.ArgDef.decode(N,N.uint32()));break;case 4:H.attr&&H.attr.length||(H.attr=[]),H.attr.push($root.tensorflow.OpDef.AttrDef.decode(N,N.uint32()));break;case 8:H.deprecation=$root.tensorflow.OpDef.OpDeprecation.decode(N,N.uint32());break;case 5:H.summary=N.string();break;case 6:H.description=N.string();break;case 18:H.isCommutative=N.bool();break;case 16:H.isAggregate=N.bool();break;case 17:H.isStateful=N.bool();break;case 19:H.allowsUninitializedInput=N.bool();break;default:N.skipType(7&z)}}return H},w.ArgDef=function(){function N(t){if(t)for(var I=Object.keys(t),H=0;H<I.length;++H)null!=t[I[H]]&&(this[I[H]]=t[I[H]])}return N.prototype.name="",N.prototype.description="",N.prototype.type=0,N.prototype.typeAttr="",N.prototype.numberAttr="",N.prototype.typeListAttr="",N.prototype.isRef=!1,N.decode=function(t,I){t instanceof $Reader||(t=$Reader.create(t));for(var H=void 0===I?t.len:t.pos+I,z=new $root.tensorflow.OpDef.ArgDef;t.pos<H;){var re=t.uint32();switch(re>>>3){case 1:z.name=t.string();break;case 2:z.description=t.string();break;case 3:z.type=t.int32();break;case 4:z.typeAttr=t.string();break;case 5:z.numberAttr=t.string();break;case 6:z.typeListAttr=t.string();break;case 16:z.isRef=t.bool();break;default:t.skipType(7&re)}}return z},N}(),w.AttrDef=function(){function N(t){if(t)for(var I=Object.keys(t),H=0;H<I.length;++H)null!=t[I[H]]&&(this[I[H]]=t[I[H]])}return N.prototype.name="",N.prototype.type="",N.prototype.defaultValue=null,N.prototype.description="",N.prototype.hasMinimum=!1,N.prototype.minimum=$util.Long?$util.Long.fromBits(0,0,!1):0,N.prototype.allowedValues=null,N.decode=function(t,I){t instanceof $Reader||(t=$Reader.create(t));for(var H=void 0===I?t.len:t.pos+I,z=new $root.tensorflow.OpDef.AttrDef;t.pos<H;){var re=t.uint32();switch(re>>>3){case 1:z.name=t.string();break;case 2:z.type=t.string();break;case 3:z.defaultValue=$root.tensorflow.AttrValue.decode(t,t.uint32());break;case 4:z.description=t.string();break;case 5:z.hasMinimum=t.bool();break;case 6:z.minimum=t.int64();break;case 7:z.allowedValues=$root.tensorflow.AttrValue.decode(t,t.uint32());break;default:t.skipType(7&re)}}return z},N}(),w.OpDeprecation=function(){function N(t){if(t)for(var I=Object.keys(t),H=0;H<I.length;++H)null!=t[I[H]]&&(this[I[H]]=t[I[H]])}return N.prototype.version=0,N.prototype.explanation="",N.decode=function(t,I){t instanceof $Reader||(t=$Reader.create(t));for(var H=void 0===I?t.len:t.pos+I,z=new $root.tensorflow.OpDef.OpDeprecation;t.pos<H;){var re=t.uint32();switch(re>>>3){case 1:z.version=t.int32();break;case 2:z.explanation=t.string();break;default:t.skipType(7&re)}}return z},N}(),w}(),E.OpList=function(){function w(N){if(this.op=[],N)for(var t=Object.keys(N),I=0;I<t.length;++I)null!=N[t[I]]&&(this[t[I]]=N[t[I]])}return w.prototype.op=$util.emptyArray,w.decode=function(N,t){N instanceof $Reader||(N=$Reader.create(N));for(var I=void 0===t?N.len:N.pos+t,H=new $root.tensorflow.OpList;N.pos<I;){var z=N.uint32();z>>>3==1?(H.op&&H.op.length||(H.op=[]),H.op.push($root.tensorflow.OpDef.decode(N,N.uint32()))):N.skipType(7&z)}return H},w}(),E.MetaGraphDef=function(){function w(N){if(this.collectionDef={},this.signatureDef={},this.assetFileDef=[],N)for(var t=Object.keys(N),I=0;I<t.length;++I)null!=N[t[I]]&&(this[t[I]]=N[t[I]])}return w.prototype.metaInfoDef=null,w.prototype.graphDef=null,w.prototype.saverDef=null,w.prototype.collectionDef=$util.emptyObject,w.prototype.signatureDef=$util.emptyObject,w.prototype.assetFileDef=$util.emptyArray,w.decode=function(N,t){N instanceof $Reader||(N=$Reader.create(N));for(var I,H=void 0===t?N.len:N.pos+t,z=new $root.tensorflow.MetaGraphDef;N.pos<H;){var re=N.uint32();switch(re>>>3){case 1:z.metaInfoDef=$root.tensorflow.MetaGraphDef.MetaInfoDef.decode(N,N.uint32());break;case 2:z.graphDef=$root.tensorflow.GraphDef.decode(N,N.uint32());break;case 3:z.saverDef=$root.tensorflow.SaverDef.decode(N,N.uint32());break;case 4:N.skip().pos++,z.collectionDef===$util.emptyObject&&(z.collectionDef={}),I=N.string(),N.pos++,z.collectionDef[I]=$root.tensorflow.CollectionDef.decode(N,N.uint32());break;case 5:N.skip().pos++,z.signatureDef===$util.emptyObject&&(z.signatureDef={}),I=N.string(),N.pos++,z.signatureDef[I]=$root.tensorflow.SignatureDef.decode(N,N.uint32());break;case 6:z.assetFileDef&&z.assetFileDef.length||(z.assetFileDef=[]),z.assetFileDef.push($root.tensorflow.AssetFileDef.decode(N,N.uint32()));break;default:N.skipType(7&re)}}return z},w.MetaInfoDef=function(){function N(t){if(this.tags=[],t)for(var I=Object.keys(t),H=0;H<I.length;++H)null!=t[I[H]]&&(this[I[H]]=t[I[H]])}return N.prototype.metaGraphVersion="",N.prototype.strippedOpList=null,N.prototype.anyInfo=null,N.prototype.tags=$util.emptyArray,N.prototype.tensorflowVersion="",N.prototype.tensorflowGitVersion="",N.decode=function(t,I){t instanceof $Reader||(t=$Reader.create(t));for(var H=void 0===I?t.len:t.pos+I,z=new $root.tensorflow.MetaGraphDef.MetaInfoDef;t.pos<H;){var re=t.uint32();switch(re>>>3){case 1:z.metaGraphVersion=t.string();break;case 2:z.strippedOpList=$root.tensorflow.OpList.decode(t,t.uint32());break;case 3:z.anyInfo=$root.tensorflow.Any.decode(t,t.uint32());break;case 4:z.tags&&z.tags.length||(z.tags=[]),z.tags.push(t.string());break;case 5:z.tensorflowVersion=t.string();break;case 6:z.tensorflowGitVersion=t.string();break;default:t.skipType(7&re)}}return z},N}(),w}(),E.SavedModel=function(){function w(N){if(this.metaGraphs=[],N)for(var t=Object.keys(N),I=0;I<t.length;++I)null!=N[t[I]]&&(this[t[I]]=N[t[I]])}return w.prototype.savedModelSchemaVersion=$util.Long?$util.Long.fromBits(0,0,!1):0,w.prototype.metaGraphs=$util.emptyArray,w.decode=function(N,t){N instanceof $Reader||(N=$Reader.create(N));for(var I=void 0===t?N.len:N.pos+t,H=new $root.tensorflow.SavedModel;N.pos<I;){var z=N.uint32();switch(z>>>3){case 1:H.savedModelSchemaVersion=N.int64();break;case 2:H.metaGraphs&&H.metaGraphs.length||(H.metaGraphs=[]),H.metaGraphs.push($root.tensorflow.MetaGraphDef.decode(N,N.uint32()));break;default:N.skipType(7&z)}}return H},w}(),E.FunctionDefLibrary=function(){function w(N){if(this.function=[],this.gradient=[],N)for(var t=Object.keys(N),I=0;I<t.length;++I)null!=N[t[I]]&&(this[t[I]]=N[t[I]])}return w.prototype.function=$util.emptyArray,w.prototype.gradient=$util.emptyArray,w.decode=function(N,t){N instanceof $Reader||(N=$Reader.create(N));for(var I=void 0===t?N.len:N.pos+t,H=new $root.tensorflow.FunctionDefLibrary;N.pos<I;){var z=N.uint32();switch(z>>>3){case 1:H.function&&H.function.length||(H.function=[]),H.function.push($root.tensorflow.FunctionDef.decode(N,N.uint32()));break;case 2:H.gradient&&H.gradient.length||(H.gradient=[]),H.gradient.push($root.tensorflow.GradientDef.decode(N,N.uint32()));break;default:N.skipType(7&z)}}return H},w}(),E.FunctionDef=function(){function w(N){if(this.attr={},this.nodeDef=[],this.ret={},N)for(var t=Object.keys(N),I=0;I<t.length;++I)null!=N[t[I]]&&(this[t[I]]=N[t[I]])}return w.prototype.signature=null,w.prototype.attr=$util.emptyObject,w.prototype.nodeDef=$util.emptyArray,w.prototype.ret=$util.emptyObject,w.decode=function(N,t){N instanceof $Reader||(N=$Reader.create(N));for(var I,H=void 0===t?N.len:N.pos+t,z=new $root.tensorflow.FunctionDef;N.pos<H;){var re=N.uint32();switch(re>>>3){case 1:z.signature=$root.tensorflow.OpDef.decode(N,N.uint32());break;case 5:N.skip().pos++,z.attr===$util.emptyObject&&(z.attr={}),I=N.string(),N.pos++,z.attr[I]=$root.tensorflow.AttrValue.decode(N,N.uint32());break;case 3:z.nodeDef&&z.nodeDef.length||(z.nodeDef=[]),z.nodeDef.push($root.tensorflow.NodeDef.decode(N,N.uint32()));break;case 4:N.skip().pos++,z.ret===$util.emptyObject&&(z.ret={}),I=N.string(),N.pos++,z.ret[I]=N.string();break;default:N.skipType(7&re)}}return z},w}(),E.GradientDef=function(){function w(N){if(N)for(var t=Object.keys(N),I=0;I<t.length;++I)null!=N[t[I]]&&(this[t[I]]=N[t[I]])}return w.prototype.functionName="",w.prototype.gradientFunc="",w.decode=function(N,t){N instanceof $Reader||(N=$Reader.create(N));for(var I=void 0===t?N.len:N.pos+t,H=new $root.tensorflow.GradientDef;N.pos<I;){var z=N.uint32();switch(z>>>3){case 1:H.functionName=N.string();break;case 2:H.gradientFunc=N.string();break;default:N.skipType(7&z)}}return H},w}(),E}();var compiled_api=$root,compiled_api_1=compiled_api.tensorflow;function getParamValue(k,A,E,w){var N=A.params[k];if(N&&void 0!==N.inputIndex){if("tensor"===N.type)return getTensor(A.inputNames[N.inputIndex],E,w);if("tensors"===N.type)return(0===N.inputIndex?0===N.inputParamLength?A.inputNames:A.inputNames.slice(N.inputIndex,-N.inputParamLength):A.inputNames.splice(N.inputIndex)).map(function(I){return getTensor(I,E,w)});var t=Array.prototype.slice.call(getTensor(A.inputNames.slice(N.inputIndex)[0],E,w).dataSync());return"number"===N.type?t[0]:t}return N&&N.value}function getTensor(k,A,E){var w=parseNodeName(k),N=w[0],t=w[1],I=E.currentContextIds.find(function(H){return!!A[getNodeNameWithContextId(N,H)]});return void 0!==I?A[getNodeNameWithContextId(N,I)][t]:void 0}function getTensorsForCurrentContenxt(k,A,E){return A[getNodeNameWithContextId(k,E.currentContextId)]}function getNodeNameAndIndex(k,A){var E=parseNodeName(k),N=E[1];return[getNodeNameWithContextId(E[0],A&&A.currentContextId),N]}function getNodeNameWithContextId(k,A){return A?k+"-"+A:k}function parseNodeName(k){var A=k.lastIndexOf(":");return-1===A?[k,0]:[k.substring(0,A),Number(k.substring(A+1))]}function split$1(k,A){for(var E=[],w=0;w<k.length;w+=A)E.push(k.slice(w,w+A));return E}var json=[{tfOpName:"Add",dlOpName:"add",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",dlOpName:"addN",category:"arithmetic",params:[{tfInputIndex:0,tfInputParamLength:0,dlParamName:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",dlOpName:"add",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sub",dlOpName:"sub",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",dlOpName:"div",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",dlOpName:"div",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",dlOpName:"floorDiv",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",dlOpName:"mul",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",dlOpName:"maximum",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"}]},{tfOpName:"Minimum",dlOpName:"minimum",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"}]},{tfOpName:"Pow",dlOpName:"pow",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",dlOpName:"squaredDifference",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",dlOpName:"mod",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",dlOpName:"mod",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}],arithmetic=Object.freeze({json}),json$1=[{tfOpName:"Abs",dlOpName:"abs",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",dlOpName:"acos",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",dlOpName:"asin",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",dlOpName:"atan",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",dlOpName:"atan2",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"y",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",dlOpName:"ceil",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",dlOpName:"clipByValue",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"clip_value_min",dlParamName:"clipValueMin",type:"number"},{tfParamName:"clip_value_max",dlParamName:"clipValueMax",type:"number"}]},{tfOpName:"Cos",dlOpName:"cos",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",dlOpName:"cosh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",dlOpName:"elu",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",dlOpName:"exp",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",dlOpName:"floor",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",dlOpName:"log",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",dlOpName:"neg",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",dlOpName:"relu",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",dlOpName:"clipByValue",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0},{dlParamName:"clipValueMin",type:"number",defaultValue:0},{dlParamName:"clipValueMax",type:"number",defaultValue:6}]},{tfOpName:"Selu",dlOpName:"selu",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",dlOpName:"sigmoid",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",dlOpName:"sin",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",dlOpName:"sinh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",dlOpName:"sqrt",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",dlOpName:"rsqrt",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",dlOpName:"square",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",dlOpName:"tan",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",dlOpName:"tanh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",dlOpName:"sign",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",dlOpName:"round",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",dlOpName:"expm1",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",dlOpName:"log1p",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",dlOpName:"reciprocal",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",dlOpName:"reciprocal",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",dlOpName:"softplus",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",dlOpName:"asinh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",dlOpName:"acosh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",dlOpName:"atanh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",dlOpName:"erf",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",dlOpName:"prod",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axes",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool",notSupported:!0},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",dlOpName:"leakyRelu",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"alpha",dlParamName:"alpha",type:"number",defaultValue:.2},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}],basicMath=Object.freeze({json:json$1}),json$2=[{tfOpName:"LoopCond",dlOpName:"loopCond",category:"control",params:[{tfInputIndex:0,dlParamName:"pred",type:"tensor"}]},{tfOpName:"Switch",dlOpName:"switch",category:"control",params:[{tfInputIndex:0,dlParamName:"data",type:"tensor"},{tfInputIndex:1,dlParamName:"pred",type:"tensor"}]},{tfOpName:"Merge",dlOpName:"merge",category:"control",params:[{tfInputIndex:0,tfInputParamLength:0,dlParamName:"tensors",type:"tensors"}]},{tfOpName:"Enter",dlOpName:"enter",category:"control",params:[{tfInputIndex:0,dlParamName:"tensor",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0},{tfParamName:"frame_name",dlParamName:"frameName",type:"string"},{tfParamName:"is_constant",dlParamName:"isConstant",type:"bool"}]},{tfOpName:"Exit",dlOpName:"exit",category:"control",params:[{tfInputIndex:0,dlParamName:"tensor",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",dlOpName:"nextIteration",category:"control",params:[{tfInputIndex:0,dlParamName:"tensor",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",dlOpName:"tensorArray",category:"control",params:[{tfInputIndex:0,dlParamName:"size",type:"number"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"},{tfParamName:"element_shape",dlParamName:"elementShape",type:"shape"},{tfParamName:"dynamic_size",dlParamName:"dynamicSize",type:"bool"},{tfParamName:"clear_after_read",dlParamName:"clearAfterRead",type:"bool"},{tfParamName:"identical_element_shapes",dlParamName:"identicalElementShapes",type:"bool"},{tfParamName:"tensor_array_name",dlParamName:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",dlOpName:"tensorArrayWrite",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"index",type:"number"},{tfInputIndex:2,dlParamName:"tensor",type:"tensor"},{tfInputIndex:3,dlParamName:"flowIn",type:"number"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",dlOpName:"tensorArrayRead",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"index",type:"number"},{tfInputIndex:2,dlParamName:"flowIn",type:"number"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",dlOpName:"tensorArrayGather",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"indices",type:"number[]"},{tfInputIndex:2,dlParamName:"flowIn",type:"number"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"},{tfParamName:"element_shape",dlParamName:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",dlOpName:"tensorArrayScatter",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"indices",type:"number[]"},{tfInputIndex:2,dlParamName:"tensor",type:"tensor"},{tfInputIndex:3,dlParamName:"flowIn",type:"number"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",dlOpName:"tensorArrayConcat",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"flowIn",type:"number"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"},{tfParamName:"element_shape_except0",dlParamName:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",dlOpName:"tensorArraySplit",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"tensor",type:"tensor"},{tfInputIndex:2,dlParamName:"lengths",type:"number[]"},{tfInputIndex:3,dlParamName:"flowIn",type:"number"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",dlOpName:"tensorArraySize",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",dlOpName:"tensorArrayClose",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"}]}],control=Object.freeze({json:json$2}),json$3=[{tfOpName:"AvgPool",dlOpName:"avgPool",category:"convolution",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:!0},{tfParamName:"ksize",dlParamName:"kernelSize",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",dlOpName:"maxPool",category:"convolution",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:!0},{tfParamName:"ksize",dlParamName:"kernelSize",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",dlOpName:"conv1d",category:"convolution",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfParamName:"stride",dlParamName:"stride",type:"number"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",defaultValue:"NWC"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0},{tfParamName:"dilation",dlParamName:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",dlOpName:"conv2d",category:"convolution",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"useCudnnOnGpu",dlParamName:"useCudnnOnGpu",type:"bool"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",defaultValue:"NHWC"},{tfParamName:"dilations",dlParamName:"dilations",type:"number[]"}]},{tfOpName:"Conv2DBackpropInput",dlOpName:"conv2dTranspose",category:"convolution",params:[{tfInputIndex:2,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfInputIndex:0,dlParamName:"outputShape",type:"number[]"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",dlOpName:"depthwiseConv2d",category:"convolution",params:[{tfInputIndex:0,dlParamName:"input",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",defaultValue:"NHWC"},{tfParamName:"dilations",dlParamName:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",dlOpName:"depthwiseConv2d",category:"convolution",params:[{tfInputIndex:0,dlParamName:"input",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",defaultValue:"NHWC"},{tfParamName:"dilations",dlParamName:"dilations",type:"number[]"}]}],convolution=Object.freeze({json:json$3}),json$4=[{tfOpName:"Fill",dlOpName:"fill",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfInputIndex:1,dlParamName:"value",type:"number"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",dlOpName:"linspace",category:"creation",params:[{tfInputIndex:0,dlParamName:"start",type:"number"},{tfInputIndex:1,dlParamName:"stop",type:"number"},{tfInputIndex:2,dlParamName:"num",type:"number"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",dlOpName:"oneHot",category:"creation",params:[{tfInputIndex:0,dlParamName:"indices",type:"tensor"},{tfInputIndex:1,dlParamName:"depth",type:"number"},{tfInputIndex:2,dlParamName:"onValue",type:"number",defaultValue:1},{tfInputIndex:3,dlParamName:"offValue",type:"number",defaultValue:0},{tfParamName:"axis",dlParamName:"axis",type:"number",notSupported:!0},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",dlOpName:"ones",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",dlOpName:"onesLike",category:"creation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",dlOpName:"randomUniform",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfParamName:"minval",dlParamName:"minval",type:"number",defaultValue:0},{tfParamName:"maxval",dlParamName:"maxval",type:"number",defaultValue:1},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"},{tfParamName:"seed",dlParamName:"seed",type:"number",defaultValue:0},{tfParamName:"seed2",dlParamName:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfParamName:"T",dlParamName:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",dlOpName:"range",category:"creation",params:[{tfInputIndex:0,dlParamName:"start",type:"number"},{tfInputIndex:1,dlParamName:"stop",type:"number"},{tfInputIndex:2,dlParamName:"step",type:"number",defaultValue:0},{tfParamName:"Tidx",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"truncatedNormal",dlOpName:"truncatedNormal",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfParamName:"means",dlParamName:"mean",type:"number",defaultValue:0},{tfParamName:"stddev",dlParamName:"stdDev",type:"number",defaultValue:1},{tfParamName:"seed",dlParamName:"seed",type:"number"},{tfParamName:"seed2",dlParamName:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"},{tfParamName:"T",dlParamName:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",dlOpName:"zeros",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",dlOpName:"zerosLike",category:"creation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]}],creation=Object.freeze({json:json$4}),json$5=[{tfOpName:"NonMaxSuppressionV2",dlOpName:"nonMaxSuppression",category:"dynamic",params:[{tfInputIndex:0,dlParamName:"boxes",type:"tensor"},{tfInputIndex:1,dlParamName:"scores",type:"tensor"},{tfInputIndex:2,dlParamName:"maxOutputSize",type:"number"},{tfInputIndex:3,dlParamName:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",dlOpName:"nonMaxSuppression",category:"dynamic",params:[{tfInputIndex:0,dlParamName:"boxes",type:"tensor"},{tfInputIndex:1,dlParamName:"scores",type:"tensor"},{tfInputIndex:2,dlParamName:"maxOutputSize",type:"number"},{tfInputIndex:3,dlParamName:"iouThreshold",type:"number"},{tfInputIndex:4,dlParamName:"scoreThreshold",type:"number"}]},{tfOpName:"Where",dlOpName:"whereAsync",category:"dynamic",params:[{tfInputIndex:0,dlParamName:"condition",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",dlOpName:"setdiff1dAsync",category:"dynamic",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"y",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}],dynamic=Object.freeze({json:json$5}),json$6=[{tfOpName:"TopKV2",dlOpName:"topK",category:"evaluation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"k",type:"number"},{tfParamName:"sorted",dlParamName:"sorted",type:"bool"}]}],evaluation=Object.freeze({json:json$6}),json$7=[{tfOpName:"PlaceholderWithDefault",dlOpName:"placeholder",category:"graph",params:[{tfInputIndex:0,dlParamName:"default",type:"tensor"},{tfParamName:"shape",dlParamName:"shape",type:"shape"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",dlOpName:"placeholder",category:"graph",params:[{tfParamName:"shape",dlParamName:"shape",type:"shape"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"Const",dlOpName:"const",category:"graph"},{tfOpName:"Identity",dlOpName:"identity",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"Snapshot",dlOpName:"snapshot",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"Rank",dlOpName:"rank",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"Size",dlOpName:"size",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"Shape",dlOpName:"shape",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"ShapeN",dlOpName:"shapeN",category:"graph",params:[{tfInputIndex:0,tfInputParamLength:0,dlParamName:"x",type:"tensors"}]},{tfOpName:"Print",dlOpName:"print",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,tfInputParamLength:1,dlParamName:"data",type:"tensors"},{tfParamName:"message",dlParamName:"message",type:"string"},{tfParamName:"first_n",dlParamName:"firstN",type:"number",notSupprted:!0},{tfParamName:"summarize",dlParamName:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",dlOpName:"noop",category:"graph",params:[]},{tfOpName:"StopGradient",dlOpName:"stopGradient",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",dlOpName:"fakeQuantWithMinMaxVars",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"min",dlParamName:"min",type:"number"},{tfParamName:"max",dlParamName:"max",type:"number"}]}],graph=Object.freeze({json:json$7}),json$8=[{tfOpName:"ResizeBilinear",dlOpName:"resizeBilinear",category:"image",params:[{tfInputIndex:0,dlParamName:"images",type:"tensor"},{tfInputIndex:1,dlParamName:"size",type:"number[]"},{tfParamName:"align_corners",dlParamName:"alignCorners",type:"bool"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",dlOpName:"resizeNearestNeighbor",category:"image",params:[{tfInputIndex:0,dlParamName:"images",type:"tensor"},{tfInputIndex:1,dlParamName:"size",type:"number[]"},{tfParamName:"align_corners",dlParamName:"alignCorners",type:"bool"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",dlOpName:"cropAndResize",category:"image",params:[{tfInputIndex:0,dlParamName:"image",type:"tensor"},{tfInputIndex:1,dlParamName:"boxes",type:"tensor"},{tfInputIndex:2,dlParamName:"boxInd",type:"tensor"},{tfInputIndex:3,dlParamName:"cropSize",type:"number[]"},{tfParamName:"method",dlParamName:"method",type:"string"},{tfParamName:"extrapolation_value",dlParamName:"extrapolationValue",type:"number"}]}],image$1=Object.freeze({json:json$8}),json$9=[{tfOpName:"Equal",dlOpName:"equal",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",dlOpName:"notEqual",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",dlOpName:"greater",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",dlOpName:"greaterEqual",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",dlOpName:"less",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",dlOpName:"lessEqual",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",dlOpName:"logicalAnd",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",dlOpName:"logicalNot",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",dlOpName:"logicalOr",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",dlOpName:"where",category:"logical",params:[{tfInputIndex:0,dlParamName:"condition",type:"tensor"},{tfInputIndex:1,dlParamName:"a",type:"tensor"},{tfInputIndex:2,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}],logical=Object.freeze({json:json$9}),json$10=[{tfOpName:"MatMul",dlOpName:"matMul",category:"matrices",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"transpose_a",dlParamName:"transposeA",type:"bool",defaultValue:!1},{tfParamName:"transpose_b",dlParamName:"transposeB",type:"bool",defaultValue:!1},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",dlOpName:"matMul",category:"matrices",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"adj_x",dlParamName:"transposeA",type:"bool",defaultValue:!1},{tfParamName:"adj_y",dlParamName:"transposeB",type:"bool",defaultValue:!1},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",dlOpName:"transpose",category:"matrices",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"perm",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}],matrices=Object.freeze({json:json$10}),json$11=[{tfOpName:"FusedBatchNorm",dlOpName:"batchNormalization",category:"normalization",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"scale",type:"tensor"},{tfInputIndex:2,dlParamName:"offset",type:"tensor"},{tfInputIndex:3,dlParamName:"mean",type:"tensor"},{tfInputIndex:4,dlParamName:"variance",type:"tensor"},{tfParamName:"epsilon",dlParamName:"epsilon",type:"number",defaultValue:.001},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",dlOpName:"batchNormalization",category:"normalization",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"scale",type:"tensor"},{tfInputIndex:2,dlParamName:"offset",type:"tensor"},{tfInputIndex:3,dlParamName:"mean",type:"tensor"},{tfInputIndex:4,dlParamName:"variance",type:"tensor"},{tfParamName:"epsilon",dlParamName:"epsilon",type:"number",defaultValue:.001},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",dlOpName:"localResponseNormalization",category:"normalization",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"depth_radius",dlParamName:"radius",type:"number",defaultValue:5},{tfParamName:"bias",dlParamName:"bias",type:"number",defaultValue:1},{tfParamName:"alpha",dlParamName:"alpha",type:"number",defaultValue:1},{tfParamName:"beta",dlParamName:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",dlOpName:"softmax",category:"normalization",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",dlOpName:"logSoftmax",category:"normalization",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"SparseToDense",dlOpName:"sparseToDense",category:"normalization",params:[{tfInputIndex:0,dlParamName:"sparseIndices",type:"tensor"},{tfInputIndex:1,dlParamName:"outputShape",type:"number[]"},{tfInputIndex:2,dlParamName:"sparseValues",type:"tensor"},{tfInputIndex:3,dlParamName:"defaultValue",type:"tensor"},{tfParamName:"validate_indices",dlParamName:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}],normalization=Object.freeze({json:json$11}),json$12=[{tfOpName:"Max",dlOpName:"max",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"Mean",dlOpName:"mean",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"Min",dlOpName:"min",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"Sum",dlOpName:"sum",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"All",dlOpName:"all",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"Any",dlOpName:"any",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",dlOpName:"argMax",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number"}]},{tfOpName:"ArgMin",dlOpName:"argMin",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number"}]},{tfOpName:"Prod",dlOpName:"prod",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]}],reduction=Object.freeze({json:json$12}),json$13=[{tfOpName:"ConcatV2",dlOpName:"concat",category:"slice_join",params:[{tfInputIndex:0,tfInputParamLength:1,dlParamName:"tensors",type:"tensors"},{tfInputIndex:-1,dlParamName:"axis",type:"number"}]},{tfOpName:"Concat",dlOpName:"concat",category:"slice_join",params:[{tfInputIndex:1,tfInputParamLength:1,dlParamName:"tensors",type:"tensors"},{tfInputIndex:0,dlParamName:"axis",type:"number"}]},{tfOpName:"GatherV2",dlOpName:"gather",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"indices",type:"tensor"},{tfInputIndex:2,dlParamName:"axis",type:"number",defaultValue:0}]},{tfOpName:"Gather",dlOpName:"gather",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"indices",type:"tensor"},{tfParamName:"axis",dlParamName:"axis",type:"number",defaultValue:0},{tfParamName:"validate_indices",dlParamName:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",dlOpName:"reverse",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"dims",type:"bool",notSupported:!0}]},{tfOpName:"ReverseV2",dlOpName:"reverse",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"}]},{tfOpName:"Slice",dlOpName:"slice",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"begin",type:"number[]"},{tfInputIndex:2,dlParamName:"size",type:"number[]"}]},{tfOpName:"StridedSlice",dlOpName:"stridedSlice",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"begin",type:"number[]"},{tfInputIndex:2,dlParamName:"end",type:"number[]"},{tfInputIndex:3,dlParamName:"strides",type:"number[]"},{tfParamName:"begin_mask",dlParamName:"beginMask",type:"number",defaultValue:0},{tfParamName:"end_mask",dlParamName:"endMask",type:"number",defaultValue:0},{tfParamName:"new_axis_mask",dlParamName:"newAxisMask",type:"number",defaultValue:0},{tfParamName:"ellipsis_mask",dlParamName:"ellipsisMask",type:"number",defaultValue:0},{tfParamName:"shrink_axis_mask",dlParamName:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",dlOpName:"stack",category:"slice_join",params:[{tfInputIndex:0,tfInputParamLength:0,dlParamName:"tensors",type:"tensors"},{tfParamName:"axis",dlParamName:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",dlOpName:"unstack",category:"slice_join",params:[{tfInputIndex:0,tfInputParamLength:0,dlParamName:"tensor",type:"tensor"},{tfParamName:"axis",dlParamName:"axis",type:"number",defaultValue:0},{tfParamName:"num",dlParamName:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",dlOpName:"tile",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"reps",type:"number[]"}]},{tfOpName:"Split",dlOpName:"split",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"axis",type:"number",defaultValue:0},{tfInputIndex:1,dlParamName:"x",type:"tensor"},{tfParamName:"num_split",dlParamName:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",dlOpName:"split",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"numOrSizeSplits",type:"number[]"},{tfInputIndex:2,dlParamName:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",dlOpName:"scatterNd",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"indices",type:"tensor"},{tfInputIndex:1,dlParamName:"values",type:"tensor"},{tfInputIndex:2,dlParamName:"shape",type:"number[]"}]},{tfOpName:"GatherNd",dlOpName:"gatherNd",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",dlOpName:"sparseToDense",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"sparseIndices",type:"tensor"},{tfInputIndex:1,dlParamName:"outputShape",type:"number[]"},{tfInputIndex:2,dlParamName:"sparseValues",type:"tensor"},{tfInputIndex:3,dlParamName:"defaultValue",type:"tensor"},{tfParamName:"validate_indices",dlParamName:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}],sliceJoin=Object.freeze({json:json$13}),json$14=[{tfOpName:"Cast",dlOpName:"cast",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"SrcT",dlParamName:"sdtype",type:"dtype",notSupported:!0},{tfParamName:"DstT",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",dlOpName:"expandDims",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,tfParamNameDeprecated:"dim",dlParamName:"axis",type:"number"}]},{tfOpName:"Pad",dlOpName:"pad",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"padding",type:"number[]"},{tfParamName:"constant_value",dlParamName:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",dlOpName:"pad",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"padding",type:"number[]"},{tfInputIndex:2,dlParamName:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",dlOpName:"reshape",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"shape",type:"number[]"}]},{tfOpName:"Squeeze",dlOpName:"squeeze",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"axis",tfParamNameDeprecated:"squeeze_dims",dlParamName:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",dlOpName:"spaceToBatchND",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"blockShape",type:"number[]"},{tfInputIndex:2,dlParamName:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",dlOpName:"batchToSpaceND",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"blockShape",type:"number[]"},{tfInputIndex:2,dlParamName:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",dlOpName:"depthToSpace",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"block_size",dlParamName:"blockSize",type:"number"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string"}]}],transformation=Object.freeze({json:json$14}),CONTROL_FLOW_OPS=["Switch","Merge","Enter","Exit","NextIteration"],DYNAMIC_SHAPE_OPS=["NonMaxSuppressionV2","NonMaxSuppressionV3","Where"],OperationMapper=function(){function k(){var E=[].concat.apply([],[arithmetic,basicMath,control,convolution,creation,dynamic,evaluation,logical,image$1,graph,matrices,normalization,reduction,sliceJoin,transformation].map(function(w){return w.json}));this.opMappers=E.reduce(function(w,N){return w[N.tfOpName]=N,w},{})}return Object.defineProperty(k,"Instance",{get:function(){return this._instance||(this._instance=new this)},enumerable:!0,configurable:!0}),k.prototype.isControlFlow=function(A){return CONTROL_FLOW_OPS.some(function(E){return E===A.op})},k.prototype.isDynamicShape=function(A){return DYNAMIC_SHAPE_OPS.some(function(E){return E===A.op})},k.prototype.transformGraph=function(A){var E=this,w=!1,N=!1,t=[],I=[],H=A.node.reduce(function(ce,Oe){return ce[Oe.name]=E.mapNode(Oe),E.isControlFlow(Oe)&&(w=!0),E.isDynamicShape(Oe)&&(N=!0),"Placeholder"===Oe.op&&t.push(ce[Oe.name]),"Const"===Oe.op&&I.push(ce[Oe.name]),ce},{}),z=[],re=[];return Object.keys(H).forEach(function(ce){var Oe=H[ce];Oe.inputNames.forEach(function(M){var Fe=getNodeNameAndIndex(M)[0];Oe.inputs.push(H[Fe]),H[Fe].children.push(Oe)}),0===Oe.inputs.length&&z.push(Oe)}),Object.keys(H).forEach(function(ce){var Oe=H[ce];0===Oe.children.length&&re.push(Oe)}),{nodes:H,inputs:z,outputs:re,weights:I,placeholders:t,withControlFlow:w,withDynamicShape:N}},k.prototype.mapNode=function(A){var E=this,w=this.opMappers[A.op];if(void 0===w)throw new Error("Tensorflow Op is not supported: "+A.op);var N={name:A.name,op:w.dlOpName,category:w.category,inputNames:(A.input||[]).map(function(t){return t.startsWith("^")?t.substr(1):t}),inputs:[],children:[],params:{}};return w.params&&(N.params=w.params.reduce(function(t,I){var H=I.tfInputIndex,z=I.tfInputParamLength,re=I.type,ce=void 0;if(void 0===H)switch(I.type){case"string":void 0===(ce=E.getStringParam(A.attr,I.tfParamName,I.defaultValue))&&I.tfParamNameDeprecated&&(ce=E.getStringParam(A.attr,I.tfParamNameDeprecated,I.defaultValue));break;case"number":void 0===(ce=E.getNumberParam(A.attr,I.tfParamName,I.defaultValue))&&I.tfParamNameDeprecated&&(ce=E.getNumberParam(A.attr,I.tfParamNameDeprecated,I.defaultValue));break;case"number[]":void 0===(ce=E.getNumericArrayParam(A.attr,I.tfParamName,I.defaultValue))&&I.tfParamNameDeprecated&&(ce=E.getNumericArrayParam(A.attr,I.tfParamNameDeprecated,I.defaultValue));break;case"bool":void 0===(ce=E.getBoolParam(A.attr,I.tfParamName,I.defaultValue))&&I.tfParamNameDeprecated&&(ce=E.getBoolParam(A.attr,I.tfParamNameDeprecated,I.defaultValue));break;case"shape":void 0===(ce=E.getTensorShapeParam(A.attr,I.tfParamName,I.defaultValue))&&I.tfParamNameDeprecated&&(ce=E.getTensorShapeParam(A.attr,I.tfParamNameDeprecated,I.defaultValue));break;case"dtype":void 0===(ce=E.getDtypeParam(A.attr,I.tfParamName,I.defaultValue))&&I.tfParamNameDeprecated&&(ce=E.getDtypeParam(A.attr,I.tfParamNameDeprecated,I.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: "+I.type+" for op: "+A.op)}return t[I.dlParamName]={value:ce,inputIndex:H,type:re,inputParamLength:z},t},{})),N},k.prototype.getStringParam=function(A,E,w,N){void 0===N&&(N=!1);var t=A[E];if(void 0!==t){var I=String.fromCharCode.apply(null,t.s);return N?I:I.toLowerCase()}return w},k.prototype.getBoolParam=function(A,E,w){var N=A[E];return N?N.b:w},k.prototype.getNumberParam=function(A,E,w){var N=A[E],t=N?N[N.value]:w;return"number"==typeof t?t:t.toInt()},k.prototype.getDtypeParam=function(A,E,w){var N=A[E];if(N&&N.type)switch(N.type){case compiled_api_1.DataType.DT_FLOAT:return"float32";case compiled_api_1.DataType.DT_INT32:return"int32";case compiled_api_1.DataType.DT_BOOL:return"bool";default:return w}return w},k.prototype.getTensorShapeParam=function(A,E,w){var N=A[E];return N&&N.shape?N.shape.dim.map(function(t){return"number"==typeof t.size?t.size:t.size.toInt()}):w},k.prototype.getNumericArrayParam=function(A,E,w){var N=A[E];return N?(N.list.f&&N.list.f.length?N.list.f:N.list.i).map(function(t){return"number"==typeof t?t:t.toInt()}):w},k}(),executeOp=function(k,A,E){switch(k.op){case"add":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.IHx)(getParamValue("a",k,A,E),getParamValue("b",k,A,E))];case"addN":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.QBD)(getParamValue("tensors",k,A,E))];case"mod":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.wQq)(getParamValue("a",k,A,E),getParamValue("b",k,A,E))];case"mul":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.dC7)(getParamValue("a",k,A,E),getParamValue("b",k,A,E))];case"div":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.hiC)(getParamValue("a",k,A,E),getParamValue("b",k,A,E))];case"floorDiv":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.qPi)(getParamValue("a",k,A,E),getParamValue("b",k,A,E))];case"sub":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.luU)(getParamValue("a",k,A,E),getParamValue("b",k,A,E))];case"minimum":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.LTh)(getParamValue("a",k,A,E),getParamValue("b",k,A,E))];case"maximum":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.gWQ)(getParamValue("a",k,A,E),getParamValue("b",k,A,E))];case"pow":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.sQ3)(getParamValue("a",k,A,E),getParamValue("b",k,A,E))];case"squaredDifference":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.$i)(getParamValue("a",k,A,E),getParamValue("b",k,A,E))];default:throw TypeError("Node type "+k.op+" is not implemented")}},executeOp$1=function(k,A,E){switch(k.op){case"abs":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.WnP)(getParamValue("x",k,A,E))];case"acos":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.Khb)(getParamValue("x",k,A,E))];case"acosh":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.__u)(getParamValue("x",k,A,E))];case"asin":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.ZRM)(getParamValue("x",k,A,E))];case"asinh":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.VfV)(getParamValue("x",k,A,E))];case"atan":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.z4N)(getParamValue("x",k,A,E))];case"atan2":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.fvJ)(getParamValue("x",k,A,E),getParamValue("y",k,A,E))];case"atanh":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.C80)(getParamValue("x",k,A,E))];case"ceil":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.mDi)(getParamValue("x",k,A,E))];case"cos":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.mCk)(getParamValue("x",k,A,E))];case"cosh":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.f9Y)(getParamValue("x",k,A,E))];case"elu":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.pyx)(getParamValue("x",k,A,E))];case"erf":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.qNN)(getParamValue("x",k,A,E))];case"exp":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.Qqt)(getParamValue("x",k,A,E))];case"expm1":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.t$B)(getParamValue("x",k,A,E))];case"floor":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.GWj)(getParamValue("x",k,A,E))];case"log":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.cM7)(getParamValue("x",k,A,E))];case"log1p":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.Krr)(getParamValue("x",k,A,E))];case"neg":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.W76)(getParamValue("x",k,A,E))];case"reciprocal":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.M25)(getParamValue("x",k,A,E))];case"relu":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.UYe)(getParamValue("x",k,A,E))];case"round":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.NMM)(getParamValue("x",k,A,E))];case"selu":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.U8D)(getParamValue("x",k,A,E))];case"sigmoid":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.XD2)(getParamValue("x",k,A,E))];case"sin":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.O$l)(getParamValue("x",k,A,E))];case"sign":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.Xxe)(getParamValue("x",k,A,E))];case"sinh":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.R_K)(getParamValue("x",k,A,E))];case"softplus":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.Wvh)(getParamValue("x",k,A,E))];case"sqrt":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__._b3)(getParamValue("x",k,A,E))];case"square":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.h62)(getParamValue("x",k,A,E))];case"tanh":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.AEp)(getParamValue("x",k,A,E))];case"tan":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.ORZ)(getParamValue("x",k,A,E))];case"clipByValue":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.iUl)(getParamValue("x",k,A,E),getParamValue("clipValueMin",k,A,E),getParamValue("clipValueMax",k,A,E))];case"rsqrt":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.hiC)((0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.iD$)(1,"float32"),(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__._b3)(getTensor(k.inputNames[0],A,E)))];case"prod":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.WVs)(getParamValue("x",k,A,E),getParamValue("axes",k,A,E))];case"leakyRelu":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.hi7)(getParamValue("x",k,A,E),getParamValue("alpha",k,A,E))];default:throw TypeError("Node type "+k.op+" is not implemented")}},TensorArray=function(){function k(A,E,w,N,t,I,H){this.name=A,this.dtype=E,this.maxSize=w,this.elementShape=N,this.identicalElementShapes=t,this.dynamicSize=I,this.clearAfterRead=H,this.tensors=[],this.closed_=!1,this.id=k.nextId++}return Object.defineProperty(k.prototype,"closed",{get:function(){return this.closed_},enumerable:!0,configurable:!0}),k.prototype.clearAndClose=function(){this.tensors.forEach(function(A){return A.tensor.dispose()}),this.tensors=[],this.closed_=!0},k.prototype.size=function(){return this.tensors.length},k.prototype.read=function(A){if(this.closed_)throw new Error("TensorArray "+this.name+" has already been closed.");if(A<0||A>=this.tensors.length)throw new Error("Tried to read from index "+A+", but array size is: "+this.tensors.length);var E=this.tensors[A];if(E.cleared)throw new Error("TensorArray "+this.name+": Could not read index "+A+" twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(E.cleared=!0),E.read=!0,E.tensor},k.prototype.readMany=function(A){var E=this;return A.map(function(w){return E.read(w)})},k.prototype.write=function(A,E){if(this.closed_)throw new Error("TensorArray "+this.name+" has already been closed.");if(A<0||!this.dynamicSize&&A>=this.maxSize)throw new Error("Tried to write to index "+A+", but array is not resizeable and size is: "+this.maxSize);var w=this.tensors[A]||{};if(E.dtype!==this.dtype)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+A+",\n          because the value dtype is "+E.dtype+", but TensorArray dtype is "+this.dtype+".");if(0===this.size()&&0===this.elementShape.length&&(this.elementShape=E.shape),this.assertShapesMatch(this.elementShape,E.shape,"TensorArray "+this.name+": Could not write to TensorArray index "+A+"."),w&&w.read)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+A+", because it has already been read.");if(w&&w.written)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+A+", because it has already been written.");w.tensor=E,w.written=!0,this.tensors[A]=w},k.prototype.writeMany=function(A,E){var w=this;if(A.length!==E.length)throw new Error("TensorArray "+this.name+": could not write multiple tensors,because the index size: "+A.length+" is not the same as tensors size: "+E.length+".");A.forEach(function(N,t){return w.write(N,E[t])})},k.prototype.gather=function(A,E){if(E&&E!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but gather requested dtype "+E);if(!A){A=[];for(var w=0;w<this.size();w++)A.push(w)}if(0===A.length)return(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.XeE)([],[0].concat(this.elementShape));var N=this.readMany(A);return this.assertShapesMatch(this.elementShape,N[0].shape,"TensorArray shape mismatch: "),(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.knu)(N,0)},k.prototype.concat=function(A){if(A&&A!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but concat requested dtype "+A);if(0===this.size())return(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.XeE)([],[0].concat(this.elementShape));for(var E=[],w=0;w<this.size();w++)E.push(w);var N=this.readMany(E);return this.assertShapesMatch(this.elementShape,N[0].shape,"TensorArray shape mismatch: tensor array shape ("+this.elementShape+") vs first tensor shape ("+N[0].shape+")"),(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.zoF)(N,0)},k.prototype.scatter=function(A,E){if(E.dtype!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but tensor has dtype "+E.dtype);if(A.length!==E.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: "+A.length+" vs. "+E.shape[0]);var w=Math.max.apply(Math,A);if(!this.dynamicSize&&w>=this.maxSize)throw new Error("Max index must be < array size ("+w+"  vs. "+this.maxSize+")");this.writeMany(A,(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.HHK)(E,0))},k.prototype.split=function(A,E){var w=this;if(E.dtype!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but tensor has dtype "+E.dtype);var N=0,t=A.map(function(ce){return N+=ce});if(N!==E.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        "+N+", and tensor's shape is: "+E.shape);if(!this.dynamicSize&&A.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths ("+this.maxSize+" vs. "+A.length+"), and the TensorArray is not marked as dynamically resizeable");var I=0===N?0:E.size/N,H=[];(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.lub)(function(){E=E.reshape([1,N,I]);for(var ce=0;ce<A.length;++ce)H[ce]=(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.tPi)(E,[0,0===ce?0:t[ce-1],0],[1,A[ce],I]).reshape(w.elementShape);return H});for(var z=[],re=0;re<A.length;re++)z[re]=re;this.writeMany(z,H)},k.prototype.assertShapesMatch=function(A,E,w){void 0===w&&(w=""),_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.D5U.assert(this.arraysEqual(A,E),w+" Shapes "+A+" and "+E+" must match")},k.prototype.arraysEqual=function(A,E){if(A.length!==E.length)return!1;for(var w=0;w<A.length;w++)if(-1!==A[w]&&-1!==E[w]&&A[w]!==E[w])return!1;return!0},k.nextId=0,k}();function executeOp$2(k,A,E){return __awaiter(this,void 0,void 0,function(){var w,N,t,I,H,z,re,ce,Oe,M,Fe,we,Tt,De,Ae,je,se,at,mt,Dt,Pe,Ee,Ye,Qe,ze,xt,pt,Ne,Le,cn,ct,qe,it,st,nt;return __generator(this,function(wt){switch(wt.label){case 0:switch(k.op){case"loopCond":return[3,1];case"switch":return[3,2];case"merge":return[3,4];case"enter":return[3,5];case"exit":return[3,6];case"nextIteration":return[3,7];case"tensorArray":return[3,8];case"tensorArrayWrite":return[3,9];case"tensorArrayRead":return[3,10];case"tensorArrayGather":return[3,11];case"tensorArrayScatter":return[3,12];case"tensorArrayConcat":return[3,13];case"tensorArraySplit":return[3,14];case"tensorArraySize":return[3,15];case"tensorArrayClose":return[3,16]}return[3,17];case 1:return[2,[getParamValue("pred",k,A,E).clone()]];case 2:return w=getParamValue("pred",k,A,E),N=getParamValue("data",k,A,E),[4,w.data()];case 3:return[2,wt.sent()[0]?[void 0,N.clone()]:[N.clone(),void 0]];case 4:return[2,(t=k.inputNames.find(function(At){return void 0!==getTensor(At,A,E)}))?[getTensor(t,A,E).clone()]:void 0];case 5:return I=getParamValue("frameName",k,A,E),H=getParamValue("tensor",k,A,E),E.enterFrame(I),[2,[H.clone()]];case 6:return z=getParamValue("tensor",k,A,E),E.exitFrame(),[2,[z.clone()]];case 7:return re=getParamValue("tensor",k,A,E),E.nextIteration(),[2,[re.clone()]];case 8:return ce=getParamValue("size",k,A,E),Oe=getParamValue("dtype",k,A,E),M=getParamValue("elementShape",k,A,E),Fe=getParamValue("dynamicSize",k,A,E),we=getParamValue("clearAfterRead",k,A,E),Tt=getParamValue("identicalElementShapes",k,A,E),De=getParamValue("name",k,A,E),Ae=new TensorArray(De,Oe,ce,M,Tt,Fe,we),E.addTensorArray(Ae),[2,[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.iD$)(Ae.id),(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.iD$)(1)]];case 9:return je=getParamValue("tensorArrayId",k,A,E),se=getParamValue("index",k,A,E),at=getParamValue("tensor",k,A,E),E.getTensorArray(je).write(se,at),[2,[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.iD$)(1)]];case 10:return mt=getParamValue("tensorArrayId",k,A,E),Dt=getParamValue("index",k,A,E),[2,[E.getTensorArray(mt).read(Dt)]];case 11:return Pe=getParamValue("tensorArrayId",k,A,E),Ee=getParamValue("indices",k,A,E),Ye=getParamValue("dtype",k,A,E),[2,[E.getTensorArray(Pe).gather(Ee,Ye)]];case 12:return Qe=getParamValue("tensorArrayId",k,A,E),ze=getParamValue("indices",k,A,E),xt=getParamValue("tensor",k,A,E),E.getTensorArray(Qe).scatter(ze,xt),[2,[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.iD$)(1)]];case 13:return pt=getParamValue("tensorArrayId",k,A,E),Ne=E.getTensorArray(pt),Le=getParamValue("dtype",k,A,E),[2,[Ne.concat(Le)]];case 14:return cn=getParamValue("tensorArrayId",k,A,E),ct=getParamValue("tensor",k,A,E),qe=getParamValue("lengths",k,A,E),E.getTensorArray(cn).split(qe,ct),[2,[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.iD$)(1)]];case 15:return it=getParamValue("tensorArrayId",k,A,E),st=E.getTensorArray(it),[2,[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.iD$)(st.size(),"int32")]];case 16:return nt=getParamValue("tensorArrayId",k,A,E),E.getTensorArray(nt).clearAndClose(),[2,[]];case 17:throw TypeError("Node type "+k.op+" is not implemented")}})})}var executeOp$3=function(k,A,E){switch(k.op){case"conv1d":var w=getParamValue("stride",k,A,E),N=getParamValue("pad",k,A,E),t=getParamValue("dataFormat",k,A,E).toUpperCase(),I=getParamValue("dilation",k,A,E);return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.PAt)(getParamValue("x",k,A,E),getParamValue("filter",k,A,E),w,N,t,I)];case"conv2d":w=getParamValue("strides",k,A,E),N=getParamValue("pad",k,A,E),t=getParamValue("dataFormat",k,A,E).toUpperCase();var H=getParamValue("dilations",k,A,E);return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.Tek)(getParamValue("x",k,A,E),getParamValue("filter",k,A,E),[w[1],w[2]],N,t,[H[0],H[1]])];case"conv2dTranspose":var z=getParamValue("outputShape",k,A,E);return w=getParamValue("strides",k,A,E),N=getParamValue("pad",k,A,E),[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.bc)(getParamValue("x",k,A,E),getParamValue("filter",k,A,E),z,[w[1],w[2]],N)];case"depthwiseConv2d":return w=getParamValue("strides",k,A,E),N=getParamValue("pad",k,A,E),H=getParamValue("dilations",k,A,E),t=getParamValue("dataFormat",k,A,E).toUpperCase(),[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.B10)(getParamValue("input",k,A,E),getParamValue("filter",k,A,E),[w[1],w[2]],N,t,[H[0],H[1]])];case"avgPool":w=getParamValue("strides",k,A,E),N=getParamValue("pad",k,A,E);var re=getParamValue("kernelSize",k,A,E);return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.wS1)(getParamValue("x",k,A,E),[re[1],re[2]],[w[1],w[2]],N)];case"maxPool":return w=getParamValue("strides",k,A,E),N=getParamValue("pad",k,A,E),re=getParamValue("kernelSize",k,A,E),[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__._sB)(getParamValue("x",k,A,E),[re[1],re[2]],[w[1],w[2]],N)];default:throw TypeError("Node type "+k.op+" is not implemented")}},executeOp$4=function(k,A,E){switch(k.op){case"fill":var w=getParamValue("shape",k,A,E),N=getParamValue("dtype",k,A,E),t=getParamValue("value",k,A,E);return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.hlL)(w,t,N)];case"linspace":var I=getParamValue("start",k,A,E),H=getParamValue("stop",k,A,E),z=getParamValue("num",k,A,E);return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.SX3)(I,H,z)];case"oneHot":var re=getParamValue("indices",k,A,E),ce=getParamValue("depth",k,A,E),Oe=getParamValue("onValue",k,A,E),M=getParamValue("offValue",k,A,E);return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.lfX)(re,ce,Oe,M)];case"ones":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.iUs)(getParamValue("shape",k,A,E),getParamValue("dtype",k,A,E))];case"onesLike":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.JpU)(getParamValue("x",k,A,E))];case"randomUniform":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.LGj)(getParamValue("shape",k,A,E),getParamValue("minval",k,A,E),getParamValue("maxval",k,A,E),getParamValue("dtype",k,A,E))];case"range":I=getParamValue("start",k,A,E);var Fe=getParamValue("stop",k,A,E),we=getParamValue("step",k,A,E);return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.w6H)(I,Fe,we,getParamValue("dtype",k,A,E))];case"truncatedNormal":w=getParamValue("shape",k,A,E);var Tt=getParamValue("mean",k,A,E),De=getParamValue("stdDev",k,A,E),Ae=getParamValue("seed",k,A,E);return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.Xu6)(w,Tt,De,getParamValue("dtype",k,A,E),Ae)];case"zeros":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.lls)(getParamValue("shape",k,A,E),getParamValue("dtype",k,A,E))];case"zerosLike":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.P84)(getParamValue("x",k,A,E))];default:throw TypeError("Node type "+k.op+" is not implemented")}};function executeOp$5(k,A,E){return __awaiter(this,void 0,void 0,function(){var w,N,t,I,H;return __generator(this,function(z){switch(z.label){case 0:switch(k.op){case"nonMaxSuppression":return[3,1];case"whereAsync":return[3,3];case"setdiff1dAsync":return[3,5]}return[3,7];case 1:return w=getParamValue("boxes",k,A,E),N=getParamValue("scores",k,A,E),t=getParamValue("maxOutputSize",k,A,E),I=getParamValue("iouThreshold",k,A,E),H=getParamValue("scoreThreshold",k,A,E),[4,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.BHj.nonMaxSuppressionAsync(w,N,t,I,H)];case 2:case 4:return[2,[z.sent()]];case 3:return[4,(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.itS)(getParamValue("condition",k,A,E))];case 5:return[4,(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.ODp)(getParamValue("x",k,A,E),getParamValue("y",k,A,E))];case 6:return[2,z.sent()];case 7:throw TypeError("Node type "+k.op+" is not implemented")}})})}var executeOp$6=function(k,A,E){if("topK"===k.op){var w=getParamValue("x",k,A,E),N=getParamValue("k",k,A,E),t=getParamValue("sorted",k,A,E),I=(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.hg7)(w,N,t);return[I.values,I.indices]}throw TypeError("Node type "+k.op+" is not implemented")},executeOp$7=function(k,A,E){switch(k.op){case"const":return A[k.name];case"placeholder":var w=getParamValue("default",k,A,E);return[getTensor(k.name,A,E)||w];case"identity":case"stopGradient":case"fakeQuantWithMinMaxVars":case"snapshot":return[getParamValue("x",k,A,E).clone()];case"shape":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.RRF)(getParamValue("x",k,A,E).shape,"int32")];case"shapeN":return getParamValue("x",k,A,E).map(function(re){return(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.RRF)(re.shape)});case"size":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.iD$)(getParamValue("x",k,A,E).size,"int32")];case"rank":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.iD$)(getParamValue("x",k,A,E).rank,"int32")];case"noop":return[];case"print":var N=getParamValue("x",k,A,E),t=getParamValue("data",k,A,E),I=getParamValue("message",k,A,E),H=getParamValue("summarize",k,A,E);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(I);for(var z=0;z<t.length;z++)console.log(Array.prototype.slice.call(t[0].dataSync()).slice(0,H));return[N];default:throw TypeError("Node type "+k.op+" is not implemented")}},executeOp$8=function(k,A,E){switch(k.op){case"resizeBilinear":var w=getParamValue("images",k,A,E),N=getParamValue("size",k,A,E),t=getParamValue("alignCorners",k,A,E);return[_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.BHj.resizeBilinear(w,[N[0],N[1]],t)];case"resizeNearestNeighbor":return w=getParamValue("images",k,A,E),N=getParamValue("size",k,A,E),t=getParamValue("alignCorners",k,A,E),[_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.BHj.resizeNearestNeighbor(w,[N[0],N[1]],t)];case"cropAndResize":var I=getParamValue("image",k,A,E),H=getParamValue("boxes",k,A,E),z=getParamValue("boxInd",k,A,E),re=getParamValue("cropSize",k,A,E),ce=getParamValue("method",k,A,E),Oe=getParamValue("extrapolationValue",k,A,E);return[_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.BHj.cropAndResize(I,H,z,re,ce,Oe)];default:throw TypeError("Node type "+k.op+" is not implemented")}},executeOp$9=function(k,A,E){switch(k.op){case"equal":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.DgJ)(getParamValue("a",k,A,E),getParamValue("b",k,A,E))];case"notEqual":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.Quu)(getParamValue("a",k,A,E),getParamValue("b",k,A,E))];case"greater":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.pjt)(getParamValue("a",k,A,E),getParamValue("b",k,A,E))];case"greaterEqual":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.brS)(getParamValue("a",k,A,E),getParamValue("b",k,A,E))];case"less":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.d9m)(getParamValue("a",k,A,E),getParamValue("b",k,A,E))];case"lessEqual":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.zN1)(getParamValue("a",k,A,E),getParamValue("b",k,A,E))];case"logicalAnd":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.HvI)(getParamValue("a",k,A,E),getParamValue("b",k,A,E))];case"logicalNot":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.hJK)(getParamValue("a",k,A,E))];case"logicalOr":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.K5V)(getParamValue("a",k,A,E),getParamValue("b",k,A,E))];case"where":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.arb)(getParamValue("condition",k,A,E),getParamValue("a",k,A,E),getParamValue("b",k,A,E))];default:throw TypeError("Node type "+k.op+" is not implemented")}},executeOp$10=function(k,A,E){switch(k.op){case"matMul":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.OI3)(getParamValue("a",k,A,E),getParamValue("b",k,A,E),getParamValue("transposeA",k,A,E),getParamValue("transposeB",k,A,E))];case"transpose":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.p4s)(getParamValue("x",k,A,E),getParamValue("perm",k,A,E))];default:throw TypeError("Node type "+k.op+" is not implemented")}},executeOp$11=function(k,A,E){switch(k.op){case"batchNormalization":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.F08)(getParamValue("x",k,A,E),getParamValue("mean",k,A,E),getParamValue("variance",k,A,E),getParamValue("epsilon",k,A,E),getParamValue("scale",k,A,E),getParamValue("offset",k,A,E))];case"localResponseNormalization":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.G9k)(getParamValue("x",k,A,E),getParamValue("radius",k,A,E),getParamValue("bias",k,A,E),getParamValue("alpha",k,A,E),getParamValue("beta",k,A,E))];case"softmax":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.XAC)(getParamValue("x",k,A,E))];case"logSoftmax":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.CmS)(getParamValue("x",k,A,E))];case"sparseToDense":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.ers)(getParamValue("sparseIndices",k,A,E),getParamValue("outputShape",k,A,E),getParamValue("sparseValues",k,A,E),getParamValue("defaultValue",k,A,E))];default:throw TypeError("Node type "+k.op+" is not implemented")}},executeOp$12=function(k,A,E){switch(k.op){case"max":var w=getParamValue("axis",k,A,E),N=getParamValue("keepDims",k,A,E);return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.Fp7)(getParamValue("x",k,A,E),w,N)];case"mean":return w=getParamValue("axis",k,A,E),N=getParamValue("keepDims",k,A,E),[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.J69)(getParamValue("x",k,A,E),w,N)];case"min":return w=getParamValue("axis",k,A,E),N=getParamValue("keepDims",k,A,E),[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.VV$)(getParamValue("x",k,A,E),w,N)];case"sum":return w=getParamValue("axis",k,A,E),N=getParamValue("keepDims",k,A,E),[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.Smz)(getParamValue("x",k,A,E),w,N)];case"all":return w=getParamValue("axis",k,A,E),N=getParamValue("keepDims",k,A,E),[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.$6P)(getParamValue("x",k,A,E),w,N)];case"any":return w=getParamValue("axis",k,A,E),N=getParamValue("keepDims",k,A,E),[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.YjB)(getParamValue("x",k,A,E),w,N)];case"argMax":return w=getParamValue("axis",k,A,E),[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.NqF)(getParamValue("x",k,A,E),w)];case"argMin":return w=getParamValue("axis",k,A,E),[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.vHJ)(getParamValue("x",k,A,E),w)];case"prod":return w=getParamValue("axis",k,A,E),N=getParamValue("keepDims",k,A,E),[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.WVs)(getParamValue("x",k,A,E),w,N)];default:throw TypeError("Node type "+k.op+" is not implemented")}},executeOp$13=function(k,A,E){switch(k.op){case"concat":var w=getParamValue("axis",k,A,E),N=getParamValue("tensors",k,A,E);return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.zoF)(N,w)];case"gather":w=getParamValue("axis",k,A,E);var t=getParamValue("x",k,A,E),I=getParamValue("indices",k,A,E);return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.Iqj)(t,I,w)];case"reverse":return w=getParamValue("axis",k,A,E),t=getParamValue("x",k,A,E),[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.GYS)(t,w)];case"slice":var H=getParamValue("begin",k,A,E),z=getParamValue("size",k,A,E);return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.tPi)(getParamValue("x",k,A,E),H,z)];case"stridedSlice":H=getParamValue("begin",k,A,E);var re=getParamValue("end",k,A,E),ce=getParamValue("strides",k,A,E),Oe=getParamValue("beginMask",k,A,E),M=getParamValue("endMask",k,A,E),Fe=getParamValue("ellipsisMask",k,A,E),we=getParamValue("newAxisMask",k,A,E),Tt=getParamValue("shrinkAxisMask",k,A,E),De=getParamValue("x",k,A,E);if(1===H.length&&De.shape.length>1)for(var Ae=1;Ae<De.shape.length;Ae++)H.push(0),re.push(De.shape[Ae]),ce.push(ce[0]);return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.NXj)(De,H,re,ce,Oe,M,Fe,we,Tt)];case"stack":return(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.lub)(function(){var Ye=getParamValue("axis",k,A,E),Qe=getParamValue("tensors",k,A,E),ze=Qe[0].shape,xt=Qe[0].squeeze().shape,pt=Qe.map(function(Ne){var Le=_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.D5U.arraysEqual(Ne.shape,ze);if(!Le&&!_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.D5U.arraysEqual(Ne.squeeze().shape,xt))throw new Error("the input tensors shape does not match");return Le?Ne:Ne.reshape(ze)});return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.knu)(pt,Ye)]});case"unstack":return(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.lub)(function(){var Ye=getParamValue("axis",k,A,E),Qe=getParamValue("tensor",k,A,E);return(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.HHK)(Qe,Ye)});case"tile":var je=getParamValue("reps",k,A,E);return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.Gg6)(getParamValue("x",k,A,E),je)];case"split":w=getParamValue("axis",k,A,E);var se=getParamValue("numOrSizeSplits",k,A,E);return(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.Vl2)(getParamValue("x",k,A,E),se,w);case"scatterNd":I=getParamValue("indices",k,A,E);var at=getParamValue("values",k,A,E),mt=getParamValue("shape",k,A,E);return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.snQ)(I,at,mt)];case"gatherNd":var Dt=getParamValue("x",k,A,E);return I=getParamValue("indices",k,A,E),[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.dbB)(Dt,I)];case"sparseToDense":I=getParamValue("sparseIndices",k,A,E),mt=getParamValue("outputShape",k,A,E);var Pe=getParamValue("sparseValues",k,A,E),Ee=getParamValue("defaultValue",k,A,E);return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.ers)(I,Pe,mt,Ee)];default:throw TypeError("Node type "+k.op+" is not implemented")}},executeOp$14=function(k,A,E){switch(k.op){case"cast":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.pju)(getParamValue("x",k,A,E),getParamValue("dtype",k,A,E))];case"expandDims":var w=getParamValue("axis",k,A,E);return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.dt4)(getParamValue("x",k,A,E),w)];case"squeeze":return w=getParamValue("axis",k,A,E),[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.L9e)(getParamValue("x",k,A,E),w)];case"reshape":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.XLQ)(getParamValue("x",k,A,E),getParamValue("shape",k,A,E))];case"pad":return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.vku)(getParamValue("x",k,A,E),split$1(getParamValue("padding",k,A,E),2),getParamValue("constantValue",k,A,E))];case"spaceToBatchND":var N=getParamValue("blockShape",k,A,E),t=split$1(getParamValue("paddings",k,A,E),2);return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.fBT)(getParamValue("x",k,A,E),N,t)];case"batchToSpaceND":N=getParamValue("blockShape",k,A,E);var I=split$1(getParamValue("crops",k,A,E),2);return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.E4h)(getParamValue("x",k,A,E),N,I)];case"depthToSpace":var H=getParamValue("blockSize",k,A,E),z=getParamValue("dataFormat",k,A,E);return[(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.nTT)(getParamValue("x",k,A,E),H,z)];default:throw TypeError("Node type "+k.op+" is not implemented")}};function executeOp$15(k,A,E){switch(k.category){case"arithmetic":return executeOp(k,A,E);case"basic_math":return executeOp$1(k,A,E);case"control":return executeOp$2(k,A,E);case"convolution":return executeOp$3(k,A,E);case"creation":return executeOp$4(k,A,E);case"dynamic":return executeOp$5(k,A,E);case"evaluation":return executeOp$6(k,A,E);case"image":return executeOp$8(k,A,E);case"graph":return executeOp$7(k,A,E);case"logical":return executeOp$9(k,A,E);case"matrices":return executeOp$10(k,A,E);case"normalization":return executeOp$11(k,A,E);case"reduction":return executeOp$12(k,A,E);case"slice_join":return executeOp$13(k,A,E);case"transformation":return executeOp$14(k,A,E);default:throw TypeError("Node type "+k.op+" is not implemented")}}var ExecutionContext=function(){function k(A,E){this.weightMap=A,this.tensorArrayMap=E,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}return k.prototype.newFrame=function(A,E){return{id:A,frameName:E,iterationId:0}},Object.defineProperty(k.prototype,"currentContext",{get:function(){return this.contexts},set:function(A){this.contexts!==A&&(this.contexts=A,this.generateCurrentContextIds())},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"currentContextId",{get:function(){return this._currentContextIds[0]},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"currentContextIds",{get:function(){return this._currentContextIds},enumerable:!0,configurable:!0}),k.prototype.generateCurrentContextIds=function(){for(var A=[],E=0;E<this.contexts.length-1;E++){var w=this.contexts.slice(0,this.contexts.length-E);A.push(this.contextIdforContexts(w))}A.push(""),this._currentContextIds=A},k.prototype.contextIdforContexts=function(A){return A?A.map(function(E){return 0===E.id&&0===E.iterationId?"":E.frameName+"-"+E.iterationId}).join("/"):""},k.prototype.enterFrame=function(A){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,A)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))},k.prototype.exitFrame=function(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()},k.prototype.nextIteration=function(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");this.contexts=this.contexts.slice(),this.lastId++;var A=Object.assign({},this.contexts[this.contexts.length-1]);A.iterationId+=1,A.id=this.lastId,this.contexts.splice(-1,1,A),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))},k.prototype.getWeight=function(A){return this.weightMap[A]},k.prototype.addTensorArray=function(A){this.tensorArrayMap[A.id]=A},k.prototype.getTensorArray=function(A){return this.tensorArrayMap[A]},k}(),GraphExecutor=function(){function k(A){this.graph=A,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this.placeholders=A.placeholders,this._outputs=A.outputs,this.compile()}return Object.defineProperty(k.prototype,"weightMap",{get:function(){return this._weightMap},set:function(A){var E=Object.keys(A).map(function(w){return A[w].map(function(N){return N.id})});this.weightIds=[].concat.apply([],E),this._weightMap=A},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"inputs",{get:function(){return this.placeholders.map(function(A){return{name:A.name,shape:A.params.shape?A.params.shape.value:void 0,dtype:A.params.dtype?A.params.dtype.value:void 0}})},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"outputs",{get:function(){return this._outputs.map(function(A){return{name:A.name,shape:A.params.shape?A.params.shape.value:void 0,dtype:A.params.dtype?A.params.dtype.value:void 0}})},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"inputNodes",{get:function(){return this.placeholders.map(function(A){return A.name})},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"outputNodes",{get:function(){return this.outputs.map(function(A){return A.name})},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"isControlFlowModel",{get:function(){return this.graph.withControlFlow},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"isDynamicShapeModel",{get:function(){return this.graph.withDynamicShape},enumerable:!0,configurable:!0}),k.prototype.compile=function(A){if(!this.graph.withControlFlow&&!this.graph.withDynamicShape){var E=[],w=A||this.graph.placeholders,N=w.map(function(z){return z.name}).sort().join(this.SEPERATOR);if(!this.compiledMap.get(N)){for(var t=w.concat(this.graph.weights),I={};t.length>0;){var H=t.pop();I[H.name]=!0,E.push(H),H.children.forEach(function(z){!I[z.name]&&z.inputNames.every(function(re){var ce=getNodeNameAndIndex(re)[0];return I[ce]})&&t.push(z)})}this.compiledMap.set(N,E)}}},k.prototype.execute=function(A,E,w){var N=this;void 0===E&&(E=!0);var t=Object.keys(A).sort();this.checkInput(A,E),this.checkInputShapeAndType(A,E),this.compile(t.map(function(z){return N.graph.nodes[z]}));var I=this.calculateOutputs(w);this.checkOutput(this.compiledMap.get(t.join(this.SEPERATOR)),I);var H={};return(0,_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.lub)(function(){for(var z=new ExecutionContext(N._weightMap,H),re=__assign({},N.weightMap,A),ce=N.getFrozenTensorIds(re),Oe={},M=N.compiledMap.get(t.join(N.SEPERATOR)),Fe=0;Fe<M.length;Fe++){var we=M[Fe];if(re[we.name]||(re[we.name]=executeOp$15(we,re,z),N.checkTensorForDisposal(we.name,we,re,z,ce,Oe)),I.every(function(Tt){return!!re[Tt]}))break}return N.findOutputs(re,z,I)})},k.prototype.getFrozenTensorIds=function(A){var E=[].concat.apply([],Object.keys(A).map(function(w){return A[w]}).map(function(w){return w.map(function(N){return N.id})}));return new Set(E)},k.prototype.checkTensorForDisposal=function(A,E,w,N,t,I){"control"!==E.category&&(w[A].forEach(function(H){null!=H&&(I[H.id]=(I[H.id]||0)+E.children.length)}),E.inputs.forEach(function(H){"control"!==H.category&&getTensorsForCurrentContenxt(H.name,w,N)?.forEach(function(re){if(re&&!t.has(re.id)){var ce=I[re.id];1===ce?(re.dispose(),delete I[re.id]):null!=ce&&I[re.id]--}})}))},k.prototype.executeAsync=function(A,E){return __awaiter(this,void 0,void 0,function(){var N,t,I,H,z,re,ce=this;return __generator(this,function(Oe){switch(Oe.label){case 0:return this.checkInput(A,!1),this.checkInputShapeAndType(A,!1),N=new ExecutionContext(this._weightMap,{}),[4,this.executeWithControlFlow(A,N)];case 1:return t=Oe.sent(),I=this.findOutputs(t,N,E),H=Object.keys(I).map(function(M){return I[M].id}),z=Object.keys(A).map(function(M){return A[M].map(function(Fe){return Fe.id})}),re=[].concat.apply([],z),Object.keys(t).forEach(function(M){t[M].forEach(function(Fe){Fe&&-1===H.indexOf(Fe.id)&&-1===re.indexOf(Fe.id)&&-1===ce.weightIds.indexOf(Fe.id)&&Fe.dispose()})}),[2,I]}})})},k.prototype.executeWithControlFlow=function(A,E){return __awaiter(this,void 0,void 0,function(){var w,N,t,I,H,z,re,ce,Oe=this;return __generator(this,function(M){switch(M.label){case 0:w=Object.keys(A),N=w.map(function(Fe){return Oe.graph.nodes[Fe]}),t=N.concat(this.graph.weights).map(function(Fe){return{node:Fe,contexts:E.currentContext}}),I=__assign({},this.weightMap,A),H={},z=this.getFrozenTensorIds(I),re={},M.label=1;case 1:return t.length>0?(ce=this.processStack(N,t,E,I,re,z,H),[4,Promise.all(ce)]):[3,3];case 2:return M.sent(),[3,1];case 3:return[2,I]}})})},k.prototype.processStack=function(A,E,w,N,t,I,H){for(var z=this,re=[],ce=function(){var M=E.pop();w.currentContext=M.contexts;var Fe="";if("enter"===M.node.op&&getParamValue("isConstant",M.node,N,w)&&(Fe=getNodeNameAndIndex(M.node.name,w)[0]),-1===A.indexOf(M.node)){var we=executeOp$15(M.node,N,w);Fe||(Fe=getNodeNameAndIndex(M.node.name,w)[0]);var Tt=w.currentContext;we instanceof Promise?re.push(we.then(function(De){return N[Fe]=De,w.currentContext=Tt,z.checkTensorForDisposal(Fe,M.node,N,w,I,H),z.processChildNodes(M.node,E,w,N,t),De})):(N[Fe]=we,Oe.checkTensorForDisposal(Fe,M.node,N,w,I,H),Oe.processChildNodes(M.node,E,w,N,t))}else Oe.processChildNodes(M.node,E,w,N,t)},Oe=this;E.length>0;)ce();return re},k.prototype.processChildNodes=function(A,E,w,N,t){A.children.forEach(function(I){var H=getNodeNameAndIndex(I.name,w)[0];t[H]||("merge"===I.op?I.inputNames.some(function(z){return!!getTensor(z,N,w)})&&(t[H]=!0,E.push({contexts:w.currentContext,node:I})):I.inputNames.every(function(z){return!!getTensor(z,N,w)})&&(t[H]=!0,E.push({contexts:w.currentContext,node:I})))})},k.prototype.calculateOutputs=function(A){return!A||A instanceof Array||(A=[A]),A||this.graph.outputs.map(function(E){return E.name})},k.prototype.findOutputs=function(A,E,w){return this.calculateOutputs(w).reduce(function(N,t){return N[t]=getTensor(t,A,E),N},{})},k.prototype.dispose=function(){var A=this;Object.keys(this.weightMap).forEach(function(E){return A.weightMap[E].forEach(function(w){return w.dispose()})})},k.prototype.checkInputShapeAndType=function(A,E){void 0===E&&(E=!0),this.placeholders.forEach(function(w){var N=A[w.name];if(E||N){var t=N[0];if(w.params.shape&&w.params.shape.value){var I=w.params.shape.value,H=I.length===t.shape.length&&t.shape.every(function(z,re){return-1===I[re]||I[re]===z});_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.D5U.assert(H,"The shape of dict['"+w.name+"'] provided in model.execute(dict) must be ["+I+"], but was ["+t.shape+"]")}w.params.dtype&&w.params.dtype.value&&_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.D5U.assert(t.dtype===w.params.dtype.value,"The dtype of dict['"+w.name+"'] provided in model.execute(dict) must be "+w.params.dtype.value+", but was "+t.dtype)}})},k.prototype.checkInput=function(A,E){var w=this;void 0===E&&(E=!0);var N=Object.keys(A),t=[],I=[];this.inputNodes.forEach(function(z){-1===N.indexOf(z)&&t.push(z)}),N.forEach(function(z){-1===w.inputNodes.indexOf(z)&&I.push(z)});var H=I.filter(function(z){return!w.graph.nodes[z]});if(t.length>0&&E)throw new Error("The dict provided in model.execute(dict) has the keys ["+N+"], but is missing the required keys: ["+t+"].");if(I.length>0&&E)throw new Error("The dict provided in model.execute(dict) has unused keys: ["+I+"]. Please provide only the following keys: ["+this.inputNodes+"].");if(H.length>0)throw new Error("The dict provided in model.execute(dict) has keys: ["+H+"] not part of model graph.")},k.prototype.checkOutput=function(A,E){var w=A.map(function(t){return t.name}),N=[];if(E.forEach(function(t){-1===w.indexOf(t)&&N.push(t)}),N.length>0)throw new Error("The following outputs are not be generated by the execution: ["+N+"].")},k}(),FrozenModel=function(){function k(A,E,w){this.modelUrl=A,this.weightManifestUrl=E,this.requestOption=w,this.version="n/a"}return Object.defineProperty(k.prototype,"modelVersion",{get:function(){return this.version},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"inputNodes",{get:function(){return this.executor.inputNodes},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"outputNodes",{get:function(){return this.executor.outputNodes},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"inputs",{get:function(){return this.executor.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"outputs",{get:function(){return this.executor.outputs},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"weights",{get:function(){return this.executor.weightMap},enumerable:!0,configurable:!0}),k.prototype.findIOHandler=function(){var A=[this.modelUrl,this.weightManifestUrl];if(this.requestOption)this.handler=_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.io.browserHTTPRequest(A,this.requestOption);else{var E=_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.io.getLoadHandlers(A);if(0===E.length)E.push(_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.io.browserHTTPRequest(A,this.requestOption));else if(E.length>1)throw new Error("Found more than one ("+E.length+") load handlers for URL '"+[A]+"'");this.handler=E[0]}},k.prototype.load=function(){return __awaiter(this,void 0,void 0,function(){var A,E,w;return __generator(this,function(N){switch(N.label){case 0:if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");return[4,this.handler.load()];case 1:return A=N.sent(),E=compiled_api_1.GraphDef.decode(new Uint8Array(A.modelTopology)),this.version=E.versions.producer+"."+E.versions.minConsumer,w=_tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.io.decodeWeights(A.weightData,A.weightSpecs),this.executor=new GraphExecutor(OperationMapper.Instance.transformGraph(E)),this.executor.weightMap=this.convertTensorMapToTensorsMap(w),[2,!0]}})})},k.prototype.predict=function(A,E){return this.execute_(A,!0,this.outputNodes)},k.prototype.constructTensorMap=function(A){var E=A instanceof _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.esB?[A]:A;if(E.length!==this.inputNodes.length)throw new Error("Input tensor count mismatch,the frozen model has "+this.inputNodes.length+" placeholders, while there are "+E.length+" input tensors.");return this.inputNodes.reduce(function(w,N,t){return w[N]=E[t],w},{})},k.prototype.execute=function(A,E){return this.execute_(A,!1,E)},k.prototype.execute_=function(A,E,w){if(void 0===E&&(E=!0),w=w||this.outputNodes,(A instanceof _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.esB||Array.isArray(A))&&(A=this.constructTensorMap(A)),this.executor.isControlFlowModel||this.executor.isDynamicShapeModel)throw new Error("The model contains control flow or dynamic shape ops, please use executeAsync method");var N=this.executor.execute(this.convertTensorMapToTensorsMap(A),E,w),t=Object.keys(N);return Array.isArray(w)&&w.length>1?w.map(function(I){return N[I]}):N[t[0]]},k.prototype.executeAsync=function(A,E){return __awaiter(this,void 0,void 0,function(){var w,N;return __generator(this,function(t){switch(t.label){case 0:if(!this.executor.isControlFlowModel&&!this.executor.isDynamicShapeModel)throw new Error("The model does not contain control flow or dynamic shape ops, please use execute method for better performance.");return E=E||this.outputNodes,(A instanceof _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_0__.esB||Array.isArray(A))&&(A=this.constructTensorMap(A)),[4,this.executor.executeAsync(this.convertTensorMapToTensorsMap(A),E)];case 1:return w=t.sent(),N=Object.keys(w),[2,Array.isArray(E)&&E.length>1?E.map(function(I){return w[I]}):w[N[0]]]}})})},k.prototype.convertTensorMapToTensorsMap=function(A){return Object.keys(A).reduce(function(E,w){return E[w]=[A[w]],E},{})},k.prototype.dispose=function(){this.executor.dispose()},k}();function loadFrozenModel(k,A,E){return __awaiter(this,void 0,void 0,function(){var w;return __generator(this,function(N){switch(N.label){case 0:return[4,(w=new FrozenModel(k,A,E)).load()];case 1:return N.sent(),[2,w]}})})}var version="0.6.7"},253:(k,A,E)=>{"use strict";E.d(A,{$6P:()=>ff,$i:()=>Pf,$r2:()=>tu,AEp:()=>ef,AKD:()=>Ig,AL3:()=>ed,B10:()=>kg,B90:()=>ga,BHj:()=>nu,Bfx:()=>Nl,C1$:()=>Ci,C80:()=>vg,CQI:()=>Yf,CmS:()=>va,CnO:()=>$g,CnY:()=>Ln,D5U:()=>et,DBS:()=>km,DYp:()=>Zf,DgJ:()=>wf,E4h:()=>Zl,F08:()=>tf,FGK:()=>Qg,Fp7:()=>Xh,G9k:()=>hc,GWj:()=>Kp,GYS:()=>Kc,Gg6:()=>Xu,Gi7:()=>mf,HHK:()=>jp,HeW:()=>Uy,HvI:()=>lp,IH3:()=>No,IHx:()=>Os,Ioh:()=>Kd,Iqj:()=>hp,IrJ:()=>um,Izb:()=>K,J69:()=>Zg,JHc:()=>qm,JLz:()=>bs,JpU:()=>qo,K5V:()=>up,KOy:()=>Mu,Khb:()=>yg,Krr:()=>_g,L9e:()=>Ph,LGj:()=>bl,LTh:()=>Af,Lfl:()=>hm,M25:()=>Xp,MB5:()=>vs,MNy:()=>ae,N2O:()=>nf,N5s:()=>vo,N8o:()=>Xv,NMM:()=>wg,NT4:()=>dm,NXj:()=>wm,NZz:()=>Hi,N_N:()=>Qv,Nbs:()=>xg,NqF:()=>Jh,O$l:()=>sc,ODp:()=>Hp,OI3:()=>Hh,ORZ:()=>$d,O_u:()=>Qs,P84:()=>Nr,PAt:()=>Yd,PYB:()=>Ur,QBD:()=>rh,QEs:()=>ah,Qqt:()=>ac,Quu:()=>np,RRF:()=>or,R_K:()=>Wc,S0v:()=>So,SDf:()=>Fg,SFm:()=>tp,SJ_:()=>Jr,SX3:()=>Go,SmN:()=>Wh,Smz:()=>yf,Sxn:()=>ad,TN_:()=>zp,Tek:()=>Ql,U8D:()=>Tu,ULw:()=>sp,UQy:()=>Mo,UYe:()=>ea,U_I:()=>sf,VD$:()=>Ri,VV$:()=>Yg,VfV:()=>jd,ViN:()=>Re,Vl2:()=>_e,W76:()=>Qp,WVs:()=>Xc,WnP:()=>mg,Wvh:()=>Cg,Wzl:()=>sm,XAC:()=>Pa,XD2:()=>Gc,XLQ:()=>bu,XVJ:()=>ei,XeE:()=>Fr,Xu6:()=>eo,Xxe:()=>Uh,YDk:()=>Pr,YjB:()=>Qc,ZRM:()=>Wp,ZaL:()=>fe,Zuw:()=>Ai,__u:()=>Gm,_b3:()=>Dg,_jk:()=>am,_sB:()=>cf,_wD:()=>nn,a4z:()=>Pm,arb:()=>Rf,asL:()=>ka,bVb:()=>Wd,bZ8:()=>cy,bc:()=>Jd,bp0:()=>Ks,brS:()=>ep,cM7:()=>Jp,cbc:()=>Ao,csF:()=>Wy,d9m:()=>Cf,d9v:()=>_l,dC7:()=>cm,d_R:()=>Ug,dbB:()=>c,diP:()=>As,dt4:()=>gs,e_t:()=>bg,egP:()=>fm,ers:()=>$f,esB:()=>Mt,f3b:()=>Gr,f9Y:()=>oc,fBT:()=>wu,fNQ:()=>Io,fvJ:()=>im,g1k:()=>Dl,gME:()=>V,gVI:()=>zy,gWQ:()=>Xl,gaJ:()=>ud,glt:()=>ta,h62:()=>Eg,h76:()=>fa,hJK:()=>kf,hg7:()=>Uf,hi7:()=>el,hiC:()=>If,hlL:()=>Fa,iD$:()=>Xt,iUl:()=>Vh,iUs:()=>no,io:()=>mv,itS:()=>gm,iyy:()=>_u,jTM:()=>mo,jZU:()=>Hg,knu:()=>Cu,koy:()=>Ju,kp_:()=>od,kwC:()=>Ii,lGY:()=>zo,l_t:()=>gf,lfX:()=>Di,lls:()=>Hr,luU:()=>pm,lub:()=>Yn,m7h:()=>Wv,mAU:()=>Ly,mCk:()=>Hd,mDi:()=>Zp,mG2:()=>uf,nGf:()=>Yl,nTT:()=>$a,nXo:()=>zc,odF:()=>ts,op:()=>Ue,p0P:()=>ry,p3L:()=>Am,p4s:()=>ys,pNR:()=>Ga,pUJ:()=>oh,p_:()=>Vf,p_j:()=>Jv,pjt:()=>dc,pju:()=>fs,pnJ:()=>Qa,pyx:()=>mm,qAh:()=>on,qNN:()=>Yp,qPi:()=>Xs,r7z:()=>ap,rIn:()=>Rm,rq4:()=>Bf,sQ3:()=>Of,snQ:()=>zf,sq6:()=>e0,sx7:()=>uc,sz_:()=>om,t$B:()=>Du,t1L:()=>Qu,tPi:()=>Su,tiA:()=>pa,uN7:()=>Cm,vHJ:()=>Qh,vku:()=>Xi,w6H:()=>lo,wOQ:()=>_a,wQq:()=>lm,wS1:()=>Vg,xZs:()=>Ra,yOA:()=>z0,yXz:()=>Gi,yw1:()=>Ca,z4N:()=>qp,zEQ:()=>Lf,zJI:()=>Om,zN1:()=>Df,zVC:()=>th,zbp:()=>vu,zoF:()=>C,zqr:()=>rm});var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,e){o.__proto__=e}||function(o,e){for(var r in e)e.hasOwnProperty(r)&&(o[r]=e[r])};function N(o,e){function r(){this.constructor=o}w(o,e),o.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var t=Object.assign||function(o){for(var e,r=1,s=arguments.length;r<s;r++)for(var h in e=arguments[r])Object.prototype.hasOwnProperty.call(e,h)&&(o[h]=e[h]);return o};function I(o,e,r,s){return new(r||(r=Promise))(function(h,m){function D(B){try{R(s.next(B))}catch($){m($)}}function S(B){try{R(s.throw(B))}catch($){m($)}}function R(B){B.done?h(B.value):new r(function($){$(B.value)}).then(D,S)}R((s=s.apply(o,e||[])).next())})}function H(o,e){var r,s,h,m,D={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return m={next:S(0),throw:S(1),return:S(2)},"function"==typeof Symbol&&(m[Symbol.iterator]=function(){return this}),m;function S(R){return function(B){return function($){if(r)throw new TypeError("Generator is already executing.");for(;D;)try{if(r=1,s&&(h=2&$[0]?s.return:$[0]?s.throw||((h=s.return)&&h.call(s),0):s.next)&&!(h=h.call(s,$[1])).done)return h;switch(s=0,h&&($=[2&$[0],h.value]),$[0]){case 0:case 1:h=$;break;case 4:return D.label++,{value:$[1],done:!1};case 5:D.label++,s=$[1],$=[0];continue;case 7:$=D.ops.pop(),D.trys.pop();continue;default:if(!(h=(h=D.trys).length>0&&h[h.length-1])&&(6===$[0]||2===$[0])){D=0;continue}if(3===$[0]&&(!h||$[1]>h[0]&&$[1]<h[3])){D.label=$[1];break}if(6===$[0]&&D.label<h[1]){D.label=h[1],h=$;break}if(h&&D.label<h[2]){D.label=h[2],D.ops.push($);break}h[2]&&D.ops.pop(),D.trys.pop();continue}$=e.call(o,D)}catch(Q){$=[6,Q],s=0}finally{r=h=0}if(5&$[0])throw $[1];return{value:$[0]?$[1]:void 0,done:!0}}([R,B])}}}var z={},re={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function ce(o){o in z||(document.createElement("canvas").addEventListener("webglcontextlost",function(r){r.preventDefault(),delete z[o]},!1),z[o]=function Oe(o){if(1!==o&&2!==o)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var e=document.createElement("canvas");return 1===o?e.getContext("webgl",re)||e.getContext("experimental-webgl",re):e.getContext("webgl2",re)}(o));var e=z[o];return e.isContextLost()?(delete z[o],ce(o)):(e.disable(e.DEPTH_TEST),e.disable(e.STENCIL_TEST),e.disable(e.BLEND),e.disable(e.DITHER),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SAMPLE_COVERAGE),e.enable(e.SCISSOR_TEST),e.enable(e.CULL_FACE),e.cullFace(e.BACK),z[o])}function Fe(o){for(var e=o.length,r=0,s=0;e>0;)s=Math.random()*e|0,r=o[--e],o[e]=o[s],o[s]=r}function we(o,e,r){return Math.max(o,Math.min(e,r))}function Tt(o){return o%2==0?o:o+1}function De(o){for(var e=0,r=0;r<o.length;r++)e+=o[r];return e}function Ae(o,e){var r=Math.random();return e*r+(1-r)*o}function se(o,e){if(!o)throw new Error("string"==typeof e?e:e())}function at(o,e,r){void 0===r&&(r=""),se(Ye(o,e),r+" Shapes "+o+" and "+e+" must match")}function mt(o){se(null!=o,"The input to the tensor constructor must be a non-null value.")}function Dt(o,e){if(void 0===e&&(e=[]),Array.isArray(o))for(var r=0;r<o.length;++r)Dt(o[r],e);else e.push(o);return e}function Pe(o){if(0===o.length)return 1;for(var e=o[0],r=1;r<o.length;r++)e*=o[r];return e}function Ye(o,e){if(o===e)return!0;if(null==o||null==e||o.length!==e.length)return!1;for(var r=0;r<o.length;r++)if(o[r]!==e[r])return!1;return!0}function Qe(o){return o%1==0}function ze(o){if(null!=Math.tanh)return Math.tanh(o);if(o===1/0)return 1;if(o===-1/0)return-1;var e=Math.exp(2*o);return(e-1)/(e+1)}function xt(o){for(var e=Math.floor(Math.sqrt(o));e>1;--e)if(o%e==0)return[e,o/e];return[1,o]}function Ne(o,e){return e<=o.length?o:o+" ".repeat(e-o.length)}function Le(o,e,r){return void 0===e&&(e=function(s){return 0}),new Promise(function(s,h){var m=0,D=function(){if(o())s();else{var S=e(++m);null!=r&&m>=r?h():setTimeout(D,S)}};D()})}function cn(o,e){for(var r=1,s=-1,h=0;h<o.length;++h)if(o[h]>=0)r*=o[h];else if(-1===o[h]){if(-1!==s)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+s+" and dim "+h);s=h}else if(o[h]<0)throw Error("Shapes can not be < 0. Found "+o[h]+" at dim "+h);if(-1===s){if(e>0&&e!==r)throw Error("Size("+e+") must match the product of shape "+o);return o}if(0===r)throw Error("Cannot infer the missing size in ["+o+"] when there are 0 elements");if(e%r!=0)throw Error("The implicit shape can't be a fractional number. Got "+e+" / "+r);var m=o.slice();return m[s]=e/r,m}function ct(o,e){for(var r=[],s=[],h=0,m=0;m<o.length;++m){if(null!=e){if(e[h]===m&&1!==o[m])throw new Error("Can't squeeze axis "+m+" since its dim '"+o[m]+"' is not 1");(null==e[h]||e[h]>m)&&1===o[m]&&(r.push(o[m]),s.push(m)),e[h]<=m&&h++}1!==o[m]&&(r.push(o[m]),s.push(m))}return{newShape:r,keptDims:s}}function qe(o,e){var r=null;if(null==o||"float32"===o)r=new Float32Array(e);else if("int32"===o)r=new Int32Array(e);else{if("bool"!==o)throw new Error("Unknown data type "+o);r=new Uint8Array(e)}return r}function it(o,e,r){if("float32"===e)for(var s=0;s<o.length;s++)if(isNaN(o[s]))throw Error("The result of the '"+r+"' has NaNs.")}function st(o,e){if("float32"!==e)for(var r=0;r<o.length;r++)if(isNaN(o[r]))throw Error("NaN is not a valid value for dtype: '"+e+"'.")}function nt(o,e){return!("complex64"===e||"float32"===e&&"complex64"!==o||"int32"===e&&"float32"!==o&&"complex64"!==o||"bool"===e&&"bool"===o)}function At(o){return o instanceof Float32Array||o instanceof Int32Array||o instanceof Uint8Array}function Wt(o){if("float32"===o||"int32"===o)return 4;if("complex64"===o)return 8;if("bool"===o)return 1;throw new Error("Unknown dtype "+o)}function zt(o){return!!(o&&o.constructor&&o.call&&o.apply)}function An(o,e){for(var r=e;r<o;++r)if(o%r==0)return r;return o}function en(o){var e=o.length;if(e<2)return[];var r=new Array(e-1);r[e-2]=o[e-1];for(var s=e-3;s>=0;--s)r[s]=r[s+1]*o[s+1];return r}function Qt(o,e,r){return function yn(o,e){return o instanceof Float32Array&&"float32"===e||o instanceof Int32Array&&"int32"===e||o instanceof Uint8Array&&"bool"===e}(o,e)?o:(Array.isArray(o)&&(o=Dt(o)),function wt(o,e,r){if(null==e||"float32"===e||"complex64"===e)return new Float32Array(o);if("int32"===e)return r&&st(o,e),new Int32Array(o);if("bool"===e){for(var s=new Uint8Array(o.length),h=0;h<s.length;++h)0!==Math.round(o[h])&&(s[h]=1);return s}throw new Error("Unknown data type "+e)}(o,e,r))}function _t(o,e){for(var r=Vt(o,e),s=0;s<r.length;s++)r[s]=1;return r}function Vt(o,e){if(null==e||"float32"===e||"complex64"===e)return new Float32Array(o);if("int32"===e)return new Int32Array(o);if("bool"===e)return new Uint8Array(o);throw new Error("Unknown data type "+e)}function Te(){if(typeof performance<"u")return performance.now();if(typeof process<"u"){var o=process.hrtime();return 1e3*o[0]+o[1]/1e6}throw new Error("Cannot measure time in this environment. You should run tf.js in the browser or in Node.js")}var et=Object.freeze({shuffle:Fe,clamp:we,nearestLargerEven:Tt,sum:De,randUniform:Ae,distSquared:function je(o,e){for(var r=0,s=0;s<o.length;s++){var h=Number(o[s])-Number(e[s]);r+=h*h}return r},assert:se,assertShapesMatch:at,assertNonNull:mt,flatten:Dt,sizeFromShape:Pe,isScalarShape:function Ee(o){return 0===o.length},arraysEqual:Ye,isInt:Qe,tanh:ze,sizeToSquarishShape:xt,createShuffledIndices:function pt(o){for(var e=new Uint32Array(o),r=0;r<o;++r)e[r]=r;return Fe(e),e},rightPad:Ne,repeatedTry:Le,inferFromImplicitShape:cn,squeezeShape:ct,getTypedArrayFromDType:qe,checkComputationForNaN:it,checkConversionForNaN:st,hasEncodingLoss:nt,isTypedArray:At,bytesPerElement:Wt,isFunction:zt,nearestDivisor:An,computeStrides:en,toTypedArray:Qt,makeOnesTypedArray:_t,makeZerosTypedArray:Vt,now:Te}),It=function(){function o(e,r){this.backendTimer=e,this.logger=r,null==r&&(this.logger=new Ut)}return o.prototype.profileKernel=function(e,r){var s,h=this,m=this.backendTimer.time(function(){s=r()});return(Array.isArray(s)?s:[s]).forEach(function(D){var S=D.dataSync();it(S,D.dtype,e),m.then(function(R){var B="";null!=R.getExtraProfileInfo&&(B=R.getExtraProfileInfo()),h.logger.logKernelProfile(e,D,S,R.kernelMs,B)})}),s},o}(),Ut=function(){function o(){}return o.prototype.logKernelProfile=function(e,r,s,h,m){var D=Ne(h+"ms",9),S=Ne(e,25),R=r.rank,B=r.size,$=Ne(r.shape.toString(),14);console.log("%c"+S+"\t%c"+D+"\t%c"+R+"D "+$+"\t%c"+B+"\t%c"+m,"font-weight:bold","color:red","color:blue","color: orange","color: green")},o}(),rn=20,xr=3,Sr=7;function Xn(o,e,r,s){var h=en(e),m=function er(o,e,r,s){var h=Pe(e),m=s[s.length-1],D=new Array(m).fill(0),S=e.length,R="complex64"===r?Ti(o):o;if(S>1)for(var B=0;B<h/m;B++)for(var $=B*m,Q=0;Q<m;Q++)D[Q]=Math.max(D[Q],di(R[$+Q],0).length);return D}(o,e,r,h),D=e.length,S=Jt(o,e,r,h,m),R=["Tensor"];return s&&(R.push("  dtype: "+r),R.push("  rank: "+D),R.push("  shape: ["+e+"]"),R.push("  values:")),R.push(S.map(function(B){return"    "+B}).join("\n")),R.join("\n")}function di(o,e){return Ne(Array.isArray(o)?parseFloat(o[0].toFixed(Sr))+" + "+parseFloat(o[1].toFixed(Sr))+"j":parseFloat(o.toFixed(Sr)).toString(),e)}function Jt(o,e,r,s,h,m){void 0===m&&(m=!0);var D="complex64"===r?2:1,S=e[0],R=e.length;if(0===R)return"complex64"===r?[di(Ti(o)[0],0)]:[o[0].toString()];if(1===R){if(S>rn){var $=Array.from(o.subarray(0,xr*D)),Q=Array.from(o.subarray(S-xr*D,S));return"complex64"===r&&($=Ti($),Q=Ti(Q)),["["+$.map(function(Ct,Pt){return di(Ct,h[Pt])}).join(", ")+", ..., "+Q.map(function(Ct,Pt){return di(Ct,h[S-xr+Pt])}).join(", ")+"]"]}return["["+("complex64"===r?Ti(o):Array.from(o)).map(function(Ct,Pt){return di(Ct,h[Pt])}).join(", ")+"]"]}var ee=e.slice(1),ue=s.slice(1),ye=s[0]*D,ge=[];if(S>rn){for(var xe=0;xe<xr;xe++){var Be=($e=xe*ye)+ye;ge.push.apply(ge,Jt(o.subarray($e,Be),ee,r,ue,h,!1))}for(ge.push("..."),xe=S-xr;xe<S;xe++)Be=($e=xe*ye)+ye,ge.push.apply(ge,Jt(o.subarray($e,Be),ee,r,ue,h,xe===S-1))}else for(xe=0;xe<S;xe++){var $e;Be=($e=xe*ye)+ye,ge.push.apply(ge,Jt(o.subarray($e,Be),ee,r,ue,h,xe===S-1))}var ot=2===R?",":"";for(ge[0]="["+ge[0]+ot,xe=1;xe<ge.length-1;xe++)ge[xe]=" "+ge[xe]+ot;var Nt=",\n";for(xe=2;xe<R;xe++)Nt+="\n";return ge[ge.length-1]=" "+ge[ge.length-1]+"]"+(m?"":Nt),ge}function Ti(o){for(var e=[],r=0;r<o.length;r+=2)e.push([o[r],o[r+1]]);return e}var Pr=function(){function o(e,r,s){if(this.dtype=r,this.shape=e.slice(),this.size=Pe(e),null!=s){var h=s.length;se(h===this.size,"Length of values '"+h+"' does not match the size inferred by the shape '"+this.size+"'.")}if("complex64"===r)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=s||qe(r,Pe(this.shape)),this.strides=en(e)}return o.prototype.set=function(e){for(var r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];0===r.length&&(r=[0]),se(r.length===this.rank,"The number of provided coordinates ("+r.length+") must match the rank ("+this.rank+")");var h=this.locToIndex(r);this.values[h]=e},o.prototype.get=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];0===e.length&&(e=[0]);for(var s=e[e.length-1],h=0;h<e.length-1;++h)s+=this.strides[h]*e[h];return this.values[s]},o.prototype.locToIndex=function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var r=e[e.length-1],s=0;s<e.length-1;++s)r+=this.strides[s]*e[s];return r},o.prototype.indexToLoc=function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var r=new Array(this.shape.length),s=0;s<r.length-1;++s)r[s]=Math.floor(e/this.strides[s]),e-=r[s]*this.strides[s];return r[r.length-1]=e,r},Object.defineProperty(o.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),o.prototype.toTensor=function(){return Mt.make(this.shape,{values:this.values},this.dtype)},o}(),pr=null,bt=null;function Ka(o){pr=o}var Mt=function(){function o(e,r,s,h){this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=r||"float32",this.size=Pe(e),null!=s&&se(this.size===s.length,"Based on the provided shape, ["+e+"], and dtype "+this.dtype+", the tensor should have "+this.size+" values but has "+s.length),this.strides=en(e),this.dataId=h??{},this.id=pr().nextTensorId(),this.rankType=this.rank<5?this.rank.toString():"higher",pr().registerTensor(this),null!=s&&pr().write(this.dataId,s)}return o.make=function(e,r,s){return new o(e,s,r.values,r.dataId)},o.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},o.prototype.asScalar=function(){return this.throwIfDisposed(),se(1===this.size,"The array must have only 1 element."),this.reshape([])},o.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},o.prototype.as2D=function(e,r){return this.throwIfDisposed(),this.reshape([e,r])},o.prototype.as3D=function(e,r,s){return this.throwIfDisposed(),this.reshape([e,r,s])},o.prototype.as4D=function(e,r,s,h){return this.throwIfDisposed(),this.reshape([e,r,s,h])},o.prototype.asType=function(e){return this.throwIfDisposed(),bt.cast(this,e)},Object.defineProperty(o.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),o.prototype.get=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];se(e.length===this.rank,"Number of coordinates in get() must match the rank of the tensor"),se("complex64"!==this.dtype,"Tensor.get() is not supported for complex64 tensors yet."),this.throwIfDisposed(),0===e.length&&(e=[0]);for(var s=e[e.length-1],h=0;h<e.length-1;++h)s+=this.strides[h]*e[h];return this.dataSync()[s]},o.prototype.buffer=function(){return bt.buffer(this.shape,this.dtype,this.dataSync())},o.prototype.data=function(){return I(this,void 0,void 0,function(){return H(this,function(e){return this.throwIfDisposed(),[2,pr().read(this.dataId)]})})},o.prototype.dataSync=function(){return this.throwIfDisposed(),pr().readSync(this.dataId)},o.prototype.dispose=function(){this.isDisposed||(pr().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(o.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),o.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},o.prototype.toFloat=function(){return this.asType("float32")},o.prototype.toInt=function(){return this.asType("int32")},o.prototype.toBool=function(){return this.asType("bool")},o.prototype.print=function(e){return void 0===e&&(e=!1),bt.print(this,e)},o.prototype.reshape=function(e){return this.throwIfDisposed(),bt.reshape(this,e)},o.prototype.reshapeAs=function(e){return this.throwIfDisposed(),this.reshape(e.shape)},o.prototype.expandDims=function(e){return void 0===e&&(e=0),bt.expandDims(this,e)},o.prototype.cumsum=function(e,r,s){return void 0===e&&(e=0),void 0===r&&(r=!1),void 0===s&&(s=!1),bt.cumsum(this,e,r,s)},o.prototype.squeeze=function(e){return this.throwIfDisposed(),bt.squeeze(this,e)},o.prototype.clone=function(){return this.throwIfDisposed(),bt.clone(this)},o.prototype.toString=function(e){return void 0===e&&(e=!1),Xn(this.dataSync(),this.shape,this.dtype,e)},o.prototype.tile=function(e){return this.throwIfDisposed(),bt.tile(this,e)},o.prototype.gather=function(e,r){return void 0===r&&(r=0),this.throwIfDisposed(),bt.gather(this,e,r)},o.prototype.matMul=function(e,r,s){return void 0===r&&(r=!1),void 0===s&&(s=!1),this.throwIfDisposed(),bt.matMul(this,e,r,s)},o.prototype.dot=function(e){return this.throwIfDisposed(),bt.dot(this,e)},o.prototype.norm=function(e,r,s){return void 0===e&&(e="euclidean"),void 0===r&&(r=null),void 0===s&&(s=!1),this.throwIfDisposed(),bt.norm(this,e,r,s)},o.prototype.slice=function(e,r){return this.throwIfDisposed(),bt.slice(this,e,r)},o.prototype.reverse=function(e){return this.throwIfDisposed(),bt.reverse(this,e)},o.prototype.concat=function(e,r){return void 0===r&&(r=0),this.throwIfDisposed(),bt.concat([this,e],r)},o.prototype.split=function(e,r){return void 0===r&&(r=0),this.throwIfDisposed(),bt.split(this,e,r)},o.prototype.stack=function(e,r){return void 0===r&&(r=0),bt.stack([this,e],r)},o.prototype.unstack=function(e,r){return void 0===r&&(r=0),bt.unstack(this,r)},o.prototype.pad=function(e,r){return void 0===r&&(r=0),bt.pad(this,e,r)},o.prototype.batchNormalization=function(e,r,s,h,m){return void 0===s&&(s=.001),this.throwIfDisposed(),bt.batchNormalization(this,e,r,s,h,m)},o.prototype.all=function(e,r){return void 0===e&&(e=null),void 0===r&&(r=!1),this.throwIfDisposed(),bt.all(this,e,r)},o.prototype.any=function(e,r){return void 0===e&&(e=null),void 0===r&&(r=!1),this.throwIfDisposed(),bt.any(this,e,r)},o.prototype.logSumExp=function(e,r){return void 0===e&&(e=null),void 0===r&&(r=!1),this.throwIfDisposed(),bt.logSumExp(this,e,r)},o.prototype.sum=function(e,r){return void 0===e&&(e=null),void 0===r&&(r=!1),this.throwIfDisposed(),bt.sum(this,e,r)},o.prototype.prod=function(e,r){return void 0===e&&(e=null),void 0===r&&(r=!1),this.throwIfDisposed(),bt.prod(this,e,r)},o.prototype.mean=function(e,r){return void 0===e&&(e=null),void 0===r&&(r=!1),this.throwIfDisposed(),bt.mean(this,e,r)},o.prototype.min=function(e,r){return void 0===e&&(e=null),void 0===r&&(r=!1),this.throwIfDisposed(),bt.min(this,e,r)},o.prototype.max=function(e,r){return void 0===e&&(e=null),void 0===r&&(r=!1),this.throwIfDisposed(),bt.max(this,e,r)},o.prototype.argMin=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),bt.argMin(this,e)},o.prototype.argMax=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),bt.argMax(this,e)},o.prototype.cast=function(e){return this.throwIfDisposed(),bt.cast(this,e)},o.prototype.add=function(e){return this.throwIfDisposed(),bt.add(this,e)},o.prototype.addStrict=function(e){return this.throwIfDisposed(),bt.addStrict(this,e)},o.prototype.atan2=function(e){return this.throwIfDisposed(),bt.atan2(this,e)},o.prototype.sub=function(e){return this.throwIfDisposed(),bt.sub(this,e)},o.prototype.subStrict=function(e){return this.throwIfDisposed(),bt.subStrict(this,e)},o.prototype.pow=function(e){return this.throwIfDisposed(),bt.pow(this,e)},o.prototype.powStrict=function(e){return this.throwIfDisposed(),bt.powStrict(this,e)},o.prototype.mul=function(e){return this.throwIfDisposed(),bt.mul(this,e)},o.prototype.mulStrict=function(e){return this.throwIfDisposed(),bt.mulStrict(this,e)},o.prototype.div=function(e){return this.throwIfDisposed(),bt.div(this,e)},o.prototype.floorDiv=function(e){return this.throwIfDisposed(),bt.floorDiv(this,e)},o.prototype.divStrict=function(e){return this.throwIfDisposed(),bt.divStrict(this,e)},o.prototype.minimum=function(e){return this.throwIfDisposed(),bt.minimum(this,e)},o.prototype.minimumStrict=function(e){return this.throwIfDisposed(),bt.minimumStrict(this,e)},o.prototype.maximum=function(e){return this.throwIfDisposed(),bt.maximum(this,e)},o.prototype.maximumStrict=function(e){return this.throwIfDisposed(),bt.maximumStrict(this,e)},o.prototype.mod=function(e){return this.throwIfDisposed(),bt.mod(this,e)},o.prototype.modStrict=function(e){return this.throwIfDisposed(),bt.modStrict(this,e)},o.prototype.squaredDifference=function(e){return this.throwIfDisposed(),bt.squaredDifference(this,e)},o.prototype.squaredDifferenceStrict=function(e){return this.throwIfDisposed(),bt.squaredDifferenceStrict(this,e)},o.prototype.transpose=function(e){return this.throwIfDisposed(),bt.transpose(this,e)},o.prototype.notEqual=function(e){return this.throwIfDisposed(),bt.notEqual(this,e)},o.prototype.notEqualStrict=function(e){return this.throwIfDisposed(),bt.notEqualStrict(this,e)},o.prototype.less=function(e){return this.throwIfDisposed(),bt.less(this,e)},o.prototype.lessStrict=function(e){return this.throwIfDisposed(),bt.lessStrict(this,e)},o.prototype.equal=function(e){return this.throwIfDisposed(),bt.equal(this,e)},o.prototype.equalStrict=function(e){return this.throwIfDisposed(),bt.equalStrict(this,e)},o.prototype.lessEqual=function(e){return this.throwIfDisposed(),bt.lessEqual(this,e)},o.prototype.lessEqualStrict=function(e){return this.throwIfDisposed(),bt.lessEqualStrict(this,e)},o.prototype.greater=function(e){return this.throwIfDisposed(),bt.greater(this,e)},o.prototype.greaterStrict=function(e){return this.throwIfDisposed(),bt.greaterStrict(this,e)},o.prototype.greaterEqual=function(e){return this.throwIfDisposed(),bt.greaterEqual(this,e)},o.prototype.greaterEqualStrict=function(e){return this.throwIfDisposed(),bt.greaterEqualStrict(this,e)},o.prototype.logicalAnd=function(e){return this.throwIfDisposed(),bt.logicalAnd(this,e)},o.prototype.logicalOr=function(e){return this.throwIfDisposed(),bt.logicalOr(this,e)},o.prototype.logicalNot=function(){return this.throwIfDisposed(),bt.logicalNot(this)},o.prototype.logicalXor=function(e){return this.throwIfDisposed(),bt.logicalXor(this,e)},o.prototype.where=function(e,r){return this.throwIfDisposed(),bt.where(e,this,r)},o.prototype.neg=function(){return this.throwIfDisposed(),bt.neg(this)},o.prototype.ceil=function(){return this.throwIfDisposed(),bt.ceil(this)},o.prototype.floor=function(){return this.throwIfDisposed(),bt.floor(this)},o.prototype.sign=function(){return this.throwIfDisposed(),bt.sign(this)},o.prototype.exp=function(){return this.throwIfDisposed(),bt.exp(this)},o.prototype.expm1=function(){return this.throwIfDisposed(),bt.expm1(this)},o.prototype.log=function(){return this.throwIfDisposed(),bt.log(this)},o.prototype.log1p=function(){return this.throwIfDisposed(),bt.log1p(this)},o.prototype.sqrt=function(){return this.throwIfDisposed(),bt.sqrt(this)},o.prototype.rsqrt=function(){return this.throwIfDisposed(),bt.rsqrt(this)},o.prototype.square=function(){return this.throwIfDisposed(),bt.square(this)},o.prototype.reciprocal=function(){return this.throwIfDisposed(),bt.reciprocal(this)},o.prototype.abs=function(){return this.throwIfDisposed(),bt.abs(this)},o.prototype.clipByValue=function(e,r){return this.throwIfDisposed(),bt.clipByValue(this,e,r)},o.prototype.relu=function(){return this.throwIfDisposed(),bt.relu(this)},o.prototype.elu=function(){return this.throwIfDisposed(),bt.elu(this)},o.prototype.selu=function(){return this.throwIfDisposed(),bt.selu(this)},o.prototype.leakyRelu=function(e){return void 0===e&&(e=.2),this.throwIfDisposed(),bt.leakyRelu(this,e)},o.prototype.prelu=function(e){return this.throwIfDisposed(),bt.prelu(this,e)},o.prototype.sigmoid=function(){return this.throwIfDisposed(),bt.sigmoid(this)},o.prototype.logSigmoid=function(){return this.throwIfDisposed(),bt.logSigmoid(this)},o.prototype.softplus=function(){return this.throwIfDisposed(),bt.softplus(this)},o.prototype.zerosLike=function(){return this.throwIfDisposed(),bt.zerosLike(this)},o.prototype.onesLike=function(){return this.throwIfDisposed(),bt.onesLike(this)},o.prototype.sin=function(){return this.throwIfDisposed(),bt.sin(this)},o.prototype.cos=function(){return this.throwIfDisposed(),bt.cos(this)},o.prototype.tan=function(){return this.throwIfDisposed(),bt.tan(this)},o.prototype.asin=function(){return this.throwIfDisposed(),bt.asin(this)},o.prototype.acos=function(){return this.throwIfDisposed(),bt.acos(this)},o.prototype.atan=function(){return this.throwIfDisposed(),bt.atan(this)},o.prototype.sinh=function(){return this.throwIfDisposed(),bt.sinh(this)},o.prototype.cosh=function(){return this.throwIfDisposed(),bt.cosh(this)},o.prototype.tanh=function(){return this.throwIfDisposed(),bt.tanh(this)},o.prototype.asinh=function(){return this.throwIfDisposed(),bt.asinh(this)},o.prototype.acosh=function(){return this.throwIfDisposed(),bt.acosh(this)},o.prototype.atanh=function(){return this.throwIfDisposed(),bt.atanh(this)},o.prototype.erf=function(){return this.throwIfDisposed(),bt.erf(this)},o.prototype.round=function(){return this.throwIfDisposed(),bt.round(this)},o.prototype.step=function(e){return void 0===e&&(e=0),this.throwIfDisposed(),bt.step(this,e)},o.prototype.softmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),bt.softmax(this,e)},o.prototype.logSoftmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),bt.logSoftmax(this,e)},o.prototype.resizeBilinear=function(e,r){return void 0===r&&(r=!1),this.throwIfDisposed(),bt.image.resizeBilinear(this,e,r)},o.prototype.resizeNearestNeighbor=function(e,r){return void 0===r&&(r=!1),this.throwIfDisposed(),bt.image.resizeNearestNeighbor(this,e,r)},o.prototype.conv1d=function(e,r,s,h,m,D){return void 0===h&&(h="NWC"),void 0===m&&(m=1),this.throwIfDisposed(),bt.conv1d(this,e,r,s,h,m,D)},o.prototype.conv2d=function(e,r,s,h,m,D){return void 0===h&&(h="NHWC"),void 0===m&&(m=[1,1]),this.throwIfDisposed(),bt.conv2d(this,e,r,s,h,m,D)},o.prototype.conv2dTranspose=function(e,r,s,h,m){return this.throwIfDisposed(),bt.conv2dTranspose(this,e,r,s,h,m)},o.prototype.depthwiseConv2D=function(e,r,s,h,m,D){return void 0===h&&(h="NHWC"),void 0===m&&(m=[1,1]),this.throwIfDisposed(),bt.depthwiseConv2d(this,e,r,s,h,m,D)},o.prototype.separableConv2d=function(e,r,s,h,m,D){return void 0===m&&(m=[1,1]),void 0===D&&(D="NHWC"),this.throwIfDisposed(),bt.separableConv2d(this,e,r,s,h,m,D)},o.prototype.avgPool=function(e,r,s,h){return this.throwIfDisposed(),bt.avgPool(this,e,r,s,h)},o.prototype.maxPool=function(e,r,s,h){return this.throwIfDisposed(),bt.maxPool(this,e,r,s,h)},o.prototype.localResponseNormalization=function(e,r,s,h){return void 0===e&&(e=5),void 0===r&&(r=1),void 0===s&&(s=1),void 0===h&&(h=.5),bt.localResponseNormalization(this,e,r,s,h)},o.prototype.pool=function(e,r,s,h,m){return this.throwIfDisposed(),bt.pool(this,e,r,s,h,m)},o.prototype.variable=function(e,r,s){return void 0===e&&(e=!0),this.throwIfDisposed(),nn.variable(this,e,r,s)},o.prototype.unsortedSegmentSum=function(e,r){return this.throwIfDisposed(),bt.unsortedSegmentSum(this,e,r)},o.prototype.batchToSpaceND=function(e,r){return this.throwIfDisposed(),bt.batchToSpaceND(this,e,r)},o.prototype.spaceToBatchND=function(e,r){return this.throwIfDisposed(),bt.spaceToBatchND(this,e,r)},o.prototype.topk=function(e,r){return void 0===e&&(e=1),void 0===r&&(r=!0),this.throwIfDisposed(),bt.topk(this,e,r)},o.prototype.stridedSlice=function(e,r,s,h,m){return void 0===h&&(h=0),void 0===m&&(m=0),this.throwIfDisposed(),bt.stridedSlice(this,e,r,s,h,m)},o.prototype.depthToSpace=function(e,r){return this.throwIfDisposed(),bt.depthToSpace(this,e,r)},o.prototype.fft=function(){return this.throwIfDisposed(),bt.spectral.fft(this)},o.prototype.ifft=function(){return this.throwIfDisposed(),bt.spectral.ifft(this)},o}();Object.defineProperty(Mt,Symbol.hasInstance,{value:function(o){return!!o&&null!=o.shape&&null!=o.dtype}});var nn=function(o){function e(r,s,h){void 0===s&&(s=!0);var m=o.call(this,r.shape,r.dtype,null,r.dataId)||this;m.trainable=s,m.name=h,null==m.name&&(m.name=pr().nextVariableId().toString());try{pr().registerVariable(m)}catch(D){throw pr().disposeTensor(m),D}return m}return N(e,o),e.variable=function(r,s,h,m){return void 0===s&&(s=!0),null!=m&&m!==r.dtype&&(r=r.asType(m)),new e(r,s,h)},e.prototype.assign=function(r){if(r.dtype!==this.dtype)throw new Error("dtype of the new value ("+r.dtype+") and previous value ("+this.dtype+") must match");if(!Ye(r.shape,this.shape))throw new Error("shape of the new value ("+r.shape+") and previous value ("+this.shape+") must match");pr().disposeTensor(this),this.dataId=r.dataId,pr().registerTensor(this)},e}(Mt);Object.defineProperty(nn,Symbol.hasInstance,{value:function(o){return o instanceof Mt&&null!=o.assign&&o.assign instanceof Function}});var Ri=nn.variable;function nr(o,e){se(o.dtype===e.dtype,"The dtypes of the first("+o.dtype+") and second("+e.dtype+") input must match")}function Ja(o){var e=[];return br(o,e,new Set),e}function br(o,e,r){if(null!=o)if(o instanceof Mt)e.push(o);else if(function oa(o){return Array.isArray(o)||"object"==typeof o}(o)){var s=o;for(var h in s){var m=s[h];r.has(m)||(r.add(m),br(m,e,r))}}}var mn,o,Fi=function(){function o(e,r,s){this.backend=e,this.safeMode=r,this.debugMode=s,this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numDataBuffers=0,this.profiling=!1,this.gradientScopeCount=0,this.customGradientDepth=0,this.keepTensors=new Set,this.tensorInfo=new WeakMap,this.activeScope={track:[],name:"default scope"},this.scopeStack=[this.activeScope],this.profiler=new It(e),this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return o.prototype.moveData=function(e){this.write(e,this.readSync(e))},o.prototype.tidy=function(e,r,s){var h=this;void 0===s&&(s=!1);var m,D=null;if(null==r){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");r=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof r)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");D=e}return this.scopedRun(function(){return h.startScope(D,s)},function(){return h.endScope(m,s)},function(){return(m=r())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),m})},o.prototype.scopedRun=function(e,r,s){e();try{var h=s();return r(),h}catch(m){throw r(),m}},o.prototype.nextTensorId=function(){return o.nextTensorId++},o.prototype.nextVariableId=function(){return o.nextVariableId++},o.prototype.runKernel=function(e,r,s){var h,m=this,D=[],S=function(ee){return D.push(ee),ee},R=this.activeScope.name,B=this.numBytes,$=this.numTensors;if(this.scopedRun(function(){return m.customGradientDepth++},function(){return m.customGradientDepth--},function(){h=m.debugMode()?m.profiler.profileKernel(R,function(){return e(m.backend,S)}):e(m.backend,S)}),this.shouldRecord()){var Q={id:this.nextTapeNodeId++,name:R,inputs:r,outputs:Array.isArray(h)?h:[h]};null!=s&&(Q.gradient=function(ee){return s(ee,D)}),this.activeTape.push(Q)}return this.profiling&&this.activeProfile.kernels.push({name:R,bytesAdded:this.numBytes-B,totalBytesSnapshot:this.numBytes,tensorsAdded:this.numTensors-$,totalTensorsSnapshot:this.numTensors,inputShapes:Object.keys(r).map(function(ee){return r[ee].shape}),outputShape:Array.isArray(h)?h.map(function(ee){return ee.shape}):h.shape}),h},o.prototype.registerTensor=function(e){var r=this.tensorInfo.has(e.dataId)?this.tensorInfo.get(e.dataId).refCount:0;this.numTensors++,0===r&&(this.numDataBuffers++,"complex64"!==e.dtype&&(this.numBytes+=Pe(e.shape)*Wt(e.dtype)),this.tensorInfo.set(e.dataId,{backend:this.backend,dtype:e.dtype,shape:e.shape,refCount:0}),this.backend.register(e.dataId,e.shape,e.dtype)),this.tensorInfo.get(e.dataId).refCount++,e instanceof nn||this.track(e)},o.prototype.registerVariable=function(e){if(null!=this.registeredVariables[e.name])throw new Error("Variable with name "+e.name+" was already registered");this.registeredVariables[e.name]=e},o.prototype.disposeTensor=function(e){this.tensorInfo.has(e.dataId)&&(this.keepTensors.has(e.id)&&this.keepTensors.delete(e.id),this.numTensors--,this.tensorInfo.get(e.dataId).refCount<=1?(this.tensorInfo.get(e.dataId).backend.disposeData(e.dataId),this.numDataBuffers--,"complex64"!==e.dtype&&(this.numBytes-=Pe(e.shape)*Wt(e.dtype)),this.tensorInfo.delete(e.dataId)):this.tensorInfo.get(e.dataId).refCount--)},o.prototype.disposeVariables=function(){for(var e in this.registeredVariables)this.disposeTensor(this.registeredVariables[e]),delete this.registeredVariables[e]},o.prototype.memory=function(){var e=this.backend.memory();return e.numTensors=this.numTensors,e.numDataBuffers=this.numDataBuffers,e.numBytes=this.numBytes,e},o.prototype.profile=function(e){return I(this,void 0,void 0,function(){var r,s;return H(this,function(h){return this.profiling=!0,r=this.numBytes,s=this.numTensors,this.activeProfile.kernels=[],this.activeProfile.result=e(),this.profiling=!1,this.activeProfile.peakBytes=Math.max.apply(Math,this.activeProfile.kernels.map(function(m){return m.totalBytesSnapshot})),this.activeProfile.newBytes=this.numBytes-r,this.activeProfile.newTensors=this.numTensors-s,[2,this.activeProfile]})})},o.prototype.shouldRecord=function(){return null!=this.activeTape&&0===this.customGradientDepth},o.prototype.addTapeNode=function(e,r,s){var h={};e.forEach(function(D,S){h[S]=D});var m={id:this.nextTapeNodeId++,name:this.activeScope.name,inputs:h,outputs:[r],gradient:function(D){var S={};return s(D).forEach(function(R,B){S[B]=function(){return R}}),S}};this.activeTape.push(m)},o.prototype.keep=function(e){if(1===this.scopeStack.length&&this.safeMode)throw new Error("Safe mode is ON. Enclose all tensor operations inside tf.tidy(): tf.tidy(() => {...}) to avoid memory leaks.");return this.keepTensors.add(e.id),e},o.prototype.startScope=function(e,r){void 0===r&&(r=!1),r&&0===this.gradientScopeCount&&(this.activeTape=[]),r&&this.gradientScopeCount++;var s={track:[],name:"unnamed scope"};e&&(s.name=e),this.scopeStack.push(s),this.activeScope=s},o.prototype.endScope=function(e,r){var s=this;void 0===r&&(r=!1),r&&(this.gradientScopeCount--,0===this.gradientScopeCount&&(this.activeTape=null));var h=new Set(this.keepTensors),m=Ja(e);m.forEach(function(B){return h.add(B.id)});for(var D=0;D<this.activeScope.track.length;D++){var S=this.activeScope.track[D];h.has(S.id)||(null!=this.activeTape?m.push(S):S.dispose())}var R=this.scopeStack.pop();this.activeScope=0===this.scopeStack.length?{track:[],name:"default scope"}:this.scopeStack[this.scopeStack.length-1],m.forEach(function(B){!s.keepTensors.has(B.id)&&function ai(o,e){for(var r=0;r<e.length;r++)if(e[r].id===o.id)return!0;return!1}(B,R.track)&&s.track(B)})},o.prototype.gradients=function(e,r,s,h){var m=this;return void 0===h&&(h=!1),se(r.length>0,"gradients() received an empty list of xs."),this.tidy("gradients",function(){var D=e();se(D instanceof Mt,"The result y returned by f() must be a tensor.");var S=function Cn(o,e,r){for(var s={},h={},m=0;m<e.length;m++)s[e[m].id]=!0;for(m=0;m<o.length;m++){var D=(ye=o[m]).inputs;for(var S in D){for(var R=D[S],B=!1,$=0;$<e.length;$++)if(s[R.id]){ye.outputs.forEach(function($e){return s[$e.id]=!0}),B=!0,h[ye.id]=!0;break}if(B)break}}var Q={};Q[r.id]=!0;var ee={};for(m=o.length-1;m>=0;m--)for(D=(ye=o[m]).inputs,$=0;$<ye.outputs.length;$++)if(Q[ye.outputs[$].id]){for(var S in D)Q[D[S].id]=!0,ee[ye.id]=!0;break}var ue=[];for(m=0;m<o.length;m++){var ye;if(h[(ye=o[m]).id]&&ee[ye.id]){var ge={};for(var S in ye.inputs){var xe=ye.inputs[S];s[xe.id]&&(ge[S]=xe)}var Be=Object.assign({},ye);Be.inputs=ge,Be.outputs=ye.outputs,ue.push(Be)}}return ue}(m.activeTape,r,D);if(!h&&0===S.length&&r.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");var R={};return R[D.id]=s??function Li(o){var e=_t(Pe(o),"float32");return Mt.make(o,{values:e})}(D.shape),function fr(o,e){for(var r=function(h){var m=e[h],D=[];if(m.outputs.forEach(function(ee){var ue=o[ee.id];if(null!=ue)D.push(ue);else{var ye=Mt.make(ee.shape,{values:Vt(ee.size,ee.dtype)},ee.dtype);D.push(ye)}}),null==m.gradient)throw new Error("Cannot compute gradient: gradient function not found for "+m.name+".");var S=m.gradient(1===m.outputs.length?D[0]:D);for(var R in m.inputs){if(!(R in S))throw new Error("Cannot backprop through input "+R+". Available gradients found: "+Object.keys(S)+".");var B=S[R](),$=m.inputs[R];if(!Ye(B.shape,$.shape))throw new Error("Error in gradient for op "+m.name+". The gradient of input '"+R+"' has shape '"+B.shape+"', which does not match the shape of the input '"+$.shape+"'");if(null==o[$.id])o[$.id]=B;else{var Q=o[$.id];o[$.id]=Q.add(B),Q.dispose()}}},s=e.length-1;s>=0;s--)r(s)}(R,S),{value:D,grads:r.map(function(B){return R[B.id]})}},!0)},o.prototype.customGrad=function(e){var r=this;return se(zt(e),"The f passed in customGrad(f) must be a function."),function(){for(var s,h,m=[],D=0;D<arguments.length;D++)m[D]=arguments[D];return se(m.every(function(S){return S instanceof Mt}),"The args passed in customGrad(f)(x1, x2,...) must all be tensors"),r.scopedRun(function(){return r.customGradientDepth++},function(){return r.customGradientDepth--},function(){h=r.tidy(e.name,function(){var S=e.apply(void 0,m),R=S.value,B=S.gradFunc;return se(R instanceof Mt,"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),se(zt(B),"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),s=B,R},!0)}),r.shouldRecord()&&r.addTapeNode(m,h,function(S){var R=s(S),B=Array.isArray(R)?R:[R];return se(B.length===m.length,"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),se(B.every(function($){return $ instanceof Mt}),"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."),B}),h}},o.prototype.write=function(e,r){var s=this.tensorInfo.get(e);this.backend!==s.backend&&(s.backend.disposeData(e),s.backend=this.backend,this.backend.register(e,s.shape,s.dtype)),this.backend.write(e,r)},o.prototype.readSync=function(e){return this.tensorInfo.get(e).backend.readSync(e)},o.prototype.read=function(e){return this.tensorInfo.get(e).backend.read(e)},o.prototype.fromPixels=function(e,r){return this.backend.fromPixels(e,r)},o.prototype.time=function(e){return I(this,void 0,void 0,function(){var r,s;return H(this,function(h){switch(h.label){case 0:return r=Te(),[4,this.backend.time(e)];case 1:return(s=h.sent()).wallMs=Te()-r,[2,s]}})})},o.prototype.track=function(e){if(1===this.scopeStack.length&&this.safeMode)throw new Error("Safe mode is ON. Enclose all tensor operations inside tf.tidy(): tf.tidy(() => {op();...}); to avoid memory leaks.");return this.activeScope.track.push(e),e},o.nextTensorId=0,o.nextVariableId=0,o}();(o=mn||(mn={}))[o.NUMBER=0]="NUMBER",o[o.BOOLEAN=1]="BOOLEAN",o[o.STRING=2]="STRING";var lr,qi=[{name:"DEBUG",type:mn.BOOLEAN},{name:"IS_BROWSER",type:mn.BOOLEAN},{name:"WEBGL_LAZILY_UNPACK",type:mn.BOOLEAN},{name:"WEBGL_CPU_FORWARD",type:mn.BOOLEAN},{name:"WEBGL_PACK_BATCHNORMALIZATION",type:mn.BOOLEAN},{name:"WEBGL_CONV_IM2COL",type:mn.BOOLEAN},{name:"WEBGL_MAX_TEXTURE_SIZE",type:mn.NUMBER},{name:"WEBGL_PAGING_ENABLED",type:mn.BOOLEAN},{name:"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",type:mn.NUMBER},{name:"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",type:mn.BOOLEAN},{name:"WEBGL_VERSION",type:mn.NUMBER},{name:"WEBGL_RENDER_FLOAT32_ENABLED",type:mn.BOOLEAN},{name:"WEBGL_DOWNLOAD_FLOAT_ENABLED",type:mn.BOOLEAN},{name:"WEBGL_FENCE_API_ENABLED",type:mn.BOOLEAN},{name:"WEBGL_SIZE_UPLOAD_UNIFORM",type:mn.NUMBER},{name:"BACKEND",type:mn.STRING},{name:"EPSILON",type:mn.NUMBER},{name:"PROD",type:mn.BOOLEAN},{name:"TENSORLIKE_CHECK_SHAPE_CONSISTENCY",type:mn.BOOLEAN}];function vt(o){try{if(null!=ce(o))return!0}catch{return!1}return!1}var ur="tfjsflags";function Nn(){var o={};if(typeof window>"u"||void 0===window.location||void 0===window.location.search)return o;var e=function Je(o){var e={};return o.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(r){for(var s=[],h=1;h<arguments.length;h++)s[h-1]=arguments[h];return function He(o,e,r){o[decodeURIComponent(e)]=decodeURIComponent(r||"")}(e,s[0],s[1]),s.join("=")}),e}(window.location.search);if(ur in e){var r={};e[ur].split(",").forEach(function(s){var h=s.split(":");r[h[0]]=h[1]}),qi.forEach(function(s){s.name in r&&(console.log("Setting feature override from URL "+s.name+": "+r[s.name]),s.type===mn.NUMBER?o[s.name]=+r[s.name]:s.type===mn.BOOLEAN?o[s.name]="true"===r[s.name]:s.type===mn.STRING?o[s.name]=r[s.name]:console.warn("Unknown URL param: "+s.name+"."))})}return o}function wr(o,e){return null!=o.getExtension(e)}function Bi(o,e){var r=o.createFramebuffer(),s=o.createTexture();o.bindTexture(o.TEXTURE_2D,s),o.texImage2D(o.TEXTURE_2D,0,2===e?o.RGBA32F:o.RGBA,1,1,0,o.RGBA,o.FLOAT,null),o.bindFramebuffer(o.FRAMEBUFFER,r),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,s,0);var m=o.checkFramebufferStatus(o.FRAMEBUFFER)===o.FRAMEBUFFER_COMPLETE;return o.bindTexture(o.TEXTURE_2D,null),o.bindFramebuffer(o.FRAMEBUFFER,null),o.deleteTexture(s),o.deleteFramebuffer(r),m}var on=function(){function o(e){this.features={},this.registry={},null!=e&&(this.features=e),this.get("DEBUG")&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}return o.setBackend=function(e,r){if(void 0===r&&(r=!1),!(e in Re.registry))throw new Error("Backend name '"+e+"' not found in registry");Re.engine.backend=Re.findBackend(e),Re.backendName=e},o.getBackend=function(){return Re.initEngine(),Re.backendName},o.disposeVariables=function(){Re.engine.disposeVariables()},o.memory=function(){return Re.engine.memory()},o.profile=function(e){return Re.engine.profile(e)},o.tidy=function(e,r,s){return void 0===s&&(s=!1),Re.engine.tidy(e,r,s)},o.dispose=function(e){Ja(e).forEach(function(r){return r.dispose()})},o.keep=function(e){return Re.engine.keep(e)},o.time=function(e){return Re.engine.time(e)},o.prototype.get=function(e){return e in this.features||(this.features[e]=this.evaluateFeature(e)),this.features[e]},o.prototype.getFeatures=function(){return this.features},o.prototype.set=function(e,r){this.features[e]=r},o.prototype.getBestBackendName=function(){var e=this;if(0===Object.keys(this.registry).length)throw new Error("No backend found in registry.");return Object.keys(this.registry).map(function(r){return{name:r,entry:e.registry[r]}}).sort(function(r,s){return s.entry.priority-r.entry.priority})[0].name},o.prototype.evaluateFeature=function(e){if("DEBUG"===e)return!1;if("IS_BROWSER"===e)return typeof window<"u";if("IS_NODE"===e)return typeof process<"u"&&void 0!==process.versions.node;if("IS_CHROME"===e)return function $n(){return typeof navigator<"u"&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}();if("WEBGL_CPU_FORWARD"===e)return!0;if("WEBGL_PACK_BATCHNORMALIZATION"===e||"WEBGL_LAZILY_UNPACK"===e||"WEBGL_CONV_IM2COL"===e)return!1;if("WEBGL_PAGING_ENABLED"===e)return this.get("IS_BROWSER")&&!this.get("PROD");if("WEBGL_MAX_TEXTURE_SIZE"===e)return function Ve(o){if(null==lr){var e=ce(o);lr=e.getParameter(e.MAX_TEXTURE_SIZE)}return lr}(this.get("WEBGL_VERSION"));if("IS_TEST"===e)return!1;if("BACKEND"===e)return this.getBestBackendName();if("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"===e){var r=this.get("WEBGL_VERSION");return 0===r?0:function Ge(o){if(0===o)return 0;var e=ce(o);return wr(e,"EXT_disjoint_timer_query_webgl2")&&2===o?2:wr(e,"EXT_disjoint_timer_query")?1:0}(r)}if("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE"===e)return this.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!function M(){var o=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(o)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(o.substr(0,4))}();if("HAS_WEBGL"===e)return this.get("WEBGL_VERSION")>0;if("WEBGL_VERSION"===e)return vt(2)?2:vt(1)?1:0;if("WEBGL_RENDER_FLOAT32_ENABLED"===e)return function Ht(o){if(0===o)return!1;var e=ce(o);if(1===o){if(!wr(e,"OES_texture_float"))return!1}else if(!wr(e,"EXT_color_buffer_float"))return!1;return Bi(e,o)}(this.get("WEBGL_VERSION"));if("WEBGL_DOWNLOAD_FLOAT_ENABLED"===e)return function kt(o){if(0===o)return!1;var e=ce(o);if(1===o){if(!wr(e,"OES_texture_float")||!wr(e,"WEBGL_color_buffer_float"))return!1}else if(!wr(e,"EXT_color_buffer_float"))return!1;return Bi(e,o)}(this.get("WEBGL_VERSION"));if("WEBGL_FENCE_API_ENABLED"===e)return function Sn(o){return 2===o&&null!=ce(o).fenceSync}(this.get("WEBGL_VERSION"));if("WEBGL_SIZE_UPLOAD_UNIFORM"===e)return this.get("WEBGL_RENDER_FLOAT32_ENABLED")?4:0;if("TEST_EPSILON"===e)return 32===this.backend.floatPrecision()?.001:.1;if("EPSILON"===e)return 32===this.backend.floatPrecision()?1e-7:.001;if("PROD"===e)return!1;if("TENSORLIKE_CHECK_SHAPE_CONSISTENCY"===e)return!this.get("PROD");throw new Error("Unknown feature "+e+".")},o.prototype.setFeatures=function(e){this.features=Object.assign({},e)},o.prototype.reset=function(){this.features=Nn(),null!=this.globalEngine&&(this.globalEngine=null)},Object.defineProperty(o.prototype,"backend",{get:function(){return this.engine.backend},enumerable:!0,configurable:!0}),o.prototype.findBackend=function(e){return e in this.registry?this.registry[e].backend:null},o.prototype.registerBackend=function(e,r,s,h){var m=this;if(void 0===s&&(s=1),e in this.registry)return console.warn(e+" backend was already registered. Reusing existing backend"),h?.(function(){return m.engine}),!1;try{var D=r();return D.setDataMover({moveData:function(S){return m.engine.moveData(S)}}),this.registry[e]={backend:D,priority:s},!0}catch(S){return console.warn("Registration of backend "+e+" failed"),console.warn(S.stack||S.message),!1}},o.prototype.removeBackend=function(e){if(!(e in this.registry))throw new Error(e+" backend not found in registry");this.registry[e].backend.dispose(),delete this.registry[e]},Object.defineProperty(o.prototype,"engine",{get:function(){return this.initEngine(),this.globalEngine},enumerable:!0,configurable:!0}),o.prototype.initEngine=function(){var e=this;if(null==this.globalEngine){this.backendName=this.get("BACKEND");var r=this.findBackend(this.backendName);this.globalEngine=new Fi(r,!1,function(){return e.get("DEBUG")})}},o}(),Re=function kr(){var o=function cr(){var o;if(typeof window<"u")o=window;else{if(typeof process>"u")throw new Error("Could not find a global object");o=process}return o}();return null==o.ENV&&(o.ENV=new on(Nn()),Ka(function(){return o.ENV.engine})),o.ENV}(),Hi=Object.freeze({Environment:on,ENV:Re});function Mo(o){return se(zt(o),"The f passed in grad(f) must be a function"),function(e,r){return se(e instanceof Mt,"The x passed in grad(f)(x) must be a tensor"),se(null==r||r instanceof Mt,"The dy passed in grad(f)(x, dy) must be a tensor"),Re.engine.tidy(function(){var s=Re.engine.gradients(function(){return o(e)},[e],r),m=s.grads;return null!=r&&at(s.value.shape,r.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),gr(m),m[0]})}}function pa(o){return se(zt(o),"The f passed in grads(f) must be a function"),function(e,r){return se(Array.isArray(e)&&e.every(function(s){return s instanceof Mt}),"The args passed in grads(f)(args) must be an array of tensors"),se(null==r||r instanceof Mt,"The dy passed in grads(f)(args, dy) must be a tensor"),Re.engine.tidy(function(){var s=Re.engine.gradients(function(){return o.apply(void 0,e)},e,r),m=s.grads;return null!=r&&at(s.value.shape,r.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),gr(m),m})}}function fa(o){return se(zt(o),"The f passed in valueAndGrad(f) must be a function"),function(e,r){se(e instanceof Mt,"The x passed in valueAndGrad(f)(x) must be a tensor"),se(null==r||r instanceof Mt,"The dy passed in valueAndGrad(f)(x, dy) must be a tensor");var s=Re.engine.gradients(function(){return o(e)},[e],r),h=s.grads,m=s.value;return gr(h),{grad:h[0],value:m}}}function Io(o){return se(zt(o),"The f passed in valueAndGrads(f) must be a function"),function(e,r){se(Array.isArray(e)&&e.every(function(h){return h instanceof Mt}),"The args passed in valueAndGrads(f)(args) must be array of tensors"),se(null==r||r instanceof Mt,"The dy passed in valueAndGrads(f)(args, dy) must be a tensor");var s=Re.engine.gradients(function(){return o.apply(void 0,e)},e,r);return null!=r&&at(s.value.shape,r.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),gr(s.grads),s}}function Qa(o,e){if(se(zt(o),"The f passed in variableGrads(f) must be a function"),se(null==e||Array.isArray(e)&&e.every(function(R){return R instanceof nn}),"The varList passed in variableGrads(f, varList) must be an array of variables"),null==e)for(var r in e=[],Re.engine.registeredVariables)e.push(Re.engine.registeredVariables[r]);var s=e.length;se((e=e.filter(function(R){return R.trainable})).length>0,"variableGrads() expects at least one of the input variables to be trainable, but none of the "+s+" variables is trainable.");var h=Re.engine.gradients(o,e,null,!0),m=h.value,D=h.grads;se(D.some(function(R){return null!=R}),"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),se(0===m.rank,"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+m.rank+" tensor");var S={};return e.forEach(function(R,B){null!=D[B]&&(S[R.name]=D[B])}),{value:m,grads:S}}function Ao(o){return Re.engine.customGrad(o)}function gr(o){if(o.filter(function(e){return null==e}).length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}var Yn=on.tidy,Ln=on.keep,ga=on.dispose,ei=on.time,vo=on.profile;function dn(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];Re.get("IS_TEST")||console.warn.apply(console,o)}function Mn(o,e,r,s){void 0===s&&(s=!0);var h=[];if(s)(h=h.concat(e.slice(0))).push(o[0]/r),h=h.concat(o.slice(1));else{h=h.concat(o[0]);for(var m=e.length,D=0;D<m;++D)h=h.concat([o[D+1]/e[D],e[D]]);h=h.concat(o.slice(m+1))}return h}function Rr(o,e,r){void 0===r&&(r=!0);var s=[];if(r){s.push(e);for(var h=e+1;h<o;++h)h<=2*e?(s.push(h),s.push(h-(e+1))):s.push(h)}else{var m=[],D=[];for(h=1;h<o;++h)h>=2*e+1||h%2==1?D.push(h):m.push(h);s.push.apply(s,m),s.push(0),s.push.apply(s,D)}return s}function xi(o,e,r,s){void 0===s&&(s=!0);var h=[];h.push(s?o[0]/r:o[0]*r);for(var m=1;m<o.length;++m)h.push(m<=e.length?s?e[m-1]*o[m]:o[m]/e[m-1]:o[m]);return h}function aa(o,e){for(var r=[0],s=0;s<e;++s)r.push(o[s][0]);return r}function hi(o,e,r){for(var s=o.slice(0,1),h=0;h<r;++h)s.push(o[h+1]-e[h][0]-e[h][1]);return s}function to(o,e){for(var r=0;r<o.length;++r)if(o[o.length-r-1]!==e-1-r)return!1;return!0}function mr(o,e){for(var r=[],s=o.length,h=0;h<s;h++)-1===e.indexOf(h)&&r.push(o[h]);return[r,e.map(function(m){return o[m]})]}function si(o,e){return function ir(o,e,r){for(var s=o.length+e.length,h=[],m=0,D=0,S=0;S<s;S++)-1===r.indexOf(S)?h.push(o[m++]):h.push(e[D++]);return h}(o,e.map(function(r){return 1}),e)}function _n(o,e){var r=e.length;return se((o=null==o?e.map(function(s,h){return h}):[].concat(o)).every(function(s){return s>=-r&&s<r}),"All values in axis param must be in range [-"+r+", "+r+") but got axis "+o),se(o.every(function(s){return Qe(s)}),"All values in axis param must be integers but got axis "+o),o.map(function(s){return s<0?r+s:s})}function li(o,e,r){se(to(e,r),o+" supports only inner-most axes for now. Got axes "+e+" and rank-"+r+" input.")}function Si(o,e){if(to(o,e))return null;for(var r=[],s=0;s<e;++s)-1===o.indexOf(s)&&r.push(s);return o.forEach(function(h){return r.push(h)}),r}function $o(o){return o.map(function(e,r){return[r,e]}).sort(function(e,r){return e[1]-r[1]}).map(function(e){return e[0]})}function Mi(o,e){for(var r=[],s=e-o;s<e;++s)r.push(s);return r}function Vr(o,e){for(var r=o[0].slice(),s=1;s<o.length;s++)r[e]+=o[s][e];return r}function Aa(o,e){if(o.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+o.rank+".");if(e.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+e.rank+".");if("int32"!==e.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+e.dtype+".");if(e.shape[e.rank-1]>o.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+e.shape[e.rank-1]+" vs. "+o.rank);if(0===o.size)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+o.shape+".");for(var r=e.shape,s=r[r.length-1],h=1,m=0;m<r.length-1;++m)h*=r[m];var D=o.shape,S=r.slice();S.pop();var R=1;for(m=s;m<o.rank;++m)R*=D[m],S.push(D[m]);var B=en(o.shape).map(function($){return $/R}).concat([1]).slice(0,s);return[S,h,R,B]}var Oo=30;function sa(o){return o<=Oo?o:An(o,Math.floor(Math.sqrt(o)))}function Oa(o,e,r){for(var s=e.rank>1?e.shape[e.rank-1]:1,h=r.length,m=1,D=s;D<h;++D)m*=r[D];var R=e.size/(s<1?1:s),B=en(r).concat([1]);return{sliceRank:s,numUpdates:R,sliceSize:m,strides:B.slice(B.length-s,B.length),outputSize:Pe(r)}}function Xa(o,e,r,s,h,m,D,S,R){if(void 0===h&&(h=0),void 0===m&&(m=0),void 0===D&&(D=0),void 0===S&&(S=0),void 0===R&&(R=0),0!==D)throw new Error("ellipsis mask is not yet supported");if(0!==S)throw new Error("new axis mask is not yet supported");for(var B=[],$=[],Q=[],ee=0;ee<o.length;ee++)B[ee]=es(h,e,s,o,ee),$[ee]=Vi(m,r,s,o,ee),R&1<<ee&&($[ee]=B[ee]+1,Q.push(ee));var ue=new Array(o.length).fill(0);return ue=ue.map(function(ye,ge){for(var xe=0,Be=B[ge];!(s[ge]>0?Be>=$[ge]:Be<=$[ge]);Be+=s[ge])xe+=1;return xe}),[B,ue,Q]}function es(o,e,r,s,h){var m=e[h];o&1<<h&&(m=r[h]>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var D=s[h];return m<0&&(m+=D),we(0,m,D-1)}function Vi(o,e,r,s,h){var m=e[h];o&1<<h&&(m=r[h]>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var D=s[h];return m<0&&(m+=D),r[h]>0?we(0,m,D):we(-1,m,D-1)}function ya(o){var e=o;if(At(o))return[o.length];if(!Array.isArray(o))return[];for(var r=[];e instanceof Array;)r.push(e.length),e=e[0];return o instanceof Array&&Re.get("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&$i(o,r,[]),r}function $i(o,e,r){if(r=r||[],o instanceof Array){se(e.length>0,function(){return"Element arr["+r.join("][")+"] should be a primitive, but is an array of "+o.length+" elements"}),se(o.length===e[0],function(){return"Element arr["+r.join("][")+"] should have "+e[0]+" elements, but has "+o.length+" elements"});for(var s=e.slice(1),h=0;h<o.length;++h)$i(o[h],s,r.concat(h))}else se(0===e.length,function(){return"Element arr["+r.join("][")+"] is a primitive, but should be an array of "+e[0]+" elements"})}function Me(o,e,r,s){if(void 0===s&&(s="float32"),s=s||"float32",o instanceof Mt)return o;if(!At(o)&&!Array.isArray(o)&&"number"!=typeof o&&"boolean"!=typeof o)throw new Error("Argument '"+e+"' passed to '"+r+"' must be a Tensor or TensorLike, but got "+o.constructor.name);var h=ya(o);return At(o)||Array.isArray(o)||(o=[o]),Mt.make(h,{values:Qt(o,s,Re.get("DEBUG"))},s)}function so(o,e,r){if(!Array.isArray(o))throw new Error("Argument "+e+" passed to "+r+" must be a `Tensor[]` or `TensorLike[]`");return o.map(function(s,h){return Me(s,e+"["+h+"]",r)})}function Ue(o){var e=Object.keys(o);if(1!==e.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+e.length+" keys.");var r=e[0],s=o[r];r.endsWith("_")&&(r=r.substring(0,r.length-1));var h=function(){for(var m=[],D=0;D<arguments.length;D++)m[D]=arguments[D];Re.engine.startScope(r);try{var S=s.apply(void 0,m);return S instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),Re.engine.endScope(S),S}catch(R){throw Re.engine.endScope(null),R}};return Object.defineProperty(h,"name",{value:r,configurable:!0}),h}var Pa=Ue({softmax_:function ar(o,e){void 0===e&&(e=-1);var r=Me(o,"logits","softmax");if(-1===e&&(e=r.rank-1),e!==r.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+r.rank+" and dim was "+e);return Ao(function(s){var h=s.logSumExp([e],!0),m=s.toFloat().sub(h).exp();return{value:m,gradFunc:function(D){var S=D.mul(m);return S.sub(S.sum([e],!0).mul(m))}}})(r)}}),va=Ue({logSoftmax_:function pi(o,e){void 0===e&&(e=-1);var r=Me(o,"logits","logSoftmax");if(-1===e&&(e=r.rank-1),e!==r.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+r.rank+" and axis was "+e);return Ao(function(s){var h=s.max(e,!0),m=s.sub(h),D=m.toFloat().sub(m.exp().sum(e,!0).log());return{value:D,gradFunc:function(S){var R=D.exp();return S.sub(S.sum(e,!0).mul(R))}}})(r)}}),Ur=Ue({complex_:function Fs(o,e){var r=Me(o,"real","complex"),s=Me(e,"imag","complex");return at(r.shape,s.shape,"real and imag shapes, "+r.shape+" and "+s.shape+", must match in call to tf.complex()."),Re.engine.runKernel(function(h){return h.complex(r,s)},{$real:r,$imag:s})}}),Ii=Ue({real_:function _o(o){var e=Me(o,"input","real");return Re.engine.runKernel(function(r){return r.real(e)},{$input:e})}}),ka=Ue({imag_:function _s(o){var e=Me(o,"input","imag");return Re.engine.runKernel(function(r){return r.imag(e)},{$input:e})}});function Fr(o,e,r){if(void 0===r&&(r="float32"),"complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!At(o)&&!Array.isArray(o)&&"number"!=typeof o&&"boolean"!=typeof o)throw new Error("values passed to tensor(values) must be an array of numbers or booleans, or a TypedArray");var s=ya(o);return null!=e&&1!==s.length&&at(e,s,"Error creating a new Tensor. Inferred shape ("+s+") does not match the provided shape ("+e+"). "),At(o)||Array.isArray(o)||(o=[o]),Mt.make(e=e||s,{values:Qt(o,r,Re.get("DEBUG"))},r)}function Xt(o,e){if(void 0===e&&(e="float32"),(At(o)||Array.isArray(o))&&"complex64"!==e)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean)");return Fr(o,[],e)}function or(o,e){void 0===e&&(e="float32"),mt(o);var r=ya(o);if(1!==r.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Fr(o,r,e)}function ts(o,e,r){if(void 0===r&&(r="float32"),mt(o),null!=e&&2!==e.length)throw new Error("tensor2d() requires shape to have two numbers");var s=ya(o);if(2!==s.length&&1!==s.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===s.length&&null==e)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Fr(o,e=e||s,r)}function _a(o,e,r){if(void 0===r&&(r="float32"),mt(o),null!=e&&3!==e.length)throw new Error("tensor3d() requires shape to have three numbers");var s=ya(o);if(3!==s.length&&1!==s.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===s.length&&null==e)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Fr(o,e=e||s,r)}function Gi(o,e,r){if(void 0===r&&(r="float32"),mt(o),null!=e&&4!==e.length)throw new Error("tensor4d() requires shape to have four numbers");var s=ya(o);if(4!==s.length&&1!==s.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===s.length&&null==e)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Fr(o,e=e||s,r)}function Nl(o,e,r){if(void 0===r&&(r="float32"),mt(o),null!=e&&5!==e.length)throw new Error("tensor5d() requires shape to have five numbers");var s=ya(o);if(5!==s.length&&1!==s.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===s.length&&null==e)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Fr(o,e=e||s,r)}function Ra(o,e,r){if(void 0===r&&(r="float32"),mt(o),null!=e&&6!==e.length)throw new Error("tensor6d() requires shape to have six numbers");var s=ya(o);if(6!==s.length&&1!==s.length)throw new Error("tensor6d() requires values to be number[][][][] or flat/TypedArray");if(1===s.length&&null==e)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return Fr(o,e=e||s,r)}function no(o,e){if(void 0===e&&(e="float32"),"complex64"===e){var r=no(o,"float32"),s=no(o,"float32");return Ur(r,s)}var h=_t(Pe(o),e);return Mt.make(o,{values:h},e)}function Hr(o,e){if(void 0===e&&(e="float32"),"complex64"===e){var r=Hr(o,"float32"),s=Hr(o,"float32");return Ur(r,s)}var h=Vt(Pe(o),e);return Mt.make(o,{values:h},e)}function Fa(o,e,r){void 0===r&&(r="float32");var s=qe(r,Pe(o));return s.fill(e),Mt.make(o,{values:s},r)}function Go(o,e,r){if(0===r)throw new Error("Cannot request zero samples");var s=(e-o)/(r-1),h=Vt(r,"float32");h[0]=o;for(var m=1;m<h.length;m++)h[m]=h[m-1]+s;return or(h,"float32")}function lo(o,e,r,s){if(void 0===r&&(r=1),void 0===s&&(s="float32"),0===r)throw new Error("Cannot have a step of zero");if(o===e||o<e&&r<0||e<o&&r>1)return Hr([0],s);var h=Vt(Math.abs(Math.ceil((e-o)/r)),s);e<o&&1===r&&(r=-1),h[0]=o;for(var m=1;m<h.length;m++)h[m]=h[m-1]+r;return or(h,s)}var wa,Ca,Bs,ns,Da,Wo,qo=Ue({onesLike_:function ba(o){var e=Me(o,"x","onesLike");return no(e.shape,e.dtype)}}),Nr=Ue({zerosLike_:function Ls(o){var e=Me(o,"x","zerosLike");return Hr(e.shape,e.dtype)}});(function(o){o.float32="float32",o.int32="int32",o.bool="bool"})(wa||(wa={})),function(o){o.R0="R0",o.R1="R1",o.R2="R2",o.R3="R3",o.R4="R4",o.R5="R5",o.R6="R6"}(Ca||(Ca={})),function(o){o.float32="float32",o.int32="int32",o.bool="int32",o.complex64="complex64"}(Bs||(Bs={})),function(o){o.float32="float32",o.int32="int32",o.bool="bool",o.complex64="complex64"}(ns||(ns={})),function(o){o.float32="float32",o.int32="float32",o.bool="float32",o.complex64="complex64"}(Da||(Da={})),function(o){o.float32="complex64",o.int32="complex64",o.bool="complex64",o.complex64="complex64"}(Wo||(Wo={}));var rs={float32:Da,int32:Bs,bool:ns,complex64:Wo};function Zr(o,e){return rs[o][e]}function la(o){return Zr(o,"int32")}var bs=function(){function o(e){this.dataMover=e,this.data=new WeakMap}return o.prototype.get=function(e){return this.data.has(e)||this.dataMover.moveData(e),this.data.get(e)},o.prototype.set=function(e,r){this.data.set(e,r)},o.prototype.has=function(e){return this.data.has(e)},o.prototype.delete=function(e){return this.data.delete(e)},o}(),Ai=function(){function o(){}return o.prototype.time=function(e){throw new Error("Not yet implemented.")},o.prototype.read=function(e){throw new Error("Not yet implemented.")},o.prototype.readSync=function(e){throw new Error("Not yet implemented.")},o.prototype.disposeData=function(e){throw new Error("Not yet implemented.")},o.prototype.write=function(e,r){throw new Error("Not yet implemented.")},o.prototype.fromPixels=function(e,r){throw new Error("Not yet implemented.")},o.prototype.register=function(e,r,s){throw new Error("Not yet implemented.")},o.prototype.memory=function(){throw new Error("Not yet implemented.")},o.prototype.floatPrecision=function(){throw new Error("Not yet implemented")},o.prototype.batchMatMul=function(e,r,s,h){throw new Error("Not yet implemented")},o.prototype.slice=function(e,r,s){throw new Error("Not yet implemented")},o.prototype.stridedSlice=function(e,r,s,h,m,D,S,R,B){throw new Error("Not yet implemented")},o.prototype.reverse=function(e,r){throw new Error("Not yet implemented")},o.prototype.concat=function(e,r){throw new Error("Not yet implemented")},o.prototype.neg=function(e){throw new Error("Not yet implemented")},o.prototype.add=function(e,r){throw new Error("Not yet implemented")},o.prototype.addN=function(e){throw new Error("Not yet implemented")},o.prototype.subtract=function(e,r){throw new Error("Not yet implemented")},o.prototype.multiply=function(e,r){throw new Error("Not yet implemented")},o.prototype.realDivide=function(e,r){throw new Error("Not yet implemented")},o.prototype.floorDiv=function(e,r){throw new Error("Not yet implemented")},o.prototype.sum=function(e,r){throw new Error("Not yet implemented")},o.prototype.prod=function(e,r){throw new Error("Not yet implemented")},o.prototype.unsortedSegmentSum=function(e,r,s){throw new Error("Not yet implemented")},o.prototype.argMin=function(e,r){throw new Error("Not yet implemented")},o.prototype.argMax=function(e,r){throw new Error("Not yet implemented")},o.prototype.equal=function(e,r){throw new Error("Not yet implemented")},o.prototype.notEqual=function(e,r){throw new Error("Not yet implemented")},o.prototype.less=function(e,r){throw new Error("Not yet implemented")},o.prototype.lessEqual=function(e,r){throw new Error("Not yet implemented")},o.prototype.greater=function(e,r){throw new Error("Not yet implemented")},o.prototype.greaterEqual=function(e,r){throw new Error("Not yet implemented")},o.prototype.logicalNot=function(e){throw new Error("Not yet implemented")},o.prototype.logicalAnd=function(e,r){throw new Error("Not yet implemented")},o.prototype.logicalOr=function(e,r){throw new Error("Not yet implemented")},o.prototype.where=function(e){throw new Error("Not yet implemented")},o.prototype.select=function(e,r,s){throw new Error("Not yet implemented")},o.prototype.topk=function(e,r,s){throw new Error("Not yet implemented")},o.prototype.min=function(e,r){throw new Error("Not yet implemented")},o.prototype.minimum=function(e,r){throw new Error("Not yet implemented")},o.prototype.mod=function(e,r){throw new Error("Not yet implemented")},o.prototype.max=function(e,r){throw new Error("Not yet implemented")},o.prototype.maximum=function(e,r){throw new Error("Not yet implemented")},o.prototype.all=function(e,r){throw new Error("Not yet implemented")},o.prototype.any=function(e,r){throw new Error("Not yet implemented")},o.prototype.squaredDifference=function(e,r){throw new Error("Not yet implemented")},o.prototype.ceil=function(e){throw new Error("Not yet implemented")},o.prototype.floor=function(e){throw new Error("Not yet implemented")},o.prototype.round=function(e){throw new Error("Not yet implemented")},o.prototype.sign=function(e){throw new Error("Not yet implemented")},o.prototype.pow=function(e,r){throw new Error("Not yet implemented")},o.prototype.exp=function(e){throw new Error("Not yet implemented")},o.prototype.expm1=function(e){throw new Error("Not yet implemented")},o.prototype.log=function(e){throw new Error("Not yet implemented")},o.prototype.log1p=function(e){throw new Error("Not yet implemented")},o.prototype.sqrt=function(e){throw new Error("Not yet implemented")},o.prototype.rsqrt=function(e){throw new Error("Not yet implemented")},o.prototype.square=function(e){throw new Error("Not yet implemented")},o.prototype.reciprocal=function(e){throw new Error("Not yet implemented")},o.prototype.relu=function(e){throw new Error("Not yet implemented")},o.prototype.elu=function(e){throw new Error("Not yet implemented")},o.prototype.eluDer=function(e,r){throw new Error("Not yet implemented")},o.prototype.selu=function(e){throw new Error("Not yet implemented")},o.prototype.int=function(e){throw new Error("Not yet implemented")},o.prototype.clip=function(e,r,s){throw new Error("Not yet implemented")},o.prototype.abs=function(e){throw new Error("Not yet implemented")},o.prototype.complexAbs=function(e){throw new Error("Not yet implemented")},o.prototype.sigmoid=function(e){throw new Error("Not yet implemented")},o.prototype.softplus=function(e){throw new Error("Not yet implemented")},o.prototype.sin=function(e){throw new Error("Not yet implemented")},o.prototype.cos=function(e){throw new Error("Not yet implemented")},o.prototype.tan=function(e){throw new Error("Not yet implemented")},o.prototype.asin=function(e){throw new Error("Not yet implemented")},o.prototype.acos=function(e){throw new Error("Not yet implemented")},o.prototype.atan=function(e){throw new Error("Not yet implemented")},o.prototype.atan2=function(e,r){throw new Error("Not yet implemented")},o.prototype.sinh=function(e){throw new Error("Not yet implemented")},o.prototype.cosh=function(e){throw new Error("Not yet implemented")},o.prototype.tanh=function(e){throw new Error("Not yet implemented")},o.prototype.asinh=function(e){throw new Error("Not yet implemented")},o.prototype.acosh=function(e){throw new Error("Not yet implemented")},o.prototype.atanh=function(e){throw new Error("Not yet implemented")},o.prototype.erf=function(e){throw new Error("Not yet implemented")},o.prototype.step=function(e,r){throw new Error("Not yet implemented")},o.prototype.conv2d=function(e,r,s){throw new Error("Not yet implemented")},o.prototype.conv2dDerInput=function(e,r,s){throw new Error("Not yet implemented")},o.prototype.conv2dDerFilter=function(e,r,s){throw new Error("Not yet implemented")},o.prototype.depthwiseConv2D=function(e,r,s){throw new Error("Not yet implemented")},o.prototype.depthwiseConv2DDerInput=function(e,r,s){throw new Error("Not yet implemented")},o.prototype.depthwiseConv2DDerFilter=function(e,r,s){throw new Error("Not yet implemented")},o.prototype.maxPool=function(e,r){throw new Error("Not yet implemented")},o.prototype.maxPoolBackprop=function(e,r,s,h){throw new Error("Not yet implemented")},o.prototype.avgPool=function(e,r){throw new Error("Not yet implemented")},o.prototype.avgPoolBackprop=function(e,r,s){throw new Error("Not yet implemented")},o.prototype.reshape=function(e,r){throw new Error("Not yet implemented")},o.prototype.cast=function(e,r){throw new Error("Not yet implemented")},o.prototype.tile=function(e,r){throw new Error("Not yet implemented")},o.prototype.pad=function(e,r,s){throw new Error("Not yet implemented")},o.prototype.transpose=function(e,r){throw new Error("Not yet implemented")},o.prototype.gather=function(e,r,s){throw new Error("Not yet implemented")},o.prototype.gatherND=function(e,r){throw new Error("Not yet implemented")},o.prototype.scatterND=function(e,r,s){throw new Error("Not yet implemented")},o.prototype.batchToSpaceND=function(e,r,s){throw new Error("Not yet implemented")},o.prototype.spaceToBatchND=function(e,r,s){throw new Error("Not yet implemented")},o.prototype.resizeBilinear=function(e,r,s,h){throw new Error("Not yet implemented")},o.prototype.resizeBilinearBackprop=function(e,r,s){throw new Error("Not yet implemented")},o.prototype.resizeNearestNeighbor=function(e,r,s,h){throw new Error("Not yet implemented")},o.prototype.resizeNearestNeighborBackprop=function(e,r,s){throw new Error("Not yet implemented")},o.prototype.batchNormalization=function(e,r,s,h,m,D){throw new Error("Not yet implemented")},o.prototype.localResponseNormalization4D=function(e,r,s,h,m){throw new Error("Not yet implemented")},o.prototype.LRNGrad=function(e,r,s,h,m,D,S){throw new Error("Not yet implemented")},o.prototype.multinomial=function(e,r,s,h){throw new Error("Not yet implemented")},o.prototype.oneHot=function(e,r,s,h){throw new Error("Not yet implemented")},o.prototype.cumsum=function(e,r,s,h){throw new Error("Not yet implemented")},o.prototype.nonMaxSuppression=function(e,r,s,h,m){throw new Error("Not yet implemented")},o.prototype.fft=function(e){throw new Error("Not yet implemented")},o.prototype.ifft=function(e){throw new Error("Not yet implemented")},o.prototype.complex=function(e,r){throw new Error("Not yet implemented")},o.prototype.real=function(e){throw new Error("Not yet implemented")},o.prototype.imag=function(e){throw new Error("Not yet implemented")},o.prototype.cropAndResize=function(e,r,s,h,m,D){throw new Error("Not yet implemented")},o.prototype.depthToSpace=function(e,r,s){throw new Error("Not yet implemented")},o.prototype.split=function(e,r,s){throw new Error("Not yet implemented")},o.prototype.sparseToDense=function(e,r,s,h){throw new Error("Not yet implemented")},o.prototype.setDataMover=function(e){throw new Error("Not yet implemented")},o.prototype.dispose=function(){throw new Error("Not yet implemented")},o}();function Vs(o,e,r){if("complex64"===e){if("complex64"===o.dtype)return o.clone();var s=Hr(o.shape),h=o.toFloat(),m=r.complex(h,s);return s.dispose(),h.dispose(),m}if(!nt(o.dtype,e))return Mt.make(o.shape,{dataId:o.dataId},e);if("complex64"===o.dtype){var D=r.real(o);return m=D.cast(e),D.dispose(),m}if("int32"===e)return r.int(o);if("bool"===e){var S=Xt(0,o.dtype);return m=r.notEqual(o,S),S.dispose(),m}throw new Error("Error in Cast: unknown dtype argument ("+e+")")}function uo(o,e){return Mt.make(e,{dataId:o.dataId},o.dtype)}function Cr(o,e){if(o.length!==e.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+o.length+", imag: "+e.length+".");for(var r=new Float32Array(2*o.length),s=0;s<r.length;s+=2)r[s]=o[s/2],r[s+1]=e[s/2];return r}function Tr(o,e){return{real:o[2*e],imag:o[2*e+1]}}function Ea(o,e,r,s){o[2*s]=e,o[2*s+1]=r}function os(o,e,r){var s=(r?2:-2)*Math.PI*(o/e);return{real:Math.cos(s),imag:Math.sin(s)}}function Dr(o,e,r,s,h){for(var m=Array.from(e).map(function(ue,ye){return{score:ue,boxIndex:ye}}).filter(function(ue){return ue.score>h}).sort(function(ue,ye){return ye.score-ue.score}),D=[],S=0;S<m.length;S++){var R=m[S],$=R.boxIndex;if(R.score<h)break;for(var Q=!1,ee=D.length-1;ee>=0;--ee)if(Lr(o,$,D[ee])>=s){Q=!0;break}if(!Q&&(D.push($),D.length>=r))break}return or(D,"int32")}function Lr(o,e,r){var s=o.subarray(4*e,4*e+4),h=o.subarray(4*r,4*r+4),m=Math.min(s[0],s[2]),D=Math.min(s[1],s[3]),S=Math.max(s[0],s[2]),R=Math.max(s[1],s[3]),B=Math.min(h[0],h[2]),$=Math.min(h[1],h[3]),Q=Math.max(h[0],h[2]),ee=Math.max(h[1],h[3]),ue=(S-m)*(R-D),ye=(Q-B)*(ee-$);if(ue<=0||ye<=0)return 0;var ge=Math.max(m,B),xe=Math.max(D,$),Be=Math.min(S,Q),$e=Math.min(R,ee),ot=Math.max(Be-ge,0)*Math.max($e-xe,0);return ot/(ue+ye-ot)}function ro(o,e,r){var s=Array(o.rank).fill(0),h=o.shape.slice();return e.map(function(m){h[r]=m;var D=o.slice(s,h);return s[r]+=m,D})}function Pn(o,e,r,s,h){for(var m=e[e.length-1],D=[o.length/m,m],S=D[0],R=D[1],B=qe(r,S*s),$=qe("int32",S*s),Q=0;Q<S;Q++){for(var ee=Q*R,ue=o.subarray(ee,ee+R),ye=[],ge=0;ge<ue.length;ge++)ye.push({value:ue[ge],index:ge});ye.sort(function(Nt,Ct){return Ct.value-Nt.value});var xe=Q*s,Be=B.subarray(xe,xe+s),$e=$.subarray(xe,xe+s);for(ge=0;ge<s;ge++)Be[ge]=ye[ge].value,$e[ge]=ye[ge].index}var ot=e.slice();return ot[ot.length-1]=s,[Fr(B,ot,r),Fr($,ot,"int32")]}var sl=function(o,e,r){this.variableNames=["A"];var s=o.windowSize,h=o.batchSize,D=Math.ceil(o.inSize/s);r||this.variableNames.push("bestIndicesA"),this.outputShape=[h,D],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+s+";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < "+s+"; i++) {\n          int inIdx = "+(r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));")+";\n          float candidate = getA(batch, inIdx);\n          if (candidate "+("max"===e?">":"<")+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    "},as=function(o){this.variableNames=["dy"],this.outputShape=o.inShape;var S=o.effectiveFilterHeight,R=o.effectiveFilterWidth;this.userCode="\n      const ivec2 pads = ivec2("+(S-1-o.padInfo.top)+", "+(R-1-o.padInfo.left)+");\n      const float avgMultiplier = float("+1/(o.filterHeight*o.filterWidth)+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+S+";\n            wR += "+o.dilationHeight+") {\n          float dyR = float(dyRCorner + wR) / "+o.strideHeight+".0;\n\n          if (dyR < 0.0 || dyR >= "+o.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+R+";\n            wC+= "+o.dilationWidth+") {\n            float dyC = float(dyCCorner + wC) / "+o.strideWidth+".0;\n\n            if (dyC < 0.0 || dyC >= "+o.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "};function Co(o,e){for(var r=o.length,s=[],h=0;h<r;h++){var m=r-1-h;(e[e.length-1-h]||1)>1&&1===(o[m]||1)&&s.unshift(m)}return s}function te(o,e){for(var r=[],s=0;s<e.length;s++){var h=o[o.length-s-1],m=e.length-s-1;(null==h||1===h&&e[m]>1)&&r.unshift(m)}return r}function W(o,e){for(var r=[],s=Math.max(o.length,e.length),h=0;h<s;h++){var m=o[o.length-h-1];null==m&&(m=1);var D=e[e.length-h-1];if(null==D&&(D=1),1===m)r.unshift(D);else if(1===D)r.unshift(m);else{if(m!==D)throw Error("Operands could not be broadcast together with shapes "+o+" and "+e+".");r.unshift(m)}}return r}var me=function(o,e,r,s,h,m){this.outputShape=[],this.supportsBroadcasting=!0,this.variableNames=["x","mean","variance"],W(o,e),W(o,r);var D="0.0";null!=s&&(W(o,s),this.variableNames.push("offset"),D="getOffsetAtOutCoords()");var S="1.0";null!=h&&(W(o,h),this.variableNames.push("scale"),S="getScaleAtOutCoords()"),this.outputShape=o,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+D+";\n        float scale = "+S+";\n        float inv = scale * inversesqrt(variance + float("+m+"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    "},ft=function(o,e,r,s,h,m){this.supportsBroadcasting=!0,this.usesPackedTextures=!0,this.variableNames=["x","mean","variance"],W(o,e),W(o,r);var D=ut("mean",e.length),S=ut("variance",r.length),R="vec4 offset = vec4(0.0)";null!=s&&(W(o,s),this.variableNames.push("offset"),R=ut("offset",s.length));var B="vec4 scale = vec4(1.0)";null!=h&&(W(o,h),this.variableNames.push("scale"),B=ut("scale",h.length)),this.outputShape=o,this.userCode="\n      void main() {\n        ivec4 rc = getOutputCoords();\n\n        "+R+";\n        "+B+";\n\n        vec4 x = getX(rc.x, rc.y, rc.z, rc.w);\n        "+D+";\n        "+S+";\n\n        vec4 inv = scale * inversesqrt(variance + vec4("+m+"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    "};function ut(o,e){var r="get"+o.charAt(0).toUpperCase()+o.slice(1);return 1===e?"\n      vec4 "+o+"Sample = "+r+"(rc.w);\n      vec4 "+o+" = vec4("+o+"Sample.xy, "+o+"Sample.xy);\n    ":"vec4 "+o+" = "+r+"(rc.x, rc.y, rc.z, rc.w)"}var yr=function(o,e,r){this.variableNames=["AReal","AImag","BReal","BImag"],this.supportsBroadcasting=!0,this.outputShape=W(e,r),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        "+o+"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    "},xa="\n  if (isNaN(a)) return a;\n  if (isNaN(b)) return b;\n",ti="return a + b;",Zo="return a - b;",Il=xa+"\n  return max(a, b);\n",zs=xa+"\n  return min(a, b);\n",Al=xa+"\n  return atan(a, b);\n",Qr=function(){function o(e,r,s){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.outputShape=W(r,s),this.userCode="\n      uniform float NAN;\n      float binaryOperation(float a, float b) {\n        "+e+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "}return o.prototype.getCustomSetupFunc=function(){var e=this;return function(r,s){null==e.startLoc&&(e.startLoc=r.getUniformLocationNoThrow(s,"NAN"),null==e.startLoc)||r.gl.uniform1f(e.startLoc,NaN)}},o}(),ua=function(o,e,r){this.variableNames=["A"],this.outputShape=o,this.userCode="\n      void main() {\n        float value = getAAtOutCoords();\n        if (isNaN(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, float("+e+"), float("+r+")));\n      }\n    "},Ol=function(o){this.variableNames=["real","imag"],this.outputShape=o,this.userCode="\n      void main() {\n        float real = getRealAtOutCoords();\n        float imag = getImagAtOutCoords();\n        vec2 v = vec2(real, imag);\n\n        setOutput(sqrt(dot(v, v)));\n      }\n    "},Pu=function(o,e){this.variableNames=["A","B"],this.outputShape=[],this.outputShape=Vr([o,e],1),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        float value = 0.0;\n        if (yC < "+o[1]+") {\n          value = getA(yR, yC);\n        } else {\n          yC -= "+o[1]+";\n          value = getB(yR, yC);\n        }\n\n        setOutput(value);\n      }\n    "},ul=function(o){this.variableNames=["x","dy"],this.outputShape=o.filterShape,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+o.batchSize+"; b++) {\n          for (int yR = 0; yR < "+o.outHeight+"; yR++) {\n            int xR = wR + yR * "+o.strideHeight+" - "+o.padInfo.top+";\n\n            if (xR < 0 || xR >= "+o.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+o.outWidth+"; yC++) {\n              int xC = wC + yC * "+o.strideWidth+" - "+o.padInfo.left+";\n\n              if (xC < 0 || xC >= "+o.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},ws=function(o){this.variableNames=["dy","W"],this.outputShape=o.inShape;var e=o.filterHeight,r=o.filterWidth;this.userCode="\n      const ivec2 pads = ivec2("+(e-1-o.padInfo.top)+", "+(r-1-o.padInfo.left)+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+e+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+o.strideHeight+".0;\n\n          if (dyR < 0.0 || dyR >= "+o.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+e+" - 1 - wR;\n\n          for (int wC = 0; wC < "+r+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+o.strideWidth+".0;\n\n            if (dyC < 0.0 || dyC >= "+o.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+r+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+o.outChannels+"; d2++) {\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, d2);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},au=function(o){this.variableNames=["x","dy"],this.outputShape=o.filterShape,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * "+o.outChannels/o.inChannels+" + dm;\n\n        float dotProd = 0.0;\n\n        // TODO: Vec4 over the batch size\n        for (int b = 0; b < "+o.batchSize+"; b++) {\n          for (int yR = 0; yR < "+o.outHeight+"; yR++) {\n            int xR = wR + yR * "+o.strideHeight+" - "+o.padInfo.top+";\n\n            if (xR < 0 || xR >= "+o.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+o.outWidth+"; yC++) {\n              int xC = wC + yC * "+o.strideWidth+" - "+o.padInfo.left+";\n\n              if (xC < 0 || xC >= "+o.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},ko=function(o){this.variableNames=["dy","W"],this.outputShape=o.inShape;var e=o.filterHeight,r=o.filterWidth,S=o.outChannels/o.inChannels;this.userCode="\n      const ivec2 pads = ivec2("+(e-1-o.padInfo.top)+", "+(r-1-o.padInfo.left)+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < "+e+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+o.strideHeight+".0;\n\n          if (dyR < 0.0 || dyR >= "+o.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+e+" - 1 - wR;\n\n          for (int wC = 0; wC < "+r+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+o.strideWidth+".0;\n\n            if (dyC < 0.0 || dyC >= "+o.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+r+" - 1 - wC;\n\n            // TODO: Vec4 over the channelMul\n            for (int dm = 0; dm < "+S+"; dm++) {\n              int d2 = d1 * "+S+" + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},cl=function(o){this.variableNames=["x","W"],this.outputShape=o.outShape;var e=o.padInfo.top,r=o.padInfo.left,s=o.strideHeight,h=o.strideWidth,m=o.dilationHeight,D=o.dilationWidth,S=o.filterHeight,R=o.filterWidth,B=4*Math.floor(o.inChannels/4),$=o.inChannels%4;this.userCode="\n      const ivec2 strides = ivec2("+s+", "+h+");\n      const ivec2 pads = ivec2("+e+", "+r+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+S+"; wR++) {\n          int xR = xRCorner + wR * "+m+";\n\n          if (xR < 0 || xR >= "+o.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+R+"; wC++) {\n            int xC = xCCorner + wC * "+D+";\n\n            if (xC < 0 || xC >= "+o.inWidth+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+B+"; d1 += 4) {\n              vec4 xValues = vec4(\n                getX(batch, xR, xC, d1),\n                getX(batch, xR, xC, d1 + 1),\n                getX(batch, xR, xC, d1 + 2),\n                getX(batch, xR, xC, d1 + 3)\n              );\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              dotProd += dot(xValues, wValues);\n            }\n\n            if ("+(1===$)+") {\n              dotProd +=\n                getX(batch, xR, xC, "+B+") *\n                getW(wR, wC, "+B+", d2);\n            } else if ("+(2===$)+") {\n              vec2 xValues = vec2(\n                getX(batch, xR, xC, "+B+"),\n                getX(batch, xR, xC, "+B+" + 1)\n              );\n              vec2 wValues = vec2(\n                getW(wR, wC, "+B+", d2),\n                getW(wR, wC, "+B+" + 1, d2)\n              );\n              dotProd += dot(xValues, wValues);\n            } else if ("+(3===$)+") {\n              vec3 xValues = vec3(\n                getX(batch, xR, xC, "+B+"),\n                getX(batch, xR, xC, "+B+" + 1),\n                getX(batch, xR, xC, "+B+" + 2)\n              );\n              vec3 wValues = vec3(\n                getW(wR, wC, "+B+", d2),\n                getW(wR, wC, "+B+" + 1, d2),\n                getW(wR, wC, "+B+" + 2, d2)\n              );\n              dotProd += dot(xValues, wValues);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},ku=function(o){this.variableNames=["x","W"],this.outputShape=o.outShape;var Q=o.outChannels/o.inChannels;this.userCode="\n      const ivec2 strides = ivec2("+o.strideHeight+", "+o.strideWidth+");\n      const ivec2 pads = ivec2("+o.padInfo.top+", "+o.padInfo.left+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+Q+";\n        int q = d2 - d1 * "+Q+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TODO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+o.filterHeight+"; wR++) {\n          int xR = xRCorner + wR * "+o.dilationHeight+";\n\n          if (xR < 0 || xR >= "+o.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+o.filterWidth+"; wC++) {\n            int xC = xCCorner + wC * "+o.dilationWidth+";\n\n            if (xC < 0 || xC >= "+o.inWidth+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},dl=function(o,e,r,s,h){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var m=o[0],D=o[1],S=o[2],$=r[0],Q=r[1];this.outputShape=[e[0],$,Q,o[3]];var ue=[D-1+".0",S-1+".0"],ye=ue[0],ge=ue[1],xe=$>1?[""+(D-1)/($-1),"(y2-y1) * height_ratio","y1*"+ye+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+ye],Nt=Q>1?[""+(S-1)/(Q-1),"(x2-x1) * width_ratio","x1*"+ge+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+ge];this.userCode="\n      const float height_ratio = float("+xe[0]+");\n      const float width_ratio = float("+Nt[0]+");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= "+m+") {\n          return;\n        }\n\n        float height_scale = "+xe[1]+";\n        float width_scale = "+Nt[1]+";\n\n        float in_y = "+xe[2]+";\n        if( in_y < 0.0 || in_y > "+ye+" ) {\n          setOutput(float("+h+"));\n          return;\n        }\n        float in_x = "+Nt[2]+";\n        if( in_x < 0.0 || in_x > "+ge+" ) {\n          setOutput(float("+h+"));\n          return;\n        }\n\n        vec2 sourceFracIndexRC = vec2(in_y,in_x);\n        if("+("bilinear"===s?1:0)+" == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n          ivec2 sourceCeilRC = ivec2(ceil(sourceFracIndexRC));\n\n          float topLeft = getImage(b, sourceFloorRC.x, sourceFloorRC.y, d);\n          float bottomLeft = getImage(b, sourceCeilRC.x, sourceFloorRC.y, d);\n          float topRight = getImage(b, sourceFloorRC.x, sourceCeilRC.y, d);\n          float bottomRight = getImage(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n          vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n          float top = topLeft + (topRight - topLeft) * fracRC.y;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n          float newValue = top + (bottom - top) * fracRC.x;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestRC = ivec2(floor(\n            sourceFracIndexRC + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestRC.x, sourceNearestRC.y, d);\n          setOutput(newValue);\n        }\n      }\n    "};function js(o,e,r){void 0===r&&(r="index");var s=en(e);return s.map(function(h,m){return"int "+o[m]+" = "+r+" / "+h+"; "+(m===s.length-1?"int "+o[m+1]+" = "+r+" - "+o[m]+" * "+h:"index -= "+o[m]+" * "+h)+";"}).join("")}function ri(o){return 1===o.length?""+o[0]:"vec"+o.length+"("+o.join(",")+")"}function Xr(o,e,r,s,h){var m=o.map(function(Q){var ee=Pe(Q.shapeInfo.logicalShape);return Q.shapeInfo.isUniform?"uniform float "+Q.name+(ee>1?"["+ee+"]":"")+";":"uniform sampler2D "+Q.name+";"});m=m.join("\n");var D,S,R=o.map(function(Q){return function Pl(o,e,r){var s=function Cc(o){var e=o.name,r="get"+e.charAt(0).toUpperCase()+e.slice(1)+"Flat",s=Pe(o.shapeInfo.logicalShape);if(o.shapeInfo.isUniform)return 1===s?"float "+r+"(int index) {return "+e+";}":"\n      float "+r+"(int index) {\n        for (int i = 0; i < "+s+"; i++) {\n          if (i == index) {\n            return "+e+"[i];\n          }\n        }\n      }\n    ";var h=o.shapeInfo.texShape,m=h[0],D=h[1];return 1===D&&1===m?"\n      float "+r+"(int index) {\n        return sampleTexture("+e+", halfCR);\n      }\n    ":1===D?"\n      float "+r+"(int index) {\n        vec2 uv = vec2(0.5, (float(index) + 0.5) / "+m+".0);\n        return sampleTexture("+e+", uv);\n      }\n    ":1===m?"\n      float "+r+"(int index) {\n        vec2 uv = vec2((float(index) + 0.5) / "+D+".0, 0.5);\n        return sampleTexture("+e+", uv);\n      }\n    ":"\n    float "+r+"(int index) {\n      vec2 uv = UVfrom1D("+m+", "+D+", index);\n      return sampleTexture("+e+", uv);\n    }\n  "}(o);return s+=o.shapeInfo.isPacked?Ru(o):us(o),(r||Ye(o.shapeInfo.logicalShape,e.logicalShape))&&(s+=function Kn(o,e,r){var s=o.name,h=s.charAt(0).toUpperCase()+s.slice(1),m="get"+h+"AtOutCoords",D=Co(o.shapeInfo.logicalShape,e.logicalShape),B=r&&(e.logicalShape.length>o.shapeInfo.logicalShape.length||D.length>0),$=function J(o){for(var e=0;e<o.length;e++)if(o[e]!==e)return!1;return!0}(D),Q=o.shapeInfo.isUniform;if(B&&!$)return function fl(o,e,r,s){var h=o.shapeInfo.logicalShape.length,m=e.logicalShape.length,D="int";2===m?D="ivec2":3===m?D="ivec3":4===m&&(D="ivec4");var S=Co(o.shapeInfo.logicalShape,e.logicalShape),R=m-h;return"\n    float "+s+"() {\n      "+D+" coords = getOutputCoords();\n      "+(0===h?"":m<2&&S.length>=1?"coords = 0;":S.map(function(B){return"coords["+(B+R)+"] = 0;"}).join("\n"))+"\n      return get"+r+"("+(m<2&&h>0?"coords":o.shapeInfo.logicalShape.map(function(B,$){return"coords["+($+R)+"]"}).join(", "))+");\n    }\n  "}(o,e,h,m);var ee=Pe(o.shapeInfo.logicalShape),ue="";B&&$&&(ue="\n        int mainPart = index / "+ee+";\n        index -= mainPart * "+ee+";\n      ");var ye=e.texShape;if(Q)return 1===ee?"float "+m+"() {return "+s+";}":"\n      float "+m+"() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                              vec2("+ye[0]+", "+ye[1]+"));\n        int index = resTexRC.x * "+ye[1]+" + resTexRC.y;\n        "+ue+"\n        return get"+h+"Flat(index);\n      }\n    ";var ge=o.shapeInfo.texShape;return Ye(ge,ye)?"\n      float "+m+"() {\n        return sampleTexture("+s+", resultUV);\n      }\n    ":"\n    float "+m+"() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+ye[0]+", "+ye[1]+"));\n      int index = resTexRC.x * "+ye[1]+" + resTexRC.y;\n      "+ue+"\n      int texR = index / "+ge[1]+";\n      int texC = index - texR * "+ge[1]+";\n      vec2 uv = (vec2(texC, texR) + halfCR) /\n                 vec2("+ge[1]+".0, "+ge[0]+".0);\n\n      return sampleTexture("+s+", uv);\n    }\n  "}(o,e,r)),s}(Q,e,s)}).join("\n"),B=e.texShape,$=he;return e.isPacked?(D=function Cs(o,e){switch(o.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function Rt(o,e){var r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];return 1===e[0]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * "+r[1]+".0);\n      }\n    ":1===e[1]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * "+r[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+r[0]+", "+r[1]+"));\n      return resTexRC.x * "+r[1]+" + resTexRC.y;\n    }\n  "}(0,e);case 2:return function ui(o,e){var r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];if(Ye(o,e))return"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2("+r[0]+", "+r[1]+"));\n      }\n    ";var s=Math.ceil(o[1]/2);return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+r[0]+", "+r[1]+"));\n\n      int index = resTexRC.x * "+r[1]+" + resTexRC.y;\n      int r = 2 * (index / "+s+");\n      int c = imod(index, "+s+") * 2;\n\n      return ivec2(r, c);\n    }\n  "}(o,e);case 3:return function zr(o,e){var r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],s=Math.ceil(o[2]/2),h=s*Math.ceil(o[1]/2);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+r[0]+", "+r[1]+"));\n      int index = resTexRC.x * "+r[1]+" + resTexRC.y;\n\n      int b = index / "+h+";\n      index -= b * "+h+";\n\n      int r = 2 * (index / "+s+");\n      int c = imod(index, "+s+") * 2;\n\n      return ivec3(b, r, c);\n    }\n  "}(o,e);case 4:return function Mr(o,e){var r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],s=Math.ceil(o[3]/2),h=s*Math.ceil(o[2]/2),m=h*o[1];return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+r[0]+", "+r[1]+"));\n      int index = resTexRC.x * "+r[1]+" + resTexRC.y;\n\n      int b2 = index / "+m+";\n      index -= b2 * "+m+";\n\n      int b = index / "+h+";\n      index -= b * "+h+";\n\n      int r = 2 * (index / "+s+");\n      int c = imod(index, "+s+") * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  "}(o,e);default:throw new Error(o.length+"-D packed output coordinate fetching is not yet supported")}}(e.logicalShape,B),S=Y):(D=function Ds(o,e){switch(o.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function En(o,e){return 1===e[0]?"\n      int getOutputCoords() {\n        return int(resultUV.x * "+e[1]+".0);\n      }\n    ":1===e[1]?"\n      int getOutputCoords() {\n        return int(resultUV.y * "+e[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+e[0]+", "+e[1]+"));\n      return resTexRC.x * "+e[1]+" + resTexRC.y;\n    }\n  "}(0,e);case 2:return function La(o,e){return Ye(o,e)?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+e[0]+", "+e[1]+"));\n      }\n    ":1===o[1]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+e[0]+", "+e[1]+"));\n        int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":1===o[0]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+e[0]+", "+e[1]+"));\n        int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+e[0]+", "+e[1]+"));\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n      int r = index / "+o[1]+";\n      int c = index - r * "+o[1]+";\n      return ivec2(r, c);\n    }\n  "}(o,e);case 3:return function Er(o,e){var r=js(["r","c","d"],o);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+e[0]+", "+e[1]+"));\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n      "+r+"\n      return ivec3(r, c, d);\n    }\n  "}(o,e);case 4:return function Fn(o,e){var r=js(["r","c","d","d2"],o);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+e[0]+", "+e[1]+"));\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n      "+r+"\n      return ivec4(r, c, d, d2);\n    }\n  "}(o,e);case 5:return function bi(o,e){var r=js(["r","c","d","d2","d3"],o);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2("+e[0]+",\n                             "+e[1]+"));\n\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n\n      "+r+"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  "}(o,e);case 6:return function Ir(o,e){var r=js(["r","c","d","d2","d3","d4"],o);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+e[0]+", "+e[1]+"));\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n\n      "+r+"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  "}(o,e);default:throw new Error(o.length+"-D output sampling is not yet supported")}}(e.logicalShape,B),S=ie),h&&($+=ke),[$,G,S,m,D,R,r].join("\n")}function us(o){var e=o.shapeInfo.logicalShape;switch(e.length){case 0:return function Ro(o){var e=o.name,r="get"+e.charAt(0).toUpperCase()+e.slice(1);return o.shapeInfo.isUniform?"float "+r+"() {return "+e+";}":"\n    float "+r+"() {\n      return sampleTexture("+e+", halfCR);\n    }\n  "}(o);case 1:return function Ko(o){var e=o.name,r="get"+e.charAt(0).toUpperCase()+e.slice(1);return"\n    float "+r+"(int index) {\n      return "+r+"Flat(index);\n    }\n  "}(o);case 2:return function Es(o){var e=o.shapeInfo.logicalShape,r=o.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),h=o.shapeInfo.texShape;if(null!=h&&Ye(e,h))return"\n    float "+s+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+h[1]+".0, "+h[0]+".0);\n      return sampleTexture("+r+", uv);\n    }\n  ";var D=ct(e),R=D.keptDims,B=D.newShape;if(B.length<e.length)return"\n      "+us(ds(o,B))+"\n      float "+s+"(int row, int col) {\n        return "+s+"("+Na(["row","col"],R)+");\n      }\n    ";if(o.shapeInfo.isUniform)return"\n      float "+s+"(int row, int col) {\n        float index = dot(vec2(row, col), vec2("+e[1]+", 1));\n        return "+s+"Flat(round(index));\n      }\n    ";var $=h[0],Q=h[1];return 1===Q?"\n    float "+s+"(int row, int col) {\n      float index = dot(vec2(row, col), vec2("+e[1]+", 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / "+$+".0);\n      return sampleTexture("+r+", uv);\n    }\n  ":1===$?"\n    float "+s+"(int row, int col) {\n      float index = dot(vec2(row, col), vec2("+e[1]+", 1));\n      vec2 uv = vec2((index + 0.5) / "+Q+".0, 0.5);\n      return sampleTexture("+r+", uv);\n    }\n  ":"\n  float "+s+"(int row, int col) {\n    vec2 uv = UVfrom2D("+$+", "+Q+", "+e[1]+", row, col);\n    return sampleTexture("+r+", uv);\n  }\n"}(o);case 3:return function pl(o){var e=o.shapeInfo.logicalShape,r=o.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),h=e[1]*e[2],m=e[2],D=ct(e),R=D.keptDims,B=D.newShape;if(B.length<e.length)return"\n        "+us(ds(o,B))+"\n        float "+s+"(int row, int col, int depth) {\n          return "+s+"("+Na(["row","col","depth"],R)+");\n        }\n      ";if(o.shapeInfo.isUniform)return"\n      float "+s+"(int row, int col, int depth) {\n        float index = dot(vec3(row, col, depth),\n                          vec3("+h+", "+m+", 1));\n        return "+s+"Flat(round(index));\n      }\n    ";var $=o.shapeInfo.texShape,Q=$[0],ee=$[1];return ee===h?"\n        float "+s+"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2("+m+", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+ee+".0, "+Q+".0);\n          return sampleTexture("+r+", uv);\n        }\n      ":ee===m?"\n    float "+s+"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2("+e[1]+", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+ee+".0, "+Q+".0);\n      return sampleTexture("+r+", uv);\n    }\n  ":"\n      float "+s+"(int row, int col, int depth) {\n        vec2 uv = UVfrom3D(\n            "+Q+", "+ee+", "+h+", "+m+", row, col, depth);\n        return sampleTexture("+r+", uv);\n      }\n  "}(o);case 4:return function lu(o){var e=o.shapeInfo.logicalShape,r=o.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),h=e[3],m=e[2]*h,D=e[1]*m,S=ct(e),R=S.newShape,B=S.keptDims;if(R.length<e.length)return"\n      "+us(ds(o,R))+"\n      float "+s+"(int row, int col, int depth, int depth2) {\n        return "+s+"("+Na(["row","col","depth","depth2"],B)+");\n      }\n    ";if(o.shapeInfo.isUniform)return"\n      float "+s+"(int row, int col, int depth, int depth2) {\n        float index = dot(vec4(row, col, depth, depth2),\n                          vec4("+D+", "+m+", "+h+", 1));\n        return "+s+"Flat(round(index));\n      }\n    ";var $=o.shapeInfo.texShape,Q=$[0],ee=$[1];return ee===D?"\n      float "+s+"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2), vec3("+m+", "+h+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+ee+".0, "+Q+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":ee===h?"\n      float "+s+"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3("+e[1]*e[2]+", "+e[2]+", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+ee+".0, "+Q+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":"\n    float "+s+"(int row, int col, int depth, int depth2) {\n      vec2 uv = UVfrom4D("+Q+", "+ee+", "+D+", "+m+",\n          "+h+", row, col, depth, depth2);\n      return sampleTexture("+r+", uv);\n    }\n  "}(o);case 5:return function Ba(o){var e=o.shapeInfo.logicalShape,r=o.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),h=e[4],m=e[3]*h,D=e[2]*m,S=e[1]*D,R=ct(e),B=R.newShape,$=R.keptDims;if(B.length<e.length)return"\n      "+us(ds(o,B))+"\n      float "+s+"(int row, int col, int depth, int depth2, int depth3) {\n        return "+s+"("+Na(["row","col","depth","depth2","depth3"],$)+");\n      }\n    ";if(o.shapeInfo.isUniform)return"\n      float "+s+"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+S+", "+D+", "+m+", "+h+")) +\n          depth3;\n        return "+s+"Flat(index);\n      }\n    ";var Q=o.shapeInfo.texShape,ee=Q[0],ue=Q[1];return ue===S?"\n      float "+s+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(\n          vec4(col, depth, depth2, depth3),\n          vec4("+D+", "+m+", "+h+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+ue+".0, "+ee+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":ue===h?"\n      float "+s+"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+e[1]*e[2]*e[3]+", "+e[2]*e[3]+",\n            "+e[3]+", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+ue+".0, "+ee+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":"\n    float "+s+"(int row, int col, int depth, int depth2, int depth3) {\n      vec2 uv = UVfrom5D("+ee+", "+ue+", "+S+", "+D+",\n          "+m+", "+h+", row, col, depth, depth2, depth3);\n      return sampleTexture("+r+", uv);\n    }\n  "}(o);case 6:return function Fo(o){var e=o.shapeInfo.logicalShape,r=o.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),h=e[5],m=e[4]*h,D=e[3]*m,S=e[2]*D,R=e[1]*S,B=ct(e),$=B.newShape,Q=B.keptDims;if($.length<e.length)return"\n      "+us(ds(o,$))+"\n      float "+s+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return "+s+"("+Na(["row","col","depth","depth2","depth3","depth4"],Q)+");\n      }\n    ";if(o.shapeInfo.isUniform)return"\n      float "+s+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+R+", "+S+", "+D+", "+m+")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2("+h+", 1));\n        return "+s+"Flat(index);\n      }\n    ";var ee=o.shapeInfo.texShape,ue=ee[0],ye=ee[1];return ye===R?"\n      float "+s+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(\n          vec4(col, depth, depth2, depth3),\n          vec4("+S+", "+D+", "+m+", "+h+")) + depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+ye+".0, "+ue+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":ye===h?"\n      float "+s+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+e[1]*e[2]*e[3]*e[4]+",\n               "+e[2]*e[3]*e[4]+",\n               "+e[3]*e[4]+",\n               "+e[4]+")) + depth3;\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+ye+".0, "+ue+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":"\n    float "+s+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      vec2 uv = UVfrom6D("+ue+", "+ye+", "+R+", "+S+",\n          "+D+", "+m+", "+h+"\n          ,row, col, depth, depth2, depth3, depth4);\n      return sampleTexture("+r+", uv);\n    }\n  "}(o);default:throw new Error(e.length+"-D input sampling is not yet supported")}}function Ru(o){var e=o.shapeInfo.logicalShape;switch(e.length){case 1:return function Do(o){var e=o.name,r="get"+e.charAt(0).toUpperCase()+e.slice(1),s=o.shapeInfo.texShape,h=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)];return"\n    vec4 "+r+"(int index) {\n      vec2 uv = packedUVfrom1D(\n        "+h[0]+", "+h[1]+", index);\n      return texture2D("+e+", uv);\n    }\n  "}(o);case 2:return function co(o){var e=o.shapeInfo.logicalShape,r=o.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),h=o.shapeInfo.texShape,m=h[0],D=h[1];if(null!=h&&Ye(e,h))return"\n      vec4 "+s+"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2("+D+".0, "+m+".0);\n\n        return texture2D("+r+", uv);\n      }\n    ";var S=[Math.ceil(h[0]/2),Math.ceil(h[1]/2)];return"\n    vec4 "+s+"(int row, int col) {\n      vec2 uv = packedUVfrom2D("+Math.ceil(e[1]/2)+", "+S[0]+", "+S[1]+", row, col);\n      return texture2D("+r+", uv);\n    }\n  "}(o);case 3:return function cs(o){var e=o.shapeInfo.logicalShape,r=o.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),h=o.shapeInfo.texShape,m=[Math.ceil(h[0]/2),Math.ceil(h[1]/2)];if(1===e[0])return"\n        "+Ru(ds(o,e.slice(1)))+"\n        vec4 "+s+"(int b, int row, int col) {\n          return "+s+"("+Na(["b","row","col"],[1,2])+");\n        }\n      ";var D=m[0],S=m[1],R=Math.ceil(e[2]/2);return"\n    vec4 "+s+"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        "+D+", "+S+", "+R*Math.ceil(e[1]/2)+", "+R+", b, row, col);\n      return texture2D("+r+", uv);\n    }\n  "}(o);case 4:return function ho(o){var e=o.shapeInfo.logicalShape,r=o.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),h=o.shapeInfo.texShape,m=[Math.ceil(h[0]/2),Math.ceil(h[1]/2)],D=m[0],S=m[1],R=Math.ceil(e[3]/2),B=R*Math.ceil(e[2]/2);return"\n    vec4 "+s+"(int b2, int b, int row, int col) {\n      vec2 uv = packedUVfrom4D(\n        "+D+", "+S+", "+B*e[1]+",\n        "+B+", "+R+", b2, b, row, col);\n      return texture2D("+r+", uv);\n    }\n  "}(o);default:throw new Error("Packed "+e.length+"-D input sampling is not yet supported")}}var G="\n  float sampleTexture(sampler2D textureSampler, vec2 uv) {\n    return texture2D(textureSampler, uv).r;\n  }\n",ie="\n  void setOutput(float val) {\n    gl_FragColor = vec4(val, 0, 0, 0);\n  }\n",Y="\n  void setOutput(vec4 val) {\n    gl_FragColor = val;\n  }\n",he="\n  precision highp float;\n  precision highp int;\n  varying vec2 resultUV;\n  const vec2 halfCR = vec2(0.5, 0.5);\n\n  struct ivec5\n  {\n    int x;\n    int y;\n    int z;\n    int w;\n    int u;\n  };\n\n  struct ivec6\n  {\n    int x;\n    int y;\n    int z;\n    int w;\n    int u;\n    int v;\n  };\n\n  bool isNaN(float val) {\n    return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;\n  }\n\n  bool hasNaN(vec4 values) {\n    vec4 v1 = values * values;\n    vec4 v2 = values * values;\n    return any(notEqual(v1, v2));\n  }\n\n  float getNaN(vec4 values) {\n    return dot(vec4(1), values);\n  }\n\n  int round(float value) {\n    return int(floor(value + 0.5));\n  }\n\n  int imod(int x, int y) {\n    return x - y * (x / y);\n  }\n\n  //Based on the work of Dave Hoskins\n  //https://www.shadertoy.com/view/4djSRW\n  #define HASHSCALE1 443.8975\n  float random(float seed){\n    vec2 p = resultUV * seed;\n    vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n    p3 += dot(p3, p3.yzx + 19.19);\n    return fract((p3.x + p3.y) * p3.z);\n  }\n\n  \nvec2 UVfrom1D(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n  \nvec2 UVfrom2D(int texNumR, int texNumC, int numC, int row, int col) {\n  int index = row * numC + col;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n  \nvec2 UVfrom3D(int texNumR, int texNumC, int stride0,\n    int stride1, int row, int col, int depth) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 + depth;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n  \nvec2 UVfrom4D(int texNumR, int texNumC, int stride0,\n    int stride1, int stride2, int row, int col, int depth,\n    int depth2) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 + depth * stride2 + depth2;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom4D(int texNumR, int texNumC, int texelsInBatch2,\n    int texelsInBatch, int texelsInLogicalRow, int b2, int b,\n    int row, int col) {\n  int index = b2 * texelsInBatch2 + b * texelsInBatch +\n    (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n  \nvec2 UVfrom5D(int texNumR, int texNumC, int stride0,\n    int stride1, int stride2, int stride3, int row, int col, int depth,\n    int depth2, int depth3) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 +\n              depth * stride2 + depth2 * stride3 + depth3;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n  \nvec2 UVfrom6D(int texNumR, int texNumC, int stride0,\n    int stride1, int stride2, int stride3, int stride4,\n    int row, int col, int depth, int depth2, int depth3, int depth4) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 + depth * stride2 + depth2 *\n    stride3 + depth3 * stride4 + depth4;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n",ke="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function Yi(o){if(o<=1)return"int";if(2===o)return"ivec2";if(3===o)return"ivec3";if(4===o)return"ivec4";if(5===o)return"ivec5";if(6===o)return"ivec6";throw Error("GPU for rank "+o+" is not yet supported")}function ds(o,e){var r=JSON.parse(JSON.stringify(o));return r.shapeInfo.logicalShape=e,r}function Na(o,e){return e.map(function(r){return o[r]}).join(", ")}var uu=function(o,e,r){this.variableNames=["x"],this.outputShape=o;var s=o.length,h=o[o.length-1],m=r?"<":">";this.userCode="\n      int getIndex(int i) {\n        "+(r?"return "+h+" -i - 1;":"return i;")+"\n      }\n\n      void main() {\n        "+Yi(s)+" coords = getOutputCoords();\n        int end = "+kl(s,"coords")+";\n        float val = 0.0;\n        for (int i = "+h+" - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx "+m+" end) {\n            continue;\n          }\n          if (idx == end && "+e+") {\n            continue;\n          }\n          "+kl(s,"coords")+" = idx;\n          val += getX("+function Lo(o,e){if(1===o)return""+e;if(2===o)return e+".x, "+e+".y";if(3===o)return e+".x, "+e+".y, "+e+".z";if(4===o)return e+".x, "+e+".y, "+e+".z, "+e+".w";throw Error("Cumulative sum for rank "+o+" is not yet supported")}(s,"coords")+");\n        }\n        setOutput(val);\n      }\n    "};function kl(o,e){if(1===o)return""+e;if(2===o)return e+".y";if(3===o)return e+".z";if(4===o)return e+".w";throw Error("Cumulative sum for rank "+o+" is not yet supported")}var Eo,Ui,sr=function(){function o(e,r,s){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=r,this.dataFormat=s,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = "+this.getHeightCoordString()+";\n      int w = "+this.getWidthCoordString()+";\n      int d = "+this.getDepthCoordString()+";\n\n      int in_h = h / "+r+";\n      int offset_h = imod(h, "+r+");\n      int in_w = w / "+r+";\n      int offset_w = imod(w, "+r+");\n      int offset_d = (offset_h * "+r+" + offset_w) *\n        "+this.getOutputDepthSize()+";\n      int in_d = d + offset_d;\n\n      float result = "+this.getInputSamplingString()+";\n      setOutput(result);\n    }\n  "}return o.prototype.getHeightCoordString=function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"},o.prototype.getWidthCoordString=function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"},o.prototype.getDepthCoordString=function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"},o.prototype.getOutputDepthSize=function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]},o.prototype.getInputSamplingString=function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},o}(),Dc=function(o){this.variableNames=["A"],this.outputShape=o,this.userCode="\n      const float FLOAT_MAX = 1.70141184e38;\n      const float FLOAT_MIN = 1.17549435e-38;\n\n      lowp vec4 encode_float(highp float v) {\n        if (isNaN(v)) {\n          return vec4(255, 255, 255, 255);\n        }\n\n        highp float av = abs(v);\n\n        if(av < FLOAT_MIN) {\n          return vec4(0.0, 0.0, 0.0, 0.0);\n        } else if(v > FLOAT_MAX) {\n          return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n        } else if(v < -FLOAT_MAX) {\n          return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n        }\n\n        highp vec4 c = vec4(0,0,0,0);\n\n        highp float e = floor(log2(av));\n        highp float m = exp2(fract(log2(av))) - 1.0;\n\n        c[2] = floor(128.0 * m);\n        m -= c[2] / 128.0;\n        c[1] = floor(32768.0 * m);\n        m -= c[1] / 32768.0;\n        c[0] = floor(8388608.0 * m);\n\n        highp float ebias = e + 127.0;\n        c[3] = floor(ebias / 2.0);\n        ebias -= c[3] * 2.0;\n        c[2] += floor(ebias) * 128.0;\n\n        c[3] += 128.0 * step(0.0, -v);\n\n        return c / 255.0;\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        gl_FragColor = encode_float(x);\n      }\n    "},xs=function(o,e,r){this.variableNames=["real","imag"];var s=e[1];this.outputShape=e;var h=r?"2.0 * "+Math.PI:"-2.0 * "+Math.PI;this.userCode="\n      const float exponentMultiplier = "+h+";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        "+o+"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float("+s+");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < "+s+"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / "+(r?s+".0":"1.0")+";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    "},Va=function(o){this.variableNames=["A"];var e=o[0],r=o[1];this.outputShape=o,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+r+".0, "+e+".0);\n\n        vec4 values = texture2D(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    "},Gs=function(o,e,r){this.variableNames=["A","indices"];var s=o.slice();s[r]=e,this.outputShape=s,this.rank=s.length;var h=Yi(this.rank),m=function Rl(o,e){var r=o.length;if(r>4)throw Error("Gather for rank "+r+" is not yet supported");if(1===r)return"int(getIndices(resRC))";for(var s=["resRC.x","resRC.y","resRC.z","resRC.w"],h=[],m=0;m<o.length;m++)h.push(m===e?"int(getIndices("+s[m]+"))":""+s[m]);return h.join()}(o,r);this.userCode="\n      void main() {\n        "+h+" resRC = getOutputCoords();\n        setOutput(getA("+m+"));\n      }\n    "},Bo=function(o,e,r){this.sliceDim=o,this.strides=e,this.variableNames=["x","indices"],this.outputShape=r;var s=Yi(e.length),h=Yi(r.length);this.userCode="\n        "+s+" strides = "+s+"("+this.strides+");\n         void main() {\n          "+h+" coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < "+this.sliceDim+"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * "+(this.sliceDim>1?"strides[j]":"strides")+";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      "};function hs(o,e){return[e,o]}function po(o,e){return o*e}function Jo(o,e,r){var s=function Fl(o,e){if(o%e!=0)throw new Error("unpackedSize ("+o+") must be a multiple of "+e);return o/e}(o.length,r);if(e.length<s)throw new Error("matrix length ("+e.length+") must be >= "+s);for(var h=0,m=0;m<o.length;m+=r)e[h++]=o[m]}function Vo(o,e){return[Math.ceil(e/2),Math.ceil(o/2)]}function Ua(o,e){var r=Vo(o,e);return r[0]*r[1]*4}function bn(o,e){var r=e();return Ec(o),r}(function(o){o[o.RENDER=0]="RENDER",o[o.UPLOAD=1]="UPLOAD",o[o.PIXELS=2]="PIXELS",o[o.DOWNLOAD=3]="DOWNLOAD"})(Eo||(Eo={})),function(o){o[o.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",o[o.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",o[o.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",o[o.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",o[o.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(Ui||(Ui={}));var Ss=!1;function Bu(o){Ss=o}function Ec(o){if(Ss){var e=o.getError();if(e!==o.NO_ERROR)throw new Error("WebGL Error: "+ii(o,e))}}function ii(o,e){switch(e){case o.NO_ERROR:return"NO_ERROR";case o.INVALID_ENUM:return"INVALID_ENUM";case o.INVALID_VALUE:return"INVALID_VALUE";case o.INVALID_OPERATION:return"INVALID_OPERATION";case o.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case o.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case o.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+e}}function cu(o,e){return le(o,function(){return o.getExtension(e)},'Extension "'+e+'" not supported on this browser.')}function xc(o,e){var r=le(o,function(){return o.createShader(o.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");if(bn(o,function(){return o.shaderSource(r,e)}),bn(o,function(){return o.compileShader(r)}),!1===o.getShaderParameter(r,o.COMPILE_STATUS))throw console.log(o.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function gd(o,e){var r=le(o,function(){return o.createShader(o.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");if(bn(o,function(){return o.shaderSource(r,e)}),bn(o,function(){return o.compileShader(r)}),!1===o.getShaderParameter(r,o.COMPILE_STATUS))throw function du(o,e){var r=wp.exec(e);if(null==r)return console.log("Couldn't parse line number in error: "+e),void console.log(o);for(var s=+r[1],h=o.split("\n"),m=h.length.toString().length+2,D=h.map(function(ee,ue){return Ne((ue+1).toString(),m)+ee}),S=0,R=0;R<D.length;R++)S=Math.max(D[R].length,S);var B=D.slice(0,s-1),$=D.slice(s-1,s),Q=D.slice(s);console.log(B.join("\n")),console.log(e.split("\n")[0]),console.log("%c "+Ne($[0],S),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(Q.join("\n"))}(e,o.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}var wp=/ERROR: [0-9]+:([0-9]+):/g;function ph(o){return le(o,function(){return o.createProgram()},"Unable to create WebGLProgram.")}function Bl(o,e){if(bn(o,function(){return o.linkProgram(e)}),!1===o.getProgramParameter(e,o.LINK_STATUS))throw console.log(o.getProgramInfoLog(e)),new Error("Failed to link vertex and fragment shaders.")}function Ws(o,e){if(bn(o,function(){return o.validateProgram(e)}),!1===o.getProgramParameter(e,o.VALIDATE_STATUS))throw console.log(o.getProgramInfoLog(e)),new Error("Shader program validation failed.")}function Sc(o,e){var r=le(o,function(){return o.createBuffer()},"Unable to create WebGLBuffer");return bn(o,function(){return o.bindBuffer(o.ARRAY_BUFFER,r)}),bn(o,function(){return o.bufferData(o.ARRAY_BUFFER,e,o.STATIC_DRAW)}),r}function Nc(o,e){var r=le(o,function(){return o.createBuffer()},"Unable to create WebGLBuffer");return bn(o,function(){return o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,r)}),bn(o,function(){return o.bufferData(o.ELEMENT_ARRAY_BUFFER,e,o.STATIC_DRAW)}),r}function zi(){return 2===Re.get("WEBGL_VERSION")?1:4}function qs(o){return le(o,function(){return o.createTexture()},"Unable to create WebGLTexture.")}function gl(o,e){var r=Re.get("WEBGL_MAX_TEXTURE_SIZE");if(o<=0||e<=0){var s="["+o+"x"+e+"]";throw new Error("Requested texture size "+s+" is invalid.")}if(o>r||e>r)throw s="["+o+"x"+e+"]",new Error("Requested texture size "+s+" greater than WebGL maximum on this browser / GPU ["+r+"x"+r+"].")}function Tc(o){return le(o,function(){return o.createFramebuffer()},"Unable to create WebGLFramebuffer.")}function fo(o,e,r,s,h,m,D){var S=o.getAttribLocation(e,r);return-1!==S&&(bn(o,function(){return o.bindBuffer(o.ARRAY_BUFFER,s)}),bn(o,function(){return o.vertexAttribPointer(S,h,o.FLOAT,!1,m,D)}),bn(o,function(){return o.enableVertexAttribArray(S)}),!0)}function Zs(o,e,r){ve(o,r),bn(o,function(){return o.activeTexture(o.TEXTURE0+r)}),bn(o,function(){return o.bindTexture(o.TEXTURE_2D,e)})}function Vl(o,e,r){return le(o,function(){return o.getUniformLocation(e,r)},'uniform "'+r+'" not present in program.')}function io(o,e,r){return o.getUniformLocation(e,r)}function gi(o,e,r,s,h){bn(o,function(){return Zs(o,r,h)}),bn(o,function(){return o.uniform1i(s,h)})}function L(o,e,r){bn(o,function(){return o.bindFramebuffer(o.FRAMEBUFFER,r)}),bn(o,function(){return o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,e,0)})}function O(o,e){bn(o,function(){return o.bindFramebuffer(o.FRAMEBUFFER,e)}),bn(o,function(){return o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,null,0)})}function j(o){var e=o.checkFramebufferStatus(o.FRAMEBUFFER);if(e!==o.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+ne(o,e))}function ne(o,e){switch(e){case o.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case o.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case o.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case o.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+e}}function le(o,e,r){var s=bn(o,function(){return e()});if(null==s)throw new Error(r);return s}function ve(o,e){var r=o.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,s=e+o.TEXTURE0;if(s<o.TEXTURE0||s>r)throw new Error("textureUnit must be in [gl.TEXTURE0, gl.TEXTURE"+r+"].")}function tt(o,e){void 0===e&&(e=!1);var r=Re.get("WEBGL_MAX_TEXTURE_SIZE");if(e&&(r*=2,o=o.map(function(m,D){return D>=o.length-2?Tt(o[D]):o[D]})),2!==o.length){var s=ct(o);o=s.newShape}var h=Pe(o);return o.length<=1&&h<=r?[h,1]:2===o.length&&o[0]<=r&&o[1]<=r?o:3===o.length&&o[0]*o[1]<=r&&o[2]<=r?[o[0]*o[1],o[2]]:3===o.length&&o[0]<=r&&o[1]*o[2]<=r?[o[0],o[1]*o[2]]:4===o.length&&o[0]*o[1]*o[2]<=r&&o[3]<=r?[o[0]*o[1]*o[2],o[3]]:4===o.length&&o[0]<=r&&o[1]*o[2]*o[3]<=r?[o[0],o[1]*o[2]*o[3]]:xt(h)}function Ot(o){return o%2==0}function gn(o,e){if(Ye(o=o.slice(-2),e=e.slice(-2))||!o.length||!e.length||0===o[0]||0===o[1]||0===e[0]||0===e[1])return!0;if(o.length!==e.length){if(Ye(ct(o).newShape,ct(e).newShape))return!0}else if(Ot(o[0])&&Ot(e[0])&&(Ot(o[1])&&Ot(e[1])||o[1]===e[1]))return!0;return!1}var vn=Object.freeze({callAndCheck:bn,enableDebugWebGLErrorChecking:Bu,checkWebGLError:Ec,getWebGLErrorMessage:ii,getExtensionOrThrow:cu,createVertexShader:xc,createFragmentShader:gd,createProgram:ph,linkProgram:Bl,validateProgram:Ws,createStaticVertexBuffer:Sc,createStaticIndexBuffer:Nc,getNumChannels:zi,createTexture:qs,validateTextureSize:gl,createFramebuffer:Tc,bindVertexBufferToProgramAttribute:fo,bindTextureUnit:Zs,unbindTextureUnit:function Vu(o,e){ve(o,e),bn(o,function(){return o.activeTexture(o.TEXTURE0+e)}),bn(o,function(){return o.bindTexture(o.TEXTURE_2D,null)})},getProgramUniformLocationOrThrow:Vl,getProgramUniformLocation:io,bindTextureToProgramUniformSampler:gi,bindCanvasToFramebuffer:function F(o){bn(o,function(){return o.bindFramebuffer(o.FRAMEBUFFER,null)}),bn(o,function(){return o.viewport(0,0,o.canvas.width,o.canvas.height)}),bn(o,function(){return o.scissor(0,0,o.canvas.width,o.canvas.height)})},bindColorTextureToFramebuffer:L,unbindColorTextureFromFramebuffer:O,validateFramebuffer:j,getFramebufferErrorMessage:ne,getTextureShapeFromLogicalShape:tt,isReshapeFree:gn});function Ar(o){return xc(o,"\n    precision highp float;\n    attribute vec3 clipSpacePos;\n    attribute vec2 uv;\n    varying vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }")}function ji(o){return Sc(o,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function za(o){return Nc(o,new Uint16Array([0,1,2,2,1,3]))}function Ki(o,e){var r,s,h,m,D,S,R,B=o;return 2===Re.get("WEBGL_VERSION")?(r=B.R32F,s=B.R16F,h=B.RGBA32F,m=B.RED,D=4,S=1,R=B.HALF_FLOAT):(r=o.RGBA,s=o.RGBA,h=B.RGBA,m=o.RGBA,D=4,S=4,R=null!=e?e.HALF_FLOAT_OES:null),{internalFormatFloat:r,internalFormatHalfFloat:s,internalFormatPackedFloat:h,textureFormatFloat:m,downloadTextureFormat:o.RGBA,downloadUnpackNumChannels:D,defaultNumChannels:S,textureTypeHalfFloat:R}}function Oi(o,e,r,s,h,m){gl(e,r);var D=qs(o),S=o.TEXTURE_2D;return bn(o,function(){return o.bindTexture(S,D)}),bn(o,function(){return o.texParameteri(S,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE)}),bn(o,function(){return o.texParameteri(S,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE)}),bn(o,function(){return o.texParameteri(S,o.TEXTURE_MIN_FILTER,o.NEAREST)}),bn(o,function(){return o.texParameteri(S,o.TEXTURE_MAG_FILTER,o.NEAREST)}),bn(o,function(){return o.texImage2D(S,0,s,e,r,0,h,m,null)}),bn(o,function(){return o.bindTexture(o.TEXTURE_2D,null)}),D}function mi(o,e,r,s){var h=hs(e,r);return Oi(o,h[0],h[1],s.internalFormatFloat,s.textureFormatFloat,o.FLOAT)}function ca(o,e,r,s){var h=hs(e,r);return Oi(o,h[0],h[1],s.internalFormatFloat,s.textureFormatFloat,s.textureTypeHalfFloat)}function Ns(o,e,r,s){var h=hs(e,r);return Oi(o,h[0],h[1],o.RGBA,o.RGBA,o.UNSIGNED_BYTE)}function ja(o,e,r,s){var h=Vo(e,r);return Oi(o,h[0],h[1],s.internalFormatPackedFloat,o.RGBA,o.FLOAT)}function Ts(o,e,r,s){var h=Vo(e,r);return Oi(o,h[0],h[1],s.internalFormatHalfFloat,o.RGBA,s.textureTypeHalfFloat)}function Uu(o,e,r){return bn(o,function(){return o.bindBuffer(o.ARRAY_BUFFER,r)}),fo(o,e,"clipSpacePos",r,3,20,0)&&fo(o,e,"uv",r,2,20,12)}function Ul(o,e,r){bn(o,function(){return o.bindTexture(o.TEXTURE_2D,e)}),bn(o,function(){return o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,r)}),bn(o,function(){return o.bindTexture(o.TEXTURE_2D,null)})}function zu(o,e,r,s,h,m){gl(r,s),bn(o,function(){return o.bindTexture(o.TEXTURE_2D,e)}),bn(o,function(){return o.texSubImage2D(o.TEXTURE_2D,0,0,0,r,s,m,o.FLOAT,h)}),bn(o,function(){return o.bindTexture(o.TEXTURE_2D,null)})}function Mc(o,e,r,s,h,m,D){var S,R=hs(r,s),B=R[0],$=R[1];1===D.defaultNumChannels?S=h:function Lu(o,e,r){var s=po(o.length,r);if(e.length<s)throw new Error("unpackedArray length ("+e.length+") must be >= "+s);for(var h=0,m=0;m<o.length;++m)e[h]=o[m],h+=r}(h,S=new Float32Array(po(h.length,m)),m),zu(o,e,B,$,S,D.textureFormatFloat)}function hu(o,e,r,s,h,m,D){var S=Vo(s,h),R=S[0],B=S[1],$=new Float32Array(Ua(s,h));(function Ll(o,e,r,s,h){var m=Ua(r,s);if(h.length<m)throw new Error("packedRGBA length ("+h.length+") must be >=\n        "+m);for(var D=s%2==1,S=r%2==1,R=Math.floor(s/2),B=Math.floor(r/2),$=Math.ceil(s/2),Q=$*Math.ceil(r/2),ee=Tt(r)*Tt(s),ue=0;ue<e;ue++){for(var ye=ue*r*s,ge=ue*ee,xe=D?4:0,Be=s,$e=ge,ot=0;ot<B;++ot){for(var Nt=2*ot*s,Ct=0;Ct<R;++Ct){var Pt=ye+Nt+2*Ct;h[$e]=o[Pt],h[$e+1]=o[Pt+1],h[$e+2]=o[Pt+Be],h[$e+3]=o[Pt+Be+1],$e+=4}$e+=xe}if(D){Pt=ye+s-1,$e=ge+4*($-1);var Gt=2*s;for(xe=4*$,ot=0;ot<B;++ot)h[$e]=o[Pt],h[$e+2]=o[Pt+s],Pt+=Gt,$e+=xe}if(S){for(Pt=ye+(r-1)*s,$e=ge+4*(Q-$),Ct=0;Ct<R;++Ct)h[$e++]=o[Pt++],h[$e++]=o[Pt++],$e+=2;D&&S&&(h[ge+ee-4]=o[Pt])}}})(m,r,s,h,$),zu(o,e,R,B,$,o.RGBA)}function fh(o,e,r,s,h){var m=e;if(2===Re.get("WEBGL_VERSION")){var D=o,S=D.createBuffer();bn(o,function(){return o.bindBuffer(D.PIXEL_PACK_BUFFER,S)});var R=4*po(r*s,h.downloadUnpackNumChannels);bn(o,function(){return o.bufferData(D.PIXEL_PACK_BUFFER,R,o.STATIC_DRAW)}),bn(o,function(){return D.readPixels(0,0,s,r,o.RGBA,o.FLOAT,0)}),bn(o,function(){return o.bindBuffer(D.PIXEL_PACK_BUFFER,null)}),m=S}return m}function zl(o,e,r,s,h){var m=o,D=new Float32Array(po(r*s,h.downloadUnpackNumChannels));m.bindBuffer(o.ARRAY_BUFFER,e),m.getBufferSubData(o.ARRAY_BUFFER,0,D),m.bindBuffer(o.ARRAY_BUFFER,null);var S=new Float32Array(r*s);return Jo(D,S,h.downloadUnpackNumChannels),S}function ju(o,e,r,s){var h=hs(e,r),m=h[0],D=h[1],S=new Float32Array(po(e*r,s.downloadUnpackNumChannels));bn(o,function(){return o.readPixels(0,0,m,D,s.downloadTextureFormat,o.FLOAT,S)});var R=new Float32Array(e*r);return Jo(S,R,s.downloadUnpackNumChannels),R}function Cp(o,e,r,s){var h=hs(e,r),m=h[0],D=h[1],S=new Uint8Array(po(e*r,4));return bn(o,function(){return o.readPixels(0,0,m,D,s.downloadTextureFormat,o.UNSIGNED_BYTE,S)}),new Float32Array(S.buffer)}function Dp(o,e,r,s,h,m,D){var S=Vo(h,m),R=S[0],B=S[1],$=new Float32Array(Ua(h,m));bn(o,function(){return o.readPixels(0,0,R,B,o.RGBA,o.FLOAT,$)});var Q=new Float32Array(Pe([e,r,s]));return function fd(o,e,r,s,h){var m=r*s;if(h.length<m)throw new Error("matrix length ("+h.length+") must be >= "+m);for(var D=s%2==1,S=r%2==1,R=Math.floor(s/2),B=Math.floor(r/2),$=Math.ceil(s/2),Q=$*Math.ceil(r/2),ee=Tt(r)*Tt(s),ue=0;ue<e;ue++){for(var ye=ue*r*s,ge=ue*ee,xe=D?4:0,Be=s+(D?1:0),$e=ge,ot=ye,Nt=ye+s,Ct=0;Ct<B;++Ct){for(var Pt=0;Pt<R;++Pt)h[ot++]=o[$e++],h[ot++]=o[$e++],h[Nt++]=o[$e++],h[Nt++]=o[$e++];$e+=xe,ot+=Be,Nt+=Be}if(D){$e=ge+4*($-1);var Gt=ye+s-1;for(xe=4*$,Be=2*s,Ct=0;Ct<B;++Ct)h[Gt]=o[$e],h[Gt+s]=o[$e+2],$e+=xe,Gt+=Be}if(S){for($e=ge+4*(Q-$),Gt=ye+(r-1)*s,Pt=0;Pt<R;++Pt)h[Gt++]=o[$e++],h[Gt++]=o[$e++],$e+=2;D&&(h[ye+r*s-1]=o[$e])}}return h}($,e,r,s,Q)}var Ep=Object.freeze({createVertexShader:Ar,createVertexBuffer:ji,createIndexBuffer:za,getTextureConfig:Ki,createFloat32MatrixTexture:mi,createFloat16MatrixTexture:ca,createUnsignedBytesMatrixTexture:Ns,createPackedMatrixTexture:ja,createFloat16PackedMatrixTexture:Ts,bindVertexProgramAttributeStreams:Uu,uploadPixelDataToTexture:Ul,uploadMatrixToTexture:Mc,uploadMatrixToPackedTexture:hu,maybeCreateBufferFromOutputTexture:fh,downloadFloat32MatrixFromBuffer:zl,downloadFloat32MatrixFromOutputTexture:ju,downloadByteEncodedFloatMatrixFromOutputTexture:Cp,downloadMatrixFromPackedOutputTexture:Dp}),xp=function(){function o(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.autoDebugValidate=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[],this.gl=e??ce(Re.get("WEBGL_VERSION")),1===Re.get("WEBGL_VERSION")?(this.textureFloatExtension=cu(this.gl,"OES_texture_float"),this.colorBufferFloatExtension=this.gl.getExtension("WEBGL_color_buffer_float"),Re.get("WEBGL_RENDER_FLOAT32_ENABLED")||(this.textureHalfFloatExtension=cu(this.gl,"OES_texture_half_float"),this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float"))):this.colorBufferFloatExtension=cu(this.gl,"EXT_color_buffer_float"),this.vertexBuffer=ji(this.gl),this.indexBuffer=za(this.gl),this.framebuffer=Tc(this.gl),this.textureConfig=Ki(this.gl,this.textureHalfFloatExtension)}return o.prototype.dispose=function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var r=this.gl;bn(r,function(){return r.finish()}),bn(r,function(){return r.bindFramebuffer(r.FRAMEBUFFER,null)}),bn(r,function(){return r.deleteFramebuffer(e.framebuffer)}),bn(r,function(){return r.bindBuffer(r.ARRAY_BUFFER,null)}),bn(r,function(){return r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null)}),bn(r,function(){return r.deleteBuffer(e.indexBuffer)}),this.disposed=!0}},o.prototype.enableAutomaticDebugValidation=function(e){this.autoDebugValidate=e,Bu(e)},o.prototype.createFloat32MatrixTexture=function(e,r){return this.throwIfDisposed(),mi(this.gl,e,r,this.textureConfig)},o.prototype.createFloat16MatrixTexture=function(e,r){return this.throwIfDisposed(),ca(this.gl,e,r,this.textureConfig)},o.prototype.createUnsignedBytesMatrixTexture=function(e,r){return this.throwIfDisposed(),Ns(this.gl,e,r)},o.prototype.uploadPixelDataToTexture=function(e,r){this.throwIfDisposed(),Ul(this.gl,e,r)},o.prototype.createFloat16PackedMatrixTexture=function(e,r){return this.throwIfDisposed(),Ts(this.gl,e,r,this.textureConfig)},o.prototype.createPackedMatrixTexture=function(e,r){return this.throwIfDisposed(),ja(this.gl,e,r,this.textureConfig)},o.prototype.deleteMatrixTexture=function(e){var r=this;this.throwIfDisposed(),this.outputTexture===e&&(O(this.gl,this.framebuffer),this.outputTexture=null),bn(this.gl,function(){return r.gl.deleteTexture(e)})},o.prototype.uploadMatrixToTexture=function(e,r,s,h){this.throwIfDisposed();var m=zi();return Mc(this.gl,e,r,s,h,m,this.textureConfig)},o.prototype.uploadMatrixToPackedTexture=function(e,r,s,h,m){return this.throwIfDisposed(),hu(this.gl,e,r,s,h,m)},o.prototype.downloadFloat32MatrixFromOutputTexture=function(e,r,s){var h=this;return this.downloadMatrixDriver(e,function(){return ju(h.gl,r,s,h.textureConfig)})},o.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(e,r,s){var h=this;return this.downloadMatrixDriver(e,function(){return Cp(h.gl,r,s,h.textureConfig)})},o.prototype.downloadFloat32MatrixFromBuffer=function(e,r,s){return zl(this.gl,e,r,s,this.textureConfig)},o.prototype.maybeCreateBufferFromTexture=function(e,r,s){this.bindTextureToFrameBuffer(e);var h=fh(this.gl,e,r,s,this.textureConfig);return this.unbindTextureToFrameBuffer(),h},o.prototype.createAndWaitForFence=function(){var e=this.createFence(this.gl);return this.pollFence(e)},o.prototype.createFence=function(e){var r,s,h=this;if(Re.get("WEBGL_FENCE_API_ENABLED")){var m=e,D=m.fenceSync(m.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),s=function(){var S=m.clientWaitSync(D,0,0);return S===m.ALREADY_SIGNALED||S===m.CONDITION_SATISFIED},r=D}else Re.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(r=this.beginQuery(),this.endQuery(),s=function(){return h.isQueryAvailable(r,Re.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):s=function(){return!0};return{query:r,isFencePassed:s}},o.prototype.downloadMatrixFromPackedTexture=function(e,r,s,h,m,D){var S=this;return this.downloadMatrixDriver(e,function(){return Dp(S.gl,r,s,h,m,D)})},o.prototype.createProgram=function(e){this.throwIfDisposed();var r=this.gl,s=gd(r,e),h=Ar(r),m=ph(r);return bn(r,function(){return r.attachShader(m,h)}),bn(r,function(){return r.attachShader(m,s)}),Bl(r,m),this.autoDebugValidate&&Ws(r,m),this.vertexAttrsAreBound||(this.setProgram(m),this.vertexAttrsAreBound=Uu(r,this.program,this.vertexBuffer)),m},o.prototype.deleteProgram=function(e){var r=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&bn(this.gl,function(){return r.gl.deleteProgram(e)})},o.prototype.setProgram=function(e){var r=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.autoDebugValidate&&Ws(this.gl,this.program),bn(this.gl,function(){return r.gl.useProgram(e)})},o.prototype.getUniformLocation=function(e,r,s){return void 0===s&&(s=!0),this.throwIfDisposed(),s?Vl(this.gl,e,r):io(this.gl,e,r)},o.prototype.getAttributeLocation=function(e,r){var s=this;return this.throwIfDisposed(),bn(this.gl,function(){return s.gl.getAttribLocation(e,r)})},o.prototype.getUniformLocationNoThrow=function(e,r){return this.throwIfDisposed(),this.gl.getUniformLocation(e,r)},o.prototype.setInputMatrixTexture=function(e,r,s){this.throwIfDisposed(),this.throwIfNoProgram(),gi(this.gl,0,e,r,s)},o.prototype.setOutputMatrixTexture=function(e,r,s){this.setOutputMatrixTextureDriver(e,s,r)},o.prototype.setOutputPackedMatrixTexture=function(e,r,s){this.throwIfDisposed();var h=Vo(r,s);this.setOutputMatrixTextureDriver(e,h[0],h[1])},o.prototype.setOutputMatrixWriteRegion=function(e,r,s,h){this.setOutputMatrixWriteRegionDriver(s,e,h,r)},o.prototype.setOutputPackedMatrixWriteRegion=function(e,r,s,h){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},o.prototype.debugValidate=function(){null!=this.program&&Ws(this.gl,this.program),j(this.gl)},o.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.autoDebugValidate&&this.debugValidate(),bn(e,function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)})},o.prototype.blockUntilAllProgramsCompleted=function(){var e=this;this.throwIfDisposed(),bn(this.gl,function(){return e.gl.finish()})},o.prototype.getQueryTimerExtension=function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=cu(this.gl,2===Re.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},o.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},o.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},o.prototype.beginQuery=function(){if(2===Re.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,r=this.getQueryTimerExtensionWebGL2(),s=e.createQuery();return e.beginQuery(r.TIME_ELAPSED_EXT,s),s}var h=this.getQueryTimerExtensionWebGL1(),m=h.createQueryEXT();return h.beginQueryEXT(h.TIME_ELAPSED_EXT,m),m},o.prototype.endQuery=function(){if(2!==Re.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var r=this.gl,s=this.getQueryTimerExtensionWebGL2();r.endQuery(s.TIME_ELAPSED_EXT)}},o.prototype.waitForQueryAndGetTime=function(e){return I(this,void 0,void 0,function(){var r=this;return H(this,function(s){switch(s.label){case 0:return[4,Le(function(){return r.disposed||r.isQueryAvailable(e,Re.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})];case 1:return s.sent(),[2,this.getQueryTime(e,Re.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}})})},o.prototype.getQueryTime=function(e,r){if(0===r)return null;if(2===r){var s=this.gl;return s.getQueryParameter(e,s.QUERY_RESULT)/1e6}var h=this.getQueryTimerExtensionWebGL1();return h.getQueryObjectEXT(e,h.QUERY_RESULT_EXT)/1e6},o.prototype.isQueryAvailable=function(e,r){if(0===r)return!0;if(2===r){var s=this.gl,h=this.getQueryTimerExtensionWebGL2(),m=s.getQueryParameter(e,s.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(h.GPU_DISJOINT_EXT)),m&&!this.disjoint}return m=(h=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(e,h.QUERY_RESULT_AVAILABLE_EXT),null==this.disjoint&&(this.disjoint=this.gl.getParameter(h.GPU_DISJOINT_EXT)),m&&!this.disjoint},o.prototype.pollFence=function(e){var r=this;return new Promise(function(s){r.addItemToPoll(function(){return e.isFencePassed()},function(){return s()})})},o.prototype.pollItems=function(){for(var e=function Vm(o){for(var e=0,r=o.length-1,s=-1;e<=r;){var h=e+r>>1;o[h]()?(s=h,e=h+1):r=h-1}return s}(this.itemsToPoll.map(function(s){return s.isDoneFn})),r=0;r<=e;++r)(0,this.itemsToPoll[r].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(e+1)},o.prototype.addItemToPoll=function(e,r){var s=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:r}),this.itemsToPoll.length>1||Le(function(){return s.pollItems(),0===s.itemsToPoll.length})},o.prototype.bindTextureToFrameBuffer=function(e){this.throwIfDisposed(),L(this.gl,e,this.framebuffer),this.autoDebugValidate&&j(this.gl)},o.prototype.unbindTextureToFrameBuffer=function(){null!=this.outputTexture?(L(this.gl,this.outputTexture,this.framebuffer),this.autoDebugValidate&&j(this.gl)):O(this.gl,this.framebuffer)},o.prototype.downloadMatrixDriver=function(e,r){this.bindTextureToFrameBuffer(e);var s=r();return this.unbindTextureToFrameBuffer(),s},o.prototype.setOutputMatrixTextureDriver=function(e,r,s){this.throwIfDisposed();var h=this.gl;L(h,e,this.framebuffer),this.autoDebugValidate&&j(h),this.outputTexture=e,bn(h,function(){return h.viewport(0,0,r,s)}),bn(h,function(){return h.scissor(0,0,r,s)})},o.prototype.setOutputMatrixWriteRegionDriver=function(e,r,s,h){var m=this;this.throwIfDisposed(),bn(this.gl,function(){return m.gl.scissor(e,r,s,h)})},o.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},o.prototype.throwIfNoProgram=function(){if(null==this.program)throw new Error("No GPU program is currently set.")},o}();function Sp(o,e){if(o.length!==e.length)throw Error("Binary was compiled with "+o.length+" inputs, but was executed with "+e.length+" inputs");o.forEach(function(r,s){var h=r.logicalShape,m=e[s],D=m.shape;if(!Ye(h,D))throw Error("Binary was compiled with different shapes than the current args. Shapes "+h+" and "+D+" must match");if(!r.isUniform||!m.isUniform){var S=r.texShape,R=m.isUniform?null:m.texData.texShape;if(!Ye(S,R))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+S+" and "+R+" must match")}})}var gh=function(o,e,r){this.variableNames=["A"],this.outputShape=o;var h=r.inChannels,S=r.padInfo,R=r.outWidth,ue=h*r.filterWidth;this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            int blockIndex = rc.y + col;\n            int pos = rc.x + row;\n\n            if(blockIndex >= "+o[1]+" || pos >= "+o[0]+") continue;\n\n            int offsetY = int(blockIndex / ("+R+")) * "+r.strideHeight+" - "+S.top+";\n            int d0 = offsetY + "+r.dilationHeight+" * (pos / "+ue+");\n\n            if(d0 >= "+e[0]+" || d0 < 0) continue;\n\n            int offsetX = int(mod(float(blockIndex), "+R+".) * "+r.strideWidth+". - "+S.left+".);\n            int d1 = offsetX + "+r.dilationWidth+" * (int(mod(float(pos), "+ue+".) / "+h+".));\n\n            if(d1 >= "+e[1]+" || d1 < 0) continue;\n\n            result[row * 2 + col] = getA(d0, d1, int(mod(float(pos), "+h+".)));\n          }\n        }\n\n        gl_FragColor = result;\n      }\n    "},md=function(o,e,r,s,h){this.variableNames=["x"],this.outputShape=[];var D=e,S=o[3]-1;this.outputShape=o;var R="float("+r+") + float("+s+") * sum";this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -"+D+"; j <= "+D+"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  "+S+") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * "+(.5===h?"inversesqrt("+R+")":1===h?"1.0/("+R+")":"exp(log("+R+") * float(-"+h+"));")+";\n        setOutput(val);\n      }\n    "},yd=function(o,e,r,s,h){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=o,this.depth=o[3],this.depthRadius=e,this.bias=r,this.alpha=s,this.beta=h,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < "+this.depth+"; ++d) {\n          int depthBegin = int(max(0.0, float(d - "+e+")));\n          int depthEnd = int(min(float("+this.depth+"),\n              float(d + "+e+" + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = "+this.depth+";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float("+s+") * norm + float("+r+");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float("+s+")\n                * float("+h+")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * "+h+");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    "},mh=function(o){this.variableNames=["dy","maxPos"],this.outputShape=o.inShape;var h=o.effectiveFilterHeight,m=o.effectiveFilterWidth;this.userCode="\n      const ivec2 pads = ivec2("+(h-1-o.padInfo.top)+", "+(m-1-o.padInfo.left)+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+h+";\n          wR += "+o.dilationHeight+") {\n          float dyR = float(dyRCorner + wR) / "+o.strideHeight+".0;\n\n          if (dyR < 0.0 || dyR >= "+o.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+m+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+o.strideWidth+".0;\n\n            if (dyC < 0.0 || dyC >= "+o.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = "+(h*m-1)+" - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+m+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},$u=function(o,e,r,s){void 0===r&&(r=!1),void 0===s&&(s=!1),this.variableNames=["matrixA","matrixB"];var S=r?o[1]:o[2];this.outputShape=[o[0],r?o[2]:o[1],s?e[1]:e[2]];var R=function(ee,ue){return r?"batch, "+ue+" + "+ee+", aRow":"batch, aRow, "+ue+" + "+ee},B=function(ee,ue){return s?"batch, bCol, "+ue+" + "+ee:"batch, "+ue+" + "+ee+", bCol"},$=4*Math.floor(S/4),Q=S%4;this.userCode=" float dotARowBCol(int batch, int aRow, int bCol) {\n      float result = 0.0;\n      for (int i = 0; i < "+$+"; i += 4) {\n        vec4 a = vec4(\n          getMatrixA("+R(0,"i")+"),\n          getMatrixA("+R(1,"i")+"),\n          getMatrixA("+R(2,"i")+"),\n          getMatrixA("+R(3,"i")+")\n        );\n        vec4 b = vec4(\n          getMatrixB("+B(0,"i")+"),\n          getMatrixB("+B(1,"i")+"),\n          getMatrixB("+B(2,"i")+"),\n          getMatrixB("+B(3,"i")+")\n        );\n\n        result += dot(a, b);\n      }\n\n      if ("+(1===Q)+") {\n        result += getMatrixA("+R(0,$)+") *\n          getMatrixB("+B(0,$)+");\n      } else if ("+(2===Q)+") {\n        vec2 a = vec2(\n          getMatrixA("+R(0,$)+"),\n          getMatrixA("+R(1,$)+")\n        );\n        vec2 b = vec2(\n          getMatrixB("+B(0,$)+"),\n          getMatrixB("+B(1,$)+")\n        );\n        result += dot(a, b);\n      } else if ("+(3===Q)+") {\n        vec3 a = vec3(\n          getMatrixA("+R(0,$)+"),\n          getMatrixA("+R(1,$)+"),\n          getMatrixA("+R(2,$)+")\n        );\n        vec3 b = vec3(\n          getMatrixB("+B(0,$)+"),\n          getMatrixB("+B(1,$)+"),\n          getMatrixB("+B(2,$)+")\n        );\n        result += dot(a, b);\n      }\n\n      return result;\n    }\n\n    void main() {\n      ivec3 resBRC = getOutputCoords();\n      setOutput(dotARowBCol(resBRC.x, resBRC.y, resBRC.z));\n    }\n    "},yh=function(o,e,r,s,h){void 0===s&&(s=!1),void 0===h&&(h=!1),this.variableNames=["matrixA","matrixB"],this.usesPackedTextures=!0,this.outputShape=r;var D=Math.ceil((s?o[0]:o[1])/2),B=s?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],$=h?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];this.userCode="\n      const float sharedDimension = "+D+".0;\n\n      vec4 dot2x2ARowBCol(ivec2 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < "+D+"; i++) {\n          vec4 a = getMatrixA("+(s?"i * 2, rc.x":"rc.x, i * 2")+");\n          vec4 b = getMatrixB("+(h?"rc.y, i * 2":"i * 2, rc.y")+");\n\n          result += ("+B[0]+" * "+$[0]+") + ("+B[1]+" * "+$[1]+");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec2 rc = getOutputCoords();\n        setOutput(dot2x2ARowBCol(rc));\n      }\n    "},Gu=function(){function o(e,r,s){this.variableNames=["probs"],this.outputShape=[e,s],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(r-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(r-1)+"));\n      }\n    "}return o.prototype.getCustomSetupFunc=function(e){var r=this;return function(s,h){null==r.seedLoc&&(r.seedLoc=s.getUniformLocation(h,"seed")),s.gl.uniform1f(r.seedLoc,e)}},o}(),eg=function(o,e,r,s){this.variableNames=["indices"],this.outputShape=[o,e],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+s+"), float("+r+"),\n                      float(index == coords.y)));\n      }\n    "};function vh(o,e){return 1===e?[o]:function Wu(o,e){return["x","y","z","w","u","v"].slice(0,e).map(function(r){return o+"."+r})}(o,e)}var qu=function(o){this.variableNames=["A"],this.outputShape=o;var e=o.length,r=vh("rc",e),s=Yi(e),h=function Um(o,e,r){if(1===o)return"rc > "+e[0];for(var s="",h=o-2;h<o;h++)s+=r[h]+" >= "+e[h],h<o-1&&(s+="||");return s}(e,o,r),m=function Np(o,e,r,s){if(1===o)return"";var h=s.slice(-2);return"\n    int r = "+h[0]+";\n    int c = "+h[1]+";\n    int rp1 = r + 1;\n    int cp1 = c + 1;\n\n    bool cEdge = cp1 >= "+e+";\n    bool rEdge = rp1 >= "+r+";\n  "}(e,o[o.length-1],o[o.length-2],r),D=function ng(o,e){var r=o.length,s=function tg(o,e){for(var r=[],s=0;s<=1;s++)for(var h=0;h<=1;h++){for(var m=(0===s?"r":"rp1")+", "+(0===h?"c":"cp1"),D=2;D<o;D++)m=e[e.length-1-D]+","+m;r.push(m)}return r}(r,e);return 1===r?"getA(rc),\n            rc + 1 >= "+o[0]+" ? 0. : getA(rc + 1),\n            0, 0":"getA("+s[0]+"),\n          cEdge ? 0. : getA("+s[1]+"),\n          rEdge ? 0. : getA("+s[2]+"),\n          rEdge || cEdge ? 0. : getA("+s[3]+")"}(o,r);this.userCode="\n      void main() {\n        "+s+" rc = getOutputCoords();\n\n        if("+h+") {\n          gl_FragColor = vec4(0);\n        } else {\n          "+m+"\n\n          setOutput(vec4("+D+"));\n        }\n      }\n    "},Tp=function(o,e,r){this.variableNames=["x"],this.outputShape=e.map(function(R,B){return R[0]+o[B]+R[1]});var s=o.length,h=Yi(s),m=e.map(function(R){return R[0]}).join(","),D=e.map(function(R,B){return R[0]+o[B]}).join(","),S=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,s);this.userCode=1!==s?"\n      "+h+" start = "+h+"("+m+");\n      "+h+" end = "+h+"("+D+");\n\n      void main() {\n        "+h+" outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float("+r+"));\n        } else {\n          "+h+" coords = outC - start;\n          setOutput(getX("+S+"));\n        }\n      }\n    ":"\n        int start = "+m+";\n        int end = "+D+";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float("+r+"));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      "},vd=function(o,e,r){if(this.variableNames=["x"],"avg"===e&&r)throw new Error("Cannot compute positions for average pool.");var s=o.filterWidth,h=o.strideHeight,m=o.strideWidth,D=o.dilationHeight,S=o.dilationWidth,R=o.effectiveFilterHeight,B=o.effectiveFilterWidth,$=o.padInfo.top,Q=o.padInfo.left;this.outputShape=o.outShape;var ee="avg"===e,ue="0.0";if(ee||(ue="-1.0 / 0.0"),r)this.userCode="\n        const ivec2 strides = ivec2("+h+", "+m+");\n        const ivec2 pads = ivec2("+$+", "+Q+");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+R+";\n              wR += "+D+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+o.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+B+";\n                wC += "+S+") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+o.inWidth+") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = wR * "+B+" + wC;\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var ye=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===e&&(ye="avgValue / count");var ge=4*Math.floor(s/4),xe=s%4,Be="\n      if ("+ee+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec2 strides = ivec2("+h+", "+m+");\n      const ivec2 pads = ivec2("+$+", "+Q+");\n      const float initializationValue = "+ue+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+o.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+ue+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < "+R+";\n            wR += "+D+") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+o.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+ge+"; wC += 4) {\n            int xC = xCCorner + wC * "+S+";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+S+", d),\n              getValue(batch, xR, xC + 2 * "+S+", d),\n              getValue(batch, xR, xC + 3 * "+S+", d)\n            );\n\n            "+Be+"\n          }\n\n          int xC = xCCorner + "+ge+";\n          if ("+(1===xe)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            "+Be+"\n          } else if ("+(2===xe)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+S+", d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+Be+"\n          } else if ("+(3===xe)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+S+", d),\n              getValue(batch, xR, xC + 2 * "+S+", d),\n              initializationValue\n            );\n\n            "+Be+"\n          }\n        }\n        setOutput("+ye+");\n      }\n    "}},fu=function(o,e){this.variableNames=["x"];var r=o.windowSize,s=o.batchSize,h=o.inSize,m=Math.ceil(h/r);this.outputShape=[s,m];var D="0.0",S="";"prod"===e?D="1.0":"min"===e?(D="1.0 / 0.0",S="min"):"max"===e&&(D="-1.0 / 0.0",S="max");var R=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===e?R="sumValue":"prod"===e?R="prodValue":"all"===e?R="allValue":"any"===e&&(R="anyValue");var B=4*Math.floor(r/4),$=r%4,Q="\n      if ("+("sum"===e)+") {\n        sumValue += dot(values, ones);\n      } else if ("+("prod"===e)+") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = "+S+"(values, minMaxValue);\n      }\n    ",ee="vec4";"all"===e?(D="1.0",Q="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",ee="bvec4"):"any"===e&&(D="0.0",Q="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",ee="bvec4");var ue="";h%r>0&&(ue="\n        if (inIdx < 0 || inIdx >= "+h+") {\n          return initializationValue;\n        }\n      "),this.userCode="\n      const float initializationValue = "+D+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+ue+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+r+";\n\n        vec4 minMaxValue = vec4("+D+");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < "+B+"; i += 4) {\n          int inIdx = inOffset + i;\n          "+ee+" values = "+ee+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+Q+"\n        }\n\n        int inIdx = inOffset + "+B+";\n        if ("+(1===$)+") {\n          "+ee+" values = "+ee+"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          "+Q+"\n        } else if ("+(2===$)+") {\n          "+ee+" values = "+ee+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          "+Q+"\n        } else if ("+(3===$)+") {\n          "+ee+" values = "+ee+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          "+Q+"\n        }\n        setOutput("+R+");\n      }\n    "},_d=function(o,e){this.variableNames=["A"],this.usesPackedTextures=!0,this.outputShape=o;for(var r="",s=0;s<4;s++){var h="thisRC = rc;";s%2==1&&(h+="thisRC.z += 1;"),s>1&&(h+="thisRC.y += 1;"),r+="\n        "+h+"\n        "+(s>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+"\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result["+s+"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        "+(s>0?"}":"")+"\n      "}this.userCode="\n      "+function _h(o){return"\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      "+js(["r","c","d"],o)+"\n      return ivec3(r, c, d);\n    }\n  "}(e)+"\n      "+function bd(o){return"\n    int getFlatIndex(ivec3 coords) {\n      return round("+function ls(o,e){if(o.length!==e.length)throw new Error("Vectors to be dotted must be of the same length -got "+o.length+" and "+e.length);for(var r=[],s=Math.floor(o.length/4),h=o.length%4,m=0;m<s;m++){var D=o.slice(4*m,4*m+4),S=e.slice(4*m,4*m+4);r.push(ri(D)+", "+ri(S))}return 0!==h&&(D=o.slice(4*s),S=e.slice(4*s),1===D.length&&(D=D.map(function(R){return"float("+R+")"}),S=S.map(function(R){return"float("+R+")"})),r.push(ri(D)+", "+ri(S))),r.map(function(R,B){return"dot("+R+")"}).join("+")}(["coords.x","coords.y","coords.z"],en(o).map(function(e){return e.toString()}).concat(["1."]))+");\n    }\n  "}(o)+"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = "+o[1]+";\n        int cols = "+o[2]+";\n\n        "+r+"\n\n        setOutput(result);\n      }\n    "},wd=function(o,e,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e.shape;var s=e.shape,h=s[1],m=s[2],D=o.shape,S=D[1],R=D[2],B=[r&&S>1?h-1:h,r&&R>1?m-1:m],$=[r&&S>1?S-1:S,r&&R>1?R-1:R],Q=B[0]/$[0],ee=B[1]/$[1],ue=1/Q,ye=1/ee,ge=2*Math.ceil(ue)+2,xe=2*Math.ceil(ye)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+Q+");\n        const float widthScale = float("+ee+");\n\n        const float invHeightScale = float("+ue+");\n        const float invWidthScale = float("+ye+");\n\n        const int winHeight = int("+ge+");\n        const int winWidth = int("+xe+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+S+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+R+") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), "+(h-1)+".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), "+(m-1)+".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},Ha=function(o,e,r,s){this.variableNames=["A"],this.outputShape=[];var m=o[1],D=o[2];this.outputShape=[o[0],e,r,o[3]];var R=[s&&e>1?m-1:m,s&&r>1?D-1:D],B=[s&&e>1?e-1:e,s&&r>1?r-1:r];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+R[0]/B[0]+",\n          "+R[1]/B[1]+");\n      const vec2 inputShapeRC = vec2("+m+".0, "+D+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    "},bh=function(o,e,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e.shape;var s=e.shape,h=s[1],m=s[2],D=o.shape,S=D[1],R=D[2],B=[r&&S>1?h-1:h,r&&R>1?m-1:m],$=[r&&S>1?S-1:S,r&&R>1?R-1:R],Q=B[0]/$[0],ee=B[1]/$[1],ue=1/Q,ye=1/ee,ge=2*Math.ceil(ue)+2,xe=2*Math.ceil(ye)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+Q+");\n        const float widthScale = float("+ee+");\n\n        const float invHeightScale = float("+ue+");\n        const float invWidthScale = float("+ye+");\n\n        const int winHeight = int("+ge+");\n        const int winWidth = int("+xe+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+S+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+R+") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float("+B[0]+") *\n                (float(dyR) / float("+$[0]+"));\n\n            float sourceFracCol =\n                float("+B[1]+") *\n                  (float(dyC) / float("+$[1]+"));\n\n            int sourceNearestRow = int(min(\n                float(int("+h+") - 1),\n                "+r+" ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int("+m+") - 1),\n                "+r+" ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},rg=function(o,e,r,s){this.variableNames=["A"],this.outputShape=[];var m=o[1],D=o[2];this.outputShape=[o[0],e,r,o[3]];var R=[s&&e>1?m-1:m,s&&r>1?D-1:D],B=[s&&e>1?e-1:e,s&&r>1?r-1:r];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+R[0]/B[0]+",\n          "+R[1]/B[1]+");\n      const vec2 inputShapeRC = vec2("+m+".0, "+D+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + "+(s?"0.5":"0.0")+")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    "},Cd=function(o,e){this.variableNames=["x"];var r=o.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-"+r+" tensor is not yet supported");if(this.outputShape=o,1!==r){var s=o.map(function(m,D){return-1!==e.indexOf(S=D)&&1!==o[S]?o[S]+" - coords["+S+"] - 1":"coords["+S+"]";var S}).join(","),h=Yi(r);this.userCode="\n      void main() {\n        "+h+" coords = getOutputCoords();\n        setOutput(getX("+s+"));\n      }\n    "}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX("+o[0]+" - coord - 1));\n        }\n      "},gu=function(o,e,r,s,h,m,D){void 0===D&&(D=!0),this.variableNames=["updates","indices","defaultValue"],this.outputShape=m;var S=Yi(h.length),R=Yi(m.length),B="";1===r?B="i":2===r&&(B="i, j");var Q="";1===s?Q="i":2===s&&(Q="i, coords[1]"),this.userCode="\n        "+S+" strides = "+S+"("+h+");\n\n        void main() {\n          "+R+" coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < "+o+"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < "+e+"; j++) {\n              int index = round(getIndices("+B+"));\n              flattenedIndex += index * "+(e>1?"strides[j]":"strides")+";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += getUpdates("+Q+");\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      "},jl=function(o,e){this.variableNames=["x","segmentIds"];var r=o.windowSize,s=o.batchSize,h=o.inSize,m=o.numSegments,D=m*Math.ceil(h/r);this.outputShape=[s,D];var S=4*Math.floor(r/4),R=r%4,B="\n        sumValue += dot(values, filter);\n    ",$="";h%r>0&&($="\n        if (inIdx < 0 || inIdx >= "+h+") {\n          return initializationValue;\n        }\n      ");var Q="";h%r>0&&(Q="\n        if (inIdx < 0 || inIdx >= "+h+") {\n          return -1.0;\n        }\n      "),this.userCode="\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        "+$+"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        "+Q+"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          "+m+")) * float("+r+"));\n        int currentSeg = int(mod(float(outIdx), float("+m+")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+S+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 filter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          "+B+"\n        }\n\n        int inIdx = inOffset + "+S+";\n        if ("+(1===R)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 filter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          "+B+"\n        } else if ("+(2===R)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 filter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          "+B+"\n        } else if ("+(3===R)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 filter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          "+B+"\n        }\n        setOutput(sumValue);\n      }\n    "},Zu=function(o,e,r){var s,h;if(this.variableNames=["c","a","b"],this.outputShape=e,r>4)throw Error("Where for rank "+r+" is not yet supported");if(1===r)h="resRC",s="resRC";else{for(var m=["resRC.x","resRC.y","resRC.z","resRC.w"],D=[],S=[],R=0;R<e.length;R++)S.push(""+m[R]),R<o&&D.push(""+m[R]);s=D.join(),h=S.join()}var B=Yi(r);this.userCode="\n      void main() {\n        "+B+" resRC = getOutputCoords();\n        float cVal = getC("+s+");\n        if (cVal >= 1.0) {\n          setOutput(getA("+h+"));\n        } else {\n          setOutput(getB("+h+"));\n        }\n      }\n    "},Ic=function(){function o(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;var r=Yi(this.rank),s=function wh(o){if(1===o)return"sourceLoc";if(2===o)return"sourceLoc.x, sourceLoc.y";if(3===o)return"sourceLoc.x, sourceLoc.y, sourceLoc.z";if(4===o)return"sourceLoc.x, sourceLoc.y, sourceLoc.z, sourceLoc.w";throw Error("Slicing for rank "+o+" is not yet supported")}(this.rank);this.userCode="\n      uniform "+r+" start;\n\n      void main() {\n        "+r+" sourceLoc = start + getOutputCoords();\n        setOutput(getSource("+s+"));\n      }\n    "}return o.prototype.getCustomSetupFunc=function(e){var r=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(s,h){if(null!=r.startLoc||(r.startLoc=s.getUniformLocationNoThrow(h,"start"),null!=r.startLoc))if(1===r.rank)s.gl.uniform1i(r.startLoc,e[0]);else if(2===r.rank)s.gl.uniform2i(r.startLoc,e[0],e[1]);else if(3===r.rank)s.gl.uniform3i(r.startLoc,e[0],e[1],e[2]);else{if(4!==r.rank)throw Error("Slicing for rank "+r.rank+" is not yet supported");s.gl.uniform4i(r.startLoc,e[0],e[1],e[2],e[3])}}},o}(),Dd=function(o,e,r,s){this.variableNames=["x"];var h=r.filter(function($,Q){return-1===s.indexOf(Q)});this.outputShape=h;var m=r.length,D=Yi(r.length),S=Yi(h.length),R="";if(1===m)R="coords * strides + begin";else{var B=0;R=r.map(function($,Q){return-1===s.indexOf(Q)?(B++,1===h.length?"coords * strides["+Q+"] + begin["+Q+"]":"coords["+(B-1)+"] * strides["+Q+"] + begin["+Q+"]"):"begin["+Q+"]"}).join(",")}this.userCode="\n      "+D+" begin = "+D+"("+o+");\n      "+D+" strides = "+D+"("+e+");\n\n      void main() {\n        "+S+" coords = getOutputCoords();\n        setOutput(getX("+R+"));\n      }\n    "},Ac=function(){function o(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return o.prototype.acquireTexture=function(e,r,s){var h,m=Oc(r,s),D=da(e,m,s);if(D in this.freeTextures||(this.freeTextures[D]=[]),D in this.usedTextures||(this.usedTextures[D]=[]),this.freeTextures[D].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var S=this.freeTextures[D].shift();return this.usedTextures[D].push(S),S}return this.numUsedTextures++,this.log(),m===Ui.PACKED_2X2_FLOAT32?h=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):m===Ui.PACKED_2X2_FLOAT16?h=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):m===Ui.UNPACKED_FLOAT32?h=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):m===Ui.UNPACKED_FLOAT16?h=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):m===Ui.PACKED_4X1_UNSIGNED_BYTE&&(h=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[D].push(h),h},o.prototype.releaseTexture=function(e,r,s,h){if(null!=this.freeTextures){var m=da(r,Oc(s,h),h);m in this.freeTextures||(this.freeTextures[m]=[]),this.freeTextures[m].push(e),this.numFreeTextures++,this.numUsedTextures--;var D=this.usedTextures[m],S=D.indexOf(e);if(S<0)throw new Error("Cannot release a texture that was never provided by this texture manager");D.splice(S,1),this.log()}},o.prototype.log=function(){this.logEnabled&&console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+(this.numFreeTextures+this.numUsedTextures)+")")},o.prototype.getNumUsedTextures=function(){return this.numUsedTextures},o.prototype.getNumFreeTextures=function(){return this.numFreeTextures},o.prototype.dispose=function(){var e=this;if(null!=this.freeTextures){for(var r in this.freeTextures)this.freeTextures[r].forEach(function(s){e.gpgpu.deleteMatrixTexture(s)});for(var r in this.usedTextures)this.usedTextures[r].forEach(function(h){e.gpgpu.deleteMatrixTexture(h)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},o}();function Oc(o,e){if(e)return Re.get("WEBGL_RENDER_FLOAT32_ENABLED")?Ui.PACKED_2X2_FLOAT32:Ui.PACKED_2X2_FLOAT16;if(o===Eo.DOWNLOAD||o===Eo.PIXELS)return Ui.PACKED_4X1_UNSIGNED_BYTE;if(o===Eo.UPLOAD)return Ui.UNPACKED_FLOAT32;if(o===Eo.RENDER)return Re.get("WEBGL_RENDER_FLOAT32_ENABLED")?Ui.UNPACKED_FLOAT32:Ui.UNPACKED_FLOAT16;throw new Error("Unknown logical texture type "+o)}function da(o,e,r){return o[0]+"_"+o[1]+"_"+e+"_"+r}var Yu=function(o,e){this.variableNames=["A"];for(var r=new Array(o.length),s=0;s<r.length;s++)r[s]=o[s]*e[s];this.outputShape=r,this.rank=r.length;var h=Yi(this.rank),m=function Ch(o){var e=o.length;if(e>5)throw Error("Tile for rank "+e+" is not yet supported");if(1===e)return"imod(resRC, "+o[0]+")";for(var r=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],s=[],h=0;h<o.length;h++)s.push("imod("+r[h]+", "+o[h]+")");return s.join()}(o);this.userCode="\n      void main() {\n        "+h+" resRC = getOutputCoords();\n        setOutput(getA("+m+"));\n      }\n    "},Pc=function(o,e){this.variableNames=["A"];for(var r=new Array(o.length),s=0;s<r.length;s++)r[s]=o[e[s]];this.outputShape=r,this.rank=r.length;var h=Yi(this.rank),m=function xo(o){var e=o.length;if(e>6)throw Error("Transpose for rank "+e+" is not yet supported");for(var r=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],s=new Array(e),h=0;h<o.length;h++)s[o[h]]=r[h];return s.join()}(e);this.userCode="\n    void main() {\n      "+h+" resRC = getOutputCoords();\n      setOutput(getA("+m+"));\n    }\n    "},xd=1.7580993408473768,Lc=1.0507009873554805,Or=function(){function o(e,r){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      uniform float NAN;\n      float unaryOperation(float x) {\n        "+r+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "}return o.prototype.getCustomSetupFunc=function(){var e=this;return function(r,s){null==e.startLoc&&(e.startLoc=r.getUniformLocationNoThrow(s,"NAN"),null==e.startLoc)||r.gl.uniform1f(e.startLoc,NaN)}},o}(),$l="if (isNaN(x)) return x;",Sd=$l+"\n  return (x < 0.0) ? 0.0 : x;\n",ig="\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = "+xd+";\n  float scale = "+Lc+";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n",Rp=$l+"\n  return sin(x);\n",Fp=$l+"\n  return cos(x);\n",Od=$l+"\n  return atan(x);\n",Lp=$l+"\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));",yl=$l+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;",Ah=function(o){this.variableNames=["A"],this.usesPackedTextures=!0,this.outputShape=o;var e=o.length,r=vh("rc",e),s=Yi(e),h=function pu(o,e){if(1===o)return"rc";for(var r="",s=0;s<o;s++)r+=e[s],s<o-1&&(r+=",");return r}(e,r),m=r.slice(-2),D=1===e?"rc":"vec2("+m.join(",")+")";this.userCode="\n      void main() {\n        "+s+" rc = getOutputCoords();\n        vec4 packedInput = getA("+h+");\n\n        setOutput(getChannel(packedInput, "+D+"));\n      }\n    "},C=Ue({concat_:function d(o,e){void 0===e&&(e=0),se(o.length>=1,"Pass at least one tensor to concat");var r=so(o,"tensors","concat");e=_n(e,r[0].shape)[0];var s=Vr(r.map(function(D){return D.shape}),e);if(0===Pe(s))return Fr([],s);if(1===(r=r.filter(function(D){return D.size>0})).length)return r[0];var h=r.map(function(D){return D.shape});return function Rn(o,e){var r=o[0].length;o.forEach(function(h,m){se(h.length===r,"Error in concat"+r+"D: rank of tensors["+m+"] must be the same as the rank of the rest ("+r+")")}),se(e>=0&&e<r,"Error in concat"+r+"D: axis must be between 0 and "+(r-1)+".");var s=o[0];o.forEach(function(h,m){for(var D=0;D<r;D++)se(D===e||h[D]===s[D],"Error in concat"+r+"D: Shape of tensors["+m+"] ("+h+") does not match the shape of the rest ("+s+") along the non-concatenated axis "+m+".")})}(h,e),Re.engine.runKernel(function(D){return D.concat(r,e)},r,function(D){var S=h.map(function(R){return R[e]});return _e(D,S,e).map(function(R){return function(){return R}})})}}),V=Ue({concat1d_:function kd(o){return C(o,0)}}),K=Ue({concat2d_:function Bp(o,e){return C(o,e)}}),ae=Ue({concat3d_:function _(o,e){return C(o,e)}}),fe=Ue({concat4d_:function v(o,e){return C(o,e)}}),_e=Ue({split_:function g(o,e,r){void 0===r&&(r=0);var s,h=Me(o,"x","split");return r=_n(r,h.shape)[0],"number"==typeof e?(se(h.shape[r]%e==0,"Number of splits must evenly divide the axis."),s=Array(e).fill(h.shape[r]/e)):(se(h.shape[r]===e.reduce(function(m,D){return m+D}),"The sum of sizes must match the size of the axis dimension."),s=e),Re.engine.runKernel(function(m){return m.split(h,s,r)},{$x:h},function(m){return{$x:function(){return C(m,r)}}})}});function Xe(o,e){return o(e={exports:{}},e.exports),e.exports}typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"&&self;var lt=Xe(function(o){!function(e,r,s){function h(D,S){return S.c=D.c,S.s0=D.s0,S.s1=D.s1,S.s2=D.s2,S}function m(D,S){var R=new function(Q){var ee,ue=this,ye=(ee=4022871197,function(ge){ge=ge.toString();for(var xe=0;xe<ge.length;xe++){var Be=.02519603282416938*(ee+=ge.charCodeAt(xe));Be-=ee=Be>>>0,ee=(Be*=ee)>>>0,ee+=4294967296*(Be-=ee)}return 2.3283064365386963e-10*(ee>>>0)});ue.next=function(){var ge=2091639*ue.s0+2.3283064365386963e-10*ue.c;return ue.s0=ue.s1,ue.s1=ue.s2,ue.s2=ge-(ue.c=0|ge)},ue.c=1,ue.s0=ye(" "),ue.s1=ye(" "),ue.s2=ye(" "),ue.s0-=ye(Q),ue.s0<0&&(ue.s0+=1),ue.s1-=ye(Q),ue.s1<0&&(ue.s1+=1),ue.s2-=ye(Q),ue.s2<0&&(ue.s2+=1),ye=null}(D),B=S&&S.state,$=R.next;return $.int32=function(){return 4294967296*R.next()|0},$.double=function(){return $()+11102230246251565e-32*(2097152*$()|0)},$.quick=$,B&&("object"==typeof B&&h(B,R),$.state=function(){return h(R,{})}),$}r&&r.exports?r.exports=m:this.alea=m}(0,o)}),ht=Xe(function(o){!function(e,r,s){function h(D,S){return S.x=D.x,S.y=D.y,S.z=D.z,S.w=D.w,S}function m(D,S){var R=new function(Q){var ee=this,ue="";ee.x=0,ee.y=0,ee.z=0,ee.w=0,ee.next=function(){var ge=ee.x^ee.x<<11;return ee.x=ee.y,ee.y=ee.z,ee.z=ee.w,ee.w^=ee.w>>>19^ge^ge>>>8},Q===(0|Q)?ee.x=Q:ue+=Q;for(var ye=0;ye<ue.length+64;ye++)ee.x^=0|ue.charCodeAt(ye),ee.next()}(D),B=S&&S.state,$=function(){return(R.next()>>>0)/4294967296};return $.double=function(){do{var Q=((R.next()>>>11)+(R.next()>>>0)/4294967296)/2097152}while(0===Q);return Q},$.int32=R.next,$.quick=$,B&&("object"==typeof B&&h(B,R),$.state=function(){return h(R,{})}),$}r&&r.exports?r.exports=m:this.xor128=m}(0,o)}),rt=Xe(function(o){!function(e,r,s){function h(D,S){return S.x=D.x,S.y=D.y,S.z=D.z,S.w=D.w,S.v=D.v,S.d=D.d,S}function m(D,S){var R=new function(Q){var ee=this,ue="";ee.next=function(){var ge=ee.x^ee.x>>>2;return ee.x=ee.y,ee.y=ee.z,ee.z=ee.w,ee.w=ee.v,(ee.d=ee.d+362437|0)+(ee.v=ee.v^ee.v<<4^ge^ge<<1)|0},ee.x=0,ee.y=0,ee.z=0,ee.w=0,ee.v=0,Q===(0|Q)?ee.x=Q:ue+=Q;for(var ye=0;ye<ue.length+64;ye++)ee.x^=0|ue.charCodeAt(ye),ye==ue.length&&(ee.d=ee.x<<10^ee.x>>>4),ee.next()}(D),B=S&&S.state,$=function(){return(R.next()>>>0)/4294967296};return $.double=function(){do{var Q=((R.next()>>>11)+(R.next()>>>0)/4294967296)/2097152}while(0===Q);return Q},$.int32=R.next,$.quick=$,B&&("object"==typeof B&&h(B,R),$.state=function(){return h(R,{})}),$}r&&r.exports?r.exports=m:this.xorwow=m}(0,o)}),Et=Xe(function(o){!function(e,r,s){function h(D,S){return S.x=D.x.slice(),S.i=D.i,S}function m(D,S){null==D&&(D=+new Date);var R=new function(Q){var ee=this;ee.next=function(){var ue,ye,ge=ee.x,xe=ee.i;return ue=ge[xe],ye=(ue^=ue>>>7)^ue<<24,ye^=(ue=ge[xe+1&7])^ue>>>10,ye^=(ue=ge[xe+3&7])^ue>>>3,ye^=(ue=ge[xe+4&7])^ue<<7,ue=ge[xe+7&7],ye^=(ue^=ue<<13)^ue<<9,ge[xe]=ye,ee.i=xe+1&7,ye},function(ue,ye){var ge,xe=[];if(ye===(0|ye))xe[0]=ye;else for(ye=""+ye,ge=0;ge<ye.length;++ge)xe[7&ge]=xe[7&ge]<<15^ye.charCodeAt(ge)+xe[ge+1&7]<<13;for(;xe.length<8;)xe.push(0);for(ge=0;ge<8&&0===xe[ge];++ge);for(8==ge&&(xe[7]=-1),ue.x=xe,ue.i=0,ge=256;ge>0;--ge)ue.next()}(ee,Q)}(D),B=S&&S.state,$=function(){return(R.next()>>>0)/4294967296};return $.double=function(){do{var Q=((R.next()>>>11)+(R.next()>>>0)/4294967296)/2097152}while(0===Q);return Q},$.int32=R.next,$.quick=$,B&&(B.x&&h(B,R),$.state=function(){return h(R,{})}),$}r&&r.exports?r.exports=m:this.xorshift7=m}(0,o)}),$t=Xe(function(o){!function(e,r,s){function h(D,S){return S.i=D.i,S.w=D.w,S.X=D.X.slice(),S}function m(D,S){null==D&&(D=+new Date);var R=new function(Q){var ee=this;ee.next=function(){var ue,ye,ge=ee.w,xe=ee.X,Be=ee.i;return ee.w=ge=ge+1640531527|0,ye=xe[Be+34&127],ue=xe[Be=Be+1&127],ye^=ye<<13,ue^=ue<<17,ye=xe[Be]=(ye^=ye>>>15)^(ue^=ue>>>12),ee.i=Be,ye+(ge^ge>>>16)|0},function(ue,ye){var ge,xe,Be,$e,ot,Nt=[],Ct=128;for(ye===(0|ye)?(xe=ye,ye=null):(ye+="\0",xe=0,Ct=Math.max(Ct,ye.length)),Be=0,$e=-32;$e<Ct;++$e)ye&&(xe^=ye.charCodeAt(($e+32)%ye.length)),0===$e&&(ot=xe),xe^=xe<<10,xe^=xe>>>15,xe^=xe<<4,xe^=xe>>>13,$e>=0&&(Be=0==(ge=Nt[127&$e]^=xe+(ot=ot+1640531527|0))?Be+1:0);for(Be>=128&&(Nt[127&(ye&&ye.length||0)]=-1),Be=127,$e=512;$e>0;--$e)xe=Nt[Be+34&127],ge=Nt[Be=Be+1&127],xe^=xe<<13,ge^=ge<<17,Nt[Be]=(xe^=xe>>>15)^(ge^=ge>>>12);ue.w=ot,ue.X=Nt,ue.i=Be}(ee,Q)}(D),B=S&&S.state,$=function(){return(R.next()>>>0)/4294967296};return $.double=function(){do{var Q=((R.next()>>>11)+(R.next()>>>0)/4294967296)/2097152}while(0===Q);return Q},$.int32=R.next,$.quick=$,B&&(B.X&&h(B,R),$.state=function(){return h(R,{})}),$}r&&r.exports?r.exports=m:this.xor4096=m}(0,o)}),tn=Xe(function(o){!function(e,r,s){function h(D,S){return S.a=D.a,S.b=D.b,S.c=D.c,S.d=D.d,S}function m(D,S){var R=new function(Q){var ee=this,ue="";ee.next=function(){var ge=ee.b,xe=ee.c,Be=ee.d,$e=ee.a;return ge=ge<<25^ge>>>7^xe,xe=xe-Be|0,Be=Be<<24^Be>>>8^$e,$e=$e-ge|0,ee.b=ge=ge<<20^ge>>>12^xe,ee.c=xe=xe-Be|0,ee.d=Be<<16^xe>>>16^$e,ee.a=$e-ge|0},ee.a=0,ee.b=0,ee.c=-1640531527,ee.d=1367130551,Q===Math.floor(Q)?(ee.a=Q/4294967296|0,ee.b=0|Q):ue+=Q;for(var ye=0;ye<ue.length+20;ye++)ee.b^=0|ue.charCodeAt(ye),ee.next()}(D),B=S&&S.state,$=function(){return(R.next()>>>0)/4294967296};return $.double=function(){do{var Q=((R.next()>>>11)+(R.next()>>>0)/4294967296)/2097152}while(0===Q);return Q},$.int32=R.next,$.quick=$,B&&("object"==typeof B&&h(B,R),$.state=function(){return h(R,{})}),$}r&&r.exports?r.exports=m:this.tychei=m}(0,o)}),qt=Xe(function(o){!function(e,r){var s,h=this,m=256,D=6,S="random",R=r.pow(m,D),B=r.pow(2,52),$=2*B,Q=m-1;function ee(xe,Be,$e){var ot=[],Nt=ye(function Gt(sn,fn){var Dn,Vn=[],rr=typeof sn;if(fn&&"object"==rr)for(Dn in sn)try{Vn.push(Gt(sn[Dn],fn-1))}catch{}return Vn.length?Vn:"string"==rr?sn:sn+"\0"}((Be=1==Be?{entropy:!0}:Be||{}).entropy?[xe,ge(e)]:xe??function(){try{var Gt;return s&&(Gt=s.randomBytes)?Gt=Gt(m):(Gt=new Uint8Array(m),(h.crypto||h.msCrypto).getRandomValues(Gt)),ge(Gt)}catch{var sn=h.navigator,fn=sn&&sn.plugins;return[+new Date,h,fn,h.screen,ge(e)]}}(),3),ot),Ct=new function(Gt){var sn,fn=Gt.length,Dn=this,Vn=0,rr=Dn.i=Dn.j=0,hr=Dn.S=[];for(fn||(Gt=[fn++]);Vn<m;)hr[Vn]=Vn++;for(Vn=0;Vn<m;Vn++)hr[Vn]=hr[rr=Q&rr+Gt[Vn%fn]+(sn=hr[Vn])],hr[rr]=sn;(Dn.g=function($r){for(var ci,Jn=0,Un=Dn.i,Gn=Dn.j,qr=Dn.S;$r--;)ci=qr[Un=Q&Un+1],Jn=Jn*m+qr[Q&(qr[Un]=qr[Gn=Q&Gn+ci])+(qr[Gn]=ci)];return Dn.i=Un,Dn.j=Gn,Jn})(m)}(ot),Pt=function(){for(var Gt=Ct.g(D),sn=R,fn=0;Gt<B;)Gt=(Gt+fn)*m,sn*=m,fn=Ct.g(1);for(;Gt>=$;)Gt/=2,sn/=2,fn>>>=1;return(Gt+fn)/sn};return Pt.int32=function(){return 0|Ct.g(4)},Pt.quick=function(){return Ct.g(4)/4294967296},Pt.double=Pt,ye(ge(Ct.S),e),(Be.pass||$e||function(Gt,sn,fn,Dn){return Dn&&(Dn.S&&ue(Dn,Ct),Gt.state=function(){return ue(Ct,{})}),fn?(r[S]=Gt,sn):Gt})(Pt,Nt,"global"in Be?Be.global:this==r,Be.state)}function ue(xe,Be){return Be.i=xe.i,Be.j=xe.j,Be.S=xe.S.slice(),Be}function ye(xe,Be){for(var $e,ot=xe+"",Nt=0;Nt<ot.length;)Be[Q&Nt]=Q&($e^=19*Be[Q&Nt])+ot.charCodeAt(Nt++);return ge(Be)}function ge(xe){return String.fromCharCode.apply(0,xe)}if(r["seed"+S]=ee,ye(r.random(),e),o.exports){o.exports=ee;try{s=E(Object(function(){var Be=new Error("Cannot find module 'crypto'");throw Be.code="MODULE_NOT_FOUND",Be}()))}catch{}}}([],Math)});qt.alea=lt,qt.xor128=ht,qt.xorwow=rt,qt.xorshift7=Et,qt.xor4096=$t,qt.tychei=tn;var ln=qt.alea,hn=function(){function o(e,r,s,h,m){this.mean=e,this.stdDev=r,this.dtype=s,this.nextVal=NaN,this.truncated=h,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var D=m||Math.random();this.random=ln(D.toString())}return o.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var r,s,h=!1;!h;){var m=void 0,D=void 0,S=void 0;do{S=(m=2*this.random()-1)*m+(D=2*this.random()-1)*D}while(S>=1||0===S);var R=Math.sqrt(-2*Math.log(S)/S);r=this.mean+this.stdDev*m*R,s=this.mean+this.stdDev*D*R,this.truncated&&!this.isValidTruncated(r)||(h=!0)}return this.truncated&&!this.isValidTruncated(s)||(this.nextVal=this.convertValue(s)),this.convertValue(r)},o.prototype.convertValue=function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)},o.prototype.isValidTruncated=function(e){return e<=this.upper&&e>=this.lower},o}();function Ci(o,e){return I(this,void 0,void 0,function(){var r,s,h,m,D,S,R,B,$,Q,ee,ue,ye,ge,xe,Be,$e,ot,Nt,Ct;return H(this,function(Pt){switch(Pt.label){case 0:if(2!==(r=Me(o,"img","toPixels","int32")).rank&&3!==r.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+r.rank+".");if(s=r.shape.slice(0,2),h=s[0],m=s[1],(D=2===r.rank?1:r.shape[2])>4||2===D)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+D);return S=r.min(),R=r.max(),[4,S.data()];case 1:return B=Pt.sent()[0],[4,R.data()];case 2:if($=Pt.sent()[0],S.dispose(),R.dispose(),"float32"===r.dtype){if(B<0||$>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+B+" - "+$+"].")}else{if("int32"!==r.dtype)throw new Error("Unsupported type for toPixels: "+r.dtype+". Please use float32 or int32 tensors.");if(B<0||$>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+B+" - "+$+"].")}return[4,r.data()];case 3:for(Q=Pt.sent(),ee="float32"===r.dtype?255:1,ue=new Uint8ClampedArray(m*h*4),ye=0;ye<h*m;++ye)ge=void 0,xe=void 0,Be=void 0,$e=void 0,1===D?(ge=Q[ye]*ee,xe=Q[ye]*ee,Be=Q[ye]*ee,$e=255):3===D?(ge=Q[3*ye]*ee,xe=Q[3*ye+1]*ee,Be=Q[3*ye+2]*ee,$e=255):4===D&&(ge=Q[4*ye]*ee,xe=Q[4*ye+1]*ee,Be=Q[4*ye+2]*ee,$e=Q[4*ye+3]*ee),ue[0+(ot=4*ye)]=Math.round(ge),ue[ot+1]=Math.round(xe),ue[ot+2]=Math.round(Be),ue[ot+3]=Math.round($e);return null!=e&&(e.width=m,e.height=h,Nt=e.getContext("2d"),Ct=new ImageData(ue,m,h),Nt.putImageData(Ct,0,0)),r!==o&&r.dispose(),[2,ue]}})})}function Gr(o,e,r){return void 0===e&&(e="float32"),new Pr(o,e,r)}function So(o,e){void 0===e&&(e=!1),console.log(o.toString(e))}var Zl=Ue({batchToSpaceND_:function vl(o,e,r){var s=Me(o,"x","batchToSpaceND"),h=e.reduce(function(m,D){return m*D});return se(s.rank>=1+e.length,"input rank is "+s.rank+" but should be > than blockShape.length "+e.length),se(r.length===e.length,"crops.length is "+r.length+" but should be equal to blockShape.length  "+e.length),se(s.shape[0]%h==0,"input tensor batch is "+s.shape[0]+" but is not divisible by the product of the elements of blockShape "+e.join(" * ")+" === "+h),Re.engine.runKernel(function(m){return m.batchToSpaceND(s,e,r)},{$x:s},function(m){return{$x:function(){return m.spaceToBatchND(e,r)}}})}}),fs=Ue({cast_:function Qi(o,e){var r=Me(o,"x","cast");return Re.engine.runKernel(function(s){return s.cast(r,e)},{$x:r},function(s){return{$x:function(){return s.clone()}}})}}),_l=Ue({clone_:function xn(o){var e=Me(o,"x","clone");return Re.engine.runKernel(function(r){return Mt.make(e.shape,{dataId:e.dataId},e.dtype)},{$x:e},function(r){return{$x:function(){return r.toFloat()}}})}}),vu=Ue({cumsum_:function Up(o,e,r,s){void 0===e&&(e=0),void 0===r&&(r=!1),void 0===s&&(s=!1);var h=Me(o,"x","cumsum"),m=Si([e|=0],h.rank),D=h;null!=m&&(D=h.transpose(m));var S=Mi(1,h.rank)[0],R=Re.engine.runKernel(function(B){return B.cumsum(D,S,r,s)},{permutedX:D},function(B){return{permutedX:function(){return B.cumsum(e,r,!s)}}});return null!=m&&(R=R.transpose(m)),R}}),$a=Ue({depthToSpace_:function Oh(o,e,r){void 0===r&&(r="NHWC");var s=Me(o,"x","depthToSpace"),h="NHWC"===r?s.shape[1]:s.shape[2],m="NHWC"===r?s.shape[2]:s.shape[3],D="NHWC"===r?s.shape[3]:s.shape[1];return se(h*e>=0,"Negative dimension size caused by overflow when multiplying\n      "+h+" and "+e+"  for depthToSpace with input shape\n      "+s.shape),se(m*e>=0,"Negative dimension size caused by overflow when multiplying\n      "+m+" and "+e+" for depthToSpace with input shape\n          "+s.shape),se(D%(e*e)==0,"Dimension size must be evenly divisible by "+e*e+" but is "+D+" for depthToSpace with input shape "+s.shape),Re.engine.runKernel(function(S){return S.depthToSpace(s,e,r)},{$x:s})}}),gs=Ue({expandDims_:function Uc(o,e){void 0===e&&(e=0);var r=Me(o,"x","expandDims");se(e<=r.rank,"Axis must be <= rank of the tensor");var s=r.shape.slice();return e<0&&(se(-(r.rank+1)<=e,"Axis must be in the interval ["+-(r.rank+1)+", "+r.rank+"]"),e=r.rank+e+1),s.splice(e,0,1),bu(r,s)}}),_u=Ue({eye_:function Wn(o,e,r,s){void 0===s&&(s="float32"),null==e&&(e=o);for(var h=Gr([o,e],s),m=o<=e?o:e,D=0;D<m;++D)h.set(1,D,D);var S=h.toTensor().as2D(o,e);if(null==r)return S;if(1===r.length)return Xu(gs(S,0),[r[0],1,1]);if(2===r.length)return Xu(gs(gs(S,0),0),[r[0],r[1],1,1]);if(3===r.length)return Xu(gs(gs(gs(S,0),0),0),[r[0],r[1],r[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+r.length+"D.")}}),zc=Ue({fromPixels_:function oi(o,e){if(void 0===e&&(e=3),e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");return Re.engine.fromPixels(o,e)}}),Jr=Ue({multinomial_:function Kr(o,e,r,s){void 0===s&&(s=!1);var h=Me(o,"logits","multinomial"),m=h.size,D=h.rank;if(m<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+m+".");if(D>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+D);r=r||Math.random();var S=1===D?h.as2D(1,-1):h,R=Re.engine.runKernel(function(B){return B.multinomial(S,s,e,r)},{logits2D:S});return 1===D?R.as1D():R}}),Di=Ue({oneHot_:function jn(o,e,r,s){void 0===r&&(r=1),void 0===s&&(s=0);var h=Me(o,"indices","oneHot","int32");if(se("int32"===h.dtype,"Indices must be of dtype `int32`"),e<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+e);return Re.engine.runKernel(function(m){return m.oneHot(h,e,r,s)},{$indices:h},function(m){return{$indices:function(){return Nr(h)}}})}}),Xi=Ue({pad_:function Xo(o,e,r){void 0===r&&(r=0);var s=Me(o,"x","pad");if(0===s.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var h=e.map(function(m){return m[0]});return Re.engine.runKernel(function(m){return m.pad(s,e,r)},{$x:s},function(m){return{$x:function(){return m.slice(h,s.shape)}}})}}),Ga=Ue({pad1d_:function Pi(o,e,r){return void 0===r&&(r=0),se(2===e.length,"Invalid number of paddings. Must be length of 2."),Xi(o,[e],r)}}),Ju=Ue({pad2d_:function Wl(o,e,r){return void 0===r&&(r=0),se(2===e.length&&2===e[0].length&&2===e[1].length,"Invalid number of paddings. Must be length of 2 each."),Xi(o,e,r)}}),Qu=Ue({pad3d_:function Qo(o,e,r){return void 0===r&&(r=0),se(3===e.length&&2===e[0].length&&2===e[1].length&&2===e[2].length,"Invalid number of paddings. Must be length of 2 each."),Xi(o,e,r)}}),zo=Ue({pad4d_:function ps(o,e,r){return void 0===r&&(r=0),se(4===e.length&&2===e[0].length&&2===e[1].length&&2===e[2].length&&2===e[3].length,"Invalid number of paddings. Must be length of 2 each."),Xi(o,e,r)}}),zp=Ue({rand_:function yi(o,e,r){var s=Pe(o),h=null;if(null==r||"float32"===r)h=new Float32Array(s);else if("int32"===r)h=new Int32Array(s);else{if("bool"!==r)throw new Error("Unknown data type "+r);h=new Uint8Array(s)}for(var m=0;m<s;m++)h[m]=e();return Mt.make(o,{values:h},r)}}),Yl=Ue({randomNormal_:function kn(o,e,r,s,h){if(void 0===e&&(e=0),void 0===r&&(r=1),null!=s&&"bool"===s)throw new Error("Unsupported data type "+s);for(var m=new hn(e,r,s,!1,h),D=Gr(o,s),S=0;S<D.values.length;S++)D.values[S]=m.nextValue();return D.toTensor()}}),bl=Ue({randomUniform_:function vr(o,e,r,s){void 0===e&&(e=0),void 0===r&&(r=1),void 0===s&&(s="float32");for(var h=Gr(o,s),m=0;m<h.values.length;m++)h.values[m]=Ae(e,r);return h.toTensor()}}),bu=Ue({reshape_:function Ni(o,e){var r=Me(o,"x","reshape");return e=cn(e,r.size),se(r.size===Pe(e),"new shape and old shape must have the same number of elements."),Re.engine.runKernel(function(s){return s.reshape(r,e)},{$x:r},function(s){return{$x:function(){return s.reshape(r.shape)}}})}}),wu=Ue({spaceToBatchND_:function Rd(o,e,r){var s=Me(o,"x","spaceToBatchND");return se(s.rank>=1+e.length,"input rank "+s.rank+" should be > than [blockShape] "+e.length),se(r.length===e.length,"paddings.shape[0] "+r.length+" must be equal to [blockShape] "+e.length),se(s.shape.reduce(function(h,m,D){return D>0&&D<=e.length?h&&(m+r[D-1][0]+r[D-1][1])%e[D-1]==0:h},!0),"input spatial dimensions "+s.shape.slice(1)+" with paddings "+r.toString()+" must be divisible by blockShapes "+e.toString()),Re.engine.runKernel(function(h){return h.spaceToBatchND(s,e,r)},{$x:s},function(h){return{$x:function(){return h.batchToSpaceND(e,r)}}})}}),Ph=Ue({squeeze_:function Ji(o,e){var r=Me(o,"x","squeeze");return bu(r,ct(r.shape,e).newShape)}}),Cu=Ue({stack_:function ql(o,e){void 0===e&&(e=0);var r=so(o,"tensors","stack");if(se(r.length>=1,"Pass at least one tensor to tf.stack"),1===r.length)return r[0].expandDims(e);var h=r[0].shape,m=r[0].dtype;se(e<=r[0].rank,"Axis must be <= rank of the tensor"),r.forEach(function(S){at(h,S.shape,"All tensors passed to stack must have matching shapes")}),r.forEach(function(S){se(m===S.dtype,"All tensors passed to stack must have matching dtypes")});var D=r.map(function(S){return S.expandDims(e)});return C(D,e)}}),Xu=Ue({tile_:function Uo(o,e){var r=Me(o,"x","tile");return se(r.rank===e.length,"Error in transpose: rank of input "+r.rank+" must match length of reps "+e+"."),Re.engine.runKernel(function(s){return s.tile(r,e)},{$x:r},function(s){return{$x:function(){var h=Nr(r);if(1===r.rank)for(var m=0;m<e[0];++m)h=h.add(s.slice([m*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(m=0;m<e[0];++m)for(var D=0;D<e[1];++D)h=h.add(s.slice([m*r.shape[0],D*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(m=0;m<e[0];++m)for(D=0;D<e[1];++D)for(var S=0;S<e[2];++S)h=h.add(s.slice([m*r.shape[0],D*r.shape[1],S*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+r.rank+" tensors yet.");for(m=0;m<e[0];++m)for(D=0;D<e[1];++D)for(S=0;S<e[2];++S)for(var R=0;R<e[3];++R)h=h.add(s.slice([m*r.shape[0],D*r.shape[1],S*r.shape[2],R*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return h}}})}}),eo=Ue({truncatedNormal_:function Yr(o,e,r,s,h){if(void 0===e&&(e=0),void 0===r&&(r=1),null!=s&&"bool"===s)throw new Error("Unsupported data type "+s);for(var m=new hn(e,r,s,!0,h),D=Gr(o,s),S=0;S<D.values.length;S++)D.values[S]=m.nextValue();return D.toTensor()}}),jp=Ue({unstack_:function Vp(o,e){void 0===e&&(e=0);for(var r,s=Me(o,"x","unstack"),h=s.shape[e],m=Array(s.rank-1).fill(0),D=0,S=0;S<s.rank;S++)S!==e&&(m[D]=s.shape[S],D++);r=Array(h).fill(1);var R=Array(s.rank).fill(0),B=s.shape.slice();return r.map(function($){B[e]=$;var Q=s.slice(R,B);return R[e]+=$,Q.reshape(m)})}}),Hp=function Fd(o,e){return I(this,void 0,void 0,function(){var r,s,h,m,D,S,R,B,$,Q;return H(this,function(ee){switch(ee.label){case 0:return r=Me(o,"x","setdiff1d"),s=Me(e,"y","setdiff1d"),se(r.dtype===s.dtype,"x and y should have the same dtype, but got x ("+r.dtype+") and y ("+s.dtype+")."),se(1===r.rank,"x should be 1D tensor, but got x ("+r.shape+")."),se(1===s.rank,"y should be 1D tensor, but got y ("+s.shape+")."),[4,r.data()];case 1:return h=ee.sent(),[4,s.data()];case 2:for(m=ee.sent(),D=new Set(m),S=0,$=0;$<h.length;$++)D.has(h[$])||S++;for(R=new Pr([S],r.dtype),B=new Pr([S],"int32"),$=0,Q=0;$<h.length;$++)D.has(h[$])||(R.values[Q]=h[$],B.values[Q]=$,Q++);return[2,[R.toTensor(),B.toTensor()]]}})})};function ec(o,e){for(var r=[],s=0;s<e.length;s++)e[s]&&r.push(s);var h=Gr(o,"int32"),m=Gr([r.length,o.length],"int32");for(s=0;s<r.length;s++){var D=h.indexToLoc(r[s]);m.values.set(D,s*o.length)}return m.toTensor()}var lg=300,kh=function(){function o(e,r){if(void 0===r&&(r=!0),this.gpgpu=e,this.delayedStorage=r,this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.lruDataGPU=[],this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.binaryCache={},this.disposed=!1,Re.get("WEBGL_VERSION")<1)throw new Error("WebGL is not supported on this device");if(null==e){var s=ce(Re.get("WEBGL_VERSION"));this.gpgpu=new xp(s),this.canvas=s.canvas,this.gpgpuCreatedLocally=!0}else this.gpgpuCreatedLocally=!1,this.canvas=e.gl.canvas;Re.get("WEBGL_PAGING_ENABLED")&&(this.NUM_BYTES_BEFORE_PAGING=window.screen.height*window.screen.width*window.devicePixelRatio*lg),this.textureManager=new Ac(this.gpgpu)}return o.prototype.register=function(e,r,s){if(this.texData.has(e))throw new Error("Data buffer is already registered");this.texData.set(e,{shape:r,dtype:s,values:null,texture:null,complexTensors:null,texShape:null,usage:Eo.RENDER,isPacked:!1})},o.prototype.setDataMover=function(e){this.texData=new bs(e)},o.prototype.fromPixels=function(e,r){if(null==e)throw new Error("pixels passed to tf.fromPixels() can not be null");var s=[e.height,e.width],h=[e.height,e.width,r];if(!(e instanceof HTMLVideoElement||e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof ImageData))throw new Error("pixels passed to tf.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement or ImageData, but was "+e.constructor.name);if(e instanceof HTMLVideoElement){if(null==this.fromPixels2DContext){if(!Re.get("IS_BROWSER"))throw new Error("Can't read pixels from HTMLImageElement outside the browser.");if("complete"!==document.readyState)throw new Error("The DOM is not ready yet. Please call tf.fromPixels() once the DOM is ready. One way to do that is to add an event listener for `DOMContentLoaded` on the document object");this.fromPixels2DContext=document.createElement("canvas").getContext("2d")}this.fromPixels2DContext.canvas.width=e.width,this.fromPixels2DContext.canvas.height=e.height,this.fromPixels2DContext.drawImage(e,0,0,e.width,e.height),e=this.fromPixels2DContext.canvas}var m=this.makeTensorHandle(s,"int32");this.texData.get(m.dataId).usage=Eo.PIXELS,this.gpgpu.uploadPixelDataToTexture(this.getTexture(m.dataId),e);var D=new Va(h),S=this.compileAndRun(D,[m]);return this.disposeData(m.dataId),S},o.prototype.makeTensorHandle=function(e,r){var s={};return this.register(s,e,r),{dataId:s,shape:e,dtype:r}},o.prototype.write=function(e,r){if(null==r)throw new Error("MathBackendWebGL.write(): values can not be null");var s=this.texData.get(e),h=s.texture,m=s.texShape,D=s.usage,R=s.isPacked;if("complex64"===s.dtype)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");null!=h&&(this.releaseTexture(e,h,m,D,R),s.texture=null,s.texShape=null),s.usage=Eo.UPLOAD,s.values=r,this.delayedStorage||this.uploadToGPU(e)},o.prototype.readSync=function(e){var r=this.texData.get(e),h=r.dtype,m=r.complexTensors;if(null!=r.values)return this.convertAndCacheOnCPU(e);var D,S,R=null!=this.activeTimers;return R&&(D=performance.now()),S="complex64"===h?Cr(m.real.dataSync(),m.imag.dataSync()):this.getValuesFromTexture(e),R&&(this.downloadWaitMs+=performance.now()-D),this.convertAndCacheOnCPU(e,S)},o.prototype.read=function(e){return I(this,void 0,void 0,function(){var r,s,h,D,S,R,B,$;return H(this,function(Q){switch(Q.label){case 0:if(this.pendingRead.has(e))return r=this.pendingRead.get(e),[2,new Promise(function(ee){return r.push(ee)})];if(s=this.texData.get(e),h=s.texture,D=s.texShape,null!=s.values)return[2,this.convertAndCacheOnCPU(e)];if(this.pendingRead.set(e,[]),!Re.get("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===Re.get("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return S=this.gpgpu.maybeCreateBufferFromTexture(h,D[0],D[1]),[4,this.gpgpu.createAndWaitForFence()];case 1:return Q.sent(),R=S instanceof WebGLTexture?this.getValuesFromTexture(e):this.gpgpu.downloadFloat32MatrixFromBuffer(S,D[0],D[1]),B=this.convertAndCacheOnCPU(e,R),$=this.pendingRead.get(e),this.pendingRead.delete(e),$.forEach(function(ee){return ee(B)}),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)),[2,B]}})})},o.prototype.getValuesFromTexture=function(e){var r=this.texData.get(e),s=r.shape,h=r.dtype,m=r.texture,D=r.texShape;if(Re.get("WEBGL_DOWNLOAD_FLOAT_ENABLED")){if(this.texData.get(e).isPacked){var S=Pe(s.slice(0,s.length-2));return this.gpgpu.downloadMatrixFromPackedTexture(m,S,s.length>1?s[s.length-2]:1,s[s.length-1],D[0],D[1])}return this.gpgpu.downloadFloat32MatrixFromOutputTexture(m,D[0],D[1])}var $=this.makeTensorHandle(s,"float32");$.size=Pe(s),this.texData.get($.dataId).usage=Eo.DOWNLOAD;var Q=new Dc(s);this.compileAndRun(Q,[{shape:s,dtype:h,dataId:e}],$,null,!1);var ee=this.texData.get($.dataId),ue=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(ee.texture,ee.texShape[0],ee.texShape[1]);return this.disposeData($.dataId),ue},o.prototype.time=function(e){return I(this,void 0,void 0,function(){var r,s,h,m,D,S,R;return H(this,function(B){switch(B.label){case 0:return r=this.activeTimers,s=[],h=!1,null==this.programTimersStack?(this.programTimersStack=s,h=!0):this.activeTimers.push(s),this.activeTimers=s,e(),m=Dt(this.activeTimers.map(function($){return $.query})).filter(function($){return null!=$}),D=Dt(this.activeTimers.map(function($){return $.name})).filter(function($){return null!=$}),this.activeTimers=r,h&&(this.programTimersStack=null),[4,Promise.all(m)];case 1:return S=B.sent(),R={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:De(S),getExtraProfileInfo:function(){return S.map(function($,Q){return{name:D[Q],ms:$}}).map(function($){return $.name+": "+$.ms}).join(", ")},wallMs:null},this.uploadWaitMs=0,this.downloadWaitMs=0,[2,R]}})})},o.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},o.prototype.startTimer=function(){return Re.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?this.gpgpu.beginQuery():{startMs:performance.now(),endMs:null}},o.prototype.endTimer=function(e){return Re.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(this.gpgpu.endQuery(),e):(e.endMs=performance.now(),e)},o.prototype.getQueryTime=function(e){return I(this,void 0,void 0,function(){var r;return H(this,function(s){return Re.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?[2,this.gpgpu.waitForQueryAndGetTime(e)]:[2,(r=e).endMs-r.startMs]})})},o.prototype.disposeData=function(e){if(!this.pendingDisposal.has(e))if(this.pendingRead.has(e))this.pendingDisposal.add(e);else if(this.texData.has(e)){var r=this.texData.get(e),s=r.texture,D=r.complexTensors;null!=s&&this.releaseTexture(e,s,r.texShape,r.usage,r.isPacked),null!=D&&(D.real.dispose(),D.imag.dispose()),this.texData.delete(e)}},o.prototype.getTexture=function(e){return this.uploadToGPU(e),this.texData.get(e).texture},o.prototype.getCPUBackend=function(){return Re.get("WEBGL_CPU_FORWARD")?(null==this.cpuBackend&&(this.cpuBackend=Re.findBackend("cpu")),this.cpuBackend):null},o.prototype.shouldExecuteOnCPU=function(e,r){var s=this;return void 0===r&&(r=10),null!=this.getCPUBackend()&&e.every(function(h){return null==s.texData.get(h.dataId).texture&&h.size<r})},o.prototype.getGPGPUContext=function(){return this.gpgpu},o.prototype.getCanvas=function(){return this.canvas},o.prototype.complex=function(e,r){var s=this.makeOutputArray(e.shape,"complex64");return this.texData.get(s.dataId).complexTensors={real:Re.engine.keep(e.clone()),imag:Re.engine.keep(r.clone())},s},o.prototype.real=function(e){return this.texData.get(e.dataId).complexTensors.real.clone()},o.prototype.imag=function(e){return this.texData.get(e.dataId).complexTensors.imag.clone()},o.prototype.slice=function(e,r,s){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.slice(e,r,s);var h=new Ic(s),m=h.getCustomSetupFunc(r);return this.compileAndRun(h,[e],null,m)},o.prototype.stridedSlice=function(e,r,s,h,m,D,S,R,B){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.stridedSlice(e,r,s,h,m,D,S,R,B);var $=Xa(e.shape,r,s,h,m,D,S,R,B),Q=$[0],ee=$[1],ue=$[2],ye=ee.filter(function(xe,Be){return-1===ue.indexOf(Be)});if(ye.some(function(xe){return 0===xe}))return Fr([],ye);var ge=new Dd(Q,h,ee,ue);return this.compileAndRun(ge,[e])},o.prototype.reverse=function(e,r){var s=new Cd(e.shape,r);return this.compileAndRun(s,[e])},o.prototype.concat2Tensors=function(e,r,s){var h=Vr([e.shape,r.shape],s),m=e.as2D(-1,Pe(e.shape.slice(s))),D=r.as2D(-1,Pe(r.shape.slice(s))),S=new Pu(m.shape,D.shape);return this.compileAndRun(S,[m,D]).reshape(h)},o.prototype.concat=function(e,r){if(this.shouldExecuteOnCPU(e))return this.cpuBackend.concat(e,r);if(1===e.length)return e[0];for(var s=e[0],h=1;h<e.length;++h)s=this.concat2Tensors(s,e[h],r);return s},o.prototype.neg=function(e){var r=new Or(e.shape,"return -x;");return this.compileAndRun(r,[e])},o.prototype.batchMatMul=function(e,r,s,h){var m=s?e.shape[2]:e.shape[1],D=h?r.shape[1]:r.shape[2],S=s?e.shape[1]:e.shape[2],R=e.shape[0];if((1===m||1===D)&&S>1e3){s&&(e=e.transpose([0,2,1])),h&&(r=r.transpose([0,2,1]));var B=1===D?e:e.as3D(R,S,1),$=1===D?2:1,Q=1===D?r.as3D(R,1,S):r;return this.multiply(B,Q).sum($,!0)}if(1===R){var ee=e.as2D(e.shape[1],e.shape[2]),ue=r.as2D(r.shape[1],r.shape[2]),ye=new yh(ee.shape,ue.shape,[m,D],s,h),ge=this.compileAndRun(ye,[ee,ue],this.makePackedTensor(ye.outputShape));return!1===Re.get("WEBGL_LAZILY_UNPACK")&&(ge=this.unpackTensor(ge)),ge.reshape([1,ge.shape[0],ge.shape[1]])}return this.compileAndRun(new $u(e.shape,r.shape,s,h),[e,r])},o.prototype.multiply=function(e,r){if("complex64"===e.dtype){var s=this.texData.get(e.dataId),h=this.texData.get(r.dataId),m=new yr("return areal * breal - aimag * bimag;",e.shape,r.shape),D=new yr("return areal * bimag + aimag * breal;",e.shape,r.shape),S=[this.makeComplexComponentTensorHandle(e,s.complexTensors.real),this.makeComplexComponentTensorHandle(e,s.complexTensors.imag),this.makeComplexComponentTensorHandle(r,h.complexTensors.real),this.makeComplexComponentTensorHandle(r,h.complexTensors.imag)],R=this.compileAndRun(m,S),B=this.compileAndRun(D,S),$=this.complex(R,B);return R.dispose(),B.dispose(),$}if(this.shouldExecuteOnCPU([e,r]))return this.cpuBackend.multiply(e,r);var Q=new Qr("return a * b;",e.shape,r.shape),ee=this.makeOutputArray(Q.outputShape,e.dtype);return this.compileAndRun(Q,[e,r],ee)},o.prototype.batchNormalization=function(e,r,s,h,m,D){var S=[e,r,s],R=null;null!=D&&(R=D.shape,S.push(D));var B=null;null!=m&&(B=m.shape,S.push(m));var $=null,Q=me;Re.get("WEBGL_PACK_BATCHNORMALIZATION")&&($=this.makePackedTensor(e.shape),Q=ft);var ee=new Q(e.shape,r.shape,s.shape,R,B,h);return this.compileAndRun(ee,S,$)},o.prototype.localResponseNormalization4D=function(e,r,s,h,m){var D=new md(e.shape,r,s,h,m);return this.compileAndRun(D,[e])},o.prototype.LRNGrad=function(e,r,s,h,m,D,S){var R=new yd(r.shape,h,m,D,S);return this.compileAndRun(R,[r,s,e])},o.prototype.tile=function(e,r){var s=new Yu(e.shape,r);return this.compileAndRun(s,[e])},o.prototype.pad=function(e,r,s){var h=new Tp(e.shape,r,s);return this.compileAndRun(h,[e])},o.prototype.transpose=function(e,r){var s=new Pc(e.shape,r);return this.compileAndRun(s,[e])},o.prototype.gather=function(e,r,s){var h=new Gs(e.shape,r.size,s);return this.compileAndRun(h,[e,r])},o.prototype.batchToSpaceND=function(e,r,s){se(e.rank<=4,"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");var h=r.reduce(function($,Q){return $*Q}),m=Mn(e.shape,r,h),D=Rr(m.length,r.length),S=xi(e.shape,r,h),R=aa(s,r.length),B=hi(S,s,r.length);return e.reshape(m).transpose(D).reshape(S).slice(R,B)},o.prototype.spaceToBatchND=function(e,r,s){se(e.rank<=4,"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");var h=r.reduce(function(Q,ee){return Q*ee}),m=[[0,0]];m.push.apply(m,s);for(var D=1+r.length;D<e.shape.length;++D)m.push([0,0]);var S=e.pad(m),R=Mn(S.shape,r,h,!1),B=Rr(R.length,r.length,!1),$=xi(S.shape,r,h,!1);return S.reshape(R).transpose(B).reshape($)},o.prototype.reduce=function(e,r,s){var h=e.shape[0],m=e.shape[1],D=sa(m),S=new fu({windowSize:D,inSize:m,batchSize:h},r),R=S.outputShape,Q=this.makeOutputArray([R[0],R[1]],s);return this.compileAndRun(S,[e],Q),1===Q.shape[1]?Q:this.reduce(Q,r,s)},o.prototype.argReduce=function(e,r,s){void 0===s&&(s=null);var h=e.shape[0],m=e.shape[1];null!=s&&(h=s.shape[0],m=s.shape[1]);var D=sa(m),S=new sl({windowSize:D,inSize:m,batchSize:h},r,null==s),R=S.outputShape,Q=this.makeOutputArray([R[0],R[1]],"int32"),ee=[e];return null!=s&&ee.push(s),this.compileAndRun(S,ee,Q),1===Q.shape[1]?Q:this.argReduce(e,r,Q)},o.prototype.sum=function(e,r){li("sum",r,e.rank);var s=mr(e.shape,r),h=s[0],m=Pe(s[1]),D=e.as2D(-1,m),S=la(e.dtype);return this.reduce(D,"sum",S).reshape(h)},o.prototype.prod=function(e,r){var s=mr(e.shape,r),h=s[0],m=Pe(s[1]),D=e.as2D(-1,m),S=la(e.dtype);return this.reduce(D,"prod",S).reshape(h)},o.prototype.unsortedSegmentSum=function(e,r,s){var h=0,m=Si([h],e.rank),D=e;null!=m&&(D=e.transpose(m),h=Mi(1,e.rank)[0]);var S=function ao(o,e,r){for(var s=[],h=o.length,m=0;m<h;m++)s.push(m!==e?o[m]:r);return s}(D.shape,h,s),R=Pe([D.shape[h]]),B=D.as2D(-1,R),$=la(e.dtype),Q=this.segOpCompute(B,"unsortedSegmentSum",r,$,s).reshape(S);return null!=m&&(Q=Q.transpose($o(m))),Q},o.prototype.segOpCompute=function(e,r,s,h,m){var D=e.shape[0],S=e.shape[1],R=function al(o,e){var r,s=!1;for(o<=Oo?(r=o,s=!0):r=An(o,Math.floor(Math.sqrt(o)));!s;){if(r>e||r===o){s=!0;break}r=An(o,r+1)}return r}(S,m),B=new jl({windowSize:R,inSize:S,batchSize:D,numSegments:m},r),$=B.outputShape,ue=this.makeOutputArray([$[0],$[1]],h);return this.compileAndRun(B,[e,s],ue),ue.shape[1]===m?ue:(s=lo(0,m).tile([S/R]),this.segOpCompute(ue,r,s,h,m))},o.prototype.argMin=function(e,r){var s=[r];li("argMin",s,e.rank);var h=mr(e.shape,s),m=h[0],D=Pe(h[1]),S=e.as2D(-1,D);return this.argReduce(S,"min").reshape(m)},o.prototype.argMax=function(e,r){var s=[r];li("argMax",s,e.rank);var h=mr(e.shape,s),m=h[0],D=Pe(h[1]),S=e.as2D(-1,D);return this.argReduce(S,"max").reshape(m)},o.prototype.cumsum=function(e,r,s,h){if(r!==e.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(e.rank-1)+" but got axis="+r);var m=new uu(e.shape,s,h);return this.compileAndRun(m,[e])},o.prototype.equal=function(e,r){var s=new Qr("return float(a == b);",e.shape,r.shape),h=this.makeOutputArray(s.outputShape,"bool");return this.compileAndRun(s,[e,r],h)},o.prototype.notEqual=function(e,r){var s=new Qr("return float(a != b);",e.shape,r.shape),h=this.makeOutputArray(s.outputShape,"bool");return this.compileAndRun(s,[e,r],h)},o.prototype.less=function(e,r){if(this.shouldExecuteOnCPU([e,r]))return this.cpuBackend.less(e,r);var s=new Qr("return float(a < b);",e.shape,r.shape),h=this.makeOutputArray(s.outputShape,"bool");return this.compileAndRun(s,[e,r],h)},o.prototype.lessEqual=function(e,r){var s=new Qr("return float(a <= b);",e.shape,r.shape),h=this.makeOutputArray(s.outputShape,"bool");return this.compileAndRun(s,[e,r],h)},o.prototype.greater=function(e,r){if(this.shouldExecuteOnCPU([e,r]))return this.cpuBackend.greater(e,r);var s=new Qr("return float(a > b);",e.shape,r.shape),h=this.makeOutputArray(s.outputShape,"bool");return this.compileAndRun(s,[e,r],h)},o.prototype.greaterEqual=function(e,r){var s=new Qr("return float(a >= b);",e.shape,r.shape),h=this.makeOutputArray(s.outputShape,"bool");return this.compileAndRun(s,[e,r],h)},o.prototype.logicalNot=function(e){var r=new Or(e.shape,"return float(!(x >= 1.0));");return this.compileAndRun(r,[e])},o.prototype.logicalAnd=function(e,r){var s=new Qr("return float(a >= 1.0 && b >= 1.0);",e.shape,r.shape),h=this.makeOutputArray(s.outputShape,"bool");return this.compileAndRun(s,[e,r],h)},o.prototype.logicalOr=function(e,r){var s=new Qr("return float(a >= 1.0 || b >= 1.0);",e.shape,r.shape),h=this.makeOutputArray(s.outputShape,"bool");return this.compileAndRun(s,[e,r],h)},o.prototype.select=function(e,r,s){var h=new Zu(e.rank,r.shape,r.rank),m=this.makeOutputArray(h.outputShape,Zr(r.dtype,s.dtype));return this.compileAndRun(h,[e,r,s],m)},o.prototype.where=function(e){dn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var r=e.dataSync();return ec(e.shape,r)},o.prototype.topk=function(e,r,s){return Pn(e.dataSync(),e.shape,e.dtype,r)},o.prototype.min=function(e,r){li("min",r,e.rank);var s=mr(e.shape,r),h=s[0],m=Pe(s[1]),D=e.as2D(-1,m);return this.reduce(D,"min",D.dtype).reshape(h)},o.prototype.minimum=function(e,r){if(this.shouldExecuteOnCPU([e,r]))return this.cpuBackend.minimum(e,r);var s=new Qr(zs,e.shape,r.shape);return this.compileAndRun(s,[e,r])},o.prototype.mod=function(e,r){var s=new Qr("if (b == 0.0) return NAN;\n  return mod(a, b);",e.shape,r.shape),h=s.getCustomSetupFunc();return this.compileAndRun(s,[e,r],null,h)},o.prototype.max=function(e,r){li("max",r,e.rank);var s=mr(e.shape,r),h=s[0],m=Pe(s[1]),D=e.as2D(-1,m);return this.reduce(D,"max",D.dtype).reshape(h)},o.prototype.maximum=function(e,r){if(this.shouldExecuteOnCPU([e,r]))return this.cpuBackend.maximum(e,r);var s=new Qr(Il,e.shape,r.shape);return this.compileAndRun(s,[e,r])},o.prototype.all=function(e,r){li("all",r,e.rank);var s=mr(e.shape,r),h=s[0],m=Pe(s[1]),D=e.as2D(-1,m);return this.reduce(D,"all",D.dtype).reshape(h)},o.prototype.any=function(e,r){li("any",r,e.rank);var s=mr(e.shape,r),h=s[0],m=Pe(s[1]),D=e.as2D(-1,m);return this.reduce(D,"any",D.dtype).reshape(h)},o.prototype.squaredDifference=function(e,r){var s=new Qr("return (a - b) * (a - b);",e.shape,r.shape);return this.compileAndRun(s,[e,r])},o.prototype.realDivide=function(e,r){var s=new Qr("if (a == b) return 1.0;\n  return a / b;",e.shape,r.shape),h=this.makeOutputArray(s.outputShape,"float32");return this.compileAndRun(s,[e,r],h)},o.prototype.floorDiv=function(e,r){var s=new Qr("\n  float resultSign = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  int result = ia / ib;\n  int amodb = ia - ib * result;\n\n  if (resultSign < 0.0 && amodb != 0) {\n    result -= 1;\n  }\n  return float(result);\n",e.shape,r.shape),h=this.makeOutputArray(s.outputShape,"int32");return this.compileAndRun(s,[e,r],h)},o.prototype.add=function(e,r){if("complex64"===e.dtype&&"complex64"===r.dtype)return this.complexSeparableBinaryOp(e,r,ti);var s=new Qr(ti,e.shape,r.shape),h=this.makeOutputArray(s.outputShape,Zr(e.dtype,r.dtype));return this.compileAndRun(s,[e,r],h)},o.prototype.complexSeparableBinaryOp=function(e,r,s){var h=this,m=this.texData.get(e.dataId),D=this.texData.get(r.dataId),S=[[m.complexTensors.real,D.complexTensors.real],[m.complexTensors.imag,D.complexTensors.imag]].map(function(Q){var ee=Q[0],ue=Q[1],ye=new Qr(s,e.shape,r.shape),ge=h.makeOutputArray(ye.outputShape,Zr(ee.dtype,ue.dtype)),xe=h.makeComplexComponentTensorHandle(e,ee),Be=h.makeComplexComponentTensorHandle(r,ue);return h.compileAndRun(ye,[xe,Be],ge)}),R=S[0],B=S[1],$=this.complex(R,B);return R.dispose(),B.dispose(),$},o.prototype.makeComplexComponentTensorHandle=function(e,r){return{dataId:r.dataId,dtype:r.dtype,shape:e.shape}},o.prototype.addN=function(e){for(var r=e[0],s=1;s<e.length;s++)r=this.add(r,e[s]);return r},o.prototype.subtract=function(e,r){if("complex64"===e.dtype&&"complex64"===r.dtype)return this.complexSeparableBinaryOp(e,r,Zo);if(this.shouldExecuteOnCPU([e,r]))return this.cpuBackend.subtract(e,r);var s=new Qr(Zo,e.shape,r.shape),h=this.makeOutputArray(s.outputShape,Zr(e.dtype,r.dtype));return this.compileAndRun(s,[e,r],h)},o.prototype.pow=function(e,r){var s=new Qr("\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nreturn (round(mod(b, 2.0)) == 0 || round(mod(b, 2.0)) == 2) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",e.shape,r.shape),h=s.getCustomSetupFunc(),m=this.makeOutputArray(s.outputShape,Zr(e.dtype,r.dtype));return this.compileAndRun(s,[e,r],m,h)},o.prototype.ceil=function(e){var r=new Or(e.shape,"return ceil(x);");return this.compileAndRun(r,[e])},o.prototype.floor=function(e){var r=new Or(e.shape,"return floor(x);");return this.compileAndRun(r,[e])},o.prototype.sign=function(e){var r=new Or(e.shape,"\n  if (isNaN(x)) { return 0.0; }\n  return sign(x);\n");return this.compileAndRun(r,[e])},o.prototype.round=function(e){var r=new Or(e.shape,"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n");return this.compileAndRun(r,[e])},o.prototype.exp=function(e){var r=new Or(e.shape,"return exp(x);");return this.compileAndRun(r,[e])},o.prototype.expm1=function(e){var r=new Or(e.shape,"return exp(x) - 1.0;");return this.compileAndRun(r,[e])},o.prototype.log=function(e){var r=new Or(e.shape,"if (x < 0.0) return NAN;\n  return log(x);"),s=r.getCustomSetupFunc();return this.compileAndRun(r,[e],null,s)},o.prototype.log1p=function(e){var r=new Or(e.shape,"return log(1.0 + x);");return this.compileAndRun(r,[e])},o.prototype.sqrt=function(e){var r=new Or(e.shape,"return sqrt(x);");return this.compileAndRun(r,[e])},o.prototype.rsqrt=function(e){var r=new Or(e.shape,"return inversesqrt(x);");return this.compileAndRun(r,[e])},o.prototype.square=function(e){var r=new Or(e.shape,"return x * x;");return this.compileAndRun(r,[e])},o.prototype.reciprocal=function(e){var r=new Or(e.shape,"return 1.0 / x;");return this.compileAndRun(r,[e])},o.prototype.relu=function(e){var r=new Or(e.shape,Sd);return this.compileAndRun(r,[e])},o.prototype.elu=function(e){var r=new Or(e.shape,"return (x >= 0.0) ? x : (exp(x) - 1.0);");return this.compileAndRun(r,[e])},o.prototype.eluDer=function(e,r){var s=new Qr("return (b >= 1.0) ? a : a * (b + 1.0);",e.shape,r.shape);return this.compileAndRun(s,[e,r])},o.prototype.selu=function(e){var r=new Or(e.shape,ig);return this.compileAndRun(r,[e])},o.prototype.int=function(e){var r=new Or(e.shape,"return float(int(x));"),s=this.makeOutputArray(r.outputShape,"int32");return this.compileAndRun(r,[e],s)},o.prototype.clip=function(e,r,s){var h=new ua(e.shape,r,s);return this.compileAndRun(h,[e])},o.prototype.abs=function(e){var r=new Or(e.shape,"return abs(x);");return this.compileAndRun(r,[e])},o.prototype.complexAbs=function(e){var r=this.texData.get(e.dataId),s=new Ol(e.shape),h=[this.makeComplexComponentTensorHandle(e,r.complexTensors.real),this.makeComplexComponentTensorHandle(e,r.complexTensors.imag)];return this.compileAndRun(s,h)},o.prototype.sigmoid=function(e){var r=new Or(e.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(r,[e])},o.prototype.softplus=function(e){var r=new Or(e.shape,"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n");return this.compileAndRun(r,[e])},o.prototype.sin=function(e){var r=new Or(e.shape,Rp);return this.compileAndRun(r,[e])},o.prototype.cos=function(e){var r=new Or(e.shape,Fp);return this.compileAndRun(r,[e])},o.prototype.tan=function(e){var r=new Or(e.shape,"return tan(x);");return this.compileAndRun(r,[e])},o.prototype.asin=function(e){var r=new Or(e.shape,"return asin(x);");return this.compileAndRun(r,[e])},o.prototype.acos=function(e){var r=new Or(e.shape,"return acos(x);");return this.compileAndRun(r,[e])},o.prototype.atan=function(e){var r=new Or(e.shape,Od);return this.compileAndRun(r,[e])},o.prototype.atan2=function(e,r){var s=new Qr(Al,e.shape,r.shape);return this.compileAndRun(s,[e,r])},o.prototype.sinh=function(e){var r=new Or(e.shape,"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n");return this.compileAndRun(r,[e])},o.prototype.cosh=function(e){var r=new Or(e.shape,"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n");return this.compileAndRun(r,[e])},o.prototype.tanh=function(e){var r=new Or(e.shape,"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n");return this.compileAndRun(r,[e])},o.prototype.asinh=function(e){var r=new Or(e.shape,"return log(x + sqrt(x * x + 1.0));");return this.compileAndRun(r,[e])},o.prototype.acosh=function(e){var r=new Or(e.shape,Lp),s=r.getCustomSetupFunc();return this.compileAndRun(r,[e],null,s)},o.prototype.atanh=function(e){var r=new Or(e.shape,yl),s=r.getCustomSetupFunc();return this.compileAndRun(r,[e],null,s)},o.prototype.erf=function(e){var r=new Or(e.shape,'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = 0.3275911;\n  float a1 = 0.254829592;\n  float a2 = -0.284496736;\n  float a3 = 1.421413741;\n  float a4 = -1.453152027;\n  float a5 = 1.061405429;\n\n  float t = 1.0 / (1.0 + p * x);\n  return 1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x);\n');return this.compileAndRun(r,[e])},o.prototype.step=function(e,r){var s=new Or(e.shape,function Ku(o){return void 0===o&&(o=0),$l+"\n    return x > 0.0 ? 1.0 : float("+o+");\n  "}(r));return this.compileAndRun(s,[e])},o.prototype.conv2dWithIm2Row=function(e,r,s){var S=s.outWidth,R=s.outHeight,B=s.filterWidth*s.filterHeight*s.inChannels,$=R*S,Q=[B,$],ee=e.squeeze([0]),ue=r.reshape([B,-1]),ye=new gh(Q,ee.shape,s),ge=this.compileAndRun(ye,[ee],this.makePackedTensor(Q)),xe=new yh(ge.shape,ue.shape,[$,s.outChannels],!0,!1),Be=this.compileAndRun(xe,[ge,ue],this.makePackedTensor(xe.outputShape));return!1===Re.get("WEBGL_LAZILY_UNPACK")&&(Be=this.unpackTensor(Be)),Be.reshape([1,R,S,s.outChannels])},o.prototype.conv2d=function(e,r,s){if(Re.get("WEBGL_CONV_IM2COL")&&1===e.shape[0])return this.conv2dWithIm2Row(e,r,s);var h=new cl(s);return this.compileAndRun(h,[e,r])},o.prototype.conv2dDerInput=function(e,r,s){var h=new ws(s);return this.compileAndRun(h,[e,r])},o.prototype.conv2dDerFilter=function(e,r,s){var h=new ul(s);return this.compileAndRun(h,[e,r])},o.prototype.depthwiseConv2D=function(e,r,s){var h=new ku(s);return this.compileAndRun(h,[e,r])},o.prototype.depthwiseConv2DDerInput=function(e,r,s){var h=new ko(s);return this.compileAndRun(h,[e,r])},o.prototype.depthwiseConv2DDerFilter=function(e,r,s){var h=new au(s);return this.compileAndRun(h,[e,r])},o.prototype.maxPool=function(e,r){var s=new vd(r,"max",!1),h=this.makeOutputArray(s.outputShape,e.dtype);return this.compileAndRun(s,[e],h)},o.prototype.avgPool=function(e,r){var s=new vd(r,"avg",!1),h=this.makeOutputArray(s.outputShape,"float32");return this.compileAndRun(s,[e],h)},o.prototype.maxPoolBackprop=function(e,r,s,h){var m=new vd(h,"max",!0),D=this.compileAndRun(m,[r]),S=new mh(h),R=this.makeOutputArray(S.outputShape,r.dtype),B=this.compileAndRun(S,[e,D],R);return D.dispose(),B},o.prototype.avgPoolBackprop=function(e,r,s){var h=new as(s),m=this.makeOutputArray(h.outputShape,r.dtype);return this.compileAndRun(h,[e],m)},o.prototype.cast=function(e,r){return Vs(e,r,this)},o.prototype.reshape=function(e,r){return this.texData.get(e.dataId).isPacked&&!gn(e.shape,r)?this.packedReshape(e,r):uo(e,r)},o.prototype.resizeBilinear=function(e,r,s,h){var m=new Ha(e.shape,r,s,h);return this.compileAndRun(m,[e])},o.prototype.resizeBilinearBackprop=function(e,r,s){var h=new wd(e,r,s);return this.compileAndRun(h,[e])},o.prototype.resizeNearestNeighbor=function(e,r,s,h){var m=new rg(e.shape,r,s,h);return this.compileAndRun(m,[e])},o.prototype.resizeNearestNeighborBackprop=function(e,r,s){var h=new bh(e,r,s);return this.compileAndRun(h,[e])},o.prototype.multinomial=function(e,r,s,h){var m=r?e:Pa(e),R=new Gu(m.shape[0],m.shape[1],s),B=this.makeOutputArray(R.outputShape,"int32"),$=R.getCustomSetupFunc(h);return this.compileAndRun(R,[m],B,$)},o.prototype.oneHot=function(e,r,s,h){var m=new eg(e.size,r,s,h);return this.compileAndRun(m,[e])},o.prototype.nonMaxSuppression=function(e,r,s,h,m){return dn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),Dr(e.dataSync(),r.dataSync(),s,h,m)},o.prototype.cropAndResize=function(e,r,s,h,m,D){var S=new dl(e.shape,r.shape,h,m,D);return this.compileAndRun(S,[e,r,s])},o.prototype.depthToSpace=function(e,r,s){se(r>1,"blockSize should be > 1 for depthToSpace, but was: "+r);var h=e.shape[0],m=("NHWC"===s?e.shape[1]:e.shape[2])*r,D=("NHWC"===s?e.shape[2]:e.shape[3])*r,S=("NHWC"===s?e.shape[3]:e.shape[1])/(r*r),R=new sr("NHWC"===s?[h,m,D,S]:[h,S,m,D],r,s);return this.compileAndRun(R,[e])},o.prototype.split=function(e,r,s){return ro(e,r,s)},o.prototype.scatterND=function(e,r,s){var h=Oa(0,e,s),m=h.sliceRank,D=h.numUpdates,S=h.sliceSize,R=h.strides,B=h.outputSize,$=[B/S,S],Q=e.reshape([D,m]),ee=r.reshape([D,S]);if(0===B)return uo(Fr([]),s);var ue=Xt(0),ye=new gu(D,m,Q.rank,ee.rank,R,$);return this.compileAndRun(ye,[ee,Q,ue]).reshape(s)},o.prototype.sparseToDense=function(e,r,s,h){var m=Oa(0,e,s),$=new gu(m.numUpdates,m.sliceRank,e.rank,r.rank,m.strides,[m.outputSize,1],!1);return this.compileAndRun($,[r,e,h]).reshape(s)},o.prototype.fft=function(e){return this.fftImpl(e,!1)},o.prototype.ifft=function(e){return this.fftImpl(e,!0)},o.prototype.fftImpl=function(e,r){var s=this.texData.get(e.dataId),h=new xs("return real * expR - imag * expI;",e.shape,r),m=new xs("return real * expI + imag * expR;",e.shape,r),D=[this.makeComplexComponentTensorHandle(e,s.complexTensors.real),this.makeComplexComponentTensorHandle(e,s.complexTensors.imag)],S=this.compileAndRun(h,D),R=this.compileAndRun(m,D),B=this.complex(S,R).as2D(e.shape[0],e.shape[1]);return S.dispose(),R.dispose(),B},o.prototype.gatherND=function(e,r){var s=r.shape,h=s[s.length-1],m=Aa(e,r),D=m[0],S=m[1],R=m[2],B=m[3],$=r.reshape([S,h]),Q=e.reshape([e.size/R,R]),ee=new Bo(h,B,[S,R]);return this.compileAndRun(ee,[Q,$]).reshape(D)},o.prototype.makeOutputArray=function(e,r){return Mt.make(e,{},r)},o.prototype.makePackedTensor=function(e){var r=Mt.make(e,{});return this.texData.get(r.dataId).isPacked=!0,r},o.prototype.unpackTensor=function(e){var r=new Ah(e.shape);return this.compileAndRun(r,[e])},o.prototype.getBatchDim=function(e,r){return void 0===r&&(r=2),Pe(e.slice(0,e.length-r))},o.prototype.getRowsCols=function(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]},o.prototype.packedReshape=function(e,r){var s=e.reshape([this.getBatchDim(e.shape)].concat(this.getRowsCols(e.shape))),h=[this.getBatchDim(r)].concat(this.getRowsCols(r)),m=new _d(h,s.shape);return this.compileAndRun(m,[s],this.makePackedTensor(h)).reshape(r)},o.prototype.compileAndRun=function(e,r,s,h,m){var D=this;if(void 0===m&&(m=!0),null==s&&(s=this.makeOutputArray(e.outputShape,r[0].dtype)),0===s.size)return this.texData.get(s.dataId).values=qe(s.dtype,0),s;var S=r.map(function($e){if("complex64"===$e.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var ot=D.texData.get($e.dataId);if(null==ot.texture&&(ot.isPacked||!e.usesPackedTextures)&&Pe($e.shape)<=Re.get("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:$e.shape,texData:null,isUniform:!0,uniformValues:D.readSync($e.dataId)};if(ot.isPacked!==!!e.usesPackedTextures){var Nt=void 0,Ct=void 0;ot.isPacked?(Nt=new Ah($e.shape),Ct=D.compileAndRun(Nt,[$e])):(Nt=new qu($e.shape),Ct=D.compileAndRun(Nt,[$e],D.makePackedTensor($e.shape))),ot=D.texData.get(Ct.dataId),$e=Ct}return D.uploadToGPU($e.dataId),{shape:$e.shape,texData:ot,isUniform:!1}});this.uploadToGPU(s.dataId);var R,B={shape:s.shape,texData:this.texData.get(s.dataId),isUniform:!1},$=function Hu(o,e,r){var s="";e.concat(r).forEach(function(S){s+=S.shape+"_"+(S.isUniform?"uniform":S.texData.texShape)});var h=o.userCode,m=(!0===o.supportsBroadcasting).toString();return o.constructor.name+"_"+m+"_"+s+"_"+h}(e,S,B),Q=this.getAndSaveBinary($,function(){return function Qf(o,e,r,s){for(var h=e.userCode,m=r.map(function(ue,ye){return{name:e.variableNames[ye],shapeInfo:{logicalShape:ue.shape,texShape:ue.isUniform?null:ue.texData.texShape,isUniform:ue.isUniform,isPacked:!ue.isUniform&&ue.texData.isPacked}}}),D=m.map(function(ue){return ue.shapeInfo}),S={logicalShape:s.shape,texShape:s.texData.texShape,isUniform:!1,isPacked:s.texData.isPacked},R=Xr(m,S,h,!0===e.supportsBroadcasting,e.usesPackedTextures),B=o.createProgram(R),$={},Q=0;Q<e.variableNames.length;Q++){var ee=e.variableNames[Q];$[ee]=o.getUniformLocation(B,ee,!1)}return{program:e,source:R,webGLProgram:B,uniformLocations:$,gpgpu:o,inShapeInfos:D,outShapeInfo:S}}(D.gpgpu,e,S,B)}),ee=null!=this.activeTimers;if(ee&&(R=this.startTimer()),function Xf(o,e,r,s){Sp(o.inShapeInfos,e),Sp([o.outShapeInfo],[r]);var h=r.texData.texture,m=r.texData.texShape,D=o.gpgpu;r.texData.isPacked?D.setOutputPackedMatrixTexture(h,m[0],m[1]):D.setOutputMatrixTexture(h,m[0],m[1]),D.setProgram(o.webGLProgram),e.forEach(function(S,R){var $=o.uniformLocations[o.program.variableNames[R]];if(null!=$){if(S.isUniform){if(1===Pe(S.shape))D.gl.uniform1f($,S.uniformValues[0]);else{var Q=S.uniformValues;Q instanceof Float32Array||(Q=new Float32Array(Q)),D.gl.uniform1fv($,Q)}return}D.setInputMatrixTexture(S.texData.texture,$,R)}}),s?.(D,o.webGLProgram),D.executeProgram()}(Q,S,B,h),Re.get("WEBGL_PAGING_ENABLED")&&m&&this.numBytesInGPU>this.NUM_BYTES_BEFORE_PAGING)for(var ue=this.numBytesInGPU-this.NUM_BYTES_BEFORE_PAGING;ue>0&&this.lruDataGPU.length>0;){var ye=this.lruDataGPU.shift(),ge=this.texData.get(ye);ue-=this.computeBytes(ge.shape,ge.dtype),this.read(ye)}return ee&&(R=this.endTimer(R),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(R)})),s},o.prototype.getAndSaveBinary=function(e,r){return e in this.binaryCache||(this.binaryCache[e]=r()),this.binaryCache[e]},o.prototype.getTextureManager=function(){return this.textureManager},o.prototype.dispose=function(){if(!this.disposed){for(var e in this.binaryCache)this.gpgpu.deleteProgram(this.binaryCache[e].webGLProgram);this.textureManager.dispose(),this.canvas.remove(),null!=this.fromPixels2DContext&&this.fromPixels2DContext.canvas.remove(),this.gpgpuCreatedLocally&&this.gpgpu.dispose(),this.disposed=!0}},o.prototype.floatPrecision=function(){var e=this;return Yn(function(){return e.abs(Xt(1e-8)).get()>0?32:16})},o.prototype.uploadToGPU=function(e){var r=this.texData.get(e),s=r.shape,h=r.values,S=r.usage,R=r.isPacked;if(null==r.texture){var B,$=null!=this.activeTimers;$&&(B=performance.now());var Q=tt(s,R);r.texShape=Q;var ee=this.acquireTexture(e,Q,S,R);if(r.texture=ee,null!=h){if(R){var ue=Pe(s.slice(0,s.length-2));this.gpgpu.uploadMatrixToPackedTexture(ee,ue,s.length>1?s[s.length-2]:1,s[s.length-1],jc(h))}else this.gpgpu.uploadMatrixToTexture(ee,Q[0],Q[1],jc(h));r.values=null,$&&(this.uploadWaitMs+=performance.now()-B)}}else Re.get("WEBGL_PAGING_ENABLED")&&this.lruDataGPU.indexOf(e)>=0&&(this.lruDataGPU.splice(this.lruDataGPU.indexOf(e),1),this.lruDataGPU.push(e))},o.prototype.convertAndCacheOnCPU=function(e,r){var s=this.delayedStorage,h=this.texData.get(e),m=h.texture,S=h.dtype;return s&&null!=m&&(this.releaseTexture(e,m,h.texShape,h.usage,h.isPacked),h.texture=null,h.texShape=null),h.usage=Eo.UPLOAD,null!=r&&(h.values=function Rh(o,e){if("float32"===e||"complex64"===e)return o;if("int32"===e||"bool"===e){for(var r="int32"===e?new Int32Array(o.length):new Uint8Array(o.length),s=0;s<r.length;++s)r[s]=Math.round(o[s]);return r}throw new Error("Unknown dtype "+e)}(r,S)),h.values},o.prototype.releaseTexture=function(e,r,s,h,m){var D=this.texData.get(e),S=D.shape,R=D.dtype;if(Re.get("WEBGL_PAGING_ENABLED")){var B=this.lruDataGPU.indexOf(e);B>=0&&this.lruDataGPU.splice(B,1)}this.numBytesInGPU-=this.computeBytes(S,R),this.textureManager.releaseTexture(r,s,h,m)},o.prototype.acquireTexture=function(e,r,s,h){var m=this.texData.get(e),D=m.shape,S=m.dtype;return Re.get("WEBGL_PAGING_ENABLED")&&this.lruDataGPU.push(e),this.numBytesInGPU+=this.computeBytes(D,S),this.textureManager.acquireTexture(r,s,h)},o.prototype.computeBytes=function(e,r){return Pe(e)*Wt(r)},o}();function jc(o,e){return o instanceof Float32Array?o:new Float32Array(o)}Re.get("IS_BROWSER")&&Re.registerBackend("webgl",function(){return new kh},2,Ka);var mg=Ue({abs_:function Fh(o){var e=Me(o,"x","abs");return"complex64"===e.dtype?Re.engine.runKernel(function(r){return r.complexAbs(e)},{$x:e}):Re.engine.runKernel(function(r){return r.abs(e)},{$x:e},function(r){return{$x:function(){return r.mulStrict(e.toFloat().step(-1))}}})}}),yg=Ue({acos_:function $m(o){var e=Me(o,"x","acos");return Re.engine.runKernel(function(r){return r.acos(e)},{$x:e},function(r){return{$x:function(){return r.divStrict(Xt(1).sub(e.toFloat().square()).sqrt()).neg()}}})}}),Gm=Ue({acosh_:function gg(o){var e=Me(o,"x","acosh");return Re.engine.runKernel(function(r){return r.acosh(e)},{$x:e},function(r){return{$x:function(){return r.divStrict(e.toFloat().square().sub(Xt(1)).sqrt())}}})}}),Wp=Ue({asin_:function rc(o){var e=Me(o,"x","asin");return Re.engine.runKernel(function(r){return r.asin(e)},{$x:e},function(r){return{$x:function(){return r.divStrict(Xt(1).sub(e.toFloat().square()).sqrt())}}})}}),jd=Ue({asinh_:function Ta(o){var e=Me(o,"x","asinh");return Re.engine.runKernel(function(r){return r.asinh(e)},{$x:e},function(r){return{$x:function(){return r.divStrict(Xt(1).add(e.toFloat().square()).sqrt())}}})}}),qp=Ue({atan_:function Ud(o){var e=Me(o,"x","atan");return Re.engine.runKernel(function(r){return r.atan(e)},{$x:e},function(r){return{$x:function(){return r.divStrict(Xt(1).add(e.toFloat().square()))}}})}}),vg=Ue({atanh_:function Bh(o){var e=Me(o,"x","atanh");return Re.engine.runKernel(function(r){return r.atanh(e)},{$x:e},function(r){return{$x:function(){return r.divStrict(Xt(1).sub(e.toFloat().square()))}}})}}),Zp=Ue({ceil_:function jm(o){var e=Me(o,"x","ceil");return Re.engine.runKernel(function(r){return r.ceil(e)},{$x:e},function(r){return{$x:function(){return Nr(r)}}})}}),Vh=Ue({clipByValue_:function Cl(o,e,r){var s=Me(o,"x","clipByValue");return se(e<=r,"Error in clip: min ("+e+") must be less than or equal to max ("+r+")."),Re.engine.runKernel(function(h){return h.clip(s,e,r)},{$x:s},function(h){return{$x:function(){return h.where(s.greaterEqual(Xt(e)).logicalAnd(s.lessEqual(Xt(r))),Nr(h))}}})}}),Hd=Ue({cos_:function pg(o){var e=Me(o,"x","cos");return Re.engine.runKernel(function(r){return r.cos(e)},{$x:e},function(r){return{$x:function(){return e.toFloat().sin().neg().mulStrict(r)}}})}}),oc=Ue({cosh_:function ic(o){var e=Me(o,"x","cosh");return Re.engine.runKernel(function(r){return r.cosh(e)},{$x:e},function(r){return{$x:function(){return e.toFloat().sinh().mulStrict(r)}}})}}),Yp=Ue({erf_:function zd(o){var e=Me(o,"x","erf");return se("int32"===e.dtype||"float32"===e.dtype,"Input dtype must be `int32` or `float32`."),"int32"===e.dtype&&(e=e.toFloat()),Re.engine.runKernel(function(r){return r.erf(e)},{$x:e},function(r){return{$x:function(){return r.mulStrict(Xt(2/Math.sqrt(Math.PI)).mul(e.square().neg().exp()))}}})}}),ac=Ue({exp_:function Bd(o){var e=Me(o,"x","exp");return Re.engine.runKernel(function(r,s){return s(r.exp(e))},{$x:e},function(r,s){var h=s[0];return{$x:function(){return r.mulStrict(h)}}})}}),Du=Ue({expm1_:function ug(o){var e=Me(o,"x","expm1");return Re.engine.runKernel(function(r){return r.expm1(e)},{$x:e},function(r){return{$x:function(){return r.mulStrict(e.exp())}}})}}),Kp=Ue({floor_:function tc(o){var e=Me(o,"x","floor");return Re.engine.runKernel(function(r){return r.floor(e)},{$x:e},function(r){return{$x:function(){return Nr(r)}}})}}),Jp=Ue({log_:function Vd(o){var e=Me(o,"x","log");return Re.engine.runKernel(function(r){return r.log(e)},{$x:e},function(r){return{$x:function(){return r.divStrict(e.toFloat())}}})}}),_g=Ue({log1p_:function cg(o){var e=Me(o,"x","log1p");return Re.engine.runKernel(function(r){return r.log1p(e)},{$x:e},function(r){return{$x:function(){return r.divStrict(e.add(Xt(1)))}}})}}),bg=Ue({logSigmoid_:function Hc(o){var e=Me(o,"x","logSigmoid");return Re.engine.runKernel(function(r){return r.softplus(e.neg()).neg()},{$x:e},function(r){return{$x:function(){return r.mulStrict(e.neg().sigmoid())}}})}}),Qp=Ue({neg_:function $p(o){var e=Me(o,"x","neg");return Re.engine.runKernel(function(r){return r.neg(e)},{$x:e},function(r){return{$x:function(){return r.neg()}}})}}),Xp=Ue({reciprocal_:function Hm(o){var e=Me(o,"x","reciprocal");return Re.engine.runKernel(function(r){return r.reciprocal(e)},{$x:e},function(r){return{$x:function(){return r.divStrict(e.square().neg())}}})}}),wg=Ue({round_:function Ld(o){var e=Me(o,"x","round");return Re.engine.runKernel(function(r){return r.round(e)},{$x:e},function(r){return{$x:function(){return Nr(r)}}})}}),Ks=Ue({rsqrt_:function Gp(o){var e=Me(o,"x","rsqrt");return Re.engine.runKernel(function(r){return r.rsqrt(e)},{$x:e},function(r){return{$x:function(){return r.divStrict(e.pow(Xt(1.5)).mul(Xt(2))).neg()}}})}}),Gc=Ue({sigmoid_:function Kl(o){var e=Me(o,"x","sigmoid");return Re.engine.runKernel(function(r,s){return s(r.sigmoid(e))},{$x:e},function(r,s){var h=s[0];return{$x:function(){return r.mulStrict(h.mul(Xt(1).sub(h)))}}})}}),Uh=Ue({sign_:function Ys(o){var e=Me(o,"x","sign");return Re.engine.runKernel(function(r){return r.sign(e)},{$x:e},function(r){return{$x:function(){return Nr(r)}}})}}),sc=Ue({sin_:function Jl(o){var e=Me(o,"x","sin");return Re.engine.runKernel(function(r){return r.sin(e)},{$x:e},function(r){return{$x:function(){return e.toFloat().cos().mulStrict(r)}}})}}),Wc=Ue({sinh_:function Lh(o){var e=Me(o,"x","sinh");return Re.engine.runKernel(function(r){return r.sinh(e)},{$x:e},function(r){return{$x:function(){return e.toFloat().cosh().mulStrict(r)}}})}}),Cg=Ue({softplus_:function hg(o){var e=Me(o,"x","softplus");return Re.engine.runKernel(function(r){return r.softplus(e)},{$x:e},function(r){return{$x:function(){return r.mulStrict(e.sigmoid())}}})}}),Dg=Ue({sqrt_:function dg(o){var e=Me(o,"x","sqrt");return Re.engine.runKernel(function(r){return r.sqrt(e)},{$x:e},function(r){return{$x:function(){return r.divStrict(e.toFloat().sqrt().mul(Xt(2)))}}})}}),Eg=Ue({square_:function wl(o){var e=Me(o,"x","square");return Re.engine.runKernel(function(r){return r.square(e)},{$x:e},function(r){return{$x:function(){return r.mulStrict(e.toFloat().mul(Xt(2)))}}})}}),xg=Ue({step_:function $c(o,e){void 0===e&&(e=0);var r=Me(o,"x","step");return Re.engine.runKernel(function(s){return s.step(r,e)},{$x:r},function(s){return{$x:function(){return Nr(s)}}})}}),$d=Ue({tan_:function nc(o){var e=Me(o,"x","tan");return Re.engine.runKernel(function(r){return r.tan(e)},{$x:e},function(r){return{$x:function(){return r.divStrict(e.cos().square())}}})}}),ef=Ue({tanh_:function fg(o){var e=Me(o,"x","tanh");return Re.engine.runKernel(function(r,s){return s(r.tanh(e))},{$x:e},function(r,s){var h=s[0];return{$x:function(){return Xt(1).sub(h.square()).mulStrict(r)}}})}});function Gd(o){return null==o?null:0===o.rank?o.as1D():1===o.rank?o:2===o.rank?o.as4D(1,1,o.shape[0],o.shape[1]):3===o.rank?o.as4D(1,o.shape[0],o.shape[1],o.shape[2]):o}var qm=Ue({batchNormalization2d_:function zh(o,e,r,s,h,m){void 0===s&&(s=.001);var D,S,R=Me(o,"x","batchNormalization"),B=Me(e,"mean","batchNormalization"),$=Me(r,"variance","batchNormalization");return null!=h&&(D=Me(h,"scale","batchNormalization")),null!=m&&(S=Me(m,"offset","batchNormalization")),se(2===R.rank,"Error in batchNormalization3D: x must be rank 3 but got rank "+R.rank+"."),se(2===B.rank||1===B.rank,"Error in batchNormalization2D: mean must be rank 2 or rank 1 but got rank "+B.rank+"."),se(2===$.rank||1===$.rank,"Error in batchNormalization2D: variance must be rank 2 or rank 1 but got rank "+$.rank+"."),null!=D&&se(2===D.rank||1===D.rank,"Error in batchNormalization2D: scale must be rank 2 or rank 1 but got rank "+D.rank+"."),null!=S&&se(2===S.rank||1===S.rank,"Error in batchNormalization2D: offset must be rank 2 or rank 1 but got rank "+S.rank+"."),tf(R,B,$,s,D,S)}}),Wy=Ue({batchNormalization3d_:function Eu(o,e,r,s,h,m){void 0===s&&(s=.001);var D,S,R=Me(o,"x","batchNormalization"),B=Me(e,"mean","batchNormalization"),$=Me(r,"variance","batchNormalization");return null!=h&&(D=Me(h,"scale","batchNormalization")),null!=m&&(S=Me(m,"offset","batchNormalization")),se(3===R.rank,"Error in batchNormalization3D: x must be rank 3 but got rank "+R.rank+"."),se(3===B.rank||1===B.rank,"Error in batchNormalization3D: mean must be rank 3 or rank 1 but got rank "+B.rank+"."),se(3===$.rank||1===$.rank,"Error in batchNormalization3D: variance must be rank 3 or rank 1 but got rank "+$.rank+"."),null!=D&&se(3===D.rank||1===D.rank,"Error in batchNormalization3D: scale must be rank 3 or rank 1 but got rank "+D.rank+"."),null!=S&&se(3===S.rank||1===S.rank,"Error in batchNormalization3D: offset must be rank 3 or rank 1 but got rank "+S.rank+"."),tf(R,B,$,s,D,S)}}),Wd=Ue({batchNormalization4d_:function Ms(o,e,r,s,h,m){void 0===s&&(s=.001);var D,S,R=Me(o,"x","batchNormalization"),B=Me(e,"mean","batchNormalization"),$=Me(r,"variance","batchNormalization");return null!=h&&(D=Me(h,"scale","batchNormalization")),null!=m&&(S=Me(m,"offset","batchNormalization")),se(4===R.rank,"Error in batchNormalization4D: x must be rank 4 but got rank "+R.rank+"."),se(4===B.rank||1===B.rank,"Error in batchNormalization4D: mean must be rank 4 or rank 1 but got rank "+B.rank+"."),se(4===$.rank||1===$.rank,"Error in batchNormalization4D: variance must be rank 4 or rank 1 but got rank "+$.rank+"."),null!=D&&se(4===D.rank||1===D.rank,"Error in batchNormalization4D: scale must be rank 4 or rank 1 but got rank "+D.rank+"."),null!=S&&se(4===S.rank||1===S.rank,"Error in batchNormalization4D: offset must be rank 4 or rank 1 but got rank "+S.rank+"."),tf(R,B,$,s,D,S)}}),tf=Ue({batchNormalization_:function Wm(o,e,r,s,h,m){void 0===s&&(s=.001);var D,S,R,B=Me(o,"x","batchNormalization"),$=Me(e,"mean","batchNormalization"),Q=Me(r,"variance","batchNormalization");return null!=h&&(D=Me(h,"scale","batchNormalization")),null!=m&&(S=Me(m,"offset","batchNormalization")),se($.rank===Q.rank,"Batch normalization gradient requires mean and variance to have equal ranks."),se(null==S||$.rank===S.rank,"Batch normalization gradient requires mean and offset to have equal ranks."),se(null==D||$.rank===D.rank,"Batch normalization gradient requires mean and scale to have equal ranks."),R=0===B.rank||1===B.rank?B.as4D(1,1,1,B.size):2===B.rank?B.as4D(1,1,B.shape[0],B.shape[1]):3===B.rank?B.as4D(1,B.shape[0],B.shape[1],B.shape[2]):B,Re.engine.runKernel(function(ee){return ee.batchNormalization(R,Gd($),Gd(Q),s,Gd(D),Gd(S))},{$x:B,$mean:$,$variance:Q,$scale:D,$offset:S},function(ee){var ue=D??Xt(1),ye=te($.shape,R.shape),ge=[];if(1===$.rank){for(var xe=0;xe<R.shape.length-1;++xe)ge.push(R.shape[xe]);ge.push(1)}var Be=B.sub($),$e=ee.mul(ue),ot=Ks(Q.add(Xt(s))),Nt=ot.mul(ot).mul(ot).mul(Xt(-.5));return{$x:function(){return 1===$.rank?ee.mul(Xu(ot.as4D(1,1,1,$.shape[0]),ge)).mul(ue).reshape(B.shape):ee.mul(ot).mul(ue).reshape(B.shape)},$mean:function(){var Ct=ot.mul(Xt(-1)).mul($e);return 1===$.rank&&(Ct=Ct.sum(ye)),Ct.reshape($.shape)},$variance:function(){var Ct=Nt.mul(Be).mul($e);return 1===$.rank&&(Ct=Ct.sum(ye)),Ct.reshape($.shape)},$scale:function(){var Ct=Be.mul(ot),Pt=ee.mul(Ct);return 1===$.rank&&(Pt=Pt.sum(ye)),Pt.reshape($.shape)},$offset:function(){var Ct=ee;return 1===$.rank&&(Ct=Ct.sum(ye)),Ct.reshape($.shape)}}}).reshape(B.shape)}});function qc(o,e,r,s,h,m,D){void 0===D&&(D="channelsLast");var S,R=qd(e),B=R[0],$=R[1];if("channelsLast"===D)S=[B,$,o[3],o[3]];else{if("channelsFirst"!==D)throw new Error("Unknown dataFormat "+D);S=[B,$,o[1],o[1]]}return Zc(o,S,r,s,h,m,!1,D)}function Zc(o,e,r,s,h,m,D,S){void 0===D&&(D=!1),void 0===S&&(S="channelsLast");var R=[-1,-1,-1,-1],B=R[0],$=R[1],Q=R[2],ee=R[3];if("channelsLast"===S)B=o[0],$=o[1],Q=o[2],ee=o[3];else{if("channelsFirst"!==S)throw new Error("Unknown dataFormat "+S);B=o[0],ee=o[1],$=o[2],Q=o[3]}var ue,ye=e[0],ge=e[1],xe=e[3],Be=qd(r),$e=Be[0],ot=Be[1],Nt=qd(s),Ct=Nt[0],Pt=Nt[1],Gt=Ng(ye,Ct),sn=Ng(ge,Pt),fn=function Js(o,e,r,s,h,m,D,S){var R,B,$;if("number"==typeof o){R={top:o,bottom:o,left:o,right:o,type:0===o?"VALID":"NUMBER"};var Q=function Sg(o,e,r,s,h,m){null==h&&(h=function jh(o,e,r,s){void 0===s&&(s=1);var h=Ng(e,s);return Math.floor((o[0]*(r-1)-r+h)/2)}(o,e,s));var S=o[1],R=Tg((o[0]-e+2*h)/s+1,m);se(Qe(R),"The output # of rows ("+R+") must be an integer. Change the stride and/or zero pad parameters");var B=Tg((S-e+2*h)/s+1,m);return se(Qe(B),"The output # of columns ("+B+") must be an integer. Change the stride and/or zero pad parameters"),[R,B,r]}([e,r,1],m,1,s,o,S);B=Q[0],$=Q[1]}else if("same"===o){var ee=((B=Math.ceil(e/s))-1)*s+m-e,ue=(($=Math.ceil(r/h))-1)*h+D-r,ye=Math.floor(ee/2),ge=ee-ye,xe=Math.floor(ue/2);R={top:ye,bottom:ge,left:xe,right:ue-xe,type:"SAME"}}else{if("valid"!==o)throw Error("Unknown padding parameter: "+o);R={top:0,bottom:0,left:0,right:0,type:"VALID"},B=Math.ceil((e-m+1)/s),$=Math.ceil((r-D+1)/h)}return{padInfo:R,outHeight:B,outWidth:$}}(h,$,Q,$e,ot,Gt,sn,m),Vn=fn.outHeight,rr=fn.outWidth,hr=D?xe*ee:xe;return"channelsFirst"===S?ue=[B,hr,Vn,rr]:"channelsLast"===S&&(ue=[B,Vn,rr,hr]),{batchSize:B,dataFormat:S,inHeight:$,inWidth:Q,inChannels:ee,outHeight:Vn,outWidth:rr,outChannels:hr,padInfo:fn.padInfo,strideHeight:$e,strideWidth:ot,filterHeight:ye,filterWidth:ge,effectiveFilterHeight:Gt,effectiveFilterWidth:sn,dilationHeight:Ct,dilationWidth:Pt,inShape:o,outShape:ue,filterShape:e}}function qd(o){return"number"==typeof o?[o,o]:o}function Ng(o,e){return e<=1?o:o+(o-1)*(e-1)}function Tg(o,e){if(!e)return o;switch(e){case"round":return Math.round(o);case"ceil":return Math.ceil(o);case"floor":return Math.floor(o);default:throw new Error("Unknown roundingMode "+e)}}function Zd(o){var e=qd(o);return 1===e[0]&&1===e[1]}function xu(o,e){return Zd(o)||Zd(e)}var Hh=Ue({matMul_:function Zm(o,e,r,s){void 0===r&&(r=!1),void 0===s&&(s=!1);var h=Me(o,"a","matMul"),m=Me(e,"b","matMul"),D=r?h.shape[h.rank-2]:h.shape[h.rank-1],S=s?m.shape[m.rank-1]:m.shape[m.rank-2],R=r?h.shape[h.rank-1]:h.shape[h.rank-2],B=s?m.shape[m.rank-2]:m.shape[m.rank-1],$=h.shape.slice(0,-2),Q=m.shape.slice(0,-2),ee=Pe($),ue=Pe(Q);se(h.rank>=2&&m.rank>=2&&h.rank===m.rank,"Error in matMul: inputs must have the same rank of at least 2, got ranks "+h.rank+" and "+m.rank+"."),se(Ye($,Q),"Error in matMul: outer dimensions ("+$+") and ("+Q+") of Tensors with shapes "+h.shape+" and "+m.shape+" must match."),se(D===S,"Error in matMul: inner shapes ("+D+") and ("+S+") of Tensors with shapes "+h.shape+" and "+m.shape+" and transposeA="+r+" and transposeB="+s+" must match.");var ye=h.shape.slice(0,-2).concat([R,B]),ge=r?h.as3D(ee,D,R):h.as3D(ee,R,D),xe=s?m.as3D(ue,B,S):m.as3D(ue,S,B);return Re.engine.runKernel(function(Be){return Be.batchMatMul(ge,xe,r,s)},{$a:ge,$b:xe},function(Be){return r||s?!r&&s?{$a:function(){return Be.matMul(xe.toFloat(),!1,!1)},$b:function(){return Be.matMul(ge.toFloat(),!0,!1)}}:r&&!s?{$a:function(){return xe.toFloat().matMul(Be,!1,!0)},$b:function(){return ge.toFloat().matMul(Be,!1,!1)}}:{$a:function(){return xe.toFloat().matMul(Be,!0,!0)},$b:function(){return Be.matMul(ge.toFloat(),!0,!0)}}:{$a:function(){return Be.matMul(xe.toFloat(),!1,!0)},$b:function(){return ge.toFloat().matMul(Be,!0,!1)}}}).reshape(ye)}}),Ig=Ue({dot_:function Mg(o,e){var r=Me(o,"t1","dot"),s=Me(e,"t2","dot");se(!(1!==r.rank&&2!==r.rank||1!==s.rank&&2!==s.rank),"Error in dot: inputs must all be rank 1 or 2, but got ranks "+r.rank+" and "+s.rank+".");var h=1===r.rank?r.size:r.shape[1],m=1===s.rank?s.size:s.shape[0];return se(h===m,"Error in dot: inner dimensions of inputs must match, but got "+h+" and "+m+"."),1===r.rank&&1===s.rank?r.as2D(1,-1).matMul(s.as2D(-1,1)).asScalar():1===r.rank&&2===s.rank?r.as2D(1,-1).matMul(s.as2D(s.shape[0],s.shape[1])).as1D():2===r.rank&&1===s.rank?r.matMul(s.as2D(-1,1)).as1D():r.matMul(s.as2D(s.shape[0],s.shape[1]))}}),nf=Ue({outerProduct_:function Ym(o,e){var r=Me(o,"v1","outerProduct"),s=Me(e,"v2","outerProduct");return se(1===r.rank&&1===s.rank,"Error in outerProduct: inputs must be rank 1, but got ranks "+r.rank+" and "+s.rank+"."),r.as2D(-1,1).matMul(s.as2D(1,-1))}});function rf(o,e,r,s,h,m){se(o.length===e.rank,"Length of inShape ("+o.length+") and rank of dy ("+e.rank+") must match");var D=o,S=e,R=!1;3===e.rank&&(R=!0,S=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]),D=[1,o[0],o[1],o[2]]);var B=D[3],$=S.shape[3];se(4===D.length,"Error in conv2dDerInput: inShape must be length 4, but got length "+D.length+"."),se(4===S.rank,"Error in conv2dDerInput: dy must be rank 4, but got rank "+S.rank),se(4===r.rank,"Error in conv2dDerInput: filter must be rank 4, but got rank "+r.rank),se(B===r.shape[2],"Error in conv2dDerInput: depth of input ("+B+") must match input depth for filter "+r.shape[2]+"."),se($===r.shape[3],"Error in conv2dDerInput: depth of output ("+$+") must match output depth for filter "+r.shape[3]+"."),null!=m&&se(Qe(h),"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+m+" but got pad "+h+".");var Q=Zc(D,r.shape,s,1,h,m),ee=Re.engine.runKernel(function(ue){return ue.conv2dDerInput(S,r,Q)},{dy4D:S,filter:r},function(ue){return{dy4D:function(){return Ql(ue,r,s,h,"NHWC",1,m)},filter:function(){return Kd(ue,S,r.shape,s,h,m)}}});return R?ee.as3D(ee.shape[1],ee.shape[2],ee.shape[3]):ee}function af(o,e,r,s,h,m){var D=o;3===o.rank&&(D=o.as4D(1,o.shape[0],o.shape[1],o.shape[2]));var S=e;3===S.rank&&(S=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),se(4===D.rank,"Error in conv2dDerFilter: input must be rank 4, but got shape "+D.shape+"."),se(4===S.rank,"Error in conv2dDerFilter: dy must be rank 4, but got shape "+S.shape+"."),se(4===r.length,"Error in conv2dDerFilter: filterShape must be length 4, but got "+r+"."),se(D.shape[3]===r[2],"Error in conv2dDerFilter: depth of input "+D.shape[3]+") must match input depth in filter ("+r[2]+"."),se(S.shape[3]===r[3],"Error in conv2dDerFilter: depth of dy ("+S.shape[3]+") must match output depth for filter ("+r[3]+")."),null!=m&&se(Qe(h),"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+m+" but got pad "+h+".");var R=Zc(D.shape,r,s,1,h,m);return Re.engine.runKernel(function(B){return B.conv2dDerFilter(D,S,R)},{x4D:D,dy4D:S})}var Yd=Ue({conv1d_:function Km(o,e,r,s,h,m,D){void 0===h&&(h="NWC"),void 0===m&&(m=1);var S=Me(o,"x","conv1d"),R=Me(e,"filter","conv1d"),B=S,$=!1;2===S.rank&&($=!0,B=S.as3D(1,S.shape[0],S.shape[1])),se(3===B.rank,"Error in conv1d: input must be rank 3, but got rank "+B.rank+"."),se(3===R.rank,"Error in conv1d: filter must be rank 3, but got rank "+R.rank+"."),null!=D&&se(Qe(s),"Error in conv1d: pad must be an integer when using, dimRoundingMode "+D+" but got pad "+s+"."),se(B.shape[2]===R.shape[1],"Error in conv1d: depth of input ("+B.shape[2]+") must match input depth for filter "+R.shape[1]+"."),se(xu(r,m),"Error in conv1D: Either stride or dilation must be 1. Got stride "+r+" and dilation '"+m+"'"),se("NWC"===h,"Error in conv1d: got dataFormat of "+h+" but only NWC is currently supported.");var Q=R.as4D(1,R.shape[0],R.shape[1],R.shape[2]),ee=B.as4D(B.shape[0],1,B.shape[1],B.shape[2]),ue=Ql(ee,Q,[1,r],s,"NHWC",[1,m],D);return $?ue.as2D(ue.shape[2],ue.shape[3]):ue.as3D(ue.shape[0],ue.shape[2],ue.shape[3])}}),Ql=Ue({conv2d_:function tr(o,e,r,s,h,m,D){void 0===h&&(h="NHWC"),void 0===m&&(m=[1,1]);var S=Me(o,"x","conv2d"),R=Me(e,"filter","conv2d"),B=S,$=!1;3===S.rank&&($=!0,B=S.as4D(1,S.shape[0],S.shape[1],S.shape[2])),se(4===B.rank,"Error in conv2d: input must be rank 4, but got rank "+B.rank+"."),se(4===R.rank,"Error in conv2d: filter must be rank 4, but got rank "+R.rank+"."),null!=D&&se(Qe(s),"Error in conv2d: pad must be an integer when using, dimRoundingMode "+D+" but got pad "+s+"."),se(B.shape[3]===R.shape[2],"Error in conv2d: depth of input ("+B.shape[3]+") must match input depth for filter "+R.shape[2]+"."),se(xu(r,m),"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+m+"'"),se("NHWC"===h,"Error in conv2d: got dataFormat of "+h+" but only NHWC is currently supported.");var Q,ee=Zc(B.shape,R.shape,r,m,s,D);if(1!==ee.filterHeight||1!==ee.filterWidth||1!==ee.dilationHeight||1!==ee.dilationWidth||1!==ee.strideHeight||1!==ee.strideWidth||"SAME"!==ee.padInfo.type&&"VALID"!==ee.padInfo.type)Q=Re.engine.runKernel(function(ge){return ge.conv2d(B,R,ee)},{x:B,$filter:R},function(ge){return se(Zd(m),"Error in gradient of conv2D: dilation rates greater than 1 are notyet supported in gradients. Got dilations '"+m+"'"),{x:function(){return rf(B.shape,ge,R,r,s)},$filter:function(){return af(B,ge,R.shape,r,s)}}});else{var ue=B.reshape([-1,ee.inChannels]),ye=R.reshape([ee.inChannels,ee.outChannels]);Q=Hh(ue,ye).reshape(ee.outShape)}return $?Q.as3D(Q.shape[1],Q.shape[2],Q.shape[3]):Q}}),Kd=Ue({conv2dDerFilter_:af}),kg=Ue({depthwiseConv2d_:function Jm(o,e,r,s,h,m,D){void 0===h&&(h="NHWC"),void 0===m&&(m=[1,1]);var S=Me(o,"x","depthwiseConv2d"),R=Me(e,"filter","depthwiseConv2d"),B=S,$=!1;3===S.rank&&($=!0,B=S.as4D(1,S.shape[0],S.shape[1],S.shape[2])),se(4===B.rank,"Error in depthwiseConv2d: input must be rank 4, but got rank "+B.rank+"."),se(4===R.rank,"Error in depthwiseConv2d: filter must be rank 4, but got rank "+R.rank+"."),se(B.shape[3]===R.shape[2],"Error in depthwiseConv2d: number of input channels ("+B.shape[3]+") must match the inChannels dimension in filter "+R.shape[2]+"."),null==m&&(m=[1,1]),se(xu(r,m),"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+m+"'"),null!=D&&se(Qe(s),"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+D+" but got pad "+s+".");var Q=Zc(B.shape,R.shape,r,m,s,D,!0),ee=Re.engine.runKernel(function(ue){return ue.depthwiseConv2D(B,R,Q)},{x:B,$filter:R},function(ue){return se(Zd(m),"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+m+"'"),{x:function(){return function Pg(o,e,r,s){var h=e,m=!1;3===e.rank&&(m=!0,h=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var D=Re.engine.runKernel(function(S){return S.depthwiseConv2DDerInput(h,r,s)},{dy4D:h});return m?D.as3D(D.shape[1],D.shape[2],D.shape[3]):D}(0,ue,R,Q)},$filter:function(){return function Is(o,e,r,s){var h=o;3===o.rank&&(h=o.as4D(1,o.shape[0],o.shape[1],o.shape[2]));var m=e;return 3===m.rank&&(m=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),Re.engine.runKernel(function(D){return D.depthwiseConv2DDerFilter(h,m,s)},{x4D:h,dy4D:m})}(B,ue,0,Q)}}});return $?ee.as3D(ee.shape[1],ee.shape[2],ee.shape[3]):ee}}),sf=Ue({separableConv2d_:function Og(o,e,r,s,h,m,D){void 0===m&&(m=[1,1]),void 0===D&&(D="NHWC");var S=Me(o,"x","separableConv2d"),R=Me(e,"depthwiseFilter","separableConv2d"),B=Me(r,"pointwiseFilter","separableConv2d"),$=S,Q=!1;if(3===S.rank&&(Q=!0,$=S.as4D(1,S.shape[0],S.shape[1],S.shape[2])),"NCHW"===D)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");se(4===$.rank,"Error in separableConv2d: input must be rank 4, but got rank "+$.rank+"."),se(4===R.rank,"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+R.rank+"."),se(4===B.rank,"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+R.rank+"."),se(1===B.shape[0],"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+B.shape[0]+"."),se(1===B.shape[1],"Error in separableConv2d: the second dimension of pointwise filter  must be 1, but got "+B.shape[1]+".");var ee=R.shape[2],ue=R.shape[3];se(B.shape[2]===ee*ue,"Error in separableConv2d: the third dimension of pointwise filter must be "+ee*ue+", but got "+B.shape[2]+".");var ye=kg($,R,s,h,D,m),ge=Ql(ye,B,1,"valid",D);return Q?ge.as3D(ge.shape[1],ge.shape[2],ge.shape[3]):ge}}),Jd=Ue({conv2dTranspose_:function Ag(o,e,r,s,h,m){return rf(r,Me(o,"x","conv2dTranspose"),Me(e,"filter","conv2dTranspose"),s,h,m)}}),Kc=Ue({reverse_:function Rg(o,e){var r=Me(o,"x","reverse");if(0===r.rank)return r.clone();var s=_n(e,r.shape);return Re.engine.runKernel(function(h){return h.reverse(r,s)},{$x:r},function(h){return{$x:function(){return h.reverse(s)}}}).reshapeAs(r)}}),Fg=Ue({reverse1d_:function lc(o){var e=Me(o,"x","reverse");return se(1===e.rank,"Error in reverse1D: x must be rank 1 but got\n             rank "+e.rank+"."),Kc(e,0)}}),As=Ue({reverse2d_:function Qm(o,e){var r=Me(o,"x","reverse");return se(2===r.rank,"Error in reverse2D: x must be rank 2 but got\n             rank "+r.rank+"."),Kc(r,e)}}),uc=Ue({reverse3d_:function Yc(o,e){var r=Me(o,"x","reverse");return se(3===r.rank,"Error in reverse3D: x must be rank 3 but got\n             rank "+r.rank+"."),Kc(r,e)}}),uf=Ue({reverse4d_:function lf(o,e){var r=Me(o,"x","reverse");return se(4===r.rank,"Error in reverse4D: x must be rank 4 but got\n             rank "+r.rank+"."),Kc(r,e)}});function Xm(o,e,r,s,h,m){var D=Me(o,"x","maxPool"),S=D,R=!1;3===D.rank&&(R=!0,S=D.as4D(1,D.shape[0],D.shape[1],D.shape[2])),null==s&&(s=[1,1]),se(4===S.rank,"Error in maxPool: input must be rank 4 but got rank "+S.rank+"."),se(xu(r,s),"Error in maxPool: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+s+"'"),null!=m&&se(Qe(h),"Error in maxPool: pad must be an integer when using, dimRoundingMode "+m+" but got pad "+h+".");var B=qc(S.shape,e,r,s,h,m),$=Re.engine.runKernel(function(Q,ee){return ee(Q.maxPool(S,B))},{x:S},function(Q,ee){var ue=ee[0];return{x:function(){return function $h(o,e,r,s,h,m,D,S){var R=Me(o,"dy","maxPoolBackprop"),B=Me(e,"input","maxPoolBackprop"),$=Me(r,"output","maxPoolBackprop");se(B.rank===R.rank,"Rank of input ("+B.rank+") does not match rank of dy ("+R.rank+")"),null==m&&(m=[1,1]),se(xu(h,m),"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+h+" and dilations '"+m+"'"),se(4===R.rank,"Error in maxPoolBackprop: dy must be rank 4 but got rank "+R.rank+"."),se(4===B.rank,"Error in maxPoolBackprop: input must be rank 4 but got rank "+B.rank+"."),null!=S&&se(Qe(D),"Error in maxPoolBackprop: pad must be an integer when using, dimRoundingMode "+S+" but got pad "+D+".");var Q=qc(B.shape,s,h,m,D,S);return Re.engine.runKernel(function(ee){return ee.maxPoolBackprop(R,B,$,Q)},{$dy:R,$input:B})}(Q,S,ue,e,r,s,h)}}});return R?$.as3D($.shape[1],$.shape[2],$.shape[3]):$}function cc(o,e,r,s,h,m){var D=Me(o,"x","avgPool");se("float32"===D.dtype,"The input dtype to avgPool must be float32"),null==s&&(s=[1,1]),se(xu(r,s),"Error in avgPool: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+s+"'");var S=D,R=!1;3===D.rank&&(R=!0,S=D.as4D(1,D.shape[0],D.shape[1],D.shape[2])),se(4===S.rank,"Error in avgPool: x must be rank 4 but got rank "+S.rank+"."),null!=m&&se(Qe(h),"Error in avgPool: pad must be an integer when using, dimRoundingMode "+m+" but got pad "+h+".");var B=qc(S.shape,e,r,s,h),$=Re.engine.runKernel(function(Q){return Q.avgPool(S,B)},{x:S},function(Q){return{x:function(){return function ey(o,e,r,s,h,m){var D=Me(o,"dy","avgPoolBackprop"),S=Me(e,"input","avgPoolBackprop");se(S.rank===D.rank,"Rank of input ("+S.rank+") does not match rank of dy ("+D.rank+")"),null==h&&(h=[1,1]),se(xu(s,h),"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+s+" and dilations '"+h+"'");var R=S,B=D,$=!1;3===S.rank&&($=!0,R=S.as4D(1,S.shape[0],S.shape[1],S.shape[2]),B=D.as4D(1,D.shape[0],D.shape[1],D.shape[2])),se(4===B.rank,"Error in avgPoolBackprop: dy must be rank 4 but got rank "+B.rank+"."),se(4===R.rank,"Error in avgPoolBackprop: input must be rank 4 but got rank "+R.rank+".");var Q=qc(R.shape,r,s,h,m),ee=Re.engine.runKernel(function(ue){return ue.avgPoolBackprop(B,R,Q)},{dy4D:B,input4D:R});return $?ee.as3D(ee.shape[1],ee.shape[2],ee.shape[3]):ee}(Q,S,e,r,s,h)}}});return $=$.cast(D.dtype),R?$.as3D($.shape[1],$.shape[2],$.shape[3]):$}var cf=Ue({maxPool_:function Lg(o,e,r,s,h){return Xm(o,e,r,1,s,h)}}),Vg=Ue({avgPool_:function Bg(o,e,r,s,h){return cc(o,e,r,1,s,h)}}),Ug=Ue({pool_:function Qd(o,e,r,s,h,m){null==h&&(h=[1,1]),null==m&&(m=1),0===s&&(s="valid");var D=Me(o,"x","maxPool"),S=D,R=!1;3===D.rank&&(R=!0,S=D.as4D(1,D.shape[0],D.shape[1],D.shape[2])),se(xu(m,h),"Error in pool: Either strides or dilations must be 1. Got strides "+m+" and dilations '"+h+"'");var B,$=qc(S.shape,e,m,h,s),Q=[$.dilationHeight,$.dilationWidth];B="same"===s?function ty(o,e){var r=o.map(function(m,D){return m+(m-1)*(e[D]-1)}).map(function(m){return m-1}),s=r.map(function(m){return Math.floor(m/2)}),h=r.map(function(m,D){return m-s[D]});return r.map(function(m,D){return[s[D],h[D]]})}([$.filterHeight,$.filterWidth],Q):[[0,0],[0,0]];var ee=1===Q[0]&&1===Q[1],ue=function Gh(o,e,r){var s=r.map(function(R){return R[0]}),h=r.map(function(R){return R[1]}),m=o.concat(s,h),D=e.map(function(R,B){return(R-m[B]%R)%R}),S=h.map(function(R,B){return R+D[B]});return[e.map(function(R,B){return[s[B],S[B]]}),e.map(function(R,B){return[0,D[B]]})]}([$.inHeight,$.inWidth],Q,B),ge=ue[1],xe=ee?s:"valid",Be=ee?S:wu(S,Q,ue[0]),$e=("avg"===r?function(){return cc(Be,e,m,1,xe)}:function(){return Xm(Be,e,m,1,xe)})(),ot=ee?$e:Zl($e,Q,ge);return R?ot.as3D(ot.shape[1],ot.shape[2],ot.shape[3]):ot}}),Su=Ue({slice_:function df(o,e,r){var s,h,m=Me(o,"x","slice");if(0===m.rank)throw new Error("Slicing scalar is not possible");s="number"==typeof e?[e].concat(new Array(m.rank-1).fill(0)):e.length<m.rank?e.concat(new Array(m.rank-e.length).fill(0)):e.slice(),h=(h=null==r?new Array(m.rank).fill(-1):"number"==typeof r?[r].concat(new Array(m.rank-1).fill(-1)):r.length<m.rank?r.concat(new Array(m.rank-r.length).fill(-1)):r).map(function(S,R){return S>=0?S:(se(-1===S,"Bad value in size"),m.shape[R]-s[R])}),function ma(o,e,r){se(o.rank===e.length,"Error in slice"+o.rank+"D: Length of begin "+e+" must match the rank of the array ("+o.rank+")."),se(o.rank===r.length,"Error in slice"+o.rank+"D: Length of size "+r+" must match the rank of the array ("+o.rank+").");for(var s=0;s<o.rank;++s)se(e[s]+r[s]<=o.shape[s],"Error in slice"+o.rank+"D: begin["+s+"] + size["+s+"] ("+(e[s]+r[s])+") would overflow input.shape["+s+"] ("+o.shape[s]+")")}(m,s,h);var D=m.shape;return Re.engine.runKernel(function(S){return S.slice(m,s,h)},{$x:m},function(S){for(var R=[],B=0;B<S.rank;B++)R.push([s[B],D[B]-s[B]-h[B]]);return{$x:function(){return S.pad(R)}}})}}),Hg=Ue({slice1d_:function ny(o,e,r){var s=Me(o,"x","slice1d");return se(1===s.rank,"slice1d expects a rank-1 tensor, but got a rank-"+s.rank+" tensor"),Su(s,[e],[r])}}),Wh=Ue({slice2d_:function zg(o,e,r){var s=Me(o,"x","slice2d");return se(2===s.rank,"slice2d expects a rank-2 tensor, but got a rank-"+s.rank+" tensor"),Su(s,e,r)}}),$g=Ue({slice3d_:function jg(o,e,r){var s=Me(o,"x","slice3d");return se(3===s.rank,"slice3d expects a rank-3 tensor, but got a rank-"+s.rank+" tensor"),Su(s,e,r)}}),ry=Ue({slice4d_:function Xd(o,e,r){var s=Me(o,"x","slice4d");return se(4===s.rank,"slice4d expects a rank-4 tensor, but got a rank-"+s.rank+" tensor"),Su(s,e,r)}});function qh(o,e,r,s,h){var m=e[0];return m.rank<r.rank&&(m=m.reshape(si(m.shape,s))),o.rank<r.rank&&(o=o.reshape(si(o.shape,s))),{$x:function(){var D=o.mul(r.equal(m).cast(o.dtype));return null==h?D:D.transpose(h)}}}var ff=Ue({all_:function Yh(o,e,r){void 0===e&&(e=null),void 0===r&&(r=!1);var s=Me(o,"x","all","bool");se("bool"===s.dtype,"Error Tensor must be of type bool. Got: "+s.dtype);var h=_n(e,s.shape),m=h,D=Si(m,s.rank);null!=D&&(s=s.transpose(D),m=Mi(m.length,s.rank));var S=Re.engine.runKernel(function(B){return B.all(s,m)},{$x:s});if(r){var R=si(S.shape,h);return S.reshape(R)}return S}}),Qc=Ue({any_:function pf(o,e,r){void 0===e&&(e=null),void 0===r&&(r=!1);var s=Me(o,"x","any","bool");se("bool"===s.dtype,"Error Tensor must be of type bool. Got: "+s.dtype);var h=_n(e,s.shape),m=h,D=Si(m,s.rank);null!=D&&(s=s.transpose(D),m=Mi(m.length,s.rank));var S=Re.engine.runKernel(function(B){return B.any(s,m)},{$x:s});if(r){var R=si(S.shape,h);return S.reshape(R)}return S}}),Jh=Ue({argMax_:function qg(o,e){void 0===e&&(e=0);var r=Me(o,"x","argMax");null==e&&(e=0);var s=_n(e,r.shape),h=Si(s,r.rank);return null!=h&&(r=r.transpose(h),s=Mi(s.length,r.rank)),Re.engine.runKernel(function(m){return m.argMax(r,s[0])},{$x:r},function(m){return{$x:function(){return Nr(r)}}})}}),Qh=Ue({argMin_:function eh(o,e){void 0===e&&(e=0);var r=Me(o,"x","argMin");null==e&&(e=0);var s=_n(e,r.shape),h=Si(s,r.rank);return null!=h&&(r=r.transpose(h),s=Mi(s.length,r.rank)),Re.engine.runKernel(function(m){return m.argMin(r,s[0])},{$x:r},function(m){return{$x:function(){return Nr(r)}}})}}),gf=Ue({logSumExp_:function Jc(o,e,r){void 0===e&&(e=null),void 0===r&&(r=!1);var s=Me(o,"x","logSumExp"),h=_n(e,s.shape),m=s.max(h,!0),D=s.sub(m).exp().sum(h).log(),S=m.reshape(D.shape).add(D);if(r){var R=si(S.shape,h);return S.reshape(R)}return S}}),Xh=Ue({max_:function Zh(o,e,r){void 0===e&&(e=null),void 0===r&&(r=!1);var s=Me(o,"x","max"),h=s,m=_n(e,s.shape),D=m,S=Si(D,s.rank);null!=S&&(s=s.transpose(S),D=Mi(D.length,s.rank));var R=Re.engine.runKernel(function($,Q){return Q($.max(s,D))},{$x:s},function($,Q){return qh($,Q,h,m,S)});if(r){var B=si(R.shape,m);R=R.reshape(B)}return R}}),Zg=Ue({mean_:function hf(o,e,r){void 0===e&&(e=null),void 0===r&&(r=!1);var s=Me(o,"x","mean"),h=_n(e,s.shape),m=Pe(mr(s.shape,h)[1]);return Ao(function(D){var S=Xt(m);return{value:(S.dtype===D.dtype?D:D.cast(S.dtype)).div(S).sum(e,r),gradFunc:function(R){var B=D.shape.slice();return h.forEach(function($){B[$]=1}),R.reshape(B).mul(no(D.shape,"float32")).div(S)}}})(s)}}),Yg=Ue({min_:function Wg(o,e,r){void 0===e&&(e=null),void 0===r&&(r=!1);var s=Me(o,"x","min"),h=s,m=_n(e,s.shape),D=m,S=Si(D,s.rank);null!=S&&(s=s.transpose(S),D=Mi(D.length,s.rank));var R=Re.engine.runKernel(function($,Q){return Q($.min(s,D))},{$x:s},function($,Q){return qh($,Q,h,m,S)});if(r){var B=si(R.shape,m);R=R.reshape(B)}return R}}),mf=Ue({moments_:function Kh(o,e,r){void 0===e&&(e=null),void 0===r&&(r=!1);var s=_n(e,(o=Me(o,"x","moments")).shape),h=o.mean(s,r),m=h.shape;return r||(m=si(h.shape,s)),{mean:h,variance:o.toFloat().sub(h.reshape(m)).square().mean(s,r)}}}),yf=Ue({sum_:function Gg(o,e,r){void 0===e&&(e=null),void 0===r&&(r=!1);var s=Me(o,"x","sum");"bool"===s.dtype&&(s=s.toInt());var h=_n(e,s.shape);return Ao(function(m){var D=Si(h,m.rank),S=h,R=m;null!=D&&(R=m.transpose(D),S=Mi(S.length,m.rank));var B=Re.engine.runKernel(function(Q){return Q.sum(R,S)},{permutedX:R});if(r){var $=si(B.shape,h);B=B.reshape($)}return{value:B,gradFunc:function(Q){var ee=m.shape.slice();return h.forEach(function(ue){ee[ue]=1}),Q.reshape(ee).mul(no(m.shape,"float32"))}}})(s)}}),Xc=Ue({prod_:function iy(o,e,r){void 0===e&&(e=null),void 0===r&&(r=!1);var s=Me(o,"x","prod");"bool"===s.dtype&&(s=s.toInt());var h=_n(e,s.shape),m=Si(h,s.rank),D=h,S=s;null!=m&&(S=s.transpose(m),D=Mi(D.length,s.rank));var R=Re.engine.runKernel(function($){return $.prod(S,D)},{permutedX:S});if(r){var B=si(R.shape,h);R=R.reshape(B)}return R}}),wf=Ue({equal_:function Jg(o,e){var r=Me(o,"a","equal"),s=Me(e,"b","equal");return nr(r,s),W(r.shape,s.shape),Re.engine.runKernel(function(h){return h.equal(r,s)},{$a:r,$b:s})}}),th=Ue({equalStrict_:function sy(o,e){var r=Me(o,"a","equalStrict"),s=Me(e,"b","equalStrict");return at(r.shape,s.shape,"Error in equalStrict: "),r.equal(s)}}),dc=Ue({greater_:function _f(o,e){var r=Me(o,"a","greater"),s=Me(e,"b","greater");return nr(r,s),W(r.shape,s.shape),Re.engine.runKernel(function(h){return h.greater(r,s)},{$a:r,$b:s})}}),ep=Ue({greaterEqual_:function uy(o,e){var r=Me(o,"a","greaterEqual"),s=Me(e,"b","greaterEqual");return nr(r,s),W(r.shape,s.shape),Re.engine.runKernel(function(h){return h.greaterEqual(r,s)},{$a:r,$b:s},function(h){return{$a:function(){return Nr(r)},$b:function(){return Nr(s)}}})}}),cy=Ue({greaterEqualStrict_:function bf(o,e){var r=Me(o,"a","greaterEqualStrict"),s=Me(e,"b","greaterEqualStrict");return at(r.shape,s.shape,"Error in greaterEqualStrict: "),r.greaterEqual(s)}}),Dl=Ue({greaterStrict_:function ly(o,e){var r=Me(o,"a","greaterStrict"),s=Me(e,"b","greaterStrict");return at(r.shape,s.shape,"Error in greaterStrict: "),r.greater(s)}}),Cf=Ue({less_:function ay(o,e){var r=Me(o,"a","less"),s=Me(e,"b","less");return nr(r,s),W(r.shape,s.shape),Re.engine.runKernel(function(h){return h.less(r,s)},{$a:r,$b:s})}}),Df=Ue({lessEqual_:function qy(o,e){var r=Me(o,"a","lessEqual"),s=Me(e,"b","lessEqual");return nr(r,s),W(r.shape,s.shape),Re.engine.runKernel(function(h){return h.lessEqual(r,s)},{$a:r,$b:s})}}),tp=Ue({lessEqualStrict_:function vf(o,e){var r=Me(o,"a","lessEqualStrict"),s=Me(e,"b","lessEqualStrict");return at(r.shape,s.shape,"Error in lessEqualStrict: "),r.lessEqual(s)}}),Qs=Ue({lessStrict_:function ms(o,e){var r=Me(o,"a","lessStrict"),s=Me(e,"b","lessStrict");return at(r.shape,s.shape,"Error in lessStrict: "),r.less(s)}}),np=Ue({notEqual_:function Kg(o,e){var r=Me(o,"a","notEqual"),s=Me(e,"b","notEqual");return nr(r,s),W(r.shape,s.shape),Re.engine.runKernel(function(h){return h.notEqual(r,s)},{$a:r,$b:s})}}),Qg=Ue({notEqualStrict_:function oy(o,e){var r=Me(o,"a","notEqualStrict"),s=Me(e,"b","notEqualStrict");return at(r.shape,s.shape,"Error in notEqualStrict: "),r.notEqual(s)}}),Os=Ue({add_:function dy(o,e){var r=Me(o,"a","add"),s=Me(e,"b","add");nr(r,s);var h=W(r.shape,s.shape);return Re.engine.runKernel(function(m){return m.add(r,s)},{$a:r,$b:s},function(m){return{$a:function(){var D=m,S=te(r.shape,h);return S.length>0&&(D=D.sum(S)),D.reshape(r.shape)},$b:function(){var D=m,S=te(s.shape,h);return S.length>0&&(D=D.sum(S)),D.reshape(s.shape)}}})}}),rh=Ue({addN_:function Xg(o){se(Array.isArray(o),function(){return"The argument passed to tf.addN() must be a list of tensors"}),se(o.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+o.length});var e=o.map(function(h,m){return Me(h,"tensors"+m,"addN")}),r=e[0];return e.forEach(function(h){if(h.dtype!==r.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(function(h){if(!Ye(h.shape,r.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}),Re.engine.runKernel(function(h){return h.addN(e)},e,function(h){var m={};return e.forEach(function(D,S){m[S]=function(){return h.clone()}}),m})}}),rm=Ue({addStrict_:function Ef(o,e){return at(o.shape,e.shape,"Error in addStrict: "),o.add(e)}}),im=Ue({atan2_:function Mf(o,e){var r=Me(o,"a","atan2"),s=Me(e,"b","atan2");nr(r,s);var h=W(r.shape,s.shape);return Re.engine.runKernel(function(m){return m.atan2(r,s)},{$a:r,$b:s},function(m){return{$a:function(){var D=Os(r.square(),s.square()),S=m.mul(s.div(D)),R=te(r.shape,h);return R.length>0&&(S=S.sum(R)),S.reshape(r.shape)},$b:function(){var D=Os(r.square(),s.square()),S=Qp(m.mul(r.div(D))),R=te(s.shape,h);return R.length>0&&(S=S.sum(R)),S.reshape(s.shape)}}})}}),If=Ue({div_:function ip(o,e){var r,s=Me(o,"a","div"),h=Me(e,"b","div");if(nr(s,h),"int32"===s.dtype&&"int32"===h.dtype)return Xs(s,h);r=function(D){return D.realDivide(s,h)};var m=W(s.shape,h.shape);return Re.engine.runKernel(r,{$a:s,$b:h},function(D){return{$a:function(){var S=D.div(h.toFloat()),R=te(s.shape,m);return R.length>0?S.sum(R).reshape(s.shape):S},$b:function(){var S=D.mul(s.toFloat()),R=te(h.shape,m);R.length>0&&(S=S.sum(R).reshape(h.shape));var B=h.square();return S.div(B.toFloat()).neg()}}})}}),om=Ue({divStrict_:function em(o,e){return at(o.shape,e.shape,"Error in divideStrict: "),o.div(e)}}),Xs=Ue({floorDiv_:function nh(o,e){var r=Me(o,"a","floorDiv"),s=Me(e,"b","floorDiv");nr(r,s);var h=W(r.shape,s.shape);return Re.engine.runKernel(function(m){return m.floorDiv(r,s)},{$a:r,$b:s},function(m){return{$a:function(){var D=m.div(s.toFloat()),S=te(r.shape,h);return S.length>0?D.sum(S).reshape(r.shape):D},$b:function(){var D=m.mul(r.toFloat()),S=te(s.shape,h);S.length>0&&(D=D.sum(S).reshape(s.shape));var R=s.square();return D.div(R.toFloat()).neg()}}})}}),Xl=Ue({maximum_:function my(o,e){var r=Me(o,"a","maximum"),s=Me(e,"b","maximum");return nr(r,s),"bool"===r.dtype&&(r=r.toInt()),"bool"===s.dtype&&(s=s.toInt()),W(r.shape,s.shape),Re.engine.runKernel(function(h){return h.maximum(r,s)},{$a:r,$b:s},function(h){return{$a:function(){return h.mul(r.greaterEqual(s).toFloat())},$b:function(){return h.mul(r.less(s).toFloat())}}})}}),am=Ue({maximumStrict_:function nm(o,e){return at(o.shape,e.shape,"Error in maximumStrict: "),o.maximum(e)}}),Af=Ue({minimum_:function tm(o,e){var r=Me(o,"a","minimum"),s=Me(e,"b","minimum");return nr(r,s),"bool"===r.dtype&&(r=r.toInt()),"bool"===s.dtype&&(s=s.toInt()),W(r.shape,s.shape),Re.engine.runKernel(function(h){return h.minimum(r,s)},{$a:r,$b:s},function(h){return{$a:function(){return h.mul(r.lessEqual(s).toFloat())},$b:function(){return h.mul(r.greater(s).toFloat())}}})}}),sm=Ue({minimumStrict_:function Nf(o,e){return at(o.shape,e.shape,"Error in minimumStrict: "),o.minimum(e)}}),lm=Ue({mod_:function op(o,e){var r=Me(o,"a","mod"),s=Me(e,"b","mod");nr(r,s);var h=W(r.shape,s.shape);return Re.engine.runKernel(function(m){return m.mod(r,s)},{$a:r,$b:s},function(m){return{$a:function(){var D=te(r.shape,h);return D.length>0?m.sum(D).reshape(r.shape):m},$b:function(){var D=m.mul(r.div(s).floor().neg()),S=te(s.shape,h);return S.length>0?D.sum(S).reshape(s.shape):D}}})}}),um=Ue({modStrict_:function gy(o,e){return at(o.shape,e.shape,"Error in modStrict: "),o.mod(e)}}),cm=Ue({mul_:function fy(o,e){var r=Me(o,"a","mul"),s=Me(e,"b","mul");nr(r,s);var h=W(r.shape,s.shape);return Re.engine.runKernel(function(m){return m.multiply(r,s)},{$a:r,$b:s},function(m){return{$a:function(){var D=m.mul(s.toFloat()),S=te(r.shape,h);return S.length>0?D.sum(S).reshape(r.shape):D},$b:function(){var D=m.mul(r.toFloat()),S=te(s.shape,h);return S.length>0?D.sum(S).reshape(s.shape):D}}})}}),dm=Ue({mulStrict_:function rp(o,e){return at(o.shape,e.shape,"Error in multiplyStrict: "),o.mul(e)}}),Of=Ue({pow_:function Sf(o,e){var r=Me(o,"base","pow"),s=Me(e,"exp","pow"),h=W(r.shape,s.shape);return o=r.cast(Zr(r.dtype,s.dtype)),e=s.cast(Zr(r.dtype,s.dtype)),Re.engine.runKernel(function(m,D){return D(m.pow(r,s))},{$base:r,$exp:s},function(m,D){var S=D[0];return{$base:function(){var R=s.toFloat(),B=m.mul(R.mul(r.pow(R.sub(Xt(1))))),$=te(r.shape,h);return $.length>0&&(B=B.sum($)),B.reshape(r.shape)},$exp:function(){var R=m.mul(S.mul(r.log()).toFloat()),B=te(s.shape,h);return B.length>0&&(R=R.sum(B)),R.reshape(s.shape)}}})}}),hm=Ue({powStrict_:function py(o,e){return at(o.shape,e.shape,"Error in powStrict: "),o.pow(e)}}),Pf=Ue({squaredDifference_:function Tf(o,e){var r=Me(o,"a","squaredDifference"),s=Me(e,"b","squaredDifference");return nr(r,s),W(r.shape,s.shape),Re.engine.runKernel(function(h){return h.squaredDifference(r,s)},{$a:r,$b:s},function(h){var m=Xt(2);return{$a:function(){return h.mul(r.sub(s).mul(m))},$b:function(){return h.mul(s.sub(r).mul(m))}}})}}),ap=Ue({squaredDifferenceStrict_:function Nu(o,e){return at(o.shape,e.shape,"Error in squaredDifferenceStrict: "),o.squaredDifference(e)}}),pm=Ue({sub_:function xf(o,e){var r=Me(o,"a","sub"),s=Me(e,"b","sub");nr(r,s);var h=W(r.shape,s.shape);return Re.engine.runKernel(function(m){return m.subtract(r,s)},{$a:r,$b:s},function(m){return{$a:function(){var D=m,S=te(r.shape,h);return S.length>0&&(D=D.sum(S)),D.reshape(r.shape)},$b:function(){var D=m,S=te(s.shape,h);return S.length>0&&(D=D.sum(S)),D.neg().reshape(s.shape)}}})}}),sp=Ue({subStrict_:function hy(o,e){return at(o.shape,e.shape,"Error in subStrict: "),o.sub(e)}}),lp=Ue({logicalAnd_:function vy(o,e){var r=Me(o,"a","logicalAnd","bool"),s=Me(e,"b","logicalAnd","bool");return se("bool"===r.dtype&&"bool"===s.dtype,"Error Array must be of type bool."),W(r.shape,s.shape),Re.engine.runKernel(function(h){return h.logicalAnd(r,s)},{$a:r,$b:s})}}),kf=Ue({logicalNot_:function yy(o){var e=Me(o,"x","logicalNot","bool");return se("bool"===e.dtype,"Error Array must be of type bool."),Re.engine.runKernel(function(r){return r.logicalNot(e)},{$x:e})}}),up=Ue({logicalOr_:function _y(o,e){var r=Me(o,"a","logicalOr","bool"),s=Me(e,"b","logicalOr","bool");return se("bool"===r.dtype&&"bool"===s.dtype,"Error Array must be of type bool."),W(r.shape,s.shape),Re.engine.runKernel(function(h){return h.logicalOr(r,s)},{$a:r,$b:s})}}),fm=Ue({logicalXor_:function by(o,e){var r=Me(o,"a","logicalXor","bool"),s=Me(e,"b","logicalXor","bool");return se("bool"===r.dtype&&"bool"===s.dtype,"Error Array must be of type bool."),W(r.shape,s.shape),up(o,e).logicalAnd(lp(o,e).logicalNot())}}),Rf=Ue({where_:function wy(o,e,r){var s=Me(e,"a","where"),h=Me(r,"b","where"),m=Me(o,"condition","where","bool");return se("bool"===m.dtype,"Error Condition must be of type bool."),at(s.shape,h.shape,"Error in where: "),1===m.rank?se(m.shape[0]===s.shape[0],"The first dimension of `a` must match the size of `condition`."):at(m.shape,h.shape,"Error in where: "),Re.engine.runKernel(function(D){return D.select(m,s,h)},{$condition:m,$a:s,$b:h},function(D){return{$condition:function(){return Nr(m)},$a:function(){return D.mul(m.cast(s.dtype))},$b:function(){return D.mul(m.logicalNot().cast(h.dtype))}}})}}),gm=function Cy(o){return I(this,void 0,void 0,function(){var e,r,s;return H(this,function(h){switch(h.label){case 0:return se("bool"===(e=Me(o,"condition","where","bool")).dtype,"Condition must be of type bool."),[4,e.data()];case 1:return r=h.sent(),s=ec(e.shape,r),o!==e&&e.dispose(),[2,s]}})})},mm=Ue({elu_:function cp(o){var e=Me(o,"x","elu");return Re.engine.runKernel(function(r,s){return s(r.elu(e))},{$x:e},function(r,s){var h=s[0];return{$x:function(){return Re.engine.runKernel(function(m){return m.eluDer(r,h)},{dy:r,y:h})}}})}}),el=Ue({leakyRelu_:function Ey(o,e){void 0===e&&(e=.2);var r=Me(o,"x","leakyRelu");return Xl(Xt(e).mul(r),r)}}),ed=Ue({prelu_:function ih(o,e){var r=Me(o,"x","prelu"),s=Me(e,"alpha","prelu"),h=Xt(0);return Xl(h,r).add(s.mul(Af(h,r)))}}),ea=Ue({relu_:function Av(o){var e=Me(o,"x","relu");return"bool"===e.dtype?e.toInt():Re.engine.runKernel(function(r){return r.relu(e)},{$x:e},function(r){var s=e.step();return{$x:function(){return r.mulStrict(s.toFloat())}}})}}),Tu=Ue({selu_:function Dy(o){var e=Me(o,"x","selu");return Re.engine.runKernel(function(r){return r.selu(e)},{$x:e},function(r){return{$x:function(){var s=e.greater(Xt(0)),h=Xt(xd),m=Xt(Lc),D=r.mul(m),S=r.mul(h).mul(e.toFloat().exp());return Rf(s,D,S)}}})}}),ys=Ue({transpose_:function dp(o,e){var r=Me(o,"x","transpose");return null==e&&(e=r.shape.map(function(s,h){return h}).reverse()),se(r.rank===e.length,"Error in transpose: rank of input "+r.rank+" must match length of perm "+e+"."),e.forEach(function(s){se(s>=0&&s<r.rank,"All entries in 'perm' must be between 0 and "+(r.rank-1)+" but got "+e)}),r.rank<=1?r.clone():Re.engine.runKernel(function(s){return s.transpose(r,e)},{$x:r},function(s){var h=$o(e);return{$x:function(){return s.transpose(h)}}})}}),hc=Ue({localResponseNormalization_:function Ff(o,e,r,s,h){void 0===e&&(e=5),void 0===r&&(r=1),void 0===s&&(s=1),void 0===h&&(h=.5);var m=Me(o,"x","localResponseNormalization");se(4===m.rank||3===m.rank,"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+m.rank+"."),se(Qe(e),"Error in localResponseNormalization: depthRadius must be an integer\n                     but got depthRadius "+e+".");var D=m,S=!1;3===m.rank&&(S=!0,D=m.as4D(1,m.shape[0],m.shape[1],m.shape[2]));var R=Re.engine.runKernel(function(B,$){return $(B.localResponseNormalization4D(D,e,r,s,h))},{x4D:D},function(B,$){var Q=$[0];return{x4D:function(){return Re.engine.runKernel(function(ee){return ee.LRNGrad(B,D,Q,e,r,s,h)},{})}}});return S?R.as3D(R.shape[1],R.shape[2],R.shape[3]):R}});function pc(o,e,r){if(void 0===r&&(r=null),0===o.rank)return o.abs();if(1!==o.rank&&null===r)return pc(o.reshape([-1]),e,r);if(1===o.rank||"number"==typeof r||r instanceof Array&&1===r.length){if(1===e)return o.abs().sum(r);if(e===1/0)return o.abs().max(r);if(e===-1/0)return o.abs().min(r);if("euclidean"===e||2===e)return o.abs().pow(Xt(2,"int32")).sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+e)}if(r instanceof Array&&2===r.length){if(1===e)return o.abs().sum(r[0]).max(r[1]-1);if(e===1/0)return o.abs().sum(r[1]).max(r[0]);if(e===-1/0)return o.abs().sum(r[1]).min(r[0]);if("fro"===e||"euclidean"===e)return o.square().sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+e)}throw new Error("Error in norm: invalid axis: "+r)}var Mu=Ue({norm_:function td(o,e,r,s){void 0===e&&(e="euclidean"),void 0===r&&(r=null),void 0===s&&(s=!1);var h=pc(o=Me(o,"x","norm"),e,r),m=h.shape;if(s){var D=_n(r,o.shape);m=si(h.shape,D)}return h.reshape(m)}});function fc(o,e){for(var r=[],s=o;s<e;++s)r.push(s);return r}function gc(o){for(var e=[],r=0;r<o.length;++r)for(var s=0;s<o[r].length;++s)e.push(o[r][s]);return e}var No,hp=Ue({gather_:function rd(o,e,r){void 0===r&&(r=0);var s=Me(o,"x","gather"),h=Me(e,"indices","gather","int32");return se("int32"===h.dtype,"Indices must be of dtype `int32`"),r=_n(r,s.shape)[0],Re.engine.runKernel(function(m){return m.gather(s,h,r)},{$x:s},function(m){return{$x:function(){if(0===r)return oh(m,h,s.shape[r]);var D=s.shape,S=h.size,R=D.slice(0,r),B=R.length,$=D.slice(r,D.length).slice(1),Q=$.length,ee=fc(0,B),ue=fc(B+1,B+1+Q),ye=gc([R,[S],$]),ge=m.reshape(ye),xe=h.reshape([S]),Be=gc([[B],ee,ue]),$e=ge.transpose(Be),ot=oh($e,xe,s.shape[r]),Nt=$o(Be);return ot.transpose(Nt)}}})}}),oh=Ue({unsortedSegmentSum_:function nd(o,e,r){var s=Me(o,"x","unsortedSegmentSum"),h=Me(e,"segmentIds","unsortedSegmentSum","int32");return se("int32"===h.dtype,"segmentIds must be of dtype `int32`"),se(Qe(r),"numSegments must be of dtype int"),Re.engine.runKernel(function(m){return m.unsortedSegmentSum(s,h,r)},{$x:s},function(m){return{$x:function(){return function id(o,e){for(var r=Xl(e,Nr(e)),s=hp(o,r),h=ep(e,Xt(0,"int32")),m=s.rank-h.rank,D=0;D<m;++D)h=gs(h,D+1);h=lp(h,no(s.shape,"bool"));var S=Nr(s);return Rf(h,s,S)}(m,h)}}})}}),Lf=Ue({basicLSTMCell_:function vm(o,e,r,s,h,m){var D=Me(o,"forgetBias","basicLSTMCell"),S=Me(e,"lstmKernel","basicLSTMCell"),R=Me(r,"lstmBias","basicLSTMCell"),B=Me(s,"data","basicLSTMCell"),$=Me(h,"c","basicLSTMCell"),Q=Me(m,"h","basicLSTMCell"),ee=B.concat(Q,1).matMul(S).add(R),ye=ee.shape[1]/4,ge=[ee.shape[0],ye],xe=ee.slice([0,0],ge),Be=ee.slice([0,ye],ge),$e=ee.slice([0,2*ye],ge),ot=ee.slice([0,3*ye],ge),Nt=xe.sigmoid().mulStrict(Be.tanh()).addStrict($.mulStrict(D.add($e).sigmoid()));return[Nt,Nt.tanh().mulStrict(ot.sigmoid())]}}),Bf=Ue({multiRNNCell_:function ym(o,e,r,s){for(var h=Me(e,"data","multiRNNCell"),m=so(r,"c","multiRNNCell"),D=so(s,"h","multiRNNCell"),S=h,R=[],B=0;B<o.length;B++){var $=o[B](S,m[B],D[B]);R.push($[0]),R.push($[1]),S=$[1]}var Q=[],ee=[];for(B=0;B<R.length;B+=2)Q.push(R[B]),ee.push(R[B+1]);return[Q,ee]}}),Vf=Ue({movingAverage_:function _m(o,e,r,s,h){void 0===h&&(h=!0);var m=Me(o,"v","movingAverage"),D=Me(e,"x","movingAverage"),S=Me(r,"decay","movingAverage");nr(m,D),se(Ye(m.shape,D.shape),"Shape mismatch in v and x");var R=Xt(1),B=R.sub(S),$=D.sub(m).mul(B);if(h){se(null!=s,"When using zeroDebias: true, step is required.");var Q=Me(s,"step","movingAverage");$=$.div(R.sub(Of(S,Q)))}return m.add($)}}),wm=Ue({stridedSlice_:function bm(o,e,r,s,h,m,D,S,R){if(void 0===h&&(h=0),void 0===m&&(m=0),void 0===D&&(D=0),void 0===S&&(S=0),void 0===R&&(R=0),0!==D)throw new Error("ellipsis mask is not yet supported");if(0!==S)throw new Error("new axis mask is not yet supported");var B=Me(o,"x","stridedSlice");return Re.engine.runKernel(function($){return $.stridedSlice(B,e,r,s,h,m,D,S,R)},{$x:B})}}),Uf=Ue({topk_:function xy(o,e,r){void 0===e&&(e=1),void 0===r&&(r=!0);var s=Me(o,"x","topk");if(0===s.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var h=s.shape[s.shape.length-1];if(e>h)throw new Error("'k' passed to topk() must be <= the last dimension ("+h+") but got "+e);var m=Re.engine.runKernel(function(D){return D.topk(s,e,r)},{$x:s});return{values:m[0],indices:m[1]}}}),zf=Ue({scatterND_:function Sy(o,e,r){var s=Me(o,"indices","scatterND","int32"),h=Me(e,"updates","scatterND");return function jr(o,e,r){if(e.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+e.rank+".");if(o.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+o.rank+".");if("int32"!==e.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: "+e.dtype);if(r.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+r);if(0===r.length){if(0===e.size)throw new Error("Indices specified for empty output. indices shape: "+e.shape);if(0===o.size)throw new Error("Updates specified for empty output. updates shape: "+o.shape)}!function ol(o,e,r){var s=e.rank>1?e.shape[e.rank-1]:1,h=e.rank>1?e.rank-1:1,m="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+r.shape+", indices.shape: "+e.shape+", shape: "+o+", sliceDim: "+s+", and batchDim: "+h+".";if(r.rank<h)throw new Error(m+" update.rank < "+h+". ");if(o.length<s+(r.rank-h))throw new Error(m+" Output shape length < "+(s+(r.rank-h)));if(r.rank!==h+o.length-s)throw new Error(m+" update.rank != "+(h+o.length-s));for(var D=0;D<h;++D)if(r.shape[D]!==e.shape[D])throw new Error(m+" updates.shape["+D+"] ("+r.shape[D]+") != indices.shape["+D+"] ("+e.shape[D]+").");for(D=0;D<r.rank-h;++D)if(r.shape[D+h]!==o[D+s])throw new Error(m+" updates.shape["+(D+h)+"] ("+r.shape[D+h]+") != shape["+(D+h)+"] ("+o[D+h]+")")}(r,e,o)}(h,s,r),Re.engine.runKernel(function(m){return m.scatterND(s,h,r)},{$indices:s,$updates:h})}}),od=Ue({fft_:function jf(o){se("complex64"===o.dtype,"The dtype for tf.spectral.fft() must be complex64 but got "+o.dtype+".");var e=o.shape[o.shape.length-1],s=o.as2D(o.size/e,e);return Re.engine.runKernel(function(h){return h.fft(s)},{input:o}).reshape(o.shape)}}),ad=Ue({ifft_:function Hf(o){se("complex64"===o.dtype,"The dtype for tf.spectral.ifft() must be complex64 but got "+o.dtype+".");var e=o.shape[o.shape.length-1],s=o.as2D(o.size/e,e);return Re.engine.runKernel(function(h){return h.ifft(s)},{input:o}).reshape(o.shape)}}),ah=Ue({rfft_:function Ny(o){se("float32"===o.dtype,"The dtype for rfft() must be real value but\n    got "+o.dtype);var e=o.shape[o.shape.length-1],r=o.size/e,s=o.zerosLike(),h=Ur(o,s).as2D(r,e),m=Re.engine.runKernel(function(ee){return ee.fft(h)},{complexInput:h}),D=Math.floor(e/2)+1,S=Ii(m),R=ka(m),B=S.split([D,e-D],S.shape.length-1),$=R.split([D,e-D],R.shape.length-1),Q=o.shape.slice();return Q[o.shape.length-1]=D,Ur(B[0],$[0]).reshape(Q)}}),Cm=Object.freeze({fft:od,ifft:ad,rfft:ah}),$f=Ue({sparseToDense_:function fp(o,e,r,s){var h=Me(o,"sparseIndices","sparseToDense","int32"),m=Me(e,"sparseValues","sparseToDense"),D=Me(s,"defaultValue","sparseToDense",m.dtype);return function pp(o,e,r,s){if("int32"!==o.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+o.dtype+".");if(o.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+o.shape+".");var h=o.rank>0?o.shape[0]:1,m=o.rank>1?o.shape[1]:1;if(r.length!==m)throw new Error("outputShape has incorrect number of elements:, "+r.length+", should be: "+m+".");if(0!==e.rank&&(1!==e.rank||e.size!==h))throw new Error("sparseValues has incorrect shape "+e.shape+", should be [] or ["+h+"]");if(e.dtype!==s.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(h,m,r,D),Re.engine.runKernel(function(S){return S.sparseToDense(h,m,r,D)},{$sparseIndices:h,$sparseValues:m,$defaultValue:D})}}),c=Ue({gatherND_:function Dm(o,e){var r=Me(e,"indices","gatherND","int32"),s=Me(o,"x","gatherND");return Re.engine.runKernel(function(h){return h.gatherND(s,r)},{$x:s,$indices:r})}});!function(o){o[o.NONE=0]="NONE",o[o.MEAN=1]="MEAN",o[o.SUM=2]="SUM",o[o.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(No||(No={}));var Ft=Ue({absoluteDifference_:function n(o,e,r,s){void 0===s&&(s=No.SUM_BY_NONZERO_WEIGHTS);var h=Me(o,"labels","absoluteDifference"),m=Me(e,"predictions","absoluteDifference"),D=null;null!=r&&(D=Me(r,"weights","absoluteDifference")),at(h.shape,m.shape,"Error in absoluteDifference: ");var S=h.sub(m).abs();return jt(S,D,s)}}),jt=Ue({computeWeightedLoss_:function p(o,e,r){void 0===r&&(r=No.SUM_BY_NONZERO_WEIGHTS);var s=Me(o,"losses","computeWeightedLoss"),h=null;null!=e&&(h=Me(e,"weights","computeWeightedLoss"));var m=null==h?s:s.mul(h);if(r===No.NONE)return m;if(r===No.SUM)return m.sum();if(r===No.MEAN){if(null==h)return m.mean();var D=Pe(s.shape)/Pe(h.shape),S=m.sum().div(h.sum());return D>1?S.div(Xt(D)):S}if(r===No.SUM_BY_NONZERO_WEIGHTS){if(null==h)return m.sum().div(Xt(s.size));var R=h.mul(no(s.shape)).notEqual(Xt(0)).sum().toFloat();return m.sum().div(R)}throw Error("Unknown reduction: "+r)}}),an=Ue({cosineDistance_:function b(o,e,r,s,h){void 0===h&&(h=No.SUM_BY_NONZERO_WEIGHTS);var m=Me(o,"labels","cosineDistance"),D=Me(e,"predictions","cosineDistance"),S=null;null!=s&&(S=Me(s,"weights","cosineDistance")),at(m.shape,D.shape,"Error in cosineDistance: ");var R=Xt(1).sub(m.mul(D).sum(r,!0));return jt(R,S,h)}}),pn=Ue({hingeLoss_:function T(o,e,r,s){void 0===s&&(s=No.SUM_BY_NONZERO_WEIGHTS);var h=Me(o,"labels","hingeLoss"),m=Me(e,"predictions","hingeLoss"),D=null;null!=r&&(D=Me(r,"weights","hingeLoss")),at(h.shape,m.shape,"Error in hingeLoss: ");var S=Xt(1);h=Xt(2).mul(h).sub(S);var R=S.sub(h.mul(m)).relu();return jt(R,D,s)}}),qn=Ue({huberLoss_:function Se(o,e,r,s,h){void 0===s&&(s=1),void 0===h&&(h=No.SUM_BY_NONZERO_WEIGHTS);var m=Me(o,"labels","huberLoss"),D=Me(e,"predictions","huberLoss"),S=null;null!=r&&(S=Me(r,"weights","huberLoss")),at(m.shape,D.shape,"Error in huberLoss: ");var R=Xt(s),B=D.sub(m).abs(),$=Af(B,R),Q=B.sub($),ee=Xt(.5).mul($.square()).add(R.mul(Q));return jt(ee,S,h)}}),dr=Ue({logLoss_:function q(o,e,r,s,h){void 0===s&&(s=1e-7),void 0===h&&(h=No.SUM_BY_NONZERO_WEIGHTS);var m=Me(o,"labels","logLoss"),D=Me(e,"predictions","logLoss"),S=null;null!=r&&(S=Me(r,"weights","logLoss")),at(m.shape,D.shape,"Error in logLoss: ");var R=Xt(1),B=Xt(s),$=m.mul(D.add(B).log()).neg().sub(R.sub(m).mul(R.sub(D).add(B).log()));return jt($,S,h)}}),Br=Ue({meanSquaredError_:function u(o,e,r,s){void 0===s&&(s=No.SUM_BY_NONZERO_WEIGHTS);var h=Me(o,"labels","meanSquaredError"),m=Me(e,"predictions","meanSquaredError"),D=null;null!=r&&(D=Me(r,"weights","meanSquaredError")),at(h.shape,m.shape,"Error in meanSquaredError: ");var S=h.squaredDifference(m);return jt(S,D,s)}}),go=Ue({sigmoidCrossEntropy_:function de(o,e,r,s,h){void 0===s&&(s=0),void 0===h&&(h=No.SUM_BY_NONZERO_WEIGHTS);var m=Me(o,"multiClassLabels","sigmoidCrossEntropy"),D=Me(e,"logits","sigmoidCrossEntropy"),S=null;if(null!=r&&(S=Me(r,"weights","sigmoidCrossEntropy")),at(m.shape,D.shape,"Error in sigmoidCrossEntropy: "),s>0){var R=Xt(s),B=Xt(1),$=Xt(.5);m=m.mul(B.sub(R)).add($.mul(R))}var Q=function X(o,e){var r=Me(o,"labels","sigmoidCrossEntropyWithLogits"),s=Me(e,"logits","sigmoidCrossEntropyWithLogits");at(r.shape,s.shape,"Error in sigmoidCrossEntropyWithLogits: ");var h=s.relu(),m=s.mul(r),D=s.abs().neg().exp().log1p();return h.sub(m).add(D)}(m,D);return jt(Q,S,h)}}),oo=Ue({softmaxCrossEntropy_:function yt(o,e,r,s,h){void 0===s&&(s=0),void 0===h&&(h=No.SUM_BY_NONZERO_WEIGHTS);var m=Me(o,"onehotLabels","softmaxCrossEntropy"),D=Me(e,"logits","softmaxCrossEntropy"),S=null;if(null!=r&&(S=Me(r,"weights","softmaxCrossEntropy")),at(m.shape,D.shape,"Error in softmaxCrossEntropy: "),s>0){var R=Xt(s),B=Xt(1),$=Xt(m.shape[1]);m=m.mul(B.sub(R)).add(R.div($))}var Q=function Ze(o,e,r){if(void 0===r&&(r=-1),-1===r&&(r=e.rank-1),r!==e.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+e.rank+" and dim was "+r);return Ao(function(s,h){var m=h.logSumExp([r],!0),D=h.toFloat().sub(m);return{value:D.mul(s).neg().sum([r]),gradFunc:function(S){var R=si(S.shape,[r]);return[S.reshape(R).mul(s.toFloat().sub(D.exp())),S.reshape(R).mul(D.exp().sub(s.toFloat()))]}}})(o,e)}(m,D);return jt(Q,S,h)}}),vs=Object.freeze({get Reduction(){return No},absoluteDifference:Ft,computeWeightedLoss:jt,cosineDistance:an,hingeLoss:pn,huberLoss:qn,logLoss:dr,meanSquaredError:Br,sigmoidCrossEntropy:go,softmaxCrossEntropy:oo});function To(o,e){return void 0===e&&(e=!1),Re.engine.tidy(function(){if(2!==o.shape.length)throw new Error("qr2d() requires a 2D Tensor, but got a "+o.shape.length+"D Tensor.");for(var r=o.shape[0],s=o.shape[1],h=_u(r),m=o.clone(),D=ts([[1]],[1,1]),S=D.clone(),R=r>=s?s:r,B=function(Q){var ee,ue=m,ye=S,ge=h;ee=Re.engine.tidy(function(){var xe=m.slice([Q,Q],[r-Q,1]),Be=xe.norm(),$e=m.slice([Q,Q],[1,1]),ot=$e.sign().neg(),Nt=$e.sub(ot.mul(Be)),Ct=xe.div(Nt);S=1===Ct.shape[0]?D.clone():D.concat(Ct.slice([1,0],[Ct.shape[0]-1,Ct.shape[1]]),0);var Pt=ot.matMul(Nt).div(Be).neg(),Gt=m.slice([Q,0],[r-Q,s]),sn=Pt.mul(S);m=0===Q?Gt.sub(sn.matMul(S.transpose().matMul(Gt))):m.slice([0,0],[Q,s]).concat(Gt.sub(sn.matMul(S.transpose().matMul(Gt))),0);var fn=h.slice([0,Q],[r,h.shape[1]-Q]);return h=0===Q?fn.sub(fn.matMul(S).matMul(sn.transpose())):h.slice([0,0],[r,Q]).concat(fn.sub(fn.matMul(S).matMul(sn.transpose())),1),[S,m,h]}),S=ee[0],m=ee[1],h=ee[2],ga([ue,ye,ge])},$=0;$<R;++$)B($);return!e&&r>s&&(h=h.slice([0,0],[r,s]),m=m.slice([0,0],[s,s])),[h,m]})}var eu=Ue({gramSchmidt_:function ha(o){var e;if(Array.isArray(o)){e=!1,se(null!=o&&o.length>0,"Gram-Schmidt process: input must not be null, undefined, or empty");for(var r=o[0].shape[0],s=1;s<o.length;++s)se(o[s].shape[0]===r,"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+o[s].shape[0]+" vs. "+r+")")}else e=!0,o=_e(o,o.shape[0],0).map(function(S){return Ph(S,[0])});se(o.length<=o[0].shape[0],"Gram-Schmidt: Number of vectors ("+o.length+") exceeds number of dimensions ("+o[0].shape[0]+").");var h=[],m=o,D=function(S){h.push(Re.engine.tidy(function(){var R=m[S];if(S>0)for(var B=0;B<S;++B){var $=yf(h[B].mulStrict(R)).mul(h[B]);R=R.sub($)}return R.div(Mu(R,"euclidean"))}))};for(s=0;s<o.length;++s)D(s);return e?Cu(h,0):h}}),tl=Ue({qr_:function ki(o,e){if(void 0===e&&(e=!1),o.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+o.rank);if(2===o.rank)return To(o,e);var r=o.shape.slice(0,o.shape.length-2).reduce(function(m,D){return m*D}),s=[],h=[];return jp(o.reshape([r,o.shape[o.shape.length-2],o.shape[o.shape.length-1]]),0).forEach(function(m){var D=To(m,e),R=D[1];s.push(D[0]),h.push(R)}),[Cu(s,0).reshape(o.shape),Cu(h,0).reshape(o.shape)]}}),tu=Object.freeze({gramSchmidt:eu,qr:tl});function Tn(o,e,r,s,h){null==s&&(s=.5),null==h&&(h=Number.NEGATIVE_INFINITY);var m=o.shape[0];return r=Math.min(r,m),se(0<=s&&s<=1,"iouThreshold must be in [0, 1], but was '"+s+"'"),se(2===o.rank,"boxes must be a 2D tensor, but was of rank '"+o.rank+"'"),se(4===o.shape[1],"boxes must have 4 columns, but 2nd dimension was "+o.shape[1]),se(1===e.rank,"scores must be a 1D tensor"),se(e.shape[0]===m,"scores has incompatible shape with boxes. Expected "+m+", but was "+e.shape[0]),{maxOutputSize:r,iouThreshold:s,scoreThreshold:h}}var Zn=Ue({resizeBilinear_:function mc(o,e,r){void 0===r&&(r=!1);var s=Me(o,"images","resizeBilinear");se(3===s.rank||4===s.rank,"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+s.rank+"."),se(2===e.length,"Error in resizeBilinear: new shape must 2D, but got shape "+e+".");var h=s,m=!1;3===s.rank&&(m=!0,h=s.as4D(1,s.shape[0],s.shape[1],s.shape[2]));var D=e[0],S=e[1],R=Re.engine.runKernel(function(B,$){return B.resizeBilinear(h,D,S,r)},{batchImages:h},function(B,$){return{batchImages:function(){return Re.engine.runKernel(function(Q){return Q.resizeBilinearBackprop(B,h,r)},{})}}});return m?R.as3D(R.shape[1],R.shape[2],R.shape[3]):R}}),Wr=Ue({resizeNearestNeighbor_:function yc(o,e,r){void 0===r&&(r=!1);var s=Me(o,"images","resizeNearestNeighbor");se(3===s.rank||4===s.rank,"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+s.rank+"."),se(2===e.length,"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+e+"."),se("float32"===s.dtype||"int32"===s.dtype,"`images` must have `int32` or `float32` as dtype");var h=s,m=!1;3===s.rank&&(m=!0,h=s.as4D(1,s.shape[0],s.shape[1],s.shape[2]));var D=e[0],S=e[1],R=Re.engine.runKernel(function(B,$){return B.resizeNearestNeighbor(h,D,S,r)},{batchImages:h},function(B,$){return{batchImages:function(){return Re.engine.runKernel(function(Q){return Q.resizeNearestNeighborBackprop(B,h,r)},{})}}});return m?R.as3D(R.shape[1],R.shape[2],R.shape[3]):R}}),jo=Ue({nonMaxSuppression_:function gp(o,e,r,s,h){void 0===s&&(s=.5),void 0===h&&(h=Number.NEGATIVE_INFINITY);var m=Me(o,"boxes","nonMaxSuppression"),D=Me(e,"scores","nonMaxSuppression"),S=Tn(m,D,r,s,h);return r=S.maxOutputSize,s=S.iouThreshold,h=S.scoreThreshold,Re.engine.runKernel(function(R){return R.nonMaxSuppression(m,D,r,s,h)},{$boxes:m})}}),nu=Object.freeze({resizeBilinear:Zn,resizeNearestNeighbor:Wr,nonMaxSuppression:jo,nonMaxSuppressionAsync:function Ty(o,e,r,s,h){return void 0===s&&(s=.5),void 0===h&&(h=Number.NEGATIVE_INFINITY),I(this,void 0,void 0,function(){var m,D,S,R,B,$;return H(this,function(Q){switch(Q.label){case 0:return m=Me(o,"boxes","nonMaxSuppressionAsync"),D=Me(e,"scores","nonMaxSuppressionAsync"),S=Tn(m,D,r,s,h),r=S.maxOutputSize,s=S.iouThreshold,h=S.scoreThreshold,[4,m.data()];case 1:return R=Q.sent(),[4,D.data()];case 2:return B=Q.sent(),$=Dr(R,B,r,s,h),m!==o&&m.dispose(),D!==e&&D.dispose(),[2,$]}})})},cropAndResize:function Bn(o,e,r,s,h,m){var D=Me(o,"image","cropAndResize","float32"),S=Me(e,"boxes","cropAndResize","float32"),R=Me(r,"boxInd","cropAndResize","int32");h=h||"bilinear",m=m||0;var B=S.shape[0];return se(4===D.rank,"Error in cropAndResize: image must be rank 4,but got rank "+D.rank+"."),se(2===S.rank&&4===S.shape[1],"Error in cropAndResize: boxes must be have size ["+B+",4] but had shape "+S.shape+"."),se(1===R.rank&&R.shape[0]===B,"Error in cropAndResize: boxInd must be have size ["+B+"] but had shape "+S.shape+"."),se("int32"===R.dtype,"Error in cropAndResize: boxInd must be of dtype int32, but got dtype "+R.dtype+"."),se(2===s.length,"Error in cropAndResize: cropSize must be of length 2, but got length "+s.length+"."),se(s[0]>=1&&s[1]>=1,"cropSize must be atleast [1,1], but was "+s),se("bilinear"===h||"nearest"===h,"method must be bilinear or nearest, but was "+h),Re.engine.runKernel(function($,Q){return $.cropAndResize(D,S,R,s,h,m)},{$image:D,$boxes:S})}}),Wi=Object.freeze({image:nu,linalg:tu,losses:vs,spectral:Cm,op:Ue,batchNormalization2d:qm,batchNormalization3d:Wy,batchNormalization4d:Wd,batchNormalization:tf,complex:Ur,real:Ii,imag:ka,concat:C,concat1d:V,concat2d:K,concat3d:ae,concat4d:fe,split:_e,conv1d:Yd,conv2d:Ql,conv2dDerFilter:Kd,depthwiseConv2d:kg,separableConv2d:sf,conv2dTranspose:Jd,matMul:Hh,dot:Ig,outerProduct:nf,reverse:Kc,reverse1d:Fg,reverse2d:As,reverse3d:uc,reverse4d:uf,maxPool:cf,avgPool:Vg,pool:Ug,slice:Su,slice1d:Hg,slice2d:Wh,slice3d:$g,slice4d:ry,abs:mg,acos:yg,acosh:Gm,asin:Wp,asinh:jd,atan:qp,atanh:vg,ceil:Zp,clipByValue:Vh,cos:Hd,cosh:oc,erf:Yp,exp:ac,expm1:Du,floor:Kp,log:Jp,log1p:_g,logSigmoid:bg,neg:Qp,reciprocal:Xp,round:wg,rsqrt:Ks,sigmoid:Gc,sign:Uh,sin:sc,sinh:Wc,softplus:Cg,sqrt:Dg,square:Eg,step:xg,tan:$d,tanh:ef,all:ff,any:Qc,argMax:Jh,argMin:Qh,logSumExp:gf,max:Xh,mean:Zg,min:Yg,moments:mf,sum:yf,prod:Xc,equal:wf,equalStrict:th,greater:dc,greaterEqual:ep,greaterEqualStrict:cy,greaterStrict:Dl,less:Cf,lessEqual:Df,lessEqualStrict:tp,lessStrict:Qs,notEqual:np,notEqualStrict:Qg,add:Os,addN:rh,addStrict:rm,atan2:im,div:If,divStrict:om,floorDiv:Xs,maximum:Xl,maximumStrict:am,minimum:Af,minimumStrict:sm,mod:lm,modStrict:um,mul:cm,mulStrict:dm,pow:Of,powStrict:hm,squaredDifference:Pf,squaredDifferenceStrict:ap,sub:pm,subStrict:sp,elu:mm,leakyRelu:el,prelu:ed,relu:ea,selu:Tu,logicalAnd:lp,logicalNot:kf,logicalOr:up,logicalXor:fm,where:Rf,whereAsync:gm,buffer:Gr,toPixels:Ci,print:So,batchToSpaceND:Zl,cast:fs,clone:_l,cumsum:vu,depthToSpace:$a,expandDims:gs,eye:_u,fromPixels:zc,multinomial:Jr,oneHot:Di,pad:Xi,pad1d:Ga,pad2d:Ju,pad3d:Qu,pad4d:zo,rand:zp,randomNormal:Yl,randomUniform:bl,reshape:bu,spaceToBatchND:wu,squeeze:Ph,stack:Cu,tile:Xu,truncatedNormal:eo,unstack:jp,setdiff1dAsync:Hp,fill:Fa,linspace:Go,ones:no,range:lo,scalar:Xt,tensor:Fr,tensor1d:or,tensor2d:ts,tensor3d:_a,tensor4d:Gi,tensor5d:Nl,tensor6d:Ra,zeros:Hr,onesLike:qo,zerosLike:Nr,transpose:ys,softmax:Pa,logSoftmax:va,localResponseNormalization:hc,norm:Mu,gather:hp,unsortedSegmentSum:oh,basicLSTMCell:Lf,multiRNNCell:Bf,movingAverage:Vf,stridedSlice:wm,topk:Uf,scatterND:zf,fft:od,ifft:ad,rfft:ah,sparseToDense:$f,gatherND:c}),Gf=function(){function o(){this.blockSize=48,this.firstUse=!0,Re.get("IS_BROWSER")&&(this.fromPixels2DContext=document.createElement("canvas").getContext("2d"))}return o.prototype.setDataMover=function(e){this.data=new bs(e)},o.prototype.register=function(e,r,s){if(this.firstUse&&(this.firstUse=!1,Re.get("IS_NODE")&&dn("\n============================\nHi there \u{1f44b}. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================\n")),this.data.has(e))throw new Error("Data buffer is already registered");this.data.set(e,{dtype:s})},o.prototype.write=function(e,r){if(null==r)throw new Error("MathBackendCPU.write(): values can not be null");this.data.get(e).values=r},o.prototype.fromPixels=function(e,r){if(null==e)throw new Error("pixels passed to tf.fromPixels() can not be null");var s,h;if(Re.get("IS_NODE")&&null==e.getContext)throw new Error("When running in node, pixels must be an HTMLCanvasElement like the one returned by the `canvas` npm package");if(null!=e.getContext)s=e.getContext("2d").getImageData(0,0,e.width,e.height).data;else if(e instanceof ImageData)s=e.data;else{if(!(e instanceof HTMLImageElement||e instanceof HTMLVideoElement))throw new Error("pixels passed to tf.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement or ImageData, but was "+e.constructor.name);if(null==this.fromPixels2DContext)throw new Error("Can't read pixels from HTMLImageElement outside the browser.");this.fromPixels2DContext.canvas.width=e.width,this.fromPixels2DContext.canvas.height=e.height,this.fromPixels2DContext.drawImage(e,0,0,e.width,e.height),s=this.fromPixels2DContext.getImageData(0,0,e.width,e.height).data}if(4===r)h=new Int32Array(s);else{var m=e.width*e.height;h=new Int32Array(m*r);for(var D=0;D<m;D++)for(var S=0;S<r;++S)h[D*r+S]=s[4*D+S]}return _a(h,[e.height,e.width,r],"int32")},o.prototype.read=function(e){return I(this,void 0,void 0,function(){return H(this,function(r){return[2,this.readSync(e)]})})},o.prototype.readSync=function(e){var r=this.data.get(e),h=r.complexTensors;return"complex64"===r.dtype?Cr(h.real.dataSync(),h.imag.dataSync()):this.data.get(e).values},o.prototype.disposeData=function(e){if(this.data.has(e)){var r=this.data.get(e).complexTensors;null!=r&&(r.real.dispose(),r.imag.dispose()),this.data.delete(e)}},o.prototype.time=function(e){return I(this,void 0,void 0,function(){var r;return H(this,function(s){return r=Te(),e(),[2,{kernelMs:Te()-r}]})})},o.prototype.memory=function(){return{unreliable:!0}},o.prototype.complex=function(e,r){var s=Mt.make(e.shape,{},"complex64");return this.data.get(s.dataId).complexTensors={real:Re.engine.keep(e.clone()),imag:Re.engine.keep(r.clone())},s},o.prototype.real=function(e){return this.data.get(e.dataId).complexTensors.real.clone()},o.prototype.imag=function(e){return this.data.get(e.dataId).complexTensors.imag.clone()},o.prototype.assertNotComplex=function(e,r){Array.isArray(e)||(e=[e]),e.forEach(function(s){null!=s&&se("complex64"!==s.dtype,r+" does not support complex64 tensors.")})},o.prototype.slice=function(e,r,s){this.assertNotComplex(e,"slice");for(var h=Gr(s,e.dtype),m=0;m<h.size;++m){var D=h.indexToLoc(m),S=D.map(function(R,B){return R+r[B]});h.set.apply(h,[e.get.apply(e,S)].concat(D))}return h.toTensor()},o.prototype.stridedSlice=function(e,r,s,h,m,D,S,R,B){this.assertNotComplex(e,"stridedSlice");var $=Xa(e.shape,r,s,h,m,D,S,R,B),Q=$[0],ee=$[1],ue=$[2],ye=ee.filter(function(Nt,Ct){return-1===ue.indexOf(Ct)});if(ye.some(function(Nt){return 0===Nt}))return Fr([],ye);for(var ge=Gr(ee,e.dtype),xe=0;xe<ge.size;xe++){for(var Be=ge.indexToLoc(xe),$e=new Array(Be.length),ot=0;ot<$e.length;ot++)$e[ot]=Be[ot]*h[ot]+Q[ot];ge.set.apply(ge,[e.get.apply(e,$e)].concat(Be))}return ge.toTensor().reshape(ye)},o.prototype.reverse=function(e,r){this.assertNotComplex(e,"reverse");for(var s=Gr(e.shape,e.dtype),h=e.buffer(),m=function(S){var R=s.indexToLoc(S),B=R.slice();r.forEach(function($){return B[$]=e.shape[$]-1-B[$]}),s.set.apply(s,[h.get.apply(h,B)].concat(R))},D=0;D<s.size;D++)m(D);return s.toTensor()},o.prototype.concat=function(e,r){this.assertNotComplex(e,"concat");var s=e.map(function(B){var $=Pe(B.shape.slice(r));return B.as2D(-1,$)}),h=Vr(s.map(function(B){return B.shape}),1),m=Gr(h,e[0].dtype).values;if(1===s[0].shape[0]){var D=0;s.forEach(function(B){m.set(B.dataSync(),D),D+=B.size})}else{var S=0;s.forEach(function(B){for(var $=B.dataSync(),Q=0,ee=0;ee<B.shape[0];++ee)for(var ue=ee*h[1]+S,ye=0;ye<B.shape[1];++ye)m[ue+ye]=$[Q++];S+=B.shape[1]})}var R=Vr(e.map(function(B){return B.shape}),r);return Fr(m,R,e[0].dtype)},o.prototype.neg=function(e){return this.assertNotComplex(e,"neg"),this.multiply(Xt(-1),e)},o.prototype.add=function(e,r){return"complex64"===e.dtype||"complex64"===r.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),r.cast("complex64"),function(s,h,m,D){return{real:s+m,imag:h+D}}):this.broadcastedBinaryOp(e,r,Zr(e.dtype,r.dtype),function(s,h){return s+h})},o.prototype.addN=function(e){this.assertNotComplex(e,"addN");for(var r=e.map(function(R){return R.dataSync()}),s=Gr(e[0].shape,e[0].dtype),h=s.values,m=0;m<e.length;m++)for(var D=r[m],S=0;S<h.length;S++)h[S]+=D[S];return s.toTensor()},o.prototype.subtract=function(e,r){return"complex64"===e.dtype||"complex64"===r.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),r.cast("complex64"),function(s,h,m,D){return{real:s-m,imag:h-D}}):this.broadcastedBinaryOp(e,r,Zr(e.dtype,r.dtype),function(s,h){return s-h})},o.prototype.pow=function(e,r){return this.assertNotComplex([e,r],"pow"),this.broadcastedBinaryOp(e,r,e.dtype,function(s,h){return Math.pow(s,h)})},o.prototype.batchMatMul=function(e,r,s,h){this.assertNotComplex([e,r],"matMul");for(var m=s?e.shape[1]:e.shape[2],D=s?e.shape[2]:e.shape[1],S=h?r.shape[1]:r.shape[2],R=e.shape[0],B=e.dataSync(),$=r.dataSync(),Q=s?[e.strides[0],1,e.strides[1]]:[e.strides[0],e.strides[1],1],ee=Q[0],ue=Q[1],ye=Q[2],ge=h?[1,r.strides[1],r.strides[0]]:[r.strides[1],1,r.strides[0]],xe=ge[0],Be=ge[1],$e=ge[2],ot=D*S,Nt=new Float32Array(R*ot),Ct=this.blockSize,Pt=0;Pt<R;Pt++)for(var Gt=0;Gt<D;Gt+=Ct)for(var sn=0;sn<S;sn+=Ct)for(var fn=0;fn<m;fn+=Ct)for(var Dn=Math.min(Gt+Ct,D),Vn=Math.min(sn+Ct,S),rr=Math.min(fn+Ct,m),hr=Gt;hr<Dn;hr++)for(var $r=sn;$r<Vn;$r++){for(var ci=0,Jn=fn;Jn<rr;Jn++)ci+=B[Pt*ee+hr*ue+Jn*ye]*$[Jn*xe+$r*Be+Pt*$e];Nt[Pt*ot+(hr*S+$r)]+=ci}return _a(Nt,[R,D,S])},o.prototype.multiply=function(e,r){return"complex64"===e.dtype||"complex64"===r.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),r.cast("complex64"),function(s,h,m,D){return{real:s*m-h*D,imag:s*D+h*m}}):this.broadcastedBinaryOp(e,r,Zr(e.dtype,r.dtype),function(s,h){return s*h})},o.prototype.realDivide=function(e,r){return this.assertNotComplex([e,r],"realDivide"),this.broadcastedBinaryOp(e,r,"float32",function(s,h){return s/h})},o.prototype.floorDiv=function(e,r){return this.assertNotComplex([e,r],"floorDiv"),this.broadcastedBinaryOp(e,r,"int32",function(s,h){return Math.floor(s/h)})},o.prototype.sum=function(e,r){this.assertNotComplex(e,"sum"),li("sum",r,e.rank);for(var s=mr(e.shape,r),m=s[1],D=Hr(s[0],Zr(e.dtype,"int32")),S=Pe(m),R=D.dataSync(),B=e.dataSync(),$=0;$<R.length;++$){for(var Q=$*S,ee=0,ue=0;ue<S;++ue)ee+=B[Q+ue];R[$]=ee}return D},o.prototype.prod=function(e,r){this.assertNotComplex(e,"sum");for(var s=mr(e.shape,r),m=s[1],D=Hr(s[0],Zr(e.dtype,"int32")),S=Pe(m),R=D.dataSync(),B=e.dataSync(),$=0;$<R.length;++$){for(var Q=$*S,ee=1,ue=0;ue<S;++ue)ee*=B[Q+ue];R[$]=ee}return D},o.prototype.unsortedSegmentSum=function(e,r,s){this.assertNotComplex(e,"unsortedSegmentSum");for(var h=[],m=e.rank-r.rank,D=0;D<m;++D)r=r.expandDims(D+1);for(D=0;D<s;++D){var S=Xt(D,"int32"),R=wf(S,r).asType("float32").mul(e).sum(0);h.push(R)}return Cu(h)},o.prototype.argMin=function(e,r){this.assertNotComplex(e,"argMin");var s=[r];li("argMin",s,e.rank);for(var h=mr(e.shape,s),D=h[1],S=Hr(h[0],"int32"),R=Pe(D),B=S.dataSync(),$=e.dataSync(),Q=0;Q<B.length;++Q){for(var ee=Q*R,ue=$[ee],ye=0,ge=0;ge<R;++ge){var xe=$[ee+ge];xe<ue&&(ue=xe,ye=ge)}B[Q]=ye}return S},o.prototype.argMax=function(e,r){this.assertNotComplex(e,"argMax");var s=[r];li("argMax",s,e.rank);for(var h=mr(e.shape,s),D=h[1],S=Hr(h[0],"int32"),R=Pe(D),B=S.dataSync(),$=e.dataSync(),Q=0;Q<B.length;++Q){for(var ee=Q*R,ue=$[ee],ye=0,ge=0;ge<R;++ge){var xe=$[ee+ge];xe>ue&&(ue=xe,ye=ge)}B[Q]=ye}return S},o.prototype.cumsum=function(e,r,s,h){if(this.assertNotComplex(e,"cumsum"),r!==e.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(e.rank-1)+" but got axis="+r);for(var m=Zr(e.dtype,"int32"),D=Hr(e.shape,m),S=D.dataSync(),R=e.dataSync(),B=e.shape[e.rank-1],$=h?function(ge,xe){return ge+B-xe-1}:function(ge,xe){return ge+xe},Q=0;Q<R.length;Q+=B)for(var ee=0;ee<B;ee++){var ue=$(Q,ee);if(0===ee)S[ue]=s?0:R[ue];else{var ye=$(Q,ee-1);S[ue]=s?R[ye]+S[ye]:R[ue]+S[ye]}}return D},o.prototype.equal=function(e,r){return this.assertNotComplex([e,r],"equal"),this.broadcastedBinaryOp(e,r,"bool",function(s,h){return s===h?1:0})},o.prototype.notEqual=function(e,r){return this.assertNotComplex([e,r],"notEqual"),this.broadcastedBinaryOp(e,r,"bool",function(s,h){return s!==h?1:0})},o.prototype.less=function(e,r){return this.assertNotComplex([e,r],"less"),this.broadcastedBinaryOp(e,r,"bool",function(s,h){return s<h?1:0})},o.prototype.lessEqual=function(e,r){return this.assertNotComplex([e,r],"lessEqual"),this.broadcastedBinaryOp(e,r,"bool",function(s,h){return s<=h?1:0})},o.prototype.greater=function(e,r){return this.assertNotComplex([e,r],"greater"),this.broadcastedBinaryOp(e,r,"bool",function(s,h){return s>h?1:0})},o.prototype.greaterEqual=function(e,r){return this.assertNotComplex([e,r],"greaterEqual"),this.broadcastedBinaryOp(e,r,"bool",function(s,h){return s>=h?1:0})},o.prototype.logicalNot=function(e){this.assertNotComplex(e,"logicalNot");for(var r=e.dataSync(),s=new Int32Array(r.length),h=0;h<r.length;++h)s[h]=r[h]?0:1;return Mt.make(e.shape,{values:s},"bool")},o.prototype.logicalAnd=function(e,r){return this.assertNotComplex([e,r],"logicalAnd"),this.broadcastedBinaryOp(e,r,"bool",function(s,h){return s&&h})},o.prototype.logicalOr=function(e,r){return this.assertNotComplex([e,r],"logicalOr"),this.broadcastedBinaryOp(e,r,"bool",function(s,h){return s||h})},o.prototype.select=function(e,r,s){this.assertNotComplex([e,r,s],"select");for(var h=e.dataSync(),m=r.dataSync(),D=s.dataSync(),S=Hr(r.shape,Zr(r.dtype,s.dtype)),R=S.dataSync(),B=0,$=0===e.rank||e.rank>1||1===r.rank?1:r.shape[1],Q=0;Q<h.length;Q++)for(var ee=0;ee<$;ee++)R[B++]=1===h[Q]?m[Q]:D[Q];return S},o.prototype.where=function(e){this.assertNotComplex([e],"where");var r=e.dataSync();return ec(e.shape,r)},o.prototype.topk=function(e,r,s){return this.assertNotComplex(e,"topk"),Pn(e.dataSync(),e.shape,e.dtype,r)},o.prototype.min=function(e,r){this.assertNotComplex(e,"min"),li("min",r,e.rank);for(var s=mr(e.shape,r),m=s[1],D=Hr(s[0],e.dtype),S=Pe(m),R=D.dataSync(),B=e.dataSync(),$=0;$<R.length;++$){for(var Q=$*S,ee=B[Q],ue=0;ue<S;++ue){var ye=B[Q+ue];ye<ee&&(ee=ye)}R[$]=ee}return D},o.prototype.minimum=function(e,r){return this.assertNotComplex([e,r],"minimum"),this.broadcastedBinaryOp(e,r,e.dtype,function(s,h){return Math.min(s,h)})},o.prototype.mod=function(e,r){return this.assertNotComplex([e,r],"mod"),this.broadcastedBinaryOp(e,r,e.dtype,function(s,h){var m=s%h;return s<0&&h<0||s>=0&&h>=0?m:(m+h)%h})},o.prototype.max=function(e,r){this.assertNotComplex(e,"max"),li("max",r,e.rank);for(var s=mr(e.shape,r),m=s[1],D=Hr(s[0],e.dtype),S=Pe(m),R=D.dataSync(),B=e.dataSync(),$=0;$<R.length;++$){for(var Q=$*S,ee=B[Q],ue=0;ue<S;++ue){var ye=B[Q+ue];ye>ee&&(ee=ye)}R[$]=ee}return D},o.prototype.maximum=function(e,r){return this.assertNotComplex([e,r],"maximum"),this.broadcastedBinaryOp(e,r,e.dtype,function(s,h){return Math.max(s,h)})},o.prototype.all=function(e,r){this.assertNotComplex(e,"all"),li("all",r,e.rank);for(var s=mr(e.shape,r),m=s[1],D=Hr(s[0],e.dtype),S=Pe(m),R=D.dataSync(),B=e.dataSync(),$=0;$<R.length;++$){for(var Q=$*S,ee=B[Q],ue=0;ue<S;++ue)ee=ee&&B[Q+ue];R[$]=ee}return D},o.prototype.any=function(e,r){this.assertNotComplex(e,"any"),li("any",r,e.rank);for(var s=mr(e.shape,r),m=s[1],D=Hr(s[0],e.dtype),S=Pe(m),R=D.dataSync(),B=e.dataSync(),$=0;$<R.length;++$){for(var Q=$*S,ee=B[Q],ue=0;ue<S;++ue)ee=ee||B[Q+ue];R[$]=ee}return D},o.prototype.squaredDifference=function(e,r){return this.assertNotComplex([e,r],"squaredDifference"),this.broadcastedBinaryOp(e,r,e.dtype,function(s,h){var m=s-h;return m*m})},o.prototype.ceil=function(e){this.assertNotComplex(e,"ceil");for(var r=e.dataSync(),s=new Float32Array(r.length),h=0;h<r.length;++h)s[h]=Math.ceil(r[h]);return Mt.make(e.shape,{values:s})},o.prototype.floor=function(e){this.assertNotComplex(e,"floor");for(var r=e.dataSync(),s=new Float32Array(r.length),h=0;h<r.length;++h)s[h]=Math.floor(r[h]);return Mt.make(e.shape,{values:s})},o.prototype.sign=function(e){this.assertNotComplex(e,"x");for(var r=e.dataSync(),s=new Float32Array(r.length),h=0;h<r.length;++h)s[h]=r[h]<0?-1:r[h]>0?1:0;return Mt.make(e.shape,{values:s})},o.prototype.round=function(e){this.assertNotComplex(e,"round");for(var r=e.dataSync(),s=new Float32Array(r.length),h=0;h<r.length;++h){var m=Math.floor(r[h]);s[h]=r[h]-m<.5?Math.floor(r[h]):r[h]-m>.5?Math.ceil(r[h]):m%2==0?m:m+1}return Mt.make(e.shape,{values:s})},o.prototype.exp=function(e){this.assertNotComplex(e,"exp");for(var r=e.dataSync(),s=new Float32Array(r.length),h=0;h<r.length;++h)s[h]=Math.exp(r[h]);return Mt.make(e.shape,{values:s})},o.prototype.expm1=function(e){this.assertNotComplex(e,"expm1");for(var r=e.dataSync(),s=new Float32Array(r.length),h=0;h<r.length;++h)s[h]=Math.expm1(r[h]);return Mt.make(e.shape,{values:s})},o.prototype.log=function(e){this.assertNotComplex(e,"log");for(var r=e.dataSync(),s=new Float32Array(r.length),h=0;h<r.length;++h)s[h]=Math.log(r[h]);return Mt.make(e.shape,{values:s})},o.prototype.log1p=function(e){this.assertNotComplex(e,"log1p");for(var r=e.dataSync(),s=new Float32Array(r.length),h=0;h<r.length;++h)s[h]=Math.log1p(r[h]);return Mt.make(e.shape,{values:s})},o.prototype.sqrt=function(e){this.assertNotComplex(e,"sqrt");for(var r=e.dataSync(),s=new Float32Array(r.length),h=0;h<r.length;++h)s[h]=Math.sqrt(r[h]);return Mt.make(e.shape,{values:s})},o.prototype.rsqrt=function(e){this.assertNotComplex(e,"rsqrt");for(var r=e.dataSync(),s=new Float32Array(r.length),h=0;h<r.length;++h)s[h]=1/Math.sqrt(r[h]);return Mt.make(e.shape,{values:s})},o.prototype.square=function(e){this.assertNotComplex(e,"square");for(var r=e.dataSync(),s=new Float32Array(r.length),h=0;h<r.length;++h){var m=r[h];s[h]=m*m}return Mt.make(e.shape,{values:s})},o.prototype.reciprocal=function(e){this.assertNotComplex(e,"reciprocal");for(var r=e.dataSync(),s=new Float32Array(r.length),h=0;h<r.length;++h)s[h]=1/r[h];return Mt.make(e.shape,{values:s})},o.prototype.relu=function(e){this.assertNotComplex(e,"relu");for(var r=Hr(e.shape,e.dtype),s=r.dataSync(),h=e.dataSync(),m=0;m<h.length;++m)s[m]=Math.max(0,h[m]);return r},o.prototype.elu=function(e){this.assertNotComplex(e,"elu");for(var r=new Float32Array(e.size),s=e.dataSync(),h=0;h<s.length;++h){var m=s[h];r[h]=m>=0?m:Math.exp(m)-1}return Mt.make(e.shape,{values:r})},o.prototype.eluDer=function(e,r){this.assertNotComplex([e,r],"eluDer");for(var s=new Float32Array(r.size),h=r.dataSync(),m=e.dataSync(),D=0;D<h.length;++D){var S=h[D];s[D]=S>=1?m[D]:m[D]*(S+1)}return Mt.make(r.shape,{values:s})},o.prototype.selu=function(e){this.assertNotComplex(e,"selu");for(var h=new Float32Array(e.size),m=e.dataSync(),D=0;D<m.length;++D){var S=m[D];h[D]=S>=0?1.0507009873554805*S:1.7580993408473768*(Math.exp(S)-1)}return Mt.make(e.shape,{values:h})},o.prototype.clip=function(e,r,s){this.assertNotComplex(e,"clip");for(var h=new Float32Array(e.size),m=e.dataSync(),D=0;D<m.length;++D){var S=m[D];h[D]=S>s?s:S<r?r:S}return Mt.make(e.shape,{values:h})},o.prototype.abs=function(e){for(var r=new Float32Array(e.size),s=e.dataSync(),h=0;h<s.length;++h)r[h]=Math.abs(s[h]);return Mt.make(e.shape,{values:r})},o.prototype.complexAbs=function(e){for(var r=new Float32Array(e.size),s=e.dataSync(),h=0;h<e.size;++h){var m=s[2*h],D=s[2*h+1];r[h]=Math.sqrt(m*m+D*D)}return Mt.make(e.shape,{values:r})},o.prototype.int=function(e){this.assertNotComplex(e,"int");for(var r=new Int32Array(e.size),s=e.dataSync(),h=0;h<s.length;++h)r[h]=s[h];return Mt.make(e.shape,{values:r},"int32")},o.prototype.sigmoid=function(e){this.assertNotComplex(e,"sigmoid");for(var r=new Float32Array(e.size),s=e.dataSync(),h=0;h<s.length;++h)r[h]=1/(1+Math.exp(-s[h]));return Mt.make(e.shape,{values:r})},o.prototype.softplus=function(e){this.assertNotComplex(e,"softplus");for(var r=Math.log(1.1920928955078125e-7)+2,s=new Float32Array(e.size),h=e.dataSync(),m=0;m<h.length;++m){var B,D=h[m]>-r,S=h[m]<r,R=Math.exp(h[m]);B=S?R:D?h[m]:Math.log(1+R),s[m]=B}return Mt.make(e.shape,{values:s})},o.prototype.sin=function(e){this.assertNotComplex(e,"sin");for(var r=new Float32Array(e.size),s=e.dataSync(),h=0;h<s.length;++h)r[h]=Math.sin(s[h]);return Mt.make(e.shape,{values:r})},o.prototype.cos=function(e){this.assertNotComplex(e,"cos");for(var r=new Float32Array(e.size),s=e.dataSync(),h=0;h<s.length;++h)r[h]=Math.cos(s[h]);return Mt.make(e.shape,{values:r})},o.prototype.tan=function(e){this.assertNotComplex(e,"tan");for(var r=new Float32Array(e.size),s=e.dataSync(),h=0;h<s.length;++h)r[h]=Math.tan(s[h]);return Mt.make(e.shape,{values:r})},o.prototype.asin=function(e){this.assertNotComplex(e,"asin");for(var r=new Float32Array(e.size),s=e.dataSync(),h=0;h<s.length;++h)r[h]=Math.asin(s[h]);return Mt.make(e.shape,{values:r})},o.prototype.acos=function(e){this.assertNotComplex(e,"acos");for(var r=new Float32Array(e.size),s=e.dataSync(),h=0;h<s.length;++h)r[h]=Math.acos(s[h]);return Mt.make(e.shape,{values:r})},o.prototype.atan=function(e){this.assertNotComplex(e,"atan");for(var r=new Float32Array(e.size),s=e.dataSync(),h=0;h<s.length;++h)r[h]=Math.atan(s[h]);return Mt.make(e.shape,{values:r})},o.prototype.atan2=function(e,r){return this.assertNotComplex([e,r],"atan2"),this.broadcastedBinaryOp(e,r,e.dtype,function(s,h){return Math.atan2(s,h)})},o.prototype.sinh=function(e){this.assertNotComplex(e,"sinh");for(var r=new Float32Array(e.size),s=e.dataSync(),h=0;h<s.length;++h)r[h]=Math.sinh(s[h]);return Mt.make(e.shape,{values:r})},o.prototype.cosh=function(e){this.assertNotComplex(e,"cosh");for(var r=new Float32Array(e.size),s=e.dataSync(),h=0;h<s.length;++h)r[h]=Math.cosh(s[h]);return Mt.make(e.shape,{values:r})},o.prototype.tanh=function(e){this.assertNotComplex(e,"tanh");for(var r=new Float32Array(e.size),s=e.dataSync(),h=0;h<s.length;++h)r[h]=ze(s[h]);return Mt.make(e.shape,{values:r})},o.prototype.asinh=function(e){this.assertNotComplex(e,"asinh");for(var r=new Float32Array(e.size),s=e.dataSync(),h=0;h<s.length;++h)r[h]=Math.asinh(s[h]);return Mt.make(e.shape,{values:r})},o.prototype.acosh=function(e){this.assertNotComplex(e,"acosh");for(var r=new Float32Array(e.size),s=e.dataSync(),h=0;h<s.length;++h)r[h]=Math.acosh(s[h]);return Mt.make(e.shape,{values:r})},o.prototype.atanh=function(e){this.assertNotComplex(e,"atanh");for(var r=new Float32Array(e.size),s=e.dataSync(),h=0;h<s.length;++h)r[h]=Math.atanh(s[h]);return Mt.make(e.shape,{values:r})},o.prototype.erf=function(e){this.assertNotComplex(e,"erf");for(var r=new Float32Array(e.size),s=e.dataSync(),$=0;$<s.length;++$){var Q=s[$],ee=1/(1+.3275911*Q);r[$]=1-((((1.061405429*ee-1.453152027)*ee+1.421413741)*ee-.284496736)*ee+.254829592)*ee*Math.exp(-Q*Q)}return Mt.make(e.shape,{values:r})},o.prototype.step=function(e,r){void 0===r&&(r=0),this.assertNotComplex(e,"step");for(var s=new Float32Array(e.size),h=e.dataSync(),m=0;m<h.length;++m){var D=h[m];s[m]=isNaN(D)?NaN:D>0?1:r}return Mt.make(e.shape,{values:s})},o.prototype.conv2d=function(e,r,s){this.assertNotComplex([e,r],"conv2d");for(var h=s.filterHeight,m=s.filterWidth,D=s.dilationHeight,S=s.dilationWidth,R=s.padInfo.left,B=s.padInfo.top,$=Gr(s.outShape,e.dtype),Q=e.dataSync(),ee=r.dataSync(),ue=$.values,ye=0;ye<s.batchSize;++ye)for(var ge=ye*e.strides[0],xe=ye*$.strides[0],Be=0;Be<s.outHeight;++Be)for(var $e=xe+Be*$.strides[1],ot=Be*s.strideHeight-R,Nt=0;Nt<h;Nt++){var Ct=ot+Nt*D;if(!(Ct<0||Ct>=s.inHeight))for(var Pt=Nt*r.strides[0],Gt=ge+Ct*e.strides[1],sn=0;sn<s.outWidth;++sn)for(var fn=$e+sn*s.outChannels,Dn=sn*s.strideWidth-B,Vn=0;Vn<m;Vn++){var rr=Dn+Vn*S;if(!(rr<0||rr>=s.inWidth))for(var $r=Gt+rr*s.inChannels,ci=Pt+Vn*r.strides[1],Jn=0;Jn<s.inChannels;++Jn){for(var Un=Q[$r+Jn],Gn=0;Gn<s.outChannels;++Gn)ue[fn+Gn]+=Un*ee[ci+Gn];ci+=s.outChannels}}}return $.toTensor()},o.prototype.conv2dDerInput=function(e,r,s){this.assertNotComplex([e,r],"conv2dDerInput");for(var h=Gr(s.inShape,"float32"),m=h.values,D=h.strides,S=D[0],R=D[1],B=D[2],$=e.dataSync(),Q=e.strides,ee=Q[0],ue=Q[1],ye=Q[2],ge=r.dataSync(),xe=r.strides,Be=xe[0],$e=xe[1],ot=xe[2],Nt=s.batchSize,Ct=s.filterHeight,Pt=s.filterWidth,Gt=s.inChannels,sn=s.inHeight,fn=s.inWidth,Dn=s.outChannels,Vn=s.outHeight,rr=s.outWidth,hr=s.strideHeight,$r=s.strideWidth,ci=Ct-1-s.padInfo.top,Jn=Pt-1-s.padInfo.left,Un=0;Un<Nt;++Un)for(var Gn=0;Gn<Gt;++Gn)for(var qr=0;qr<sn;++qr)for(var Ei=qr-ci,ra=Math.max(0,Math.ceil(Ei/hr)),Ho=Math.min(Vn,(Ct+Ei)/hr),qa=0;qa<fn;++qa){for(var Za=qa-Jn,rl=Math.max(0,Math.ceil(Za/$r)),cd=Math.min(rr,(Pt+Za)/$r),Rs=0,Ia=ra;Ia<Ho;++Ia)for(var dd=Ia*hr-Ei,Ya=rl;Ya<cd;++Ya)for(var bc=ee*Un+ue*Ia+ye*Ya,Kf=Be*(Ct-1-dd)+$e*(Pt-1-(Ya*$r-Za))+ot*Gn,hd=0;hd<Dn;++hd)Rs+=$[bc+hd]*ge[Kf+hd];m[S*Un+R*qr+B*qa+Gn]=Rs}return h.toTensor()},o.prototype.conv2dDerFilter=function(e,r,s){this.assertNotComplex([e,r],"conv2dDerFilter");for(var h=s.strideHeight,m=s.strideWidth,D=s.filterHeight,S=s.filterWidth,R=Gr(s.filterShape,"float32"),B=s.padInfo.left,$=s.padInfo.top,Q=0;Q<D;++Q)for(var ee=Math.max(0,Math.ceil(($-Q)/h)),ue=Math.min(s.outHeight,(s.inHeight+$-Q)/h),ye=0;ye<S;++ye)for(var ge=Math.max(0,Math.ceil((B-ye)/m)),xe=Math.min(s.outWidth,(s.inWidth+B-ye)/m),Be=0;Be<s.inChannels;++Be)for(var $e=0;$e<s.outChannels;++$e){for(var ot=0,Nt=0;Nt<s.batchSize;++Nt)for(var Ct=ee;Ct<ue;++Ct)for(var Pt=Q+Ct*h-$,Gt=ge;Gt<xe;++Gt)ot+=e.get(Nt,Pt,ye+Gt*m-B,Be)*r.get(Nt,Ct,Gt,$e);R.set(ot,Q,ye,Be,$e)}return R.toTensor()},o.prototype.depthwiseConv2D=function(e,r,s){this.assertNotComplex([e,r],"depthwiseConv2D");for(var h=s.filterHeight,m=s.filterWidth,D=s.dilationHeight,S=s.dilationWidth,R=s.padInfo.left,B=s.padInfo.top,$=s.outChannels/s.inChannels,Q=Gr(s.outShape,e.dtype),ee=e.dataSync(),ue=r.dataSync(),ye=Q.values,ge=0;ge<s.batchSize;++ge)for(var xe=ge*e.strides[0],Be=ge*Q.strides[0],$e=0;$e<s.outHeight;++$e)for(var ot=Be+$e*Q.strides[1],Nt=$e*s.strideHeight-R,Ct=0;Ct<h;++Ct){var Pt=Nt+Ct*D;if(!(Pt<0||Pt>=s.inHeight))for(var Gt=Ct*r.strides[0],sn=xe+Pt*e.strides[1],fn=0;fn<s.outWidth;++fn)for(var Dn=ot+fn*Q.strides[2],Vn=fn*s.strideWidth-B,rr=0;rr<m;++rr){var hr=Vn+rr*S;if(!(hr<0||hr>=s.inWidth))for(var ci=sn+hr*s.inChannels,Jn=Dn,Un=Gt+rr*r.strides[1],Gn=0;Gn<s.inChannels;++Gn){for(var qr=ee[ci+Gn],Ei=0;Ei<$;++Ei)ye[Jn+Ei]+=qr*ue[Un+Ei];Jn+=$,Un+=$}}}return Q.toTensor()},o.prototype.depthwiseConv2DDerInput=function(e,r,s){this.assertNotComplex([e,r],"depthwiseConv2DDerInput");for(var h=Gr(s.inShape,"float32"),m=h.values,D=h.strides,S=D[0],R=D[1],B=D[2],$=e.dataSync(),Q=e.strides,ee=Q[0],ue=Q[1],ye=Q[2],ge=r.dataSync(),xe=r.strides,Be=xe[0],$e=xe[1],ot=xe[2],Nt=s.batchSize,Ct=s.filterHeight,Pt=s.filterWidth,Gt=s.inChannels,sn=s.inHeight,fn=s.inWidth,Vn=s.outHeight,rr=s.outWidth,hr=s.strideHeight,$r=s.strideWidth,ci=Ct-1-s.padInfo.top,Jn=Pt-1-s.padInfo.left,Un=s.outChannels/Gt,Gn=0;Gn<Nt;++Gn)for(var qr=0;qr<Gt;++qr)for(var Ei=0;Ei<sn;++Ei)for(var ra=Ei-ci,Ho=Math.max(0,Math.ceil(ra/hr)),qa=Math.min(Vn,(Ct+ra)/hr),Za=0;Za<fn;++Za){for(var rl=Za-Jn,cd=Math.max(0,Math.ceil(rl/$r)),Rs=Math.min(rr,(Pt+rl)/$r),Ia=0,dd=Ho;dd<qa;++dd)for(var Ya=dd*hr-ra,bc=cd;bc<Rs;++bc)for(var Kf=ee*Gn+ue*dd+ye*bc,hd=Be*(Ct-1-Ya)+$e*(Pt-1-(bc*$r-rl))+ot*qr,_p=0;_p<Un;++_p)Ia+=$[Kf+(qr*Un+_p)]*ge[hd+_p];m[S*Gn+R*Ei+B*Za+qr]=Ia}return h.toTensor()},o.prototype.depthwiseConv2DDerFilter=function(e,r,s){this.assertNotComplex([e,r],"depthwiseConv2DDerFilter");for(var h=s.strideHeight,m=s.strideWidth,D=s.filterHeight,S=s.filterWidth,R=Gr(s.filterShape,"float32"),B=s.padInfo.left,$=s.padInfo.top,Q=s.outChannels/s.inChannels,ee=0;ee<D;++ee)for(var ue=Math.max(0,Math.ceil(($-ee)/h)),ye=Math.min(s.outHeight,(s.inHeight+$-ee)/h),ge=0;ge<S;++ge)for(var xe=Math.max(0,Math.ceil((B-ge)/m)),Be=Math.min(s.outWidth,(s.inWidth+B-ge)/m),$e=0;$e<s.outChannels;++$e){for(var ot=Math.trunc($e/Q),Nt=$e%Q,Ct=0,Pt=0;Pt<s.batchSize;++Pt)for(var Gt=ue;Gt<ye;++Gt)for(var sn=ee+Gt*h-$,fn=xe;fn<Be;++fn)Ct+=e.get(Pt,sn,ge+fn*m-B,ot)*r.get(Pt,Gt,fn,$e);R.set(Ct,ee,ge,ot,Nt)}return R.toTensor()},o.prototype.tile=function(e,r){this.assertNotComplex(e,"tile");for(var s=new Array(e.rank),h=0;h<s.length;h++)s[h]=e.shape[h]*r[h];var m=Gr(s,e.dtype),D=e.buffer();for(h=0;h<m.values.length;++h){for(var S=m.indexToLoc(h),R=new Array(e.rank),B=0;B<R.length;B++)R[B]=S[B]%e.shape[B];var $=D.locToIndex(R);m.values[h]=D.values[$]}return m.toTensor()},o.prototype.pad=function(e,r,s){this.assertNotComplex(e,"pad");var h=r.map(function(Q,ee){return Q[0]+e.shape[ee]+Q[1]}),m=r.map(function(Q){return Q[0]}),D=e.buffer(),S=Gr(h,e.dtype);0!==s&&S.values.fill(s);for(var R=0;R<e.size;R++){var B=D.indexToLoc(R),$=B.map(function(Q,ee){return Q+m[ee]});S.set.apply(S,[e.get.apply(e,B)].concat($))}return S.toTensor()},o.prototype.transpose=function(e,r){this.assertNotComplex(e,"transpose");for(var s=new Array(e.rank),h=0;h<s.length;h++)s[h]=e.shape[r[h]];var m=e.dataSync(),D=Gr(s,e.dtype),S=e.buffer();for(h=0;h<e.size;++h){for(var R=S.indexToLoc(h),B=new Array(R.length),$=0;$<B.length;$++)B[$]=R[r[$]];var Q=D.locToIndex(B);D.values[Q]=m[h]}return D.toTensor()},o.prototype.gather=function(e,r,s){this.assertNotComplex([e,r],"gather");var h=e.shape.slice(),m=r.dataSync();h[s]=m.length;for(var D=Gr(h,e.dtype),S=e.buffer(),R=0;R<D.size;++R){var B=D.indexToLoc(R),$=B.slice();$[s]=m[B[s]];var Q=S.locToIndex($);D.values[R]=S.values[Q]}return D.toTensor()},o.prototype.batchToSpaceND=function(e,r,s){this.assertNotComplex([e],"batchToSpaceND");var h=r.reduce(function($,Q){return $*Q}),m=Mn(e.shape,r,h),D=Rr(m.length,r.length),S=xi(e.shape,r,h),R=aa(s,r.length),B=hi(S,s,r.length);return e.reshape(m).transpose(D).reshape(S).slice(R,B)},o.prototype.spaceToBatchND=function(e,r,s){this.assertNotComplex([e],"spaceToBatchND");var h=r.reduce(function(Q,ee){return Q*ee}),m=[[0,0]];m.push.apply(m,s);for(var D=1+r.length;D<e.shape.length;++D)m.push([0,0]);var S=e.pad(m),R=Mn(S.shape,r,h,!1),B=Rr(R.length,r.length,!1),$=xi(S.shape,r,h,!1);return S.reshape(R).transpose(B).reshape($)},o.prototype.pool=function(e,r,s){this.assertNotComplex(e,"pool");for(var h=r.strideHeight,m=r.strideWidth,D=r.dilationHeight,S=r.dilationWidth,R=r.effectiveFilterHeight,B=r.effectiveFilterWidth,$=r.padInfo.top,Q=r.padInfo.left,ee="max"===s?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,ue=e.dataSync(),ye=Gr(r.outShape,e.dtype),ge=ye.values,xe=r.outShape[1]*r.outShape[2]*r.outShape[3],Be=r.outShape[2]*r.outShape[3],$e=r.outShape[3],ot=0;ot<r.batchSize;++ot)for(var Nt=ot*xe,Ct=ot*e.strides[0],Pt=0;Pt<r.inChannels;++Pt)for(var Gt=0;Gt<r.outHeight;++Gt)for(var sn=Gt*h-$,fn=Math.max(0,sn),Dn=Math.min(r.inHeight,R+sn),Vn=Nt+Gt*Be,rr=0;rr<r.outWidth;++rr){for(var hr=rr*m-Q,$r=Math.max(0,hr),ci=Math.min(r.inWidth,B+hr),Jn=ee,Un=0,Gn=0,qr=fn;qr<Dn;qr+=D){for(var Ei=Ct+qr*e.strides[1],ra=$r;ra<ci;ra+=S){var Ho=ue[Ei+ra*e.strides[2]+Pt];"max"===s&&Ho>Jn?Jn=Ho:"avg"===s&&(Un+=Ho,Gn++)}if(isNaN(Jn))break}ge[Vn+rr*$e+Pt]="avg"===s?Un/Gn:Jn}return ye.toTensor()},o.prototype.maxPool=function(e,r){return this.pool(e,r,"max")},o.prototype.maxPoolPositions=function(e,r){for(var s=Gr(r.outShape,"int32"),h=r.strideHeight,m=r.strideWidth,D=r.dilationHeight,S=r.dilationWidth,R=r.effectiveFilterHeight,B=r.effectiveFilterWidth,$=r.padInfo.top,Q=r.padInfo.left,ee=0;ee<r.batchSize;++ee)for(var ue=0;ue<r.inChannels;++ue)for(var ye=0;ye<r.outHeight;++ye){for(var ge=ye*h-$,xe=ge;xe<0;)xe+=D;for(var Be=Math.min(r.inHeight,R+ge),$e=0;$e<r.outWidth;++$e){for(var ot=$e*m-Q,Nt=ot;Nt<0;)Nt+=S;for(var Ct=Math.min(r.inWidth,B+ot),Pt=Number.NEGATIVE_INFINITY,Gt=-1,sn=xe;sn<Be;sn+=D)for(var fn=sn-ge,Dn=Nt;Dn<Ct;Dn+=S){var Vn=Dn-ot,rr=e.get(ee,sn,Dn,ue);rr>Pt&&(Pt=rr,Gt=fn*B+Vn)}s.set(Gt,ee,ye,$e,ue)}}return s.toTensor()},o.prototype.maxPoolBackprop=function(e,r,s,h){this.assertNotComplex([r,s],"maxPoolBackprop");for(var m=this.maxPoolPositions(r,h),D=h.strideHeight,S=h.strideWidth,R=h.dilationHeight,B=h.dilationWidth,$=h.effectiveFilterHeight,Q=h.effectiveFilterWidth,ee=Q-1-h.padInfo.left,ue=$-1-h.padInfo.top,ye=Gr(r.shape,"float32"),ge=0;ge<h.batchSize;++ge)for(var xe=0;xe<h.inChannels;++xe)for(var Be=0;Be<h.inHeight;++Be)for(var $e=0;$e<h.inWidth;++$e){for(var ot=Be-ue,Nt=$e-ee,Ct=0,Pt=0;Pt<$;Pt+=R){var Gt=(ot+Pt)/D;if(!(Gt<0||Gt>=h.outHeight||Math.floor(Gt)!==Gt))for(var sn=0;sn<Q;sn+=B){var fn=(Nt+sn)/S;if(!(fn<0||fn>=h.outWidth||Math.floor(fn)!==fn)){var Dn=$*Q-1-m.get(ge,Gt,fn,xe)===Pt*Q+sn?1:0;0!==Dn&&(Ct+=e.get(ge,Gt,fn,xe)*Dn)}}}ye.set(Ct,ge,Be,$e,xe)}return ye.toTensor()},o.prototype.avgPoolBackprop=function(e,r,s){this.assertNotComplex([e,r],"avgPoolBackprop");for(var h=s.strideHeight,m=s.strideWidth,D=s.filterHeight,S=s.filterWidth,R=s.dilationHeight,B=s.dilationWidth,$=s.effectiveFilterHeight,Q=s.effectiveFilterWidth,ee=Q-1-s.padInfo.left,ue=$-1-s.padInfo.top,ye=Gr(r.shape,"float32"),ge=1/(D*S),xe=0;xe<s.batchSize;++xe)for(var Be=0;Be<s.inChannels;++Be)for(var $e=0;$e<s.inHeight;++$e)for(var ot=0;ot<s.inWidth;++ot){for(var Nt=$e-ue,Ct=ot-ee,Pt=0,Gt=0;Gt<$;Gt+=R){var sn=(Nt+Gt)/h;if(!(sn<0||sn>=s.outHeight||Math.floor(sn)!==sn))for(var fn=0;fn<Q;fn+=B){var Dn=(Ct+fn)/m;Dn<0||Dn>=s.outWidth||Math.floor(Dn)!==Dn||(Pt+=e.get(xe,sn,Dn,Be))}}ye.set(Pt*ge,xe,$e,ot,Be)}return ye.toTensor()},o.prototype.cast=function(e,r){return Vs(e,r,this)},o.prototype.reshape=function(e,r){return uo(e,r)},o.prototype.avgPool=function(e,r){return this.assertNotComplex(e,"avgPool"),this.pool(e,r,"avg").toFloat()},o.prototype.resizeBilinear=function(e,r,s,h){this.assertNotComplex(e,"resizeBilinear");for(var m=e.shape,D=m[0],S=m[1],R=m[2],B=m[3],$=e.dataSync(),Q=new Float32Array(Pe([D,r,s,B])),ee=[h&&r>1?S-1:S,h&&s>1?R-1:R],ue=[h&&r>1?r-1:r,h&&s>1?s-1:s],ye=0,ge=ee[0]/ue[0],xe=ee[1]/ue[1],Be=0;Be<D;Be++)for(var $e=0;$e<r;$e++)for(var ot=ge*$e,Nt=Math.floor(ot),Ct=ot-Nt,Pt=Math.min(S-1,Math.ceil(ot)),Gt=Be*e.strides[0]+Nt*e.strides[1],sn=Be*e.strides[0]+Pt*e.strides[1],fn=0;fn<s;fn++)for(var Dn=xe*fn,Vn=Math.floor(Dn),rr=Dn-Vn,hr=Math.min(R-1,Math.ceil(Dn)),$r=Gt+Vn*e.strides[2],ci=sn+Vn*e.strides[2],Jn=Gt+ +hr*e.strides[2],Un=sn+hr*e.strides[2],Gn=0;Gn<B;Gn++){var qr=$[$r+Gn],Ei=$[ci+Gn],ra=qr+($[Jn+Gn]-qr)*rr;Q[ye++]=ra+(Ei+($[Un+Gn]-Ei)*rr-ra)*Ct}return Fr(Q,[D,r,s,B])},o.prototype.resizeBilinearBackprop=function(e,r,s){this.assertNotComplex([e,r],"resizeBilinearBackprop");for(var h=r.shape,m=h[0],D=h[1],S=h[2],R=h[3],B=e.shape,$=B[1],Q=B[2],ee=new Float32Array(m*D*S*R),ue=[s&&$>1?D-1:D,s&&Q>1?S-1:S],ye=[s&&$>1?$-1:$,s&&Q>1?Q-1:Q],ge=ue[0]/ye[0],xe=ue[1]/ye[1],Be=e.dataSync(),$e=0,ot=0;ot<m;ot++)for(var Nt=ot*r.strides[0],Ct=0;Ct<$;Ct++)for(var Pt=Ct*ge,Gt=Math.floor(Pt),sn=Math.min(Math.ceil(Pt),D-1),fn=Nt+Gt*r.strides[1],Dn=Nt+sn*r.strides[1],Vn=Pt-Gt,rr=1-Vn,hr=0;hr<Q;hr++)for(var $r=hr*xe,ci=Math.floor($r),Jn=Math.min(Math.ceil($r),S-1),Un=$r-ci,Gn=1-Un,qr=fn+ci*r.strides[2],Ei=fn+Jn*r.strides[2],ra=Dn+ci*r.strides[2],Ho=Dn+Jn*r.strides[2],qa=rr*Gn,Za=rr*Un,rl=Vn*Gn,cd=Vn*Un,Rs=0;Rs<R;Rs++){var Ia=Be[$e++];ee[qr+Rs]+=Ia*qa,ee[Ei+Rs]+=Ia*Za,ee[ra+Rs]+=Ia*rl,ee[Ho+Rs]+=Ia*cd}return Gi(ee,[m,S,D,R],r.dtype)},o.prototype.resizeNearestNeighbor=function(e,r,s,h){this.assertNotComplex(e,"resizeNearestNeighbor");for(var m=e.shape,D=m[0],S=m[1],R=m[2],B=m[3],$=e.dataSync(),Q=new Float32Array(D*r*s*B),ee=[h&&r>1?S-1:S,h&&s>1?R-1:R],ue=[h&&r>1?r-1:r,h&&s>1?s-1:s],ye=ee[0]/ue[0],ge=ee[1]/ue[1],xe=0,Be=0;Be<D;Be++)for(var $e=Be*e.strides[0],ot=0;ot<r;ot++)for(var Nt=ye*ot,Ct=$e+Math.min(S-1,h?Math.round(Nt):Math.floor(Nt))*e.strides[1],Pt=0;Pt<s;Pt++)for(var Gt=ge*Pt,sn=Ct+Math.min(R-1,h?Math.round(Gt):Math.floor(Gt))*e.strides[2],fn=0;fn<B;fn++)Q[xe++]=$[sn+fn];return Fr(Q,[D,r,s,B],e.dtype)},o.prototype.resizeNearestNeighborBackprop=function(e,r,s){this.assertNotComplex([e,r],"resizeNearestNeighborBackprop");for(var h=r.shape,m=h[0],D=h[1],S=h[2],R=h[3],B=e.shape,$=B[1],Q=B[2],ee=new Float32Array(m*D*S*R),ue=e.dataSync(),ye=[s&&$>1?D-1:D,s&&Q>1?S-1:S],ge=[s&&$>1?$-1:$,s&&Q>1?Q-1:Q],xe=ye[0]/ge[0],Be=ye[1]/ge[1],$e=1/xe,ot=1/Be,Nt=2*Math.ceil($e)+2,Ct=2*Math.ceil(ot)+2,Pt=0;Pt<m;Pt++)for(var Gt=Pt*r.strides[0],sn=0;sn<D;sn++)for(var fn=Gt+sn*r.strides[1],Dn=Math.floor(sn*$e),Vn=Math.floor(Dn-Nt/2),rr=0;rr<S;rr++)for(var hr=fn+rr*r.strides[2],$r=Math.floor(rr*ot),ci=Math.floor($r-Ct/2),Jn=0;Jn<R;Jn++){for(var Un=0,Gn=0;Gn<Nt;Gn++){var qr=Gn+Vn;if(!(qr<0||qr>=$)){var Ei=Gt+qr*e.strides[1],ra=qr*xe;if(sn===Math.min(D-1,s?Math.round(ra):Math.floor(ra)))for(var Ho=0;Ho<Ct;Ho++){var qa=Ho+ci;if(!(qa<0||qa>=Q)){var Za=Ei+qa*e.strides[2],rl=qa*Be;rr===Math.min(S-1,s?Math.round(rl):Math.floor(rl))&&(Un+=ue[Za+Jn])}}}}ee[hr+Jn]=Un}return Gi(ee,r.shape,r.dtype)},o.prototype.batchNormalization=function(e,r,s,h,m,D){this.assertNotComplex([e,r,s,m,D],"batchNormalization");for(var S=e.dataSync(),R=r.dataSync(),B=s.dataSync(),$=m?m.dataSync():new Float32Array([1]),Q=D?D.dataSync():new Float32Array([0]),ee=new Float32Array(S.length),ue=Q.length,ye=$.length,ge=B.length,xe=R.length,Be=0,$e=0,ot=0,Nt=0,Ct=0;Ct<S.length;++Ct)ee[Ct]=Q[Be++]+(S[Ct]-R[$e++])*$[ot++]/Math.sqrt(B[Nt++]+h),Be>=ue&&(Be=0),$e>=xe&&($e=0),ot>=ye&&(ot=0),Nt>=ge&&(Nt=0);return Gi(ee,e.shape)},o.prototype.localResponseNormalization4D=function(e,r,s,h,m){this.assertNotComplex(e,"localResponseNormalization4D");var D=e.shape[3],S=D-1,R=e.dataSync(),B=Pe(e.shape),$=new Float32Array(B);function Q(ge){for(var xe=ge%D,Be=ge-xe+Math.max(0,xe-r),$e=ge-xe+Math.min(xe+r,S),ot=0;Be<=$e;Be++){var Nt=R[Be];ot+=Nt*Nt}return ot}for(var ee=0;ee<B;ee++){var ue=Q(ee),ye=R[ee]*Math.pow(s+h*ue,-m);$[ee]=ye}return Gi($,e.shape)},o.prototype.LRNGrad=function(e,r,s,h,m,D,S){this.assertNotComplex(e,"LRNGrad");for(var R=e.shape[3],B=e.dataSync(),$=r.dataSync(),Q=s.dataSync(),ee=new Float32Array(Pe(e.shape)),ue=Pe(e.shape),ye=0;ye<ue;ye++){for(var ge=ye%R,xe=ye-ge+Math.max(0,ge-h),Be=ye-ge+Math.min(R,ge+h+1),$e=0,ot=xe;ot<Be;ot++)$e+=Math.pow($[ot],2);for($e=D*$e+m,ot=xe;ot<Be;ot++){var Nt=-2*D*S*$[ot]*Q[ye]/$e;ye===ot&&(Nt+=Math.pow($e,-S)),ee[ot]+=Nt*=B[ye]}}return Gi(ee,e.shape)},o.prototype.multinomial=function(e,r,s,h){this.assertNotComplex(e,"multinomial");for(var m=r?e:Pa(e),D=m.shape[0],S=m.shape[1],R=Hr([D,s],"int32"),B=R.dataSync(),$=m.dataSync(),Q=0;Q<D;++Q){var ee=Q*S,ue=new Float32Array(S-1);ue[0]=$[ee];for(var ye=1;ye<ue.length;++ye)ue[ye]=ue[ye-1]+$[ee+ye];for(var ge=ln(h.toString()),xe=Q*s,Be=0;Be<s;++Be){var $e=ge();B[xe+Be]=ue.length;for(var ot=0;ot<ue.length;ot++)if($e<ue[ot]){B[xe+Be]=ot;break}}}return R},o.prototype.oneHot=function(e,r,s,h){this.assertNotComplex(e,"oneHot");var m=new Float32Array(e.size*r);m.fill(h);for(var D=0;D<e.size;++D)e.get(D)>=0&&e.get(D)<r&&(m[D*r+e.get(D)]=s);return ts(m,[e.size,r],"int32")},o.prototype.nonMaxSuppression=function(e,r,s,h,m){return this.assertNotComplex(e,"nonMaxSuppression"),Dr(e.dataSync(),r.dataSync(),s,h,m)},o.prototype.fft=function(e){if(1!==e.shape[0])throw new Error("tf.fft() on CPU only supports vectors.");return this.fftImpl(e,!1)},o.prototype.ifft=function(e){if(1!==e.shape[0])throw new Error("tf.ifft() on CPU only supports vectors.");return this.fftImpl(e,!0)},o.prototype.fftImpl=function(e,r){var s=e.as1D(),h=s.size;if(this.isExponentOf2(h)){var m=this.fftRadix2(s,h,r).as2D(e.shape[0],e.shape[1]);return r&&(m=Ur(Ii(m).div(Xt(h)),ka(m).div(Xt(h)))),m}var D=e.dataSync(),S=function Tl(o){for(var e=new Float32Array(o.length/2),r=new Float32Array(o.length/2),s=0;s<o.length;s+=2)e[s/2]=o[s],r[s/2]=o[s+1];return{real:e,imag:r}}(this.fourierTransformByMatmul(D,h,r));return Ur(S.real,S.imag).as2D(e.shape[0],e.shape[1])},o.prototype.isExponentOf2=function(e){return 0==(e&e-1)},o.prototype.fftRadix2=function(e,r,s){if(1===r)return e;var h=e.dataSync(),m=r/2,D=function bo(o){for(var e=Math.ceil(o.length/4),r=new Float32Array(e),s=new Float32Array(e),h=0;h<o.length;h+=4)r[Math.floor(h/4)]=o[h],s[Math.floor(h/4)]=o[h+1];return{real:r,imag:s}}(h),S=Ur(D.real,D.imag).as1D(),R=function is(o){for(var e=Math.floor(o.length/4),r=new Float32Array(e),s=new Float32Array(e),h=2;h<o.length;h+=4)r[Math.floor(h/4)]=o[h],s[Math.floor(h/4)]=o[h+1];return{real:r,imag:s}}(h),B=Ur(R.real,R.imag).as1D();S=this.fftRadix2(S,m,s),B=this.fftRadix2(B,m,s);var $=function wo(o,e){for(var r=new Float32Array(o/2),s=new Float32Array(o/2),h=0;h<Math.ceil(o/2);h++){var m=(e?2:-2)*Math.PI*(h/o);r[h]=Math.cos(m),s[h]=Math.sin(m)}return{real:r,imag:s}}(r,s),Q=Ur($.real,$.imag).mul(B),ee=S.add(Q),ue=S.sub(Q),ye=Ii(ee).concat(Ii(ue)),ge=ka(ee).concat(ka(ue));return Ur(ye,ge).as1D()},o.prototype.fourierTransformByMatmul=function(e,r,s){for(var h=new Float32Array(2*r),m=0;m<r;m++){for(var D=0,S=0,R=0;R<r;R++){var B=os(m*R,r,s),$=Tr(e,R);D+=$.real*B.real-$.imag*B.imag,S+=$.real*B.imag+$.imag*B.real}s&&(D/=r,S/=r),Ea(h,D,S,m)}return h},o.prototype.depthToSpace=function(e,r,s){se("NHWC"===s,"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+s),se(r>1,"blockSize should be > 1 for depthToSpace, but was: "+r);for(var h=e.shape[0],m=e.shape[1],D=e.shape[2],S=e.shape[3],R=m*r,B=D*r,$=S/(r*r),Q=e.dataSync(),ee=new Float32Array(h*R*B*$),ue=0,ye=0;ye<h;++ye)for(var ge=0;ge<R;++ge)for(var xe=Math.floor(ge/r),Be=ge%r,$e=0;$e<B;++$e)for(var ot=Math.floor($e/r),Nt=(Be*r+$e%r)*$,Ct=0;Ct<$;++Ct)ee[ue++]=Q[Ct+Nt+S*(ot+D*(xe+m*ye))];return Gi(ee,[h,R,B,$])},o.prototype.broadcastedBinaryOp=function(e,r,s,h){var m=W(e.shape,r.shape),D=Gr(m,s),S=e.dataSync(),R=r.dataSync(),B=Co(e.shape,m),$=Co(r.shape,m),Q=D.values;if(B.length+$.length===0)for(var ee=0;ee<Q.length;++ee)Q[ee]=h(S[ee%S.length],R[ee%R.length]);else{var ue=e.buffer(),ye=r.buffer(),ge=function(xe){var Be=D.indexToLoc(xe),$e=Be.slice(-e.rank);B.forEach(function(Pt){return $e[Pt]=0});var ot=ue.locToIndex($e),Nt=Be.slice(-r.rank);$.forEach(function(Pt){return Nt[Pt]=0});var Ct=ye.locToIndex(Nt);Q[xe]=h(S[ot],R[Ct])};for(ee=0;ee<Q.length;++ee)ge(ee)}return D.toTensor()},o.prototype.broadcastedBinaryComplexOp=function(e,r,s){var h=W(e.shape,r.shape),m=Gr(h,"float32"),D=Gr(h,"float32"),S=e.dataSync(),R=r.dataSync(),B=Co(e.shape,h),$=Co(r.shape,h),Q=m.values,ee=D.values;if(B.length+$.length===0)for(var ue=0;ue<Q.length;ue++){var ye=ue%S.length,ge=ue%R.length,xe=s(S[2*ye],S[2*ye+1],R[2*ge],R[2*ge+1]);Q[ue]=xe.real,ee[ue]=xe.imag}else{var Be=this.data.get(e.dataId).complexTensors.real.buffer(),$e=this.data.get(r.dataId).complexTensors.real.buffer(),ot=function(Nt){var Ct=m.indexToLoc(Nt),Pt=Ct.slice(-e.rank);B.forEach(function(Vn){return Pt[Vn]=0});var Gt=Be.locToIndex(Pt),sn=Ct.slice(-r.rank);$.forEach(function(Vn){return sn[Vn]=0});var fn=$e.locToIndex(sn),Dn=s(S[2*Gt],S[2*Gt+1],R[2*fn],R[2*fn+1]);Q[Nt]=Dn.real,ee[Nt]=Dn.imag};for(ue=0;ue<Q.length;ue++)ot(ue)}return this.complex(m.toTensor(),D.toTensor())},o.prototype.split=function(e,r,s){return ro(e,r,s)},o.prototype.dispose=function(){},o.prototype.floatPrecision=function(){return 32},o.prototype.cropAndResize=function(e,r,s,h,m,D){for(var S=e.shape,R=S[0],B=S[1],$=S[2],Q=S[3],ee=r.shape[0],ue=h[0],ye=h[1],ge=Gr([ee,ue,ye,Q]),xe=r.dataSync(),Be=s.dataSync(),$e=e.dataSync(),ot=e.strides,Nt=ge.strides,Ct=0;Ct<ee;Ct++){var Pt=4*Ct,Gt=xe[Pt],sn=xe[Pt+1],fn=xe[Pt+2],Dn=xe[Pt+3],Vn=Be[Ct];if(!(Vn>=R))for(var rr=ue>1?(fn-Gt)*(B-1)/(ue-1):0,hr=ye>1?(Dn-sn)*($-1)/(ye-1):0,$r=0;$r<ue;$r++){var ci=ue>1?Gt*(B-1)+$r*rr:.5*(Gt+fn)*(B-1);if(ci<0||ci>B-1)for(var Jn=0;Jn<ye;Jn++)for(var Un=0;Un<Q;Un++){var Gn=Un+Jn*Nt[2]+$r*Nt[1]+Ct*Nt[0];ge.values[Gn]=D}else if("bilinear"===m){var qr=Math.floor(ci),Ei=Math.ceil(ci),ra=ci-qr;for(Jn=0;Jn<ye;Jn++)if((Ya=ye>1?sn*($-1)+Jn*hr:.5*(sn+Dn)*($-1))<0||Ya>$-1)for(Un=0;Un<Q;Un++)ge.values[Gn=Un+Jn*Nt[2]+$r*Nt[1]+Ct*Nt[0]]=D;else{var Ho=Math.floor(Ya),qa=Math.ceil(Ya),Za=Ya-Ho;for(Un=0;Un<Q;Un++){var rl=$e[Gn=Un+Ho*ot[2]+qr*ot[1]+Vn*ot[0]],cd=$e[Gn=Un+qa*ot[2]+qr*ot[1]+Vn*ot[0]],Rs=$e[Gn=Un+Ho*ot[2]+Ei*ot[1]+Vn*ot[0]],Ia=rl+(cd-rl)*Za,dd=Rs+($e[Gn=Un+qa*ot[2]+Ei*ot[1]+Vn*ot[0]]-Rs)*Za;ge.values[Gn=Un+Jn*Nt[2]+$r*Nt[1]+Ct*Nt[0]]=Ia+(dd-Ia)*ra}}}else for(Jn=0;Jn<ye;++Jn){var Ya;if((Ya=ye>1?sn*($-1)+Jn*hr:.5*(sn+Dn)*($-1))<0||Ya>$-1)for(Un=0;Un<Q;Un++)ge.values[Gn=Un+Jn*Nt[2]+$r*Nt[1]+Ct*Nt[0]]=D;else{var bc=Math.round(Ya),Kf=Math.round(ci);for(Un=0;Un<Q;Un++)ge.values[Un+Jn*Nt[2]+$r*Nt[1]+Ct*Nt[0]]=$e[Un+bc*ot[2]+Kf*ot[1]+Vn*ot[0]]}}}}return ge.toTensor()},o.prototype.sparseToDense=function(e,r,s,h){var m=Oa(0,e,s);return this.scatter(e,r,s,m.outputSize,m.sliceSize,m.numUpdates,m.sliceRank,m.strides,h,!1)},o.prototype.gatherND=function(e,r){var s=r.shape,h=s[s.length-1],m=Aa(e,r),D=m[0],S=m[1],R=m[2],B=m[3];if(0===S)return Fr([],D,e.dtype);for(var $=new Pr([S,R],e.dtype),Q=r.dataSync(),ee=e.dataSync(),ue=0;ue<S;ue++){for(var ye=[],ge=0,xe=0;xe<h;xe++){var Be=Q[ue*h+xe];ge+=Be*B[xe],ye.push(Be)}if(ge<0||ge>=e.size/R)throw new Error("Invalid indices: "+ye+" does not index into "+e.shape);for(var $e=0;$e<R;$e++)$.values[ue*R+$e]=ee[ge*R+$e]}return $.toTensor().reshape(D)},o.prototype.scatterND=function(e,r,s){var h=Oa(0,e,s),m=h.sliceRank,D=h.numUpdates,S=h.sliceSize,R=h.strides,B=h.outputSize,$=Xt(0);return this.scatter(e,r,s,B,S,D,m,R,$,!0)},o.prototype.scatter=function(e,r,s,h,m,D,S,R,B,$){var Q=[h/m,m],ee=e.dataSync(),ue=r.dataSync();if(0===h)return Fr([],s,r.dtype);var ye=new Pr(Q,r.dtype);ye.values.fill(B.dataSync()[0]);for(var ge=0;ge<D;ge++){for(var xe=[],Be=0,$e=0;$e<S;$e++){var ot=ee[ge*S+$e];xe.push(ot),Be+=ot*R[$e]}if(Be<0||Be>=h/m)throw new Error("Invalid indices: "+xe+" does not index into "+s);for(var Nt=0;Nt<m;Nt++)$?ye.values[Be*m+Nt]+=ue[ge*m+Nt]:ye.values[Be*m+Nt]=0===r.rank?ue[0]:ue[ge*m+Nt]}return ye.toTensor().reshape(s)},o}();Re.registerBackend("cpu",function(){return new Gf},1,Ka);var My=typeof requestAnimationFrame<"u"?requestAnimationFrame:setImmediate;function ta(){return new Promise(function(o){return My(function(){return o()})})}var El={float32:4,int32:4,uint16:2,uint8:1,bool:1};function sh(o,e){for(var r={},s=0,h=function(S){var R=S.name,B=S.dtype,$=S.shape,Q=Pe($),ee=void 0;if("quantization"in S){var ue=S.quantization;if("uint8"!==ue.dtype&&"uint16"!==ue.dtype)throw new Error("Weight "+S.name+" has unknown quantization dtype "+ue.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var ye=El[ue.dtype],ge=o.slice(s,s+Q*ye),xe="uint8"===ue.dtype?new Uint8Array(ge):new Uint16Array(ge);if("float32"===B)ee=Float32Array.from(xe,function(ot){return ot*ue.scale+ue.min});else{if("int32"!==B)throw new Error("Unsupported dtype in weight '"+R+"': "+B);ee=Int32Array.from(xe,function(ot){return Math.round(ot*ue.scale+ue.min)})}s+=Q*ye}else{var Be=El[B];if(ge=o.slice(s,s+Q*Be),"float32"===B)ee=new Float32Array(ge);else if("int32"===B)ee=new Int32Array(ge);else{if("bool"!==B)throw new Error("Unsupported dtype in weight '"+R+"': "+B);ee=new Uint8Array(ge)}s+=Q*Be}var $e=void 0;if("float32"===B)$e=Fr(ee,$,"float32");else if("int32"===B)$e=Fr(ee,$,"int32");else{if("bool"!==B)throw new Error("Unsupported dtype in weight '"+R+"': "+B);$e=Fr(ee,$,"bool")}r[R]=$e},m=0,D=e;m<D.length;m++)h(D[m]);return r}function Wf(o){if(null===o)throw new Error("Invalid input value: "+JSON.stringify(o));var e=0,r=[];o.forEach(function(m){if(e+=m.byteLength,r.push(m.byteLength===m.buffer.byteLength?m:new m.constructor(m)),!(m instanceof Float32Array||m instanceof Int32Array||m instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+m.constructor.name)});var s=new Uint8Array(e),h=0;return r.forEach(function(m){s.set(new Uint8Array(m.buffer),h),h+=m.byteLength}),s.buffer}var Em=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function Zy(o){return Em?Buffer.byteLength(o):new Blob([o]).size}function qf(o){var e=0;o.forEach(function(h){e+=h.byteLength});var r=new Uint8Array(e),s=0;return o.forEach(function(h){r.set(new Uint8Array(h),s),s+=h.byteLength}),r.buffer}function xm(o){for(o=o.trim();o.endsWith("/");)o=o.slice(0,o.length-1);var e=o.split("/");return e[e.length-1]}function Ps(o){if(o.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==o.modelTopology?0:Zy(JSON.stringify(o.modelTopology)),weightSpecsBytes:null==o.weightSpecs?0:Zy(JSON.stringify(o.weightSpecs)),weightDataBytes:null==o.weightData?0:o.weightData.byteLength}}var nl=function(){function o(){this.saveRouters=[],this.loadRouters=[]}return o.getInstance=function(){return null==o.instance&&(o.instance=new o),o.instance},o.registerSaveRouter=function(e){o.getInstance().saveRouters.push(e)},o.registerLoadRouter=function(e){o.getInstance().loadRouters.push(e)},o.getSaveHandlers=function(e){return o.getHandlers(e,"save")},o.getLoadHandlers=function(e){return o.getHandlers(e,"load")},o.getHandlers=function(e,r){var s=[];return("load"===r?this.getInstance().loadRouters:this.getInstance().saveRouters).forEach(function(h){var m=h(e);null!==m&&s.push(m)}),s},o}(),lh="://",Ma=function(){function o(){this.managers={}}return o.getInstance=function(){return null==o.instance&&(o.instance=new o),o.instance},o.registerManager=function(e,r){se(null!=e,"scheme must not be undefined or null."),e.endsWith(lh)&&(e=e.slice(0,e.indexOf(lh))),se(e.length>0,"scheme must not be an empty string.");var s=o.getInstance();se(null==s.managers[e],"A model store manager is already registered for scheme '"+e+"'."),s.managers[e]=r},o.getManager=function(e){var r=this.getInstance().managers[e];if(null==r)throw new Error("Cannot find model manager for scheme '"+e+"'");return r},o.getSchemes=function(){return Object.keys(this.getInstance().managers)},o}();function ks(o){if(-1===o.indexOf(lh))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+Ma.getSchemes().join(","));return{scheme:o.split(lh)[0],path:o.split(lh)[1]}}function xl(o,e,r){return void 0===r&&(r=!1),I(this,void 0,void 0,function(){var s,h,m,D,S,R,B,$,Q;return H(this,function(ee){switch(ee.label){case 0:return se(o!==e,"Old path and new path are the same: '"+o+"'"),se((s=nl.getLoadHandlers(o)).length>0,"Copying failed because no load handler is found for source URL "+o+"."),se(s.length<2,"Copying failed because more than one ("+s.length+") load handlers for source URL "+o+"."),h=s[0],se((m=nl.getSaveHandlers(e)).length>0,"Copying failed because no save handler is found for destination URL "+e+"."),se(m.length<2,"Copying failed because more than one ("+s.length+") save handlers for destination URL "+e+"."),D=m[0],S=ks(o).scheme,R=ks(o).path,B=S===ks(o).scheme,[4,h.load()];case 1:return $=ee.sent(),r&&B?[4,Ma.getManager(S).removeModel(R)]:[3,3];case 2:ee.sent(),ee.label=3;case 3:return[4,D.save($)];case 4:return Q=ee.sent(),!r||B?[3,6]:[4,Ma.getManager(S).removeModel(R)];case 5:ee.sent(),ee.label=6;case 6:return[2,Q.modelArtifactsInfo]}})})}var Iy="tensorflowjs",vc="models_store",Sl="model_info_store";function Qy(){if(!Re.get("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var o=window,e=o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB||o.shimIndexedDB;if(null==e)throw new Error("The current browser does not appear to support IndexedDB.");return e}function Sm(o){var e=o.result;e.createObjectStore(vc,{keyPath:"modelPath"}),e.createObjectStore(Sl,{keyPath:"modelPath"})}var mp=function(){function o(e){if(this.indexedDB=Qy(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}return o.prototype.save=function(e){return I(this,void 0,void 0,function(){return H(this,function(r){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,e)]})})},o.prototype.load=function(){return I(this,void 0,void 0,function(){return H(this,function(e){return[2,this.databaseAction(this.modelPath)]})})},o.prototype.databaseAction=function(e,r){var s=this;return new Promise(function(h,m){var D=s.indexedDB.open(Iy,1);D.onupgradeneeded=function(){return Sm(D)},D.onsuccess=function(){var S=D.result;if(null==r){var R=S.transaction(vc,"readonly"),B=R.objectStore(vc).get(s.modelPath);B.onsuccess=function(){if(null==B.result)return S.close(),m(new Error("Cannot find model with path '"+s.modelPath+"' in IndexedDB."));h(B.result.modelArtifacts)},B.onerror=function(ge){return S.close(),m(B.error)},R.oncomplete=function(){return S.close()}}else{var $,Q=Ps(r),ee=S.transaction(Sl,"readwrite"),ue=ee.objectStore(Sl),ye=ue.put({modelPath:s.modelPath,modelArtifactsInfo:Q});ye.onsuccess=function(){var ge=($=S.transaction(vc,"readwrite")).objectStore(vc).put({modelPath:s.modelPath,modelArtifacts:r,modelArtifactsInfo:Q});ge.onsuccess=function(){return h({modelArtifactsInfo:Q})},ge.onerror=function(xe){var Be=(ue=ee.objectStore(Sl)).delete(s.modelPath);Be.onsuccess=function(){return S.close(),m(ge.error)},Be.onerror=function($e){return S.close(),m(ge.error)}}},ye.onerror=function(ge){return S.close(),m(ye.error)},ee.oncomplete=function(){null==$?S.close():$.oncomplete=function(){return S.close()}}}},D.onerror=function(S){return m(D.error)}})},o.URL_SCHEME="indexeddb://",o}(),Oy=function(o){return Re.get("IS_BROWSER")&&!Array.isArray(o)&&o.startsWith(mp.URL_SCHEME)?function Xy(o){return new mp(o)}(o.slice(mp.URL_SCHEME.length)):null};nl.registerSaveRouter(Oy),nl.registerLoadRouter(Oy);var kv=function(){function o(){this.indexedDB=Qy()}return o.prototype.listModels=function(){return I(this,void 0,void 0,function(){var e=this;return H(this,function(r){return[2,new Promise(function(s,h){var m=e.indexedDB.open(Iy,1);m.onupgradeneeded=function(){return Sm(m)},m.onsuccess=function(){var D=m.result,S=D.transaction(Sl,"readonly"),R=S.objectStore(Sl).getAll();R.onsuccess=function(){for(var B={},$=0,Q=R.result;$<Q.length;$++){var ee=Q[$];B[ee.modelPath]=ee.modelArtifactsInfo}s(B)},R.onerror=function(B){return D.close(),h(R.error)},S.oncomplete=function(){return D.close()}},m.onerror=function(D){return h(m.error)}})]})})},o.prototype.removeModel=function(e){return I(this,void 0,void 0,function(){var r=this;return H(this,function(s){return e=function Nm(o){return o.startsWith(mp.URL_SCHEME)?o.slice(mp.URL_SCHEME.length):o}(e),[2,new Promise(function(h,m){var D=r.indexedDB.open(Iy,1);D.onupgradeneeded=function(){return Sm(D)},D.onsuccess=function(){var S,R=D.result,B=R.transaction(Sl,"readwrite"),$=B.objectStore(Sl),Q=$.get(e);Q.onsuccess=function(){if(null==Q.result)return R.close(),m(new Error("Cannot find model with path '"+e+"' in IndexedDB."));var ee=$.delete(e),ue=function(){var ye=(S=R.transaction(vc,"readwrite")).objectStore(vc).delete(e);ye.onsuccess=function(){return h(Q.result.modelArtifactsInfo)},ye.onerror=function(ge){return m(Q.error)}};ee.onsuccess=ue,ee.onerror=function(ye){return ue(),R.close(),m(Q.error)}},Q.onerror=function(ee){return R.close(),m(Q.error)},B.oncomplete=function(){null==S?R.close():S.oncomplete=function(){return R.close()}}},D.onerror=function(S){return m(D.error)}})]})})},o}();if(Re.get("IS_BROWSER"))try{Ma.registerManager(mp.URL_SCHEME,new kv)}catch{}var _c="/",yp="tensorflowjs_models",Tm="info",Mm="model_topology",ev="weight_specs",tv="weight_data";function Py(o){return{info:[yp,o,Tm].join(_c),topology:[yp,o,Mm].join(_c),weightSpecs:[yp,o,ev].join(_c),weightData:[yp,o,tv].join(_c)}}function nv(o){var e=o.split(_c);if(e.length<3)throw new Error("Invalid key format: "+o);return e.slice(1,e.length-1).join(_c)}var uh=function(){function o(e){if(!Re.get("IS_BROWSER")||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=Py(this.modelPath)}return o.prototype.save=function(e){return I(this,void 0,void 0,function(){var r,s,h,m;return H(this,function(D){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");r=JSON.stringify(e.modelTopology),s=JSON.stringify(e.weightSpecs),h=Ps(e);try{return this.LS.setItem(this.keys.info,JSON.stringify(h)),this.LS.setItem(this.keys.topology,r),this.LS.setItem(this.keys.weightSpecs,s),this.LS.setItem(this.keys.weightData,function Yy(o){return Em?Buffer.from(o).toString("base64"):btoa(String.fromCharCode.apply(null,new Uint8Array(o)))}(e.weightData)),[2,{modelArtifactsInfo:h}]}catch{for(m in this.keys)this.LS.removeItem(this.keys[m]);throw new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+h.modelTopologyBytes+", weightSpecsBytes="+h.weightSpecsBytes+", weightDataBytes="+h.weightDataBytes+".")}return[2]})})},o.prototype.load=function(){return I(this,void 0,void 0,function(){var e,r,s,h,m;return H(this,function(D){if(null==(e=JSON.parse(this.LS.getItem(this.keys.info))))throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(r={},null==(s=JSON.parse(this.LS.getItem(this.keys.topology))))throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(r.modelTopology=s,null==(h=JSON.parse(this.LS.getItem(this.keys.weightSpecs))))throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(r.weightSpecs=h,null==(m=this.LS.getItem(this.keys.weightData)))throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return r.weightData=function L0(o){if(Em){var e=Buffer.from(o,"base64");return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}for(var r=atob(o),s=new Uint8Array(r.length),h=0;h<r.length;++h)s.set([r.charCodeAt(h)],h);return s.buffer}(m),[2,r]})})},o.URL_SCHEME="localstorage://",o}(),ky=function(o){return Re.get("IS_BROWSER")&&!Array.isArray(o)&&o.startsWith(uh.URL_SCHEME)?function iv(o){return new uh(o)}(o.slice(uh.URL_SCHEME.length)):null};nl.registerSaveRouter(ky),nl.registerLoadRouter(ky);var Rv=function(){function o(){se(Re.get("IS_BROWSER"),"Current environment is not a web browser"),se(void 0!==window.localStorage,"Current browser does not appear to support localStorage"),this.LS=window.localStorage}return o.prototype.listModels=function(){return I(this,void 0,void 0,function(){var e,r,s,h,m,D;return H(this,function(S){for(e={},r=yp+_c,s=_c+Tm,h=0;h<this.LS.length;++h)(m=this.LS.key(h)).startsWith(r)&&m.endsWith(s)&&(D=nv(m),e[D]=JSON.parse(this.LS.getItem(m)));return[2,e]})})},o.prototype.removeModel=function(e){return I(this,void 0,void 0,function(){var r,s;return H(this,function(h){if(e=function rv(o){return o.startsWith(uh.URL_SCHEME)?o.slice(uh.URL_SCHEME.length):o}(e),r=Py(e),null==this.LS.getItem(r.info))throw new Error("Cannot find model at path '"+e+"'");return s=JSON.parse(this.LS.getItem(r.info)),this.LS.removeItem(r.info),this.LS.removeItem(r.topology),this.LS.removeItem(r.weightSpecs),this.LS.removeItem(r.weightData),[2,s]})})},o}();if(Re.get("IS_BROWSER"))try{Ma.registerManager(uh.URL_SCHEME,new Rv)}catch{}var Fv="model",Lv=".json",ov=".weights.bin",Ry=function(){function o(e){if(!Re.get("IS_BROWSER"))throw new Error("triggerDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(o.URL_SCHEME)&&(e=e.slice(o.URL_SCHEME.length)),null!=e&&0!==e.length||(e=Fv),this.modelTopologyFileName=e+Lv,this.weightDataFileName=e+ov}return o.prototype.save=function(e){return I(this,void 0,void 0,function(){var r,m,D,S;return H(this,function(R){if(r=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"})),e.modelTopology instanceof ArrayBuffer)throw new Error("DownloadTrigger.save() does not support saving model topology in binary formats yet.");return m=window.URL.createObjectURL(new Blob([JSON.stringify({modelTopology:e.modelTopology,weightsManifest:[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}]})],{type:"application/json"})),(D=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,D.href=m,D.click(),null!=e.weightData&&((S=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,S.href=r,S.click()),[2,{modelArtifactsInfo:Ps(e)}]})})},o.URL_SCHEME="downloads://",o}(),Bv=function(){function o(e){if(null==e||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+e);this.files=e}return o.prototype.load=function(){return I(this,void 0,void 0,function(){var e,r,s=this;return H(this,function(h){return e=this.files[0],r=this.files.slice(1),[2,new Promise(function(m,D){var S=new FileReader;S.onload=function(R){var B=JSON.parse(R.target.result),$=B.modelTopology;if(null!=$){0===r.length&&m({modelTopology:$});var Q=B.weightsManifest;if(null!=Q){var ee;try{ee=s.checkManifestAndWeightFiles(Q,r)}catch(xe){return void D(xe)}var ue=[],ye=[],ge=[];Q.forEach(function(xe){xe.paths.forEach(function(Be){ye.push(Be),ge.push(null)}),ue.push.apply(ue,xe.weights)}),Q.forEach(function(xe){xe.paths.forEach(function(Be){var $e=new FileReader;$e.onload=function(ot){var Nt=ot.target.result,Ct=ye.indexOf(Be);ge[Ct]=Nt,-1===ge.indexOf(null)&&m({modelTopology:$,weightSpecs:ue,weightData:qf(ge)})},$e.onerror=function(ot){D("Failed to weights data from file of path '"+Be+"'.")},$e.readAsArrayBuffer(ee[Be])})})}else D(new Error("weightManifest field is missing from file "+e.name))}else D(new Error("modelTopology field is missing from file "+e.name))},S.onerror=function(R){D("Failed to read model topology and weights manifest JSON from file '"+e.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},S.readAsText(e)})]})})},o.prototype.checkManifestAndWeightFiles=function(e,r){for(var s=[],h=r.map(function(R){return xm(R.name)}),m={},D=0,S=e;D<S.length;D++)S[D].paths.forEach(function(R){var B=xm(R);if(-1!==s.indexOf(B))throw new Error("Duplicate file basename found in weights manifest: '"+B+"'");if(s.push(B),-1===h.indexOf(B))throw new Error("Weight file with basename '"+B+"' is not provided.");m[R]=r[h.indexOf(B)]});if(s.length!==r.length)throw new Error("Mismatch in the number of files in weights manifest ("+s.length+") and the number of weight files provided ("+r.length+").");return m},o}();function Fy(o,e){return I(this,void 0,void 0,function(){var r,s;return H(this,function(h){switch(h.label){case 0:return r=o.map(function(m){return fetch(m,e)}),[4,Promise.all(r)];case 1:return s=h.sent(),[4,Promise.all(s.map(function(m){return m.arrayBuffer()}))];case 2:return[2,h.sent()]}})})}nl.registerSaveRouter(function(o){return Re.get("IS_BROWSER")&&!Array.isArray(o)&&o.startsWith(Ry.URL_SCHEME)?function Uv(o){return void 0===o&&(o="model"),new Ry(o)}(o.slice(Ry.URL_SCHEME.length)):null});var av=function(){function o(e,r,s){if(this.weightPathPrefix=s,this.DEFAULT_METHOD="POST",typeof fetch>"u")throw new Error("browserHTTPRequest is not supported outside the web browser without a fetch polyfill.");if(se(null!=e&&e.length>0,"URL path for browserHTTPRequest must not be null, undefined or empty."),Array.isArray(e)&&se(2===e.length,"URL paths for browserHTTPRequest must have a length of 2, (actual length is "+e.length+")."),this.path=e,null!=r&&null!=r.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=r||{}}return o.prototype.save=function(e){return I(this,void 0,void 0,function(){var r,m;return H(this,function(D){switch(D.label){case 0:if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(r=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,r.body.append("model.json",new Blob([JSON.stringify({modelTopology:e.modelTopology,weightsManifest:[{paths:["./model.weights.bin"],weights:e.weightSpecs}]})],{type:"application/json"}),"model.json"),null!=e.weightData&&r.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,fetch(this.path,r)];case 1:if((m=D.sent()).ok)return[2,{modelArtifactsInfo:Ps(e),responses:[m]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+m.status+".")}})})},o.prototype.load=function(){return I(this,void 0,void 0,function(){return H(this,function(e){return[2,Array.isArray(this.path)?this.loadBinaryModel():this.loadJSONModel()]})})},o.prototype.loadBinaryTopology=function(){return I(this,void 0,void 0,function(){var e,r;return H(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,fetch(this.path[0],this.requestInit)];case 1:if(!(e=s.sent()).ok)throw new Error("BrowserHTTPRequest.load() failed due to HTTP response: "+e.statusText);return[4,e.arrayBuffer()];case 2:return[2,s.sent()];case 3:throw r=s.sent(),new Error(this.path[0]+" not found. "+r);case 4:return[2]}})})},o.prototype.loadBinaryModel=function(){return I(this,void 0,void 0,function(){var e,r,s,h,m,D,S,R;return H(this,function(B){switch(B.label){case 0:return e=this.loadBinaryTopology(),[4,fetch(this.path[1],this.requestInit)];case 1:if(!(r=B.sent()).ok)throw new Error("BrowserHTTPRequest.load() failed due to HTTP response: "+r.statusText);return[4,Promise.all([e,r])];case 2:return s=B.sent(),h=s[0],[4,s[1].json()];case 3:return null==(m=B.sent())?[3,5]:[4,this.loadWeights(m)];case 4:R=B.sent(),D=R[0],S=R[1],B.label=5;case 5:return[2,{modelTopology:h,weightSpecs:D,weightData:S}]}})})},o.prototype.loadJSONModel=function(){return I(this,void 0,void 0,function(){var e,r,s,h,m,D,R;return H(this,function(B){switch(B.label){case 0:return[4,fetch(this.path,this.requestInit)];case 1:if(!(e=B.sent()).ok)throw new Error("BrowserHTTPRequest.load() failed due to HTTP response: "+e.statusText);return[4,e.json()];case 2:if(r=B.sent(),h=r.weightsManifest,null==(s=r.modelTopology)&&null==h)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return null==h?[3,4]:[4,this.loadWeights(r.weightsManifest)];case 3:R=B.sent(),m=R[0],D=R[1],B.label=4;case 4:return[2,{modelTopology:s,weightSpecs:m,weightData:D}]}})})},o.prototype.loadWeights=function(e){return I(this,void 0,void 0,function(){var r,s,h,m,D,S,R,B,Q,ee,ue;return H(this,function(ye){switch(ye.label){case 0:for(r=Array.isArray(this.path)?this.path[1]:this.path,s=function Hv(o){var e=o.lastIndexOf("/"),r=o.lastIndexOf("?");return[o.substring(0,e)+"/",r>e?o.substring(r):""]}(r),h=s[0],m=s[1],D=this.weightPathPrefix||h,S=[],R=0,B=e;R<B.length;R++)S.push.apply(S,B[R].weights);return Q=[],e.forEach(function(ge){ge.paths.forEach(function(xe){Q.push(D+xe+m)})}),ee=[S],ue=qf,[4,Fy(Q,this.requestInit)];case 1:return[2,ee.concat([ue.apply(void 0,[ye.sent()])])]}})})},o.URL_SCHEME_REGEX=/^https?:\/\//,o}();function sv(o){return null!=o.match(av.URL_SCHEME_REGEX)}var lv=function(o){return typeof fetch>"u"?null:(Array.isArray(o)?o.every(function(e){return sv(e)}):sv(o))?uv(o):null};function uv(o,e,r){return new av(o,e,r)}nl.registerSaveRouter(lv),nl.registerLoadRouter(lv);var $v=function(){function o(e,r,s){this.modelTopology=e,this.weightSpecs=r,this.weightData=s}return o.prototype.load=function(){return I(this,void 0,void 0,function(){var e;return H(this,function(r){return e={},null!=this.modelTopology&&(e=t({modelTopology:this.modelTopology},e)),null!=this.weightSpecs&&this.weightSpecs.length>0&&(e=t({weightSpecs:this.weightSpecs},e)),null!=this.weightData&&this.weightData.byteLength>0&&(e=t({weightData:this.weightData},e)),[2,e]})})},o}(),Gv=function(){function o(e){this.saveHandler=e}return o.prototype.save=function(e){return I(this,void 0,void 0,function(){return H(this,function(r){return[2,this.saveHandler(e)]})})},o}(),mv=Object.freeze({browserFiles:function zv(o){return new Bv(o)},browserHTTPRequest:uv,concatenateArrayBuffers:qf,decodeWeights:sh,encodeWeights:function na(o){return I(this,void 0,void 0,function(){var e,r,s,h;return H(this,function(m){switch(m.label){case 0:for(s in e=[],r=[],o){if("float32"!==(h=o[s]).dtype&&"int32"!==h.dtype&&"bool"!==h.dtype)throw new Error("Unsupported dtype in weight '"+s+"': "+h.dtype);e.push({name:s,shape:h.shape,dtype:h.dtype}),r.push(h.data())}return[4,Promise.all(r)];case 1:return[2,{data:Wf(m.sent()),specs:e}]}})})},fromMemory:function cv(o,e,r){return new $v(o,e,r)},getLoadHandlers:nl.getLoadHandlers,getModelArtifactsInfoForJSON:Ps,getSaveHandlers:nl.getSaveHandlers,loadWeights:function jv(o,e,r,s){return void 0===e&&(e=""),I(this,void 0,void 0,function(){var h,m,D,S,R,B,$,Q,ee,ue;return H(this,function(ye){switch(ye.label){case 0:if(h=o.map(function(){return!1}),m={},D=null!=r?r.map(function(){return!1}):[],S=[],o.forEach(function(ge,xe){var Be=0;ge.weights.forEach(function($e){var Nt=El["quantization"in $e?$e.quantization.dtype:$e.dtype]*Pe($e.shape),Ct=function(){h[xe]=!0,null==m[xe]&&(m[xe]=[]),m[xe].push({manifestEntry:$e,groupOffset:Be,sizeBytes:Nt})};null!=r?r.forEach(function(Pt,Gt){Pt===$e.name&&(Ct(),D[Gt]=!0)}):Ct(),S.push($e.name),Be+=Nt})}),!D.every(function(ge){return ge}))throw R=r.filter(function(ge,xe){return!D[xe]}),new Error("Could not find weights in manifest with names: "+R.join(", ")+". \nManifest JSON has weights with names: "+S.join(", ")+".");return B=h.reduce(function(ge,xe,Be){return xe&&ge.push(Be),ge},[]),$=[],B.forEach(function(ge){o[ge].paths.forEach(function(xe){var Be=e+(e.endsWith("/")?"":"/")+xe;$.push(Be)})}),[4,Fy($,s)];case 1:return Q=ye.sent(),ee={},ue=0,B.forEach(function(ge){for(var xe=o[ge].paths.length,Be=0,$e=0;$e<xe;$e++)Be+=Q[ue+$e].byteLength;for(var ot=new ArrayBuffer(Be),Nt=new Uint8Array(ot),Ct=0,Pt=0;Pt<xe;Pt++){var Gt=new Uint8Array(Q[ue+Pt]);Nt.set(Gt,Ct),Ct+=Gt.byteLength}m[ge].forEach(function(sn){var fn=sh(ot.slice(sn.groupOffset,sn.groupOffset+sn.sizeBytes),[sn.manifestEntry]);for(var Dn in fn)ee[Dn]=fn[Dn]}),ue+=xe}),[2,ee]}})})},registerLoadRouter:nl.registerLoadRouter,registerSaveRouter:nl.registerSaveRouter,withSaveHandler:function dv(o){return new Gv(o)},copyModel:function Ov(o,e){return I(this,void 0,void 0,function(){return H(this,function(r){switch(r.label){case 0:return[4,xl(o,e,!1)];case 1:return[2,r.sent()]}})})},listModels:function Ky(){return I(this,void 0,void 0,function(){var o,e,r,s,h,m,D;return H(this,function(S){switch(S.label){case 0:o=Ma.getSchemes(),e={},r=0,s=o,S.label=1;case 1:return r<s.length?[4,Ma.getManager(h=s[r]).listModels()]:[3,4];case 2:for(D in m=S.sent())e[h+lh+D]=m[D];S.label=3;case 3:return r++,[3,1];case 4:return[2,e]}})})},moveModel:function Pv(o,e){return I(this,void 0,void 0,function(){return H(this,function(r){switch(r.label){case 0:return[4,xl(o,e,!0)];case 1:return[2,r.sent()]}})})},removeModel:function Jy(o){return I(this,void 0,void 0,function(){var e;return H(this,function(r){switch(r.label){case 0:return e=ks(o),[4,Ma.getManager(e.scheme).removeModel(e.path)];case 1:return[2,r.sent()]}})})}}),vv=Ue({confusionMatrix_:function yv(o,e,r){var s=Me(o,"label","confusionMatrix","int32"),h=Me(e,"label","confusionMatrix","int32");se(null==r||r>0&&Number.isInteger(r),"If provided, numClasses must be a positive integer, but got "+r),se(1===s.rank,"Expected the rank of labels to be 1, but got "+s.rank),se(1===h.rank,"Expected the rank of predictions to be 1, but got "+h.rank),se(s.shape[0]===h.shape[0],"Mismatch in the number of examples: "+s.shape[0]+" vs. "+h.shape[0]+". Labels and predictions should have the same number of elements."),se(r>0&&Number.isInteger(r),"numClasses is required to be a positive integer, but got "+r);var m=Di(s.asType("int32"),r),D=Di(h.asType("int32"),r);return m.transpose().matMul(D).asType("int32")}}),Ly=Object.freeze({confusionMatrix:vv}),By=function(){function o(){}return o.prototype.getClassName=function(){return this.constructor.className},o.fromConfig=function(e,r){return new e(r)},o}(),sd=function(){function o(){this.classNameMap={}}return o.getMap=function(){return null==o.instance&&(o.instance=new o),o.instance},o.register=function(e){o.getMap().classNameMap[e.className]=[e,e.fromConfig]},o}();function ld(o){se(null!=o.className,"Class being registered does not have the static className property defined."),se("string"==typeof o.className,"className is required to be a string, but got type "+typeof o.className),se(o.className.length>0,"Class being registered has an empty-string as its className, which is disallowed."),sd.register(o)}var Wv=Object.freeze({Serializable:By,SerializationMap:sd,registerClass:ld});function Hn(o,e,r){if(null==r&&(r=Re.get("TEST_EPSILON")),o instanceof Mt||e instanceof Mt){if(o instanceof Mt&&e instanceof Mt){if(o.dtype!==e.dtype)throw new Error("Arrays are of different type actual: "+o.dtype+" vs expected: "+e.dtype+".");if(!Ye(o.shape,e.shape))throw new Error("Arrays are of different shape actual: "+o.shape+" vs expected: "+e.shape+".")}}else{var s=o.constructor.name,h=e.constructor.name;if(s!==h)throw new Error("Arrays are of different type actual: "+s+" vs expected: "+h)}var m,D;if(m=o instanceof Mt?o.dataSync():o,D=e instanceof Mt?e.dataSync():e,m.length!==D.length)throw new Error("Arrays have different lengths actual: "+m.length+" vs expected: "+D.length+".\nActual:   "+m+".\nExpected: "+D+".");for(var S=0;S<D.length;++S){var R=m[S],B=D[S];if(!ch(R,Number(B),r))throw new Error("Arrays differ: actual["+S+"] = "+R+", expected["+S+"] = "+B+".\nActual:   "+m+".\nExpected: "+D+".")}}function ch(o,e,r){return!(!isNaN(o)||!isNaN(e))||!(isNaN(o)||isNaN(e)||Math.abs(o-e)>r)}var Am=Object.freeze({WEBGL_ENVS:{HAS_WEBGL:!0},NODE_ENVS:{IS_NODE:!0},CHROME_ENVS:{IS_CHROME:!0},BROWSER_ENVS:{IS_BROWSER:!0},CPU_ENVS:{HAS_WEBGL:!1},BROWSER_CPU_ENVS:{BACKEND:"test-cpu"},ALL_ENVS:{},expectArraysClose:Hn,expectPromiseToFail:function qv(o,e){o().then(function(){return e.fail()},function(){return e()})},expectArraysEqual:function Zv(o,e){return Hn(o,e,0)},expectNumbersClose:function Yv(o,e,r){if(null==r&&(r=Re.get("TEST_EPSILON")),!ch(o,e,r))throw new Error("Numbers differ: actual === "+o+", expected === "+e)},expectValuesInRange:function Kv(o,e,r){var s;s=o instanceof Mt?o.dataSync():o;for(var h=0;h<s.length;h++)if(s[h]<e||s[h]>r)throw new Error("Value out of range:"+s[h]+" low: "+e+", high: "+r)},expectArrayBuffersEqual:function Im(o,e){expect(new Float32Array(o)).toEqual(new Float32Array(e))}}),mo="0.13.11",z0=Object.freeze({gpgpu_util:Ep,webgl_util:vn,MathBackendWebGL:kh,GPGPUContext:xp}),ud=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return N(e,o),e.prototype.minimize=function(r,s,h){void 0===s&&(s=!1);var m=this.computeGradients(r,h),D=m.value,S=m.grads;return this.applyGradients(S),Object.keys(S).forEach(function(R){return S[R].dispose()}),s?D:(D.dispose(),null)},e.prototype.computeGradients=function(r,s){return Qa(r,s)},e}(By),Om=function(o){function e(r,s,h){void 0===h&&(h=null);var m=o.call(this)||this;return m.learningRate=r,m.rho=s,m.epsilon=h,m.accumulatedGrads={},m.accumulatedUpdates={},m.c=Ln(Xt(-r)),m.rhoScalar=Ln(Xt(s)),m.oneMinusRho=Ln(Xt(1-s)),null===h&&(h=Re.get("EPSILON")),m.epsilonScalar=Ln(Xt(h)),m}return N(e,o),e.prototype.applyGradients=function(r){var s=this,h=function(S){var R=Re.engine.registeredVariables[S];null==m.accumulatedGrads[S]&&Yn(function(){s.accumulatedGrads[S]=Nr(R).variable(!1)}),null==m.accumulatedUpdates[S]&&Yn(function(){s.accumulatedUpdates[S]=Nr(R).variable(!1)});var B=r[S],$=m.accumulatedGrads[S],Q=m.accumulatedUpdates[S];Yn(function(){var ee=s.rhoScalar.mul($).add(s.oneMinusRho.mul(B.square())),ue=Q.add(s.epsilonScalar).sqrt().div($.add(s.epsilonScalar).sqrt()).mul(B),ye=s.rhoScalar.mul(Q).add(s.oneMinusRho.mul(ue.square()));s.accumulatedGrads[S].assign(ee),s.accumulatedUpdates[S].assign(ye);var ge=s.c.mul(ue).add(R);R.assign(ge)})},m=this;for(var D in r)h(D)},e.prototype.dispose=function(){var r=this;this.c.dispose(),this.epsilonScalar.dispose(),this.rhoScalar.dispose(),this.oneMinusRho.dispose(),null!=this.accumulatedUpdates&&(Object.keys(this.accumulatedUpdates).forEach(function(s){return r.accumulatedUpdates[s].dispose()}),Object.keys(this.accumulatedGrads).forEach(function(s){return r.accumulatedGrads[s].dispose()}))},e.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},e.fromConfig=function(r,s){return new r(s.learningRate,s.rho,s.epsilon)},e.className="AdadeltaOptimizer",e}(ud);ld(Om);var Uy=function(o){function e(r,s){void 0===s&&(s=.1);var h=o.call(this)||this;return h.learningRate=r,h.initialAccumulatorValue=s,h.accumulatedGrads={},h.c=Ln(Xt(-r)),h.epsilon=Ln(Xt(Re.get("EPSILON"))),h}return N(e,o),e.prototype.applyGradients=function(r){var s=this,h=function(S){var R=Re.engine.registeredVariables[S];null==m.accumulatedGrads[S]&&Yn(function(){s.accumulatedGrads[S]=Fa(R.shape,s.initialAccumulatorValue).variable(!1)});var B=r[S],$=m.accumulatedGrads[S];Yn(function(){var Q=$.add(B.square());s.accumulatedGrads[S].assign(Q);var ee=s.c.mul(B.div(Q.add(s.epsilon).sqrt())).add(R);R.assign(ee)})},m=this;for(var D in r)h(D)},e.prototype.dispose=function(){var r=this;this.epsilon.dispose(),this.c.dispose(),null!=this.accumulatedGrads&&Object.keys(this.accumulatedGrads).forEach(function(s){return r.accumulatedGrads[s].dispose()})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},e.fromConfig=function(r,s){return new r(s.learningRate,s.initialAccumulatorValue)},e.className="AdagradOptimizer",e}(ud);ld(Uy);var Pm=function(o){function e(r,s,h,m){void 0===m&&(m=null);var D=o.call(this)||this;return D.learningRate=r,D.beta1=s,D.beta2=h,D.epsilon=m,D.accumulatedFirstMoment={},D.accumulatedSecondMoment={},D.c=Ln(Xt(-r)),D.beta1Scalar=Ln(Xt(s)),D.beta2Scalar=Ln(Xt(h)),Yn(function(){D.accBeta1=Xt(s).variable(),D.accBeta2=Xt(h).variable()}),D.oneMinusBeta1=Ln(Xt(1-s)),D.oneMinusBeta2=Ln(Xt(1-h)),D.one=Ln(Xt(1)),null===m&&(m=Re.get("EPSILON")),D.epsScalar=Ln(Xt(m)),D}return N(e,o),e.prototype.applyGradients=function(r){var s=this;Yn(function(){var h=s.one.sub(s.accBeta1),m=s.one.sub(s.accBeta2);for(var D in r){var S=Re.engine.registeredVariables[D];if(null==s.accumulatedFirstMoment[D]){var R=!1;s.accumulatedFirstMoment[D]=Nr(S).variable(R)}null==s.accumulatedSecondMoment[D]&&(R=!1,s.accumulatedSecondMoment[D]=Nr(S).variable(R));var B=r[D],Q=s.accumulatedSecondMoment[D],ee=s.beta1Scalar.mul(s.accumulatedFirstMoment[D]).add(s.oneMinusBeta1.mul(B)),ue=s.beta2Scalar.mul(Q).add(s.oneMinusBeta2.mul(B.square())),ye=ee.div(h),ge=ue.div(m);s.accumulatedFirstMoment[D].assign(ee),s.accumulatedSecondMoment[D].assign(ue);var xe=s.c.mul(ye.div(s.epsScalar.add(ge.sqrt()))).add(S);S.assign(xe)}s.accBeta1.assign(s.accBeta1.mul(s.beta1Scalar)),s.accBeta2.assign(s.accBeta2.mul(s.beta2Scalar))})},e.prototype.dispose=function(){var r=this;this.c.dispose(),this.epsScalar.dispose(),this.beta1Scalar.dispose(),this.beta2Scalar.dispose(),this.accBeta1.dispose(),this.accBeta2.dispose(),this.oneMinusBeta1.dispose(),this.oneMinusBeta2.dispose(),this.one.dispose(),null!=this.accumulatedFirstMoment&&Object.keys(this.accumulatedFirstMoment).forEach(function(s){return r.accumulatedFirstMoment[s].dispose()}),null!=this.accumulatedSecondMoment&&Object.keys(this.accumulatedSecondMoment).forEach(function(s){return r.accumulatedSecondMoment[s].dispose()})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},e.fromConfig=function(r,s){return new r(s.learningRate,s.beta1,s.beta2,s.epsilon)},e.className="AdamOptimizer",e}(ud);ld(Pm);var km=function(o){function e(r,s,h,m,D){void 0===m&&(m=null),void 0===D&&(D=0);var S=o.call(this)||this;return S.learningRate=r,S.beta1=s,S.beta2=h,S.epsilon=m,S.decay=D,S.accumulatedFirstMoment={},S.accumulatedWeightedInfNorm={},S.c=Ln(Xt(-r)),S.beta1Scalar=Ln(Xt(s)),S.beta2Scalar=Ln(Xt(h)),S.decayScalar=Ln(Xt(D)),Yn(function(){S.iteration=Xt(0).variable(),S.accBeta1=Xt(s).variable()}),S.oneMinusBeta1=Ln(Xt(1-s)),S.one=Ln(Xt(1)),null===m&&(m=Re.get("EPSILON")),S.epsScalar=Ln(Xt(m)),S}return N(e,o),e.prototype.applyGradients=function(r){var s=this;Yn(function(){var h=s.one.sub(s.accBeta1),m=s.c.div(s.one.add(s.decayScalar.mul(s.iteration)));for(var D in r){var S=Re.engine.registeredVariables[D];if(null==s.accumulatedFirstMoment[D]){var R=!1;s.accumulatedFirstMoment[D]=Nr(S).variable(R)}null==s.accumulatedWeightedInfNorm[D]&&(R=!1,s.accumulatedWeightedInfNorm[D]=Nr(S).variable(R));var B=r[D],Q=s.accumulatedWeightedInfNorm[D],ee=s.beta1Scalar.mul(s.accumulatedFirstMoment[D]).add(s.oneMinusBeta1.mul(B)),ue=s.beta2Scalar.mul(Q),ye=B.abs(),ge=ue.maximum(ye);s.accumulatedFirstMoment[D].assign(ee),s.accumulatedWeightedInfNorm[D].assign(ge);var xe=m.div(h).mul(ee.div(s.epsScalar.add(ge))).add(S);S.assign(xe)}s.iteration.assign(s.iteration.add(s.one)),s.accBeta1.assign(s.accBeta1.mul(s.beta1Scalar))})},e.prototype.dispose=function(){var r=this;this.c.dispose(),this.epsScalar.dispose(),this.accBeta1.dispose(),this.beta1Scalar.dispose(),this.beta2Scalar.dispose(),this.oneMinusBeta1.dispose(),this.decayScalar.dispose(),this.iteration.dispose(),this.one.dispose(),null!=this.accumulatedFirstMoment&&Object.keys(this.accumulatedFirstMoment).forEach(function(s){return r.accumulatedFirstMoment[s].dispose()}),null!=this.accumulatedWeightedInfNorm&&Object.keys(this.accumulatedWeightedInfNorm).forEach(function(s){return r.accumulatedWeightedInfNorm[s].dispose()})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},e.fromConfig=function(r,s){return new r(s.learningRate,s.beta1,s.beta2,s.epsilon,s.decay)},e.className="AdamaxOptimizer",e}(ud);ld(km);var Zf=function(o){function e(r){var s=o.call(this)||this;return s.learningRate=r,s.setLearningRate(r),s}return N(e,o),e.prototype.applyGradients=function(r){var s=this;Object.keys(r).forEach(function(h){var m=r[h],D=Re.engine.registeredVariables[h];Yn(function(){var S=s.c.mul(m).add(D);D.assign(S)})})},e.prototype.setLearningRate=function(r){this.learningRate=r,null!=this.c&&this.c.dispose(),this.c=Ln(Xt(-r))},e.prototype.dispose=function(){this.c.dispose()},e.prototype.getConfig=function(){return{learningRate:this.learningRate}},e.fromConfig=function(r,s){return new r(s.learningRate)},e.className="SGDOptimizer",e}(ud);ld(Zf);var Rm=function(o){function e(r,s,h){void 0===h&&(h=!1);var m=o.call(this,r)||this;return m.learningRate=r,m.momentum=s,m.useNesterov=h,m.m=Xt(m.momentum),m.accumulations={},m}return N(e,o),e.prototype.applyGradients=function(r){var s=this,h=function(S){var R=Re.engine.registeredVariables[S];null==m.accumulations[S]&&Yn(function(){s.accumulations[S]=Nr(R).variable(!1)});var B=m.accumulations[S],$=r[S];Yn(function(){var Q,ee=s.m.mul(B).add($);Q=s.useNesterov?s.c.mul($.add(ee.mul(s.m))).add(R):s.c.mul(ee).add(R),s.accumulations[S].assign(ee),R.assign(Q)})},m=this;for(var D in r)h(D)},e.prototype.dispose=function(){if(o.prototype.dispose.call(this),this.m.dispose(),null!=this.accumulations)for(var r in this.accumulations)this.accumulations[r].dispose()},e.prototype.setMomentum=function(r){this.momentum=r},e.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},e.fromConfig=function(r,s){return new r(s.learningRate,s.momentum,s.useNesterov)},e.className="MomentumOptimizer",e}(Zf);ld(Rm);var zy=function(o){function e(r,s,h,m,D){void 0===s&&(s=.9),void 0===h&&(h=0),void 0===m&&(m=null),void 0===D&&(D=!1);var S=o.call(this)||this;return S.learningRate=r,S.decay=s,S.momentum=h,S.epsilon=m,S.accumulatedMeanSquares={},S.accumulatedMeanGrads={},S.accumulatedMoments={},S.c=Ln(Xt(r)),S.decayScalar=Ln(Xt(s)),S.momentumScalar=Ln(Xt(h)),S.oneMinusDecay=Ln(Xt(1-s)),S.centered=D,null===m&&(m=Re.get("EPSILON")),S.epsilonScalar=Ln(Xt(m)),S}return N(e,o),e.prototype.applyGradients=function(r){var s=this,h=function(S){var R=Re.engine.registeredVariables[S];null==m.accumulatedMeanSquares[S]&&Yn(function(){s.accumulatedMeanSquares[S]=Nr(R).variable(!1)}),null==m.accumulatedMeanGrads[S]&&m.centered&&Yn(function(){s.accumulatedMeanGrads[S]=Nr(R).variable(!1)}),null==m.accumulatedMoments[S]&&Yn(function(){s.accumulatedMoments[S]=Nr(R).variable(!1)});var B=m.accumulatedMeanSquares[S],$=m.accumulatedMeanGrads[S],Q=m.accumulatedMoments[S],ee=r[S];Yn(function(){var ue=s.decayScalar.mul(B).add(s.oneMinusDecay.mul(ee.square()));if(s.centered){var ye=s.decayScalar.mul($).add(s.oneMinusDecay.mul(ee)),ge=s.momentumScalar.mul(Q).add(s.c.mul(ee).div(ue.sub(ye.square().add(s.epsilonScalar)).sqrt()));s.accumulatedMeanSquares[S].assign(ue),s.accumulatedMeanGrads[S].assign(ye),s.accumulatedMoments[S].assign(ge);var xe=R.sub(ge);R.assign(xe)}else{var Be=s.decayScalar.mul(B).add(s.oneMinusDecay.mul(ee.square()));ge=s.momentumScalar.mul(Q).add(s.c.mul(ee).div(Be.add(s.epsilonScalar).sqrt())),s.accumulatedMeanSquares[S].assign(Be),s.accumulatedMoments[S].assign(ge),xe=R.sub(ge),R.assign(xe)}})},m=this;for(var D in r)h(D)},e.prototype.dispose=function(){var r=this;this.c.dispose(),this.epsilonScalar.dispose(),this.decayScalar.dispose(),this.momentumScalar.dispose(),this.oneMinusDecay.dispose(),null!=this.accumulatedMeanSquares&&Object.keys(this.accumulatedMeanSquares).forEach(function(s){return r.accumulatedMeanSquares[s].dispose()}),null!=this.accumulatedMeanGrads&&this.centered&&Object.keys(this.accumulatedMeanGrads).forEach(function(s){return r.accumulatedMeanGrads[s].dispose()}),null!=this.accumulatedMoments&&Object.keys(this.accumulatedMoments).forEach(function(s){return r.accumulatedMoments[s].dispose()})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},e.fromConfig=function(r,s){return new r(s.learningRate,s.decay,s.momentum,s.epsilon,s.centered)},e.className="RMSPropOptimizer",e}(ud);ld(zy);var dh=function(){function o(){}return o.sgd=function(e){return new Zf(e)},o.momentum=function(e,r,s){return void 0===s&&(s=!1),new Rm(e,r,s)},o.rmsprop=function(e,r,s,h,m){return void 0===r&&(r=.9),void 0===s&&(s=0),void 0===h&&(h=null),void 0===m&&(m=!1),new zy(e,r,s,h,m)},o.adam=function(e,r,s,h){return void 0===e&&(e=.001),void 0===r&&(r=.9),void 0===s&&(s=.999),void 0===h&&(h=null),new Pm(e,r,s,h)},o.adadelta=function(e,r,s){return void 0===e&&(e=.001),void 0===r&&(r=.95),void 0===s&&(s=null),new Om(e,r,s)},o.adamax=function(e,r,s,h,m){return void 0===e&&(e=.002),void 0===r&&(r=.9),void 0===s&&(s=.999),void 0===h&&(h=null),void 0===m&&(m=0),new km(e,r,s,h,m)},o.adagrad=function(e,r){return void 0===r&&(r=.1),new Uy(e,r)},o}(),Jv={sgd:dh.sgd,momentum:dh.momentum,adadelta:dh.adadelta,adagrad:dh.adagrad,rmsprop:dh.rmsprop,adamax:dh.adamax,adam:dh.adam},Yf=on.setBackend,Qv=on.getBackend,Xv=on.disposeVariables,e0=on.memory;!function zn(o){bt=o}(Wi)},7123:function(k){k.exports=function(A){function E(N){if(w[N])return w[N].exports;var t=w[N]={exports:{},id:N,loaded:!1};return A[N].call(t.exports,t,t.exports,E),t.loaded=!0,t.exports}var w={};return E.m=A,E.c=w,E.p="dist/",E(0)}([function(A,E,w){"use strict";function N(pt){return pt&&pt.__esModule?pt:{default:pt}}var t=Object.assign||function(pt){for(var Ne=1;Ne<arguments.length;Ne++){var Le=arguments[Ne];for(var cn in Le)Object.prototype.hasOwnProperty.call(Le,cn)&&(pt[cn]=Le[cn])}return pt},H=(N(w(1)),w(6)),z=N(H),ce=N(w(7)),M=N(w(8)),we=N(w(9)),De=N(w(10)),je=N(w(11)),at=N(w(14)),mt=[],Dt=!1,Pe={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},Ee=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(Dt=!0),Dt)return mt=(0,je.default)(mt,Pe),(0,De.default)(mt,Pe.once),mt},Ye=function(){mt=(0,at.default)(),Ee()};A.exports={init:function(pt){Pe=t(Pe,pt),mt=(0,at.default)();var Ne=document.all&&!window.atob;return function(pt){return!0===pt||"mobile"===pt&&we.default.mobile()||"phone"===pt&&we.default.phone()||"tablet"===pt&&we.default.tablet()||"function"==typeof pt&&!0===pt()}(Pe.disable)||Ne?void mt.forEach(function(pt,Ne){pt.node.removeAttribute("data-aos"),pt.node.removeAttribute("data-aos-easing"),pt.node.removeAttribute("data-aos-duration"),pt.node.removeAttribute("data-aos-delay")}):(Pe.disableMutationObserver||M.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),Pe.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",Pe.easing),document.querySelector("body").setAttribute("data-aos-duration",Pe.duration),document.querySelector("body").setAttribute("data-aos-delay",Pe.delay),"DOMContentLoaded"===Pe.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?Ee(!0):"load"===Pe.startEvent?window.addEventListener(Pe.startEvent,function(){Ee(!0)}):document.addEventListener(Pe.startEvent,function(){Ee(!0)}),window.addEventListener("resize",(0,ce.default)(Ee,Pe.debounceDelay,!0)),window.addEventListener("orientationchange",(0,ce.default)(Ee,Pe.debounceDelay,!0)),window.addEventListener("scroll",(0,z.default)(function(){(0,De.default)(mt,Pe.once)},Pe.throttleDelay)),Pe.disableMutationObserver||M.default.ready("[data-aos]",Ye),mt)},refresh:Ee,refreshHard:Ye}},function(A,E){},,,,,function(A,E){(function(w){"use strict";function N(ze,xt,pt){function Ne(et){var It=At,Ut=Wt;return At=Wt=void 0,yn=et,An=ze.apply(Ut,It)}function ct(et){var It=et-Qt;return void 0===Qt||It>=xt||It<0||Vt&&et-yn>=zt}function qe(){var et=Qe();return ct(et)?it(et):void(en=setTimeout(qe,function cn(et){var rn=xt-(et-Qt);return Vt?Ye(rn,zt-(et-yn)):rn}(et)))}function it(et){return en=void 0,Te&&At?Ne(et):(At=Wt=void 0,An)}function wt(){var et=Qe(),It=ct(et);if(At=arguments,Wt=this,Qt=et,It){if(void 0===en)return function Le(et){return yn=et,en=setTimeout(qe,xt),_t?Ne(et):An}(Qt);if(Vt)return en=setTimeout(qe,xt),Ne(Qt)}return void 0===en&&(en=setTimeout(qe,xt)),An}var At,Wt,zt,An,en,Qt,yn=0,_t=!1,Vt=!1,Te=!0;if("function"!=typeof ze)throw new TypeError(Oe);return xt=re(xt)||0,I(pt)&&(_t=!!pt.leading,zt=(Vt="maxWait"in pt)?Ee(re(pt.maxWait)||0,xt):zt,Te="trailing"in pt?!!pt.trailing:Te),wt.cancel=function st(){void 0!==en&&clearTimeout(en),yn=0,At=Qt=Wt=en=void 0},wt.flush=function nt(){return void 0===en?An:it(Qe())},wt}function I(ze){var xt=typeof ze>"u"?"undefined":ce(ze);return!!ze&&("object"==xt||"function"==xt)}function z(ze){return"symbol"==(typeof ze>"u"?"undefined":ce(ze))||function H(ze){return!!ze&&"object"==(typeof ze>"u"?"undefined":ce(ze))}(ze)&&Pe.call(ze)==Fe}function re(ze){if("number"==typeof ze)return ze;if(z(ze))return M;if(I(ze)){var xt="function"==typeof ze.valueOf?ze.valueOf():ze;ze=I(xt)?xt+"":xt}if("string"!=typeof ze)return 0===ze?ze:+ze;ze=ze.replace(we,"");var pt=De.test(ze);return pt||Ae.test(ze)?je(ze.slice(2),pt?2:8):Tt.test(ze)?M:+ze}var ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ze){return typeof ze}:function(ze){return ze&&"function"==typeof Symbol&&ze.constructor===Symbol&&ze!==Symbol.prototype?"symbol":typeof ze},Oe="Expected a function",M=NaN,Fe="[object Symbol]",we=/^\s+|\s+$/g,Tt=/^[-+]0x[0-9a-f]+$/i,De=/^0b[01]+$/i,Ae=/^0o[0-7]+$/i,je=parseInt,se="object"==(typeof w>"u"?"undefined":ce(w))&&w&&w.Object===Object&&w,at="object"==(typeof self>"u"?"undefined":ce(self))&&self&&self.Object===Object&&self,mt=se||at||Function("return this")(),Pe=Object.prototype.toString,Ee=Math.max,Ye=Math.min,Qe=function(){return mt.Date.now()};A.exports=function t(ze,xt,pt){var Ne=!0,Le=!0;if("function"!=typeof ze)throw new TypeError(Oe);return I(pt)&&(Ne="leading"in pt?!!pt.leading:Ne,Le="trailing"in pt?!!pt.trailing:Le),N(ze,xt,{leading:Ne,maxWait:xt,trailing:Le})}}).call(E,function(){return this}())},function(A,E){(function(w){"use strict";function t(Qe){var ze=typeof Qe>"u"?"undefined":re(Qe);return!!Qe&&("object"==ze||"function"==ze)}function H(Qe){return"symbol"==(typeof Qe>"u"?"undefined":re(Qe))||function I(Qe){return!!Qe&&"object"==(typeof Qe>"u"?"undefined":re(Qe))}(Qe)&&Dt.call(Qe)==M}function z(Qe){if("number"==typeof Qe)return Qe;if(H(Qe))return Oe;if(t(Qe)){var ze="function"==typeof Qe.valueOf?Qe.valueOf():Qe;Qe=t(ze)?ze+"":ze}if("string"!=typeof Qe)return 0===Qe?Qe:+Qe;Qe=Qe.replace(Fe,"");var xt=Tt.test(Qe);return xt||De.test(Qe)?Ae(Qe.slice(2),xt?2:8):we.test(Qe)?Oe:+Qe}var re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Qe){return typeof Qe}:function(Qe){return Qe&&"function"==typeof Symbol&&Qe.constructor===Symbol&&Qe!==Symbol.prototype?"symbol":typeof Qe},ce="Expected a function",Oe=NaN,M="[object Symbol]",Fe=/^\s+|\s+$/g,we=/^[-+]0x[0-9a-f]+$/i,Tt=/^0b[01]+$/i,De=/^0o[0-7]+$/i,Ae=parseInt,je="object"==(typeof w>"u"?"undefined":re(w))&&w&&w.Object===Object&&w,se="object"==(typeof self>"u"?"undefined":re(self))&&self&&self.Object===Object&&self,at=je||se||Function("return this")(),Dt=Object.prototype.toString,Pe=Math.max,Ee=Math.min,Ye=function(){return at.Date.now()};A.exports=function N(Qe,ze,xt){function pt(Te){var et=wt,It=At;return wt=At=void 0,Qt=Te,zt=Qe.apply(It,et)}function cn(Te){var et=Te-en;return void 0===en||et>=ze||et<0||_t&&Te-Qt>=Wt}function ct(){var Te=Ye();return cn(Te)?qe(Te):void(An=setTimeout(ct,function Le(Te){var Ut=ze-(Te-en);return _t?Ee(Ut,Wt-(Te-Qt)):Ut}(Te)))}function qe(Te){return An=void 0,Vt&&wt?pt(Te):(wt=At=void 0,zt)}function nt(){var Te=Ye(),et=cn(Te);if(wt=arguments,At=this,en=Te,et){if(void 0===An)return function Ne(Te){return Qt=Te,An=setTimeout(ct,ze),yn?pt(Te):zt}(en);if(_t)return An=setTimeout(ct,ze),pt(en)}return void 0===An&&(An=setTimeout(ct,ze)),zt}var wt,At,Wt,zt,An,en,Qt=0,yn=!1,_t=!1,Vt=!0;if("function"!=typeof Qe)throw new TypeError(ce);return ze=z(ze)||0,t(xt)&&(yn=!!xt.leading,Wt=(_t="maxWait"in xt)?Pe(z(xt.maxWait)||0,ze):Wt,Vt="trailing"in xt?!!xt.trailing:Vt),nt.cancel=function it(){void 0!==An&&clearTimeout(An),Qt=0,wt=en=At=An=void 0},nt.flush=function st(){return void 0===An?zt:qe(Ye())},nt}}).call(E,function(){return this}())},function(A,E){"use strict";function w(re){var ce=void 0,Oe=void 0;for(ce=0;ce<re.length;ce+=1)if((Oe=re[ce]).dataset&&Oe.dataset.aos||Oe.children&&w(Oe.children))return!0;return!1}function N(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function H(re){re&&re.forEach(function(ce){var Oe=Array.prototype.slice.call(ce.addedNodes),M=Array.prototype.slice.call(ce.removedNodes);if(w(Oe.concat(M)))return z()})}Object.defineProperty(E,"__esModule",{value:!0});var z=function(){};E.default={isSupported:function t(){return!!N()},ready:function I(re,ce){var Oe=window.document,Fe=new(N())(H);z=ce,Fe.observe(Oe.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}}},function(A,E){"use strict";function N(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(E,"__esModule",{value:!0});var t=function(){function Oe(M,Fe){for(var we=0;we<Fe.length;we++){var Tt=Fe[we];Tt.enumerable=Tt.enumerable||!1,Tt.configurable=!0,"value"in Tt&&(Tt.writable=!0),Object.defineProperty(M,Tt.key,Tt)}}return function(M,Fe,we){return Fe&&Oe(M.prototype,Fe),we&&Oe(M,we),M}}(),I=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,H=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,z=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,re=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,ce=function(){function Oe(){!function w(Oe,M){if(!(Oe instanceof M))throw new TypeError("Cannot call a class as a function")}(this,Oe)}return t(Oe,[{key:"phone",value:function(){var M=N();return!(!I.test(M)&&!H.test(M.substr(0,4)))}},{key:"mobile",value:function(){var M=N();return!(!z.test(M)&&!re.test(M.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),Oe}();E.default=new ce},function(A,E){"use strict";Object.defineProperty(E,"__esModule",{value:!0});E.default=function(t,I){var H=window.pageYOffset,z=window.innerHeight;t.forEach(function(re,ce){!function(t,I,H){var z=t.node.getAttribute("data-aos-once");I>t.position?t.node.classList.add("aos-animate"):typeof z<"u"&&("false"===z||!H&&"true"!==z)&&t.node.classList.remove("aos-animate")}(re,z+H,I)})}},function(A,E,w){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var I=function N(z){return z&&z.__esModule?z:{default:z}}(w(12));E.default=function(z,re){return z.forEach(function(ce,Oe){ce.node.classList.add("aos-init"),ce.position=(0,I.default)(ce.node,re.offset)}),z}},function(A,E,w){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var I=function N(z){return z&&z.__esModule?z:{default:z}}(w(13));E.default=function(z,re){var ce=0,Oe=0,M=window.innerHeight,Fe={offset:z.getAttribute("data-aos-offset"),anchor:z.getAttribute("data-aos-anchor"),anchorPlacement:z.getAttribute("data-aos-anchor-placement")};switch(Fe.offset&&!isNaN(Fe.offset)&&(Oe=parseInt(Fe.offset)),Fe.anchor&&document.querySelectorAll(Fe.anchor)&&(z=document.querySelectorAll(Fe.anchor)[0]),ce=(0,I.default)(z).top,Fe.anchorPlacement){case"top-bottom":break;case"center-bottom":ce+=z.offsetHeight/2;break;case"bottom-bottom":ce+=z.offsetHeight;break;case"top-center":ce+=M/2;break;case"bottom-center":ce+=M/2+z.offsetHeight;break;case"center-center":ce+=M/2+z.offsetHeight/2;break;case"top-top":ce+=M;break;case"bottom-top":ce+=z.offsetHeight+M;break;case"center-top":ce+=z.offsetHeight/2+M}return Fe.anchorPlacement||Fe.offset||isNaN(re)||(Oe=re),ce+Oe}},function(A,E){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default=function(N){for(var t=0,I=0;N&&!isNaN(N.offsetLeft)&&!isNaN(N.offsetTop);)t+=N.offsetLeft-("BODY"!=N.tagName?N.scrollLeft:0),I+=N.offsetTop-("BODY"!=N.tagName?N.scrollTop:0),N=N.offsetParent;return{top:I,left:t}}},function(A,E){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default=function(N){return N=N||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(N,function(t){return{node:t}})}}])},1135:(k,A,E)=>{"use strict";E.d(A,{X:()=>N});var w=E(7579);class N extends w.x{constructor(I){super(),this._value=I}get value(){return this.getValue()}_subscribe(I){const H=super._subscribe(I);return!H.closed&&I.next(this._value),H}getValue(){const{hasError:I,thrownError:H,_value:z}=this;if(I)throw H;return this._throwIfClosed(),z}next(I){super.next(this._value=I)}}},9751:(k,A,E)=>{"use strict";E.d(A,{y:()=>ce});var w=E(930),N=E(727),t=E(8822),I=E(9635),H=E(2416),z=E(576),re=E(2806);let ce=(()=>{class we{constructor(De){De&&(this._subscribe=De)}lift(De){const Ae=new we;return Ae.source=this,Ae.operator=De,Ae}subscribe(De,Ae,je){const se=function Fe(we){return we&&we instanceof w.Lv||function M(we){return we&&(0,z.m)(we.next)&&(0,z.m)(we.error)&&(0,z.m)(we.complete)}(we)&&(0,N.Nn)(we)}(De)?De:new w.Hp(De,Ae,je);return(0,re.x)(()=>{const{operator:at,source:mt}=this;se.add(at?at.call(se,mt):mt?this._subscribe(se):this._trySubscribe(se))}),se}_trySubscribe(De){try{return this._subscribe(De)}catch(Ae){De.error(Ae)}}forEach(De,Ae){return new(Ae=Oe(Ae))((je,se)=>{const at=new w.Hp({next:mt=>{try{De(mt)}catch(Dt){se(Dt),at.unsubscribe()}},error:se,complete:je});this.subscribe(at)})}_subscribe(De){var Ae;return null===(Ae=this.source)||void 0===Ae?void 0:Ae.subscribe(De)}[t.L](){return this}pipe(...De){return(0,I.U)(De)(this)}toPromise(De){return new(De=Oe(De))((Ae,je)=>{let se;this.subscribe(at=>se=at,at=>je(at),()=>Ae(se))})}}return we.create=Tt=>new we(Tt),we})();function Oe(we){var Tt;return null!==(Tt=we??H.v.Promise)&&void 0!==Tt?Tt:Promise}},7579:(k,A,E)=>{"use strict";E.d(A,{x:()=>re});var w=E(9751),N=E(727);const I=(0,E(3888).d)(Oe=>function(){Oe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var H=E(8737),z=E(2806);let re=(()=>{class Oe extends w.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Fe){const we=new ce(this,this);return we.operator=Fe,we}_throwIfClosed(){if(this.closed)throw new I}next(Fe){(0,z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const we of this.currentObservers)we.next(Fe)}})}error(Fe){(0,z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Fe;const{observers:we}=this;for(;we.length;)we.shift().error(Fe)}})}complete(){(0,z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Fe}=this;for(;Fe.length;)Fe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Fe;return(null===(Fe=this.observers)||void 0===Fe?void 0:Fe.length)>0}_trySubscribe(Fe){return this._throwIfClosed(),super._trySubscribe(Fe)}_subscribe(Fe){return this._throwIfClosed(),this._checkFinalizedStatuses(Fe),this._innerSubscribe(Fe)}_innerSubscribe(Fe){const{hasError:we,isStopped:Tt,observers:De}=this;return we||Tt?N.Lc:(this.currentObservers=null,De.push(Fe),new N.w0(()=>{this.currentObservers=null,(0,H.P)(De,Fe)}))}_checkFinalizedStatuses(Fe){const{hasError:we,thrownError:Tt,isStopped:De}=this;we?Fe.error(Tt):De&&Fe.complete()}asObservable(){const Fe=new w.y;return Fe.source=this,Fe}}return Oe.create=(M,Fe)=>new ce(M,Fe),Oe})();class ce extends re{constructor(M,Fe){super(),this.destination=M,this.source=Fe}next(M){var Fe,we;null===(we=null===(Fe=this.destination)||void 0===Fe?void 0:Fe.next)||void 0===we||we.call(Fe,M)}error(M){var Fe,we;null===(we=null===(Fe=this.destination)||void 0===Fe?void 0:Fe.error)||void 0===we||we.call(Fe,M)}complete(){var M,Fe;null===(Fe=null===(M=this.destination)||void 0===M?void 0:M.complete)||void 0===Fe||Fe.call(M)}_subscribe(M){var Fe,we;return null!==(we=null===(Fe=this.source)||void 0===Fe?void 0:Fe.subscribe(M))&&void 0!==we?we:N.Lc}}},930:(k,A,E)=>{"use strict";E.d(A,{Hp:()=>je,Lv:()=>we});var w=E(576),N=E(727),t=E(2416),I=E(7849),H=E(5032);const z=Oe("C",void 0,void 0);function Oe(Pe,Ee,Ye){return{kind:Pe,value:Ee,error:Ye}}var M=E(3410),Fe=E(2806);class we extends N.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,N.Nn)(Ee)&&Ee.add(this)):this.destination=Dt}static create(Ee,Ye,Qe){return new je(Ee,Ye,Qe)}next(Ee){this.isStopped?mt(function ce(Pe){return Oe("N",Pe,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?mt(function re(Pe){return Oe("E",void 0,Pe)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?mt(z,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Tt=Function.prototype.bind;function De(Pe,Ee){return Tt.call(Pe,Ee)}class Ae{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:Ye}=this;if(Ye.next)try{Ye.next(Ee)}catch(Qe){se(Qe)}}error(Ee){const{partialObserver:Ye}=this;if(Ye.error)try{Ye.error(Ee)}catch(Qe){se(Qe)}else se(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(Ye){se(Ye)}}}class je extends we{constructor(Ee,Ye,Qe){let ze;if(super(),(0,w.m)(Ee)||!Ee)ze={next:Ee??void 0,error:Ye??void 0,complete:Qe??void 0};else{let xt;this&&t.v.useDeprecatedNextContext?(xt=Object.create(Ee),xt.unsubscribe=()=>this.unsubscribe(),ze={next:Ee.next&&De(Ee.next,xt),error:Ee.error&&De(Ee.error,xt),complete:Ee.complete&&De(Ee.complete,xt)}):ze=Ee}this.destination=new Ae(ze)}}function se(Pe){t.v.useDeprecatedSynchronousErrorHandling?(0,Fe.O)(Pe):(0,I.h)(Pe)}function mt(Pe,Ee){const{onStoppedNotification:Ye}=t.v;Ye&&M.z.setTimeout(()=>Ye(Pe,Ee))}const Dt={closed:!0,next:H.Z,error:function at(Pe){throw Pe},complete:H.Z}},727:(k,A,E)=>{"use strict";E.d(A,{Lc:()=>z,w0:()=>H,Nn:()=>re});var w=E(576);const t=(0,E(3888).d)(Oe=>function(Fe){Oe(this),this.message=Fe?`${Fe.length} errors occurred during unsubscription:\n${Fe.map((we,Tt)=>`${Tt+1}) ${we.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Fe});var I=E(8737);class H{constructor(M){this.initialTeardown=M,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let M;if(!this.closed){this.closed=!0;const{_parentage:Fe}=this;if(Fe)if(this._parentage=null,Array.isArray(Fe))for(const De of Fe)De.remove(this);else Fe.remove(this);const{initialTeardown:we}=this;if((0,w.m)(we))try{we()}catch(De){M=De instanceof t?De.errors:[De]}const{_finalizers:Tt}=this;if(Tt){this._finalizers=null;for(const De of Tt)try{ce(De)}catch(Ae){M=M??[],Ae instanceof t?M=[...M,...Ae.errors]:M.push(Ae)}}if(M)throw new t(M)}}add(M){var Fe;if(M&&M!==this)if(this.closed)ce(M);else{if(M instanceof H){if(M.closed||M._hasParent(this))return;M._addParent(this)}(this._finalizers=null!==(Fe=this._finalizers)&&void 0!==Fe?Fe:[]).push(M)}}_hasParent(M){const{_parentage:Fe}=this;return Fe===M||Array.isArray(Fe)&&Fe.includes(M)}_addParent(M){const{_parentage:Fe}=this;this._parentage=Array.isArray(Fe)?(Fe.push(M),Fe):Fe?[Fe,M]:M}_removeParent(M){const{_parentage:Fe}=this;Fe===M?this._parentage=null:Array.isArray(Fe)&&(0,I.P)(Fe,M)}remove(M){const{_finalizers:Fe}=this;Fe&&(0,I.P)(Fe,M),M instanceof H&&M._removeParent(this)}}H.EMPTY=(()=>{const Oe=new H;return Oe.closed=!0,Oe})();const z=H.EMPTY;function re(Oe){return Oe instanceof H||Oe&&"closed"in Oe&&(0,w.m)(Oe.remove)&&(0,w.m)(Oe.add)&&(0,w.m)(Oe.unsubscribe)}function ce(Oe){(0,w.m)(Oe)?Oe():Oe.unsubscribe()}},2416:(k,A,E)=>{"use strict";E.d(A,{v:()=>w});const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(k,A,E)=>{"use strict";E.d(A,{c:()=>z});var w=E(9751),N=E(727),t=E(8343),I=E(5403),H=E(4482);class z extends w.y{constructor(ce,Oe){super(),this.source=ce,this.subjectFactory=Oe,this._subject=null,this._refCount=0,this._connection=null,(0,H.A)(ce)&&(this.lift=ce.lift)}_subscribe(ce){return this.getSubject().subscribe(ce)}getSubject(){const ce=this._subject;return(!ce||ce.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:ce}=this;this._subject=this._connection=null,ce?.unsubscribe()}connect(){let ce=this._connection;if(!ce){ce=this._connection=new N.w0;const Oe=this.getSubject();ce.add(this.source.subscribe((0,I.x)(Oe,void 0,()=>{this._teardown(),Oe.complete()},M=>{this._teardown(),Oe.error(M)},()=>this._teardown()))),ce.closed&&(this._connection=null,ce=N.w0.EMPTY)}return ce}refCount(){return(0,t.x)()(this)}}},9841:(k,A,E)=>{"use strict";E.d(A,{a:()=>M});var w=E(9751),N=E(4742),t=E(2076),I=E(4671),H=E(3268),z=E(3269),re=E(1810),ce=E(5403),Oe=E(9672);function M(...Tt){const De=(0,z.yG)(Tt),Ae=(0,z.jO)(Tt),{args:je,keys:se}=(0,N.D)(Tt);if(0===je.length)return(0,t.D)([],De);const at=new w.y(function Fe(Tt,De,Ae=I.y){return je=>{we(De,()=>{const{length:se}=Tt,at=new Array(se);let mt=se,Dt=se;for(let Pe=0;Pe<se;Pe++)we(De,()=>{const Ee=(0,t.D)(Tt[Pe],De);let Ye=!1;Ee.subscribe((0,ce.x)(je,Qe=>{at[Pe]=Qe,Ye||(Ye=!0,Dt--),Dt||je.next(Ae(at.slice()))},()=>{--mt||je.complete()}))},je)},je)}}(je,De,se?mt=>(0,re.n)(se,mt):I.y));return Ae?at.pipe((0,H.Z)(Ae)):at}function we(Tt,De,Ae){Tt?(0,Oe.f)(Ae,Tt,De):De()}},7272:(k,A,E)=>{"use strict";E.d(A,{z:()=>H});var w=E(8189),t=E(3269),I=E(2076);function H(...z){return function N(){return(0,w.J)(1)}()((0,I.D)(z,(0,t.yG)(z)))}},9770:(k,A,E)=>{"use strict";E.d(A,{P:()=>t});var w=E(9751),N=E(8421);function t(I){return new w.y(H=>{(0,N.Xf)(I()).subscribe(H)})}},515:(k,A,E)=>{"use strict";E.d(A,{E:()=>N});const N=new(E(9751).y)(H=>H.complete())},4128:(k,A,E)=>{"use strict";E.d(A,{D:()=>ce});var w=E(9751),N=E(4742),t=E(8421),I=E(3269),H=E(5403),z=E(3268),re=E(1810);function ce(...Oe){const M=(0,I.jO)(Oe),{args:Fe,keys:we}=(0,N.D)(Oe),Tt=new w.y(De=>{const{length:Ae}=Fe;if(!Ae)return void De.complete();const je=new Array(Ae);let se=Ae,at=Ae;for(let mt=0;mt<Ae;mt++){let Dt=!1;(0,t.Xf)(Fe[mt]).subscribe((0,H.x)(De,Pe=>{Dt||(Dt=!0,at--),je[mt]=Pe},()=>se--,void 0,()=>{(!se||!Dt)&&(at||De.next(we?(0,re.n)(we,je):je),De.complete())}))}});return M?Tt.pipe((0,z.Z)(M)):Tt}},2076:(k,A,E)=>{"use strict";E.d(A,{D:()=>Qe});var w=E(8421),N=E(9672),t=E(4482),I=E(5403);function H(ze,xt=0){return(0,t.e)((pt,Ne)=>{pt.subscribe((0,I.x)(Ne,Le=>(0,N.f)(Ne,ze,()=>Ne.next(Le),xt),()=>(0,N.f)(Ne,ze,()=>Ne.complete(),xt),Le=>(0,N.f)(Ne,ze,()=>Ne.error(Le),xt)))})}function z(ze,xt=0){return(0,t.e)((pt,Ne)=>{Ne.add(ze.schedule(()=>pt.subscribe(Ne),xt))})}var Oe=E(9751),Fe=E(2202),we=E(576);function De(ze,xt){if(!ze)throw new Error("Iterable cannot be null");return new Oe.y(pt=>{(0,N.f)(pt,xt,()=>{const Ne=ze[Symbol.asyncIterator]();(0,N.f)(pt,xt,()=>{Ne.next().then(Le=>{Le.done?pt.complete():pt.next(Le.value)})},0,!0)})})}var Ae=E(3670),je=E(8239),se=E(1144),at=E(6495),mt=E(2206),Dt=E(4532),Pe=E(3260);function Qe(ze,xt){return xt?function Ye(ze,xt){if(null!=ze){if((0,Ae.c)(ze))return function re(ze,xt){return(0,w.Xf)(ze).pipe(z(xt),H(xt))}(ze,xt);if((0,se.z)(ze))return function M(ze,xt){return new Oe.y(pt=>{let Ne=0;return xt.schedule(function(){Ne===ze.length?pt.complete():(pt.next(ze[Ne++]),pt.closed||this.schedule())})})}(ze,xt);if((0,je.t)(ze))return function ce(ze,xt){return(0,w.Xf)(ze).pipe(z(xt),H(xt))}(ze,xt);if((0,mt.D)(ze))return De(ze,xt);if((0,at.T)(ze))return function Tt(ze,xt){return new Oe.y(pt=>{let Ne;return(0,N.f)(pt,xt,()=>{Ne=ze[Fe.h](),(0,N.f)(pt,xt,()=>{let Le,cn;try{({value:Le,done:cn}=Ne.next())}catch(ct){return void pt.error(ct)}cn?pt.complete():pt.next(Le)},0,!0)}),()=>(0,we.m)(Ne?.return)&&Ne.return()})}(ze,xt);if((0,Pe.L)(ze))return function Ee(ze,xt){return De((0,Pe.Q)(ze),xt)}(ze,xt)}throw(0,Dt.z)(ze)}(ze,xt):(0,w.Xf)(ze)}},4968:(k,A,E)=>{"use strict";E.d(A,{R:()=>M});var w=E(8421),N=E(9751),t=E(5577),I=E(1144),H=E(576),z=E(3268);const re=["addListener","removeListener"],ce=["addEventListener","removeEventListener"],Oe=["on","off"];function M(Ae,je,se,at){if((0,H.m)(se)&&(at=se,se=void 0),at)return M(Ae,je,se).pipe((0,z.Z)(at));const[mt,Dt]=function De(Ae){return(0,H.m)(Ae.addEventListener)&&(0,H.m)(Ae.removeEventListener)}(Ae)?ce.map(Pe=>Ee=>Ae[Pe](je,Ee,se)):function we(Ae){return(0,H.m)(Ae.addListener)&&(0,H.m)(Ae.removeListener)}(Ae)?re.map(Fe(Ae,je)):function Tt(Ae){return(0,H.m)(Ae.on)&&(0,H.m)(Ae.off)}(Ae)?Oe.map(Fe(Ae,je)):[];if(!mt&&(0,I.z)(Ae))return(0,t.z)(Pe=>M(Pe,je,se))((0,w.Xf)(Ae));if(!mt)throw new TypeError("Invalid event target");return new N.y(Pe=>{const Ee=(...Ye)=>Pe.next(1<Ye.length?Ye:Ye[0]);return mt(Ee),()=>Dt(Ee)})}function Fe(Ae,je){return se=>at=>Ae[se](je,at)}},8421:(k,A,E)=>{"use strict";E.d(A,{Xf:()=>Tt});var w=E(655),N=E(1144),t=E(8239),I=E(9751),H=E(3670),z=E(2206),re=E(4532),ce=E(6495),Oe=E(3260),M=E(576),Fe=E(7849),we=E(8822);function Tt(Pe){if(Pe instanceof I.y)return Pe;if(null!=Pe){if((0,H.c)(Pe))return function De(Pe){return new I.y(Ee=>{const Ye=Pe[we.L]();if((0,M.m)(Ye.subscribe))return Ye.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pe);if((0,N.z)(Pe))return function Ae(Pe){return new I.y(Ee=>{for(let Ye=0;Ye<Pe.length&&!Ee.closed;Ye++)Ee.next(Pe[Ye]);Ee.complete()})}(Pe);if((0,t.t)(Pe))return function je(Pe){return new I.y(Ee=>{Pe.then(Ye=>{Ee.closed||(Ee.next(Ye),Ee.complete())},Ye=>Ee.error(Ye)).then(null,Fe.h)})}(Pe);if((0,z.D)(Pe))return at(Pe);if((0,ce.T)(Pe))return function se(Pe){return new I.y(Ee=>{for(const Ye of Pe)if(Ee.next(Ye),Ee.closed)return;Ee.complete()})}(Pe);if((0,Oe.L)(Pe))return function mt(Pe){return at((0,Oe.Q)(Pe))}(Pe)}throw(0,re.z)(Pe)}function at(Pe){return new I.y(Ee=>{(function Dt(Pe,Ee){var Ye,Qe,ze,xt;return(0,w.mG)(this,void 0,void 0,function*(){try{for(Ye=(0,w.KL)(Pe);!(Qe=yield Ye.next()).done;)if(Ee.next(Qe.value),Ee.closed)return}catch(pt){ze={error:pt}}finally{try{Qe&&!Qe.done&&(xt=Ye.return)&&(yield xt.call(Ye))}finally{if(ze)throw ze.error}}Ee.complete()})})(Pe,Ee).catch(Ye=>Ee.error(Ye))})}},6451:(k,A,E)=>{"use strict";E.d(A,{T:()=>z});var w=E(8189),N=E(8421),t=E(515),I=E(3269),H=E(2076);function z(...re){const ce=(0,I.yG)(re),Oe=(0,I._6)(re,1/0),M=re;return M.length?1===M.length?(0,N.Xf)(M[0]):(0,w.J)(Oe)((0,H.D)(M,ce)):t.E}},9646:(k,A,E)=>{"use strict";E.d(A,{of:()=>t});var w=E(3269),N=E(2076);function t(...I){const H=(0,w.yG)(I);return(0,N.D)(I,H)}},2843:(k,A,E)=>{"use strict";E.d(A,{_:()=>t});var w=E(9751),N=E(576);function t(I,H){const z=(0,N.m)(I)?I:()=>I,re=ce=>ce.error(z());return new w.y(H?ce=>H.schedule(re,0,ce):re)}},5403:(k,A,E)=>{"use strict";E.d(A,{x:()=>N});var w=E(930);function N(I,H,z,re,ce){return new t(I,H,z,re,ce)}class t extends w.Lv{constructor(H,z,re,ce,Oe,M){super(H),this.onFinalize=Oe,this.shouldUnsubscribe=M,this._next=z?function(Fe){try{z(Fe)}catch(we){H.error(we)}}:super._next,this._error=ce?function(Fe){try{ce(Fe)}catch(we){H.error(we)}finally{this.unsubscribe()}}:super._error,this._complete=re?function(){try{re()}catch(Fe){H.error(Fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var H;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:z}=this;super.unsubscribe(),!z&&(null===(H=this.onFinalize)||void 0===H||H.call(this))}}}},4351:(k,A,E)=>{"use strict";E.d(A,{b:()=>t});var w=E(5577),N=E(576);function t(I,H){return(0,N.m)(H)?(0,w.z)(I,H,1):(0,w.z)(I,1)}},6590:(k,A,E)=>{"use strict";E.d(A,{d:()=>t});var w=E(4482),N=E(5403);function t(I){return(0,w.e)((H,z)=>{let re=!1;H.subscribe((0,N.x)(z,ce=>{re=!0,z.next(ce)},()=>{re||z.next(I),z.complete()}))})}},9300:(k,A,E)=>{"use strict";E.d(A,{h:()=>t});var w=E(4482),N=E(5403);function t(I,H){return(0,w.e)((z,re)=>{let ce=0;z.subscribe((0,N.x)(re,Oe=>I.call(H,Oe,ce++)&&re.next(Oe)))})}},590:(k,A,E)=>{"use strict";E.d(A,{P:()=>re});var w=E(6805),N=E(9300),t=E(5698),I=E(6590),H=E(8068),z=E(4671);function re(ce,Oe){const M=arguments.length>=2;return Fe=>Fe.pipe(ce?(0,N.h)((we,Tt)=>ce(we,Tt,Fe)):z.y,(0,t.q)(1),M?(0,I.d)(Oe):(0,H.T)(()=>new w.K))}},4004:(k,A,E)=>{"use strict";E.d(A,{U:()=>t});var w=E(4482),N=E(5403);function t(I,H){return(0,w.e)((z,re)=>{let ce=0;z.subscribe((0,N.x)(re,Oe=>{re.next(I.call(H,Oe,ce++))}))})}},9718:(k,A,E)=>{"use strict";E.d(A,{h:()=>N});var w=E(4004);function N(t){return(0,w.U)(()=>t)}},8189:(k,A,E)=>{"use strict";E.d(A,{J:()=>t});var w=E(5577),N=E(4671);function t(I=1/0){return(0,w.z)(N.y,I)}},5577:(k,A,E)=>{"use strict";E.d(A,{z:()=>ce});var w=E(4004),N=E(8421),t=E(4482),I=E(9672),H=E(5403),re=E(576);function ce(Oe,M,Fe=1/0){return(0,re.m)(M)?ce((we,Tt)=>(0,w.U)((De,Ae)=>M(we,De,Tt,Ae))((0,N.Xf)(Oe(we,Tt))),Fe):("number"==typeof M&&(Fe=M),(0,t.e)((we,Tt)=>function z(Oe,M,Fe,we,Tt,De,Ae,je){const se=[];let at=0,mt=0,Dt=!1;const Pe=()=>{Dt&&!se.length&&!at&&M.complete()},Ee=Qe=>at<we?Ye(Qe):se.push(Qe),Ye=Qe=>{De&&M.next(Qe),at++;let ze=!1;(0,N.Xf)(Fe(Qe,mt++)).subscribe((0,H.x)(M,xt=>{Tt?.(xt),De?Ee(xt):M.next(xt)},()=>{ze=!0},void 0,()=>{if(ze)try{for(at--;se.length&&at<we;){const xt=se.shift();Ae?(0,I.f)(M,Ae,()=>Ye(xt)):Ye(xt)}Pe()}catch(xt){M.error(xt)}}))};return Oe.subscribe((0,H.x)(M,Ee,()=>{Dt=!0,Pe()})),()=>{je?.()}}(we,Tt,Oe,Fe)))}},8343:(k,A,E)=>{"use strict";E.d(A,{x:()=>t});var w=E(4482),N=E(5403);function t(){return(0,w.e)((I,H)=>{let z=null;I._refCount++;const re=(0,N.x)(H,void 0,void 0,void 0,()=>{if(!I||I._refCount<=0||0<--I._refCount)return void(z=null);const ce=I._connection,Oe=z;z=null,ce&&(!Oe||ce===Oe)&&ce.unsubscribe(),H.unsubscribe()});I.subscribe(re),re.closed||(z=I.connect())})}},7359:(k,A,E)=>{"use strict";E.d(A,{U:()=>N});var w=E(5403);function N(t,I,H,z,re){return(ce,Oe)=>{let M=H,Fe=I,we=0;ce.subscribe((0,w.x)(Oe,Tt=>{const De=we++;Fe=M?t(Fe,Tt,De):(M=!0,Tt),z&&Oe.next(Fe)},re&&(()=>{M&&Oe.next(Fe),Oe.complete()})))}}},3099:(k,A,E)=>{"use strict";E.d(A,{B:()=>H});var w=E(8421),N=E(7579),t=E(930),I=E(4482);function H(re={}){const{connector:ce=(()=>new N.x),resetOnError:Oe=!0,resetOnComplete:M=!0,resetOnRefCountZero:Fe=!0}=re;return we=>{let Tt,De,Ae,je=0,se=!1,at=!1;const mt=()=>{De?.unsubscribe(),De=void 0},Dt=()=>{mt(),Tt=Ae=void 0,se=at=!1},Pe=()=>{const Ee=Tt;Dt(),Ee?.unsubscribe()};return(0,I.e)((Ee,Ye)=>{je++,!at&&!se&&mt();const Qe=Ae=Ae??ce();Ye.add(()=>{je--,0===je&&!at&&!se&&(De=z(Pe,Fe))}),Qe.subscribe(Ye),!Tt&&je>0&&(Tt=new t.Hp({next:ze=>Qe.next(ze),error:ze=>{at=!0,mt(),De=z(Dt,Oe,ze),Qe.error(ze)},complete:()=>{se=!0,mt(),De=z(Dt,M),Qe.complete()}}),(0,w.Xf)(Ee).subscribe(Tt))})(we)}}function z(re,ce,...Oe){if(!0===ce)return void re();if(!1===ce)return;const M=new t.Hp({next:()=>{M.unsubscribe(),re()}});return(0,w.Xf)(ce(...Oe)).subscribe(M)}},5684:(k,A,E)=>{"use strict";E.d(A,{T:()=>N});var w=E(9300);function N(t){return(0,w.h)((I,H)=>t<=H)}},8675:(k,A,E)=>{"use strict";E.d(A,{O:()=>I});var w=E(7272),N=E(3269),t=E(4482);function I(...H){const z=(0,N.yG)(H);return(0,t.e)((re,ce)=>{(z?(0,w.z)(H,re,z):(0,w.z)(H,re)).subscribe(ce)})}},3900:(k,A,E)=>{"use strict";E.d(A,{w:()=>I});var w=E(8421),N=E(4482),t=E(5403);function I(H,z){return(0,N.e)((re,ce)=>{let Oe=null,M=0,Fe=!1;const we=()=>Fe&&!Oe&&ce.complete();re.subscribe((0,t.x)(ce,Tt=>{Oe?.unsubscribe();let De=0;const Ae=M++;(0,w.Xf)(H(Tt,Ae)).subscribe(Oe=(0,t.x)(ce,je=>ce.next(z?z(Tt,je,Ae,De++):je),()=>{Oe=null,we()}))},()=>{Fe=!0,we()}))})}},5698:(k,A,E)=>{"use strict";E.d(A,{q:()=>I});var w=E(515),N=E(4482),t=E(5403);function I(H){return H<=0?()=>w.E:(0,N.e)((z,re)=>{let ce=0;z.subscribe((0,t.x)(re,Oe=>{++ce<=H&&(re.next(Oe),H<=ce&&re.complete())}))})}},8505:(k,A,E)=>{"use strict";E.d(A,{b:()=>H});var w=E(576),N=E(4482),t=E(5403),I=E(4671);function H(z,re,ce){const Oe=(0,w.m)(z)||re||ce?{next:z,error:re,complete:ce}:z;return Oe?(0,N.e)((M,Fe)=>{var we;null===(we=Oe.subscribe)||void 0===we||we.call(Oe);let Tt=!0;M.subscribe((0,t.x)(Fe,De=>{var Ae;null===(Ae=Oe.next)||void 0===Ae||Ae.call(Oe,De),Fe.next(De)},()=>{var De;Tt=!1,null===(De=Oe.complete)||void 0===De||De.call(Oe),Fe.complete()},De=>{var Ae;Tt=!1,null===(Ae=Oe.error)||void 0===Ae||Ae.call(Oe,De),Fe.error(De)},()=>{var De,Ae;Tt&&(null===(De=Oe.unsubscribe)||void 0===De||De.call(Oe)),null===(Ae=Oe.finalize)||void 0===Ae||Ae.call(Oe)}))}):I.y}},8068:(k,A,E)=>{"use strict";E.d(A,{T:()=>I});var w=E(6805),N=E(4482),t=E(5403);function I(z=H){return(0,N.e)((re,ce)=>{let Oe=!1;re.subscribe((0,t.x)(ce,M=>{Oe=!0,ce.next(M)},()=>Oe?ce.complete():ce.error(z())))})}function H(){return new w.K}},6063:(k,A,E)=>{"use strict";E.d(A,{l:()=>w});const w={now:()=>(w.delegate||Date).now(),delegate:void 0}},3410:(k,A,E)=>{"use strict";E.d(A,{z:()=>w});const w={setTimeout(N,t,...I){const{delegate:H}=w;return H?.setTimeout?H.setTimeout(N,t,...I):setTimeout(N,t,...I)},clearTimeout(N){const{delegate:t}=w;return(t?.clearTimeout||clearTimeout)(N)},delegate:void 0}},2202:(k,A,E)=>{"use strict";E.d(A,{h:()=>N});const N=function w(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(k,A,E)=>{"use strict";E.d(A,{L:()=>w});const w="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(k,A,E)=>{"use strict";E.d(A,{K:()=>N});const N=(0,E(3888).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(k,A,E)=>{"use strict";E.d(A,{_6:()=>z,jO:()=>I,yG:()=>H});var w=E(576),N=E(3532);function t(re){return re[re.length-1]}function I(re){return(0,w.m)(t(re))?re.pop():void 0}function H(re){return(0,N.K)(t(re))?re.pop():void 0}function z(re,ce){return"number"==typeof t(re)?re.pop():ce}},4742:(k,A,E)=>{"use strict";E.d(A,{D:()=>H});const{isArray:w}=Array,{getPrototypeOf:N,prototype:t,keys:I}=Object;function H(re){if(1===re.length){const ce=re[0];if(w(ce))return{args:ce,keys:null};if(function z(re){return re&&"object"==typeof re&&N(re)===t}(ce)){const Oe=I(ce);return{args:Oe.map(M=>ce[M]),keys:Oe}}}return{args:re,keys:null}}},8737:(k,A,E)=>{"use strict";function w(N,t){if(N){const I=N.indexOf(t);0<=I&&N.splice(I,1)}}E.d(A,{P:()=>w})},3888:(k,A,E)=>{"use strict";function w(N){const I=N(H=>{Error.call(H),H.stack=(new Error).stack});return I.prototype=Object.create(Error.prototype),I.prototype.constructor=I,I}E.d(A,{d:()=>w})},1810:(k,A,E)=>{"use strict";function w(N,t){return N.reduce((I,H,z)=>(I[H]=t[z],I),{})}E.d(A,{n:()=>w})},2806:(k,A,E)=>{"use strict";E.d(A,{O:()=>I,x:()=>t});var w=E(2416);let N=null;function t(H){if(w.v.useDeprecatedSynchronousErrorHandling){const z=!N;if(z&&(N={errorThrown:!1,error:null}),H(),z){const{errorThrown:re,error:ce}=N;if(N=null,re)throw ce}}else H()}function I(H){w.v.useDeprecatedSynchronousErrorHandling&&N&&(N.errorThrown=!0,N.error=H)}},9672:(k,A,E)=>{"use strict";function w(N,t,I,H=0,z=!1){const re=t.schedule(function(){I(),z?N.add(this.schedule(null,H)):this.unsubscribe()},H);if(N.add(re),!z)return re}E.d(A,{f:()=>w})},4671:(k,A,E)=>{"use strict";function w(N){return N}E.d(A,{y:()=>w})},1144:(k,A,E)=>{"use strict";E.d(A,{z:()=>w});const w=N=>N&&"number"==typeof N.length&&"function"!=typeof N},2206:(k,A,E)=>{"use strict";E.d(A,{D:()=>N});var w=E(576);function N(t){return Symbol.asyncIterator&&(0,w.m)(t?.[Symbol.asyncIterator])}},576:(k,A,E)=>{"use strict";function w(N){return"function"==typeof N}E.d(A,{m:()=>w})},3670:(k,A,E)=>{"use strict";E.d(A,{c:()=>t});var w=E(8822),N=E(576);function t(I){return(0,N.m)(I[w.L])}},6495:(k,A,E)=>{"use strict";E.d(A,{T:()=>t});var w=E(2202),N=E(576);function t(I){return(0,N.m)(I?.[w.h])}},8239:(k,A,E)=>{"use strict";E.d(A,{t:()=>N});var w=E(576);function N(t){return(0,w.m)(t?.then)}},3260:(k,A,E)=>{"use strict";E.d(A,{L:()=>I,Q:()=>t});var w=E(655),N=E(576);function t(H){return(0,w.FC)(this,arguments,function*(){const re=H.getReader();try{for(;;){const{value:ce,done:Oe}=yield(0,w.qq)(re.read());if(Oe)return yield(0,w.qq)(void 0);yield yield(0,w.qq)(ce)}}finally{re.releaseLock()}})}function I(H){return(0,N.m)(H?.getReader)}},3532:(k,A,E)=>{"use strict";E.d(A,{K:()=>N});var w=E(576);function N(t){return t&&(0,w.m)(t.schedule)}},4482:(k,A,E)=>{"use strict";E.d(A,{A:()=>N,e:()=>t});var w=E(576);function N(I){return(0,w.m)(I?.lift)}function t(I){return H=>{if(N(H))return H.lift(function(z){try{return I(z,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(k,A,E)=>{"use strict";E.d(A,{Z:()=>I});var w=E(4004);const{isArray:N}=Array;function I(H){return(0,w.U)(z=>function t(H,z){return N(z)?H(...z):H(z)}(H,z))}},5032:(k,A,E)=>{"use strict";function w(){}E.d(A,{Z:()=>w})},9635:(k,A,E)=>{"use strict";E.d(A,{U:()=>t,z:()=>N});var w=E(4671);function N(...I){return t(I)}function t(I){return 0===I.length?w.y:1===I.length?I[0]:function(z){return I.reduce((re,ce)=>ce(re),z)}}},7849:(k,A,E)=>{"use strict";E.d(A,{h:()=>t});var w=E(2416),N=E(3410);function t(I){N.z.setTimeout(()=>{const{onUnhandledError:H}=w.v;if(!H)throw I;H(I)})}},4532:(k,A,E)=>{"use strict";function w(N){return new TypeError(`You provided ${null!==N&&"object"==typeof N?"an invalid object":`'${N}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}E.d(A,{z:()=>w})},655:(k,A,E)=>{"use strict";function we(qe,it,st,nt){return new(st||(st=Promise))(function(At,Wt){function zt(Qt){try{en(nt.next(Qt))}catch(yn){Wt(yn)}}function An(Qt){try{en(nt.throw(Qt))}catch(yn){Wt(yn)}}function en(Qt){Qt.done?At(Qt.value):function wt(At){return At instanceof st?At:new st(function(Wt){Wt(At)})}(Qt.value).then(zt,An)}en((nt=nt.apply(qe,it||[])).next())})}function Pe(qe){return this instanceof Pe?(this.v=qe,this):new Pe(qe)}function Ee(qe,it,st){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var wt,nt=st.apply(qe,it||[]),At=[];return wt={},Wt("next"),Wt("throw"),Wt("return"),wt[Symbol.asyncIterator]=function(){return this},wt;function Wt(_t){nt[_t]&&(wt[_t]=function(Vt){return new Promise(function(Te,et){At.push([_t,Vt,Te,et])>1||zt(_t,Vt)})})}function zt(_t,Vt){try{!function An(_t){_t.value instanceof Pe?Promise.resolve(_t.value.v).then(en,Qt):yn(At[0][2],_t)}(nt[_t](Vt))}catch(Te){yn(At[0][3],Te)}}function en(_t){zt("next",_t)}function Qt(_t){zt("throw",_t)}function yn(_t,Vt){_t(Vt),At.shift(),At.length&&zt(At[0][0],At[0][1])}}function Qe(qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var st,it=qe[Symbol.asyncIterator];return it?it.call(qe):(qe=function je(qe){var it="function"==typeof Symbol&&Symbol.iterator,st=it&&qe[it],nt=0;if(st)return st.call(qe);if(qe&&"number"==typeof qe.length)return{next:function(){return qe&&nt>=qe.length&&(qe=void 0),{value:qe&&qe[nt++],done:!qe}}};throw new TypeError(it?"Object is not iterable.":"Symbol.iterator is not defined.")}(qe),st={},nt("next"),nt("throw"),nt("return"),st[Symbol.asyncIterator]=function(){return this},st);function nt(At){st[At]=qe[At]&&function(Wt){return new Promise(function(zt,An){!function wt(At,Wt,zt,An){Promise.resolve(An).then(function(en){At({value:en,done:zt})},Wt)}(zt,An,(Wt=qe[At](Wt)).done,Wt.value)})}}}E.d(A,{FC:()=>Ee,KL:()=>Qe,mG:()=>we,qq:()=>Pe})},7340:(k,A,E)=>{"use strict";E.d(A,{EY:()=>je,IO:()=>Ae,LC:()=>N,SB:()=>Oe,X$:()=>I,ZE:()=>mt,ZN:()=>at,_j:()=>w,eR:()=>Fe,jt:()=>H,k1:()=>Dt,l3:()=>t,oB:()=>ce,vP:()=>re});class w{}class N{}const t="*";function I(Pe,Ee){return{type:7,name:Pe,definitions:Ee,options:{}}}function H(Pe,Ee=null){return{type:4,styles:Ee,timings:Pe}}function re(Pe,Ee=null){return{type:2,steps:Pe,options:Ee}}function ce(Pe){return{type:6,styles:Pe,offset:null}}function Oe(Pe,Ee,Ye){return{type:0,name:Pe,styles:Ee,options:Ye}}function Fe(Pe,Ee,Ye=null){return{type:1,expr:Pe,animation:Ee,options:Ye}}function Ae(Pe,Ee,Ye=null){return{type:11,selector:Pe,animation:Ee,options:Ye}}function je(Pe,Ee){return{type:12,timings:Pe,animation:Ee}}function se(Pe){Promise.resolve().then(Pe)}class at{constructor(Ee=0,Ye=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ee+Ye}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ee=>Ee()),this._onDoneFns=[])}onStart(Ee){this._originalOnStartFns.push(Ee),this._onStartFns.push(Ee)}onDone(Ee){this._originalOnDoneFns.push(Ee),this._onDoneFns.push(Ee)}onDestroy(Ee){this._onDestroyFns.push(Ee)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){se(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ee=>Ee()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ee=>Ee()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ee){this._position=this.totalTime?Ee*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ee){const Ye="start"==Ee?this._onStartFns:this._onDoneFns;Ye.forEach(Qe=>Qe()),Ye.length=0}}class mt{constructor(Ee){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ee;let Ye=0,Qe=0,ze=0;const xt=this.players.length;0==xt?se(()=>this._onFinish()):this.players.forEach(pt=>{pt.onDone(()=>{++Ye==xt&&this._onFinish()}),pt.onDestroy(()=>{++Qe==xt&&this._onDestroy()}),pt.onStart(()=>{++ze==xt&&this._onStart()})}),this.totalTime=this.players.reduce((pt,Ne)=>Math.max(pt,Ne.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ee=>Ee()),this._onDoneFns=[])}init(){this.players.forEach(Ee=>Ee.init())}onStart(Ee){this._onStartFns.push(Ee)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ee=>Ee()),this._onStartFns=[])}onDone(Ee){this._onDoneFns.push(Ee)}onDestroy(Ee){this._onDestroyFns.push(Ee)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ee=>Ee.play())}pause(){this.players.forEach(Ee=>Ee.pause())}restart(){this.players.forEach(Ee=>Ee.restart())}finish(){this._onFinish(),this.players.forEach(Ee=>Ee.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ee=>Ee.destroy()),this._onDestroyFns.forEach(Ee=>Ee()),this._onDestroyFns=[])}reset(){this.players.forEach(Ee=>Ee.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ee){const Ye=Ee*this.totalTime;this.players.forEach(Qe=>{const ze=Qe.totalTime?Math.min(1,Ye/Qe.totalTime):1;Qe.setPosition(ze)})}getPosition(){const Ee=this.players.reduce((Ye,Qe)=>null===Ye||Qe.totalTime>Ye.totalTime?Qe:Ye,null);return null!=Ee?Ee.getPosition():0}beforeDestroy(){this.players.forEach(Ee=>{Ee.beforeDestroy&&Ee.beforeDestroy()})}triggerCallback(Ee){const Ye="start"==Ee?this._onStartFns:this._onDoneFns;Ye.forEach(Qe=>Qe()),Ye.length=0}}const Dt="!"},6895:(k,A,E)=>{"use strict";E.d(A,{Do:()=>mt,EM:()=>ns,HT:()=>I,JF:()=>rs,K0:()=>z,Mn:()=>nt,Mx:()=>dn,NF:()=>Go,O5:()=>li,PC:()=>jr,S$:()=>je,Tn:()=>Le,UT:()=>wt,V_:()=>Oe,Ye:()=>Dt,Zx:()=>or,b0:()=>at,bD:()=>Hr,ez:()=>no,mk:()=>xi,ol:()=>st,p6:()=>Ri,q:()=>t,sg:()=>mr,tP:()=>Oa,uU:()=>va,w_:()=>H,x:()=>Ne});var w=E(4650);let N=null;function t(){return N}function I(G){N||(N=G)}class H{}const z=new w.OlP("DocumentToken");let re=(()=>{class G{historyGo(Y){throw new Error("Not implemented")}}return G.\u0275fac=function(Y){return new(Y||G)},G.\u0275prov=w.Yz7({token:G,factory:function(){return function ce(){return(0,w.LFG)(M)}()},providedIn:"platform"}),G})();const Oe=new w.OlP("Location Initialized");let M=(()=>{class G extends re{constructor(Y){super(),this._doc=Y,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return t().getBaseHref(this._doc)}onPopState(Y){const he=t().getGlobalEventTarget(this._doc,"window");return he.addEventListener("popstate",Y,!1),()=>he.removeEventListener("popstate",Y)}onHashChange(Y){const he=t().getGlobalEventTarget(this._doc,"window");return he.addEventListener("hashchange",Y,!1),()=>he.removeEventListener("hashchange",Y)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Y){this._location.pathname=Y}pushState(Y,he,ke){Fe()?this._history.pushState(Y,he,ke):this._location.hash=ke}replaceState(Y,he,ke){Fe()?this._history.replaceState(Y,he,ke):this._location.hash=ke}forward(){this._history.forward()}back(){this._history.back()}historyGo(Y=0){this._history.go(Y)}getState(){return this._history.state}}return G.\u0275fac=function(Y){return new(Y||G)(w.LFG(z))},G.\u0275prov=w.Yz7({token:G,factory:function(){return function we(){return new M((0,w.LFG)(z))}()},providedIn:"platform"}),G})();function Fe(){return!!window.history.pushState}function Tt(G,ie){if(0==G.length)return ie;if(0==ie.length)return G;let Y=0;return G.endsWith("/")&&Y++,ie.startsWith("/")&&Y++,2==Y?G+ie.substring(1):1==Y?G+ie:G+"/"+ie}function De(G){const ie=G.match(/#|\?|$/),Y=ie&&ie.index||G.length;return G.slice(0,Y-("/"===G[Y-1]?1:0))+G.slice(Y)}function Ae(G){return G&&"?"!==G[0]?"?"+G:G}let je=(()=>{class G{historyGo(Y){throw new Error("Not implemented")}}return G.\u0275fac=function(Y){return new(Y||G)},G.\u0275prov=w.Yz7({token:G,factory:function(){return(0,w.f3M)(at)},providedIn:"root"}),G})();const se=new w.OlP("appBaseHref");let at=(()=>{class G extends je{constructor(Y,he){super(),this._platformLocation=Y,this._removeListenerFns=[],this._baseHref=he??this._platformLocation.getBaseHrefFromDOM()??(0,w.f3M)(z).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Y){this._removeListenerFns.push(this._platformLocation.onPopState(Y),this._platformLocation.onHashChange(Y))}getBaseHref(){return this._baseHref}prepareExternalUrl(Y){return Tt(this._baseHref,Y)}path(Y=!1){const he=this._platformLocation.pathname+Ae(this._platformLocation.search),ke=this._platformLocation.hash;return ke&&Y?`${he}${ke}`:he}pushState(Y,he,ke,gt){const Rt=this.prepareExternalUrl(ke+Ae(gt));this._platformLocation.pushState(Y,he,Rt)}replaceState(Y,he,ke,gt){const Rt=this.prepareExternalUrl(ke+Ae(gt));this._platformLocation.replaceState(Y,he,Rt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Y=0){this._platformLocation.historyGo?.(Y)}}return G.\u0275fac=function(Y){return new(Y||G)(w.LFG(re),w.LFG(se,8))},G.\u0275prov=w.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})(),mt=(()=>{class G extends je{constructor(Y,he){super(),this._platformLocation=Y,this._baseHref="",this._removeListenerFns=[],null!=he&&(this._baseHref=he)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Y){this._removeListenerFns.push(this._platformLocation.onPopState(Y),this._platformLocation.onHashChange(Y))}getBaseHref(){return this._baseHref}path(Y=!1){let he=this._platformLocation.hash;return null==he&&(he="#"),he.length>0?he.substring(1):he}prepareExternalUrl(Y){const he=Tt(this._baseHref,Y);return he.length>0?"#"+he:he}pushState(Y,he,ke,gt){let Rt=this.prepareExternalUrl(ke+Ae(gt));0==Rt.length&&(Rt=this._platformLocation.pathname),this._platformLocation.pushState(Y,he,Rt)}replaceState(Y,he,ke,gt){let Rt=this.prepareExternalUrl(ke+Ae(gt));0==Rt.length&&(Rt=this._platformLocation.pathname),this._platformLocation.replaceState(Y,he,Rt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Y=0){this._platformLocation.historyGo?.(Y)}}return G.\u0275fac=function(Y){return new(Y||G)(w.LFG(re),w.LFG(se,8))},G.\u0275prov=w.Yz7({token:G,factory:G.\u0275fac}),G})(),Dt=(()=>{class G{constructor(Y){this._subject=new w.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Y;const he=this._locationStrategy.getBaseHref();this._basePath=function Qe(G){if(new RegExp("^(https?:)?//").test(G)){const[,Y]=G.split(/\/\/[^\/]+/);return Y}return G}(De(Ye(he))),this._locationStrategy.onPopState(ke=>{this._subject.emit({url:this.path(!0),pop:!0,state:ke.state,type:ke.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Y=!1){return this.normalize(this._locationStrategy.path(Y))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Y,he=""){return this.path()==this.normalize(Y+Ae(he))}normalize(Y){return G.stripTrailingSlash(function Ee(G,ie){if(!G||!ie.startsWith(G))return ie;const Y=ie.substring(G.length);return""===Y||["/",";","?","#"].includes(Y[0])?Y:ie}(this._basePath,Ye(Y)))}prepareExternalUrl(Y){return Y&&"/"!==Y[0]&&(Y="/"+Y),this._locationStrategy.prepareExternalUrl(Y)}go(Y,he="",ke=null){this._locationStrategy.pushState(ke,"",Y,he),this._notifyUrlChangeListeners(this.prepareExternalUrl(Y+Ae(he)),ke)}replaceState(Y,he="",ke=null){this._locationStrategy.replaceState(ke,"",Y,he),this._notifyUrlChangeListeners(this.prepareExternalUrl(Y+Ae(he)),ke)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Y=0){this._locationStrategy.historyGo?.(Y)}onUrlChange(Y){return this._urlChangeListeners.push(Y),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(he=>{this._notifyUrlChangeListeners(he.url,he.state)})),()=>{const he=this._urlChangeListeners.indexOf(Y);this._urlChangeListeners.splice(he,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Y="",he){this._urlChangeListeners.forEach(ke=>ke(Y,he))}subscribe(Y,he,ke){return this._subject.subscribe({next:Y,error:he,complete:ke})}}return G.normalizeQueryParams=Ae,G.joinWithSlash=Tt,G.stripTrailingSlash=De,G.\u0275fac=function(Y){return new(Y||G)(w.LFG(je))},G.\u0275prov=w.Yz7({token:G,factory:function(){return function Pe(){return new Dt((0,w.LFG)(je))}()},providedIn:"root"}),G})();function Ye(G){return G.replace(/\/index.html$/,"")}var xt=(()=>((xt=xt||{})[xt.Decimal=0]="Decimal",xt[xt.Percent=1]="Percent",xt[xt.Currency=2]="Currency",xt[xt.Scientific=3]="Scientific",xt))(),Ne=(()=>((Ne=Ne||{})[Ne.Format=0]="Format",Ne[Ne.Standalone=1]="Standalone",Ne))(),Le=(()=>((Le=Le||{})[Le.Narrow=0]="Narrow",Le[Le.Abbreviated=1]="Abbreviated",Le[Le.Wide=2]="Wide",Le[Le.Short=3]="Short",Le))(),cn=(()=>((cn=cn||{})[cn.Short=0]="Short",cn[cn.Medium=1]="Medium",cn[cn.Long=2]="Long",cn[cn.Full=3]="Full",cn))(),ct=(()=>((ct=ct||{})[ct.Decimal=0]="Decimal",ct[ct.Group=1]="Group",ct[ct.List=2]="List",ct[ct.PercentSign=3]="PercentSign",ct[ct.PlusSign=4]="PlusSign",ct[ct.MinusSign=5]="MinusSign",ct[ct.Exponential=6]="Exponential",ct[ct.SuperscriptingExponent=7]="SuperscriptingExponent",ct[ct.PerMille=8]="PerMille",ct[ct.Infinity=9]="Infinity",ct[ct.NaN=10]="NaN",ct[ct.TimeSeparator=11]="TimeSeparator",ct[ct.CurrencyDecimal=12]="CurrencyDecimal",ct[ct.CurrencyGroup=13]="CurrencyGroup",ct))();function st(G,ie,Y){const he=(0,w.cg1)(G),gt=er([he[w.wAp.DayPeriodsFormat],he[w.wAp.DayPeriodsStandalone]],ie);return er(gt,Y)}function nt(G,ie,Y){const he=(0,w.cg1)(G),gt=er([he[w.wAp.DaysFormat],he[w.wAp.DaysStandalone]],ie);return er(gt,Y)}function wt(G,ie,Y){const he=(0,w.cg1)(G),gt=er([he[w.wAp.MonthsFormat],he[w.wAp.MonthsStandalone]],ie);return er(gt,Y)}function An(G,ie){return er((0,w.cg1)(G)[w.wAp.DateFormat],ie)}function en(G,ie){return er((0,w.cg1)(G)[w.wAp.TimeFormat],ie)}function Qt(G,ie){return er((0,w.cg1)(G)[w.wAp.DateTimeFormat],ie)}function yn(G,ie){const Y=(0,w.cg1)(G),he=Y[w.wAp.NumberSymbols][ie];if(typeof he>"u"){if(ie===ct.CurrencyDecimal)return Y[w.wAp.NumberSymbols][ct.Decimal];if(ie===ct.CurrencyGroup)return Y[w.wAp.NumberSymbols][ct.Group]}return he}function rn(G){if(!G[w.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${G[w.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function er(G,ie){for(let Y=ie;Y>-1;Y--)if(typeof G[Y]<"u")return G[Y];throw new Error("Locale data API: locale data undefined")}function di(G){const[ie,Y]=G.split(":");return{hours:+ie,minutes:+Y}}const pr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,bt={},Ka=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var zn=(()=>((zn=zn||{})[zn.Short=0]="Short",zn[zn.ShortGMT=1]="ShortGMT",zn[zn.Long=2]="Long",zn[zn.Extended=3]="Extended",zn))(),Mt=(()=>((Mt=Mt||{})[Mt.FullYear=0]="FullYear",Mt[Mt.Month=1]="Month",Mt[Mt.Date=2]="Date",Mt[Mt.Hours=3]="Hours",Mt[Mt.Minutes=4]="Minutes",Mt[Mt.Seconds=5]="Seconds",Mt[Mt.FractionalSeconds=6]="FractionalSeconds",Mt[Mt.Day=7]="Day",Mt))(),nn=(()=>((nn=nn||{})[nn.DayPeriods=0]="DayPeriods",nn[nn.Days=1]="Days",nn[nn.Months=2]="Months",nn[nn.Eras=3]="Eras",nn))();function Ri(G,ie,Y,he){let ke=function wr(G){if(Je(G))return G;if("number"==typeof G&&!isNaN(G))return new Date(G);if("string"==typeof G){if(G=G.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(G)){const[ke,gt=1,Rt=1]=G.split("-").map(En=>+En);return Cn(ke,gt-1,Rt)}const Y=parseFloat(G);if(!isNaN(G-Y))return new Date(Y);let he;if(he=G.match(pr))return function Bi(G){const ie=new Date(0);let Y=0,he=0;const ke=G[8]?ie.setUTCFullYear:ie.setFullYear,gt=G[8]?ie.setUTCHours:ie.setHours;G[9]&&(Y=Number(G[9]+G[10]),he=Number(G[9]+G[11])),ke.call(ie,Number(G[1]),Number(G[2])-1,Number(G[3]));const Rt=Number(G[4]||0)-Y,En=Number(G[5]||0)-he,zr=Number(G[6]||0),Er=Math.floor(1e3*parseFloat("0."+(G[7]||0)));return gt.call(ie,Rt,En,zr,Er),ie}(he)}const ie=new Date(G);if(!Je(ie))throw new Error(`Unable to convert "${G}" into a date`);return ie}(G);ie=fr(Y,ie)||ie;let En,Rt=[];for(;ie;){if(En=Ka.exec(ie),!En){Rt.push(ie);break}{Rt=Rt.concat(En.slice(1));const Mr=Rt.pop();if(!Mr)break;ie=Mr}}let zr=ke.getTimezoneOffset();he&&(zr=$n(he,zr),ke=function Nn(G,ie,Y){const he=Y?-1:1,ke=G.getTimezoneOffset();return function ur(G,ie){return(G=new Date(G.getTime())).setMinutes(G.getMinutes()+ie),G}(G,he*($n(ie,ke)-ke))}(ke,he,!0));let Er="";return Rt.forEach(Mr=>{const Fn=function Sn(G){if(kt[G])return kt[G];let ie;switch(G){case"G":case"GG":case"GGG":ie=mn(nn.Eras,Le.Abbreviated);break;case"GGGG":ie=mn(nn.Eras,Le.Wide);break;case"GGGGG":ie=mn(nn.Eras,Le.Narrow);break;case"y":ie=br(Mt.FullYear,1,0,!1,!0);break;case"yy":ie=br(Mt.FullYear,2,0,!0,!0);break;case"yyy":ie=br(Mt.FullYear,3,0,!1,!0);break;case"yyyy":ie=br(Mt.FullYear,4,0,!1,!0);break;case"Y":ie=Ht(1);break;case"YY":ie=Ht(2,!0);break;case"YYY":ie=Ht(3);break;case"YYYY":ie=Ht(4);break;case"M":case"L":ie=br(Mt.Month,1,1);break;case"MM":case"LL":ie=br(Mt.Month,2,1);break;case"MMM":ie=mn(nn.Months,Le.Abbreviated);break;case"MMMM":ie=mn(nn.Months,Le.Wide);break;case"MMMMM":ie=mn(nn.Months,Le.Narrow);break;case"LLL":ie=mn(nn.Months,Le.Abbreviated,Ne.Standalone);break;case"LLLL":ie=mn(nn.Months,Le.Wide,Ne.Standalone);break;case"LLLLL":ie=mn(nn.Months,Le.Narrow,Ne.Standalone);break;case"w":ie=Ge(1);break;case"ww":ie=Ge(2);break;case"W":ie=Ge(1,!0);break;case"d":ie=br(Mt.Date,1);break;case"dd":ie=br(Mt.Date,2);break;case"c":case"cc":ie=br(Mt.Day,1);break;case"ccc":ie=mn(nn.Days,Le.Abbreviated,Ne.Standalone);break;case"cccc":ie=mn(nn.Days,Le.Wide,Ne.Standalone);break;case"ccccc":ie=mn(nn.Days,Le.Narrow,Ne.Standalone);break;case"cccccc":ie=mn(nn.Days,Le.Short,Ne.Standalone);break;case"E":case"EE":case"EEE":ie=mn(nn.Days,Le.Abbreviated);break;case"EEEE":ie=mn(nn.Days,Le.Wide);break;case"EEEEE":ie=mn(nn.Days,Le.Narrow);break;case"EEEEEE":ie=mn(nn.Days,Le.Short);break;case"a":case"aa":case"aaa":ie=mn(nn.DayPeriods,Le.Abbreviated);break;case"aaaa":ie=mn(nn.DayPeriods,Le.Wide);break;case"aaaaa":ie=mn(nn.DayPeriods,Le.Narrow);break;case"b":case"bb":case"bbb":ie=mn(nn.DayPeriods,Le.Abbreviated,Ne.Standalone,!0);break;case"bbbb":ie=mn(nn.DayPeriods,Le.Wide,Ne.Standalone,!0);break;case"bbbbb":ie=mn(nn.DayPeriods,Le.Narrow,Ne.Standalone,!0);break;case"B":case"BB":case"BBB":ie=mn(nn.DayPeriods,Le.Abbreviated,Ne.Format,!0);break;case"BBBB":ie=mn(nn.DayPeriods,Le.Wide,Ne.Format,!0);break;case"BBBBB":ie=mn(nn.DayPeriods,Le.Narrow,Ne.Format,!0);break;case"h":ie=br(Mt.Hours,1,-12);break;case"hh":ie=br(Mt.Hours,2,-12);break;case"H":ie=br(Mt.Hours,1);break;case"HH":ie=br(Mt.Hours,2);break;case"m":ie=br(Mt.Minutes,1);break;case"mm":ie=br(Mt.Minutes,2);break;case"s":ie=br(Mt.Seconds,1);break;case"ss":ie=br(Mt.Seconds,2);break;case"S":ie=br(Mt.FractionalSeconds,1);break;case"SS":ie=br(Mt.FractionalSeconds,2);break;case"SSS":ie=br(Mt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ie=Li(zn.Short);break;case"ZZZZZ":ie=Li(zn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ie=Li(zn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ie=Li(zn.Long);break;default:return null}return kt[G]=ie,ie}(Mr);Er+=Fn?Fn(ke,Y,zr):"''"===Mr?"'":Mr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Er}function Cn(G,ie,Y){const he=new Date(0);return he.setFullYear(G,ie,Y),he.setHours(0,0,0),he}function fr(G,ie){const Y=function it(G){return(0,w.cg1)(G)[w.wAp.LocaleId]}(G);if(bt[Y]=bt[Y]||{},bt[Y][ie])return bt[Y][ie];let he="";switch(ie){case"shortDate":he=An(G,cn.Short);break;case"mediumDate":he=An(G,cn.Medium);break;case"longDate":he=An(G,cn.Long);break;case"fullDate":he=An(G,cn.Full);break;case"shortTime":he=en(G,cn.Short);break;case"mediumTime":he=en(G,cn.Medium);break;case"longTime":he=en(G,cn.Long);break;case"fullTime":he=en(G,cn.Full);break;case"short":const ke=fr(G,"shortTime"),gt=fr(G,"shortDate");he=nr(Qt(G,cn.Short),[ke,gt]);break;case"medium":const Rt=fr(G,"mediumTime"),En=fr(G,"mediumDate");he=nr(Qt(G,cn.Medium),[Rt,En]);break;case"long":const zr=fr(G,"longTime"),Er=fr(G,"longDate");he=nr(Qt(G,cn.Long),[zr,Er]);break;case"full":const Mr=fr(G,"fullTime"),Fn=fr(G,"fullDate");he=nr(Qt(G,cn.Full),[Mr,Fn])}return he&&(bt[Y][ie]=he),he}function nr(G,ie){return ie&&(G=G.replace(/\{([^}]+)}/g,function(Y,he){return null!=ie&&he in ie?ie[he]:Y})),G}function ai(G,ie,Y="-",he,ke){let gt="";(G<0||ke&&G<=0)&&(ke?G=1-G:(G=-G,gt=Y));let Rt=String(G);for(;Rt.length<ie;)Rt="0"+Rt;return he&&(Rt=Rt.slice(Rt.length-ie)),gt+Rt}function br(G,ie,Y=0,he=!1,ke=!1){return function(gt,Rt){let En=function oa(G,ie){switch(G){case Mt.FullYear:return ie.getFullYear();case Mt.Month:return ie.getMonth();case Mt.Date:return ie.getDate();case Mt.Hours:return ie.getHours();case Mt.Minutes:return ie.getMinutes();case Mt.Seconds:return ie.getSeconds();case Mt.FractionalSeconds:return ie.getMilliseconds();case Mt.Day:return ie.getDay();default:throw new Error(`Unknown DateType value "${G}".`)}}(G,gt);if((Y>0||En>-Y)&&(En+=Y),G===Mt.Hours)0===En&&-12===Y&&(En=12);else if(G===Mt.FractionalSeconds)return function Ja(G,ie){return ai(G,3).substring(0,ie)}(En,ie);const zr=yn(Rt,ct.MinusSign);return ai(En,ie,zr,he,ke)}}function mn(G,ie,Y=Ne.Format,he=!1){return function(ke,gt){return function Fi(G,ie,Y,he,ke,gt){switch(Y){case nn.Months:return wt(ie,ke,he)[G.getMonth()];case nn.Days:return nt(ie,ke,he)[G.getDay()];case nn.DayPeriods:const Rt=G.getHours(),En=G.getMinutes();if(gt){const Er=function xr(G){const ie=(0,w.cg1)(G);return rn(ie),(ie[w.wAp.ExtraData][2]||[]).map(he=>"string"==typeof he?di(he):[di(he[0]),di(he[1])])}(ie),Mr=function Sr(G,ie,Y){const he=(0,w.cg1)(G);rn(he);const gt=er([he[w.wAp.ExtraData][0],he[w.wAp.ExtraData][1]],ie)||[];return er(gt,Y)||[]}(ie,ke,he),Fn=Er.findIndex(bi=>{if(Array.isArray(bi)){const[Ir,ui]=bi,La=Rt>=Ir.hours&&En>=Ir.minutes,Ro=Rt<ui.hours||Rt===ui.hours&&En<ui.minutes;if(Ir.hours<ui.hours){if(La&&Ro)return!0}else if(La||Ro)return!0}else if(bi.hours===Rt&&bi.minutes===En)return!0;return!1});if(-1!==Fn)return Mr[Fn]}return st(ie,ke,he)[Rt<12?0:1];case nn.Eras:return function At(G,ie){return er((0,w.cg1)(G)[w.wAp.Eras],ie)}(ie,he)[G.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Y}`)}}(ke,gt,G,ie,Y,he)}}function Li(G){return function(ie,Y,he){const ke=-1*he,gt=yn(Y,ct.MinusSign),Rt=ke>0?Math.floor(ke/60):Math.ceil(ke/60);switch(G){case zn.Short:return(ke>=0?"+":"")+ai(Rt,2,gt)+ai(Math.abs(ke%60),2,gt);case zn.ShortGMT:return"GMT"+(ke>=0?"+":"")+ai(Rt,1,gt);case zn.Long:return"GMT"+(ke>=0?"+":"")+ai(Rt,2,gt)+":"+ai(Math.abs(ke%60),2,gt);case zn.Extended:return 0===he?"Z":(ke>=0?"+":"")+ai(Rt,2,gt)+":"+ai(Math.abs(ke%60),2,gt);default:throw new Error(`Unknown zone width "${G}"`)}}}const lr=0,qi=4;function Ve(G){return Cn(G.getFullYear(),G.getMonth(),G.getDate()+(qi-G.getDay()))}function Ge(G,ie=!1){return function(Y,he){let ke;if(ie){const gt=new Date(Y.getFullYear(),Y.getMonth(),1).getDay()-1,Rt=Y.getDate();ke=1+Math.floor((Rt+gt)/7)}else{const gt=Ve(Y),Rt=function vt(G){const ie=Cn(G,lr,1).getDay();return Cn(G,0,1+(ie<=qi?qi:qi+7)-ie)}(gt.getFullYear()),En=gt.getTime()-Rt.getTime();ke=1+Math.round(En/6048e5)}return ai(ke,G,yn(he,ct.MinusSign))}}function Ht(G,ie=!1){return function(Y,he){return ai(Ve(Y).getFullYear(),G,yn(he,ct.MinusSign),ie)}}const kt={};function $n(G,ie){G=G.replace(/:/g,"");const Y=Date.parse("Jan 01, 1970 00:00:00 "+G)/6e4;return isNaN(Y)?ie:Y}function Je(G){return G instanceof Date&&!isNaN(G.valueOf())}const He=/^(\d+)?\.((\d+)(-(\d+))?)?$/,be=22,We=".",St="0",Yt=";",on=",",cr="#";function Yn(G){const ie=parseInt(G);if(isNaN(ie))throw new Error("Invalid integer literal when parsing "+G);return ie}function dn(G,ie){ie=encodeURIComponent(ie);for(const Y of G.split(";")){const he=Y.indexOf("="),[ke,gt]=-1==he?[Y,""]:[Y.slice(0,he),Y.slice(he+1)];if(ke.trim()===ie)return decodeURIComponent(gt)}return null}const Mn=/\s+/,Rr=[];let xi=(()=>{class G{constructor(Y,he,ke,gt){this._iterableDiffers=Y,this._keyValueDiffers=he,this._ngEl=ke,this._renderer=gt,this.initialClasses=Rr,this.stateMap=new Map}set klass(Y){this.initialClasses=null!=Y?Y.trim().split(Mn):Rr}set ngClass(Y){this.rawClass="string"==typeof Y?Y.trim().split(Mn):Y}ngDoCheck(){for(const he of this.initialClasses)this._updateState(he,!0);const Y=this.rawClass;if(Array.isArray(Y)||Y instanceof Set)for(const he of Y)this._updateState(he,!0);else if(null!=Y)for(const he of Object.keys(Y))this._updateState(he,Boolean(Y[he]));this._applyStateDiff()}_updateState(Y,he){const ke=this.stateMap.get(Y);void 0!==ke?(ke.enabled!==he&&(ke.changed=!0,ke.enabled=he),ke.touched=!0):this.stateMap.set(Y,{enabled:he,changed:!0,touched:!0})}_applyStateDiff(){for(const Y of this.stateMap){const he=Y[0],ke=Y[1];ke.changed?(this._toggleClass(he,ke.enabled),ke.changed=!1):ke.touched||(ke.enabled&&this._toggleClass(he,!1),this.stateMap.delete(he)),ke.touched=!1}}_toggleClass(Y,he){(Y=Y.trim()).length>0&&Y.split(Mn).forEach(ke=>{he?this._renderer.addClass(this._ngEl.nativeElement,ke):this._renderer.removeClass(this._ngEl.nativeElement,ke)})}}return G.\u0275fac=function(Y){return new(Y||G)(w.Y36(w.ZZ4),w.Y36(w.aQg),w.Y36(w.SBq),w.Y36(w.Qsj))},G.\u0275dir=w.lG2({type:G,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),G})();class ir{constructor(ie,Y,he,ke){this.$implicit=ie,this.ngForOf=Y,this.index=he,this.count=ke}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mr=(()=>{class G{set ngForOf(Y){this._ngForOf=Y,this._ngForOfDirty=!0}set ngForTrackBy(Y){this._trackByFn=Y}get ngForTrackBy(){return this._trackByFn}constructor(Y,he,ke){this._viewContainer=Y,this._template=he,this._differs=ke,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Y){Y&&(this._template=Y)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Y=this._ngForOf;!this._differ&&Y&&(this._differ=this._differs.find(Y).create(this.ngForTrackBy))}if(this._differ){const Y=this._differ.diff(this._ngForOf);Y&&this._applyChanges(Y)}}_applyChanges(Y){const he=this._viewContainer;Y.forEachOperation((ke,gt,Rt)=>{if(null==ke.previousIndex)he.createEmbeddedView(this._template,new ir(ke.item,this._ngForOf,-1,-1),null===Rt?void 0:Rt);else if(null==Rt)he.remove(null===gt?void 0:gt);else if(null!==gt){const En=he.get(gt);he.move(En,Rt),si(En,ke)}});for(let ke=0,gt=he.length;ke<gt;ke++){const En=he.get(ke).context;En.index=ke,En.count=gt,En.ngForOf=this._ngForOf}Y.forEachIdentityChange(ke=>{si(he.get(ke.currentIndex),ke)})}static ngTemplateContextGuard(Y,he){return!0}}return G.\u0275fac=function(Y){return new(Y||G)(w.Y36(w.s_b),w.Y36(w.Rgc),w.Y36(w.ZZ4))},G.\u0275dir=w.lG2({type:G,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),G})();function si(G,ie){G.context.$implicit=ie.item}let li=(()=>{class G{constructor(Y,he){this._viewContainer=Y,this._context=new Si,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=he}set ngIf(Y){this._context.$implicit=this._context.ngIf=Y,this._updateView()}set ngIfThen(Y){$o("ngIfThen",Y),this._thenTemplateRef=Y,this._thenViewRef=null,this._updateView()}set ngIfElse(Y){$o("ngIfElse",Y),this._elseTemplateRef=Y,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Y,he){return!0}}return G.\u0275fac=function(Y){return new(Y||G)(w.Y36(w.s_b),w.Y36(w.Rgc))},G.\u0275dir=w.lG2({type:G,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),G})();class Si{constructor(){this.$implicit=null,this.ngIf=null}}function $o(G,ie){if(ie&&!ie.createEmbeddedView)throw new Error(`${G} must be a TemplateRef, but received '${(0,w.AaK)(ie)}'.`)}let jr=(()=>{class G{constructor(Y,he,ke){this._ngEl=Y,this._differs=he,this._renderer=ke,this._ngStyle=null,this._differ=null}set ngStyle(Y){this._ngStyle=Y,!this._differ&&Y&&(this._differ=this._differs.find(Y).create())}ngDoCheck(){if(this._differ){const Y=this._differ.diff(this._ngStyle);Y&&this._applyChanges(Y)}}_setStyle(Y,he){const[ke,gt]=Y.split("."),Rt=-1===ke.indexOf("-")?void 0:w.JOm.DashCase;null!=he?this._renderer.setStyle(this._ngEl.nativeElement,ke,gt?`${he}${gt}`:he,Rt):this._renderer.removeStyle(this._ngEl.nativeElement,ke,Rt)}_applyChanges(Y){Y.forEachRemovedItem(he=>this._setStyle(he.key,null)),Y.forEachAddedItem(he=>this._setStyle(he.key,he.currentValue)),Y.forEachChangedItem(he=>this._setStyle(he.key,he.currentValue))}}return G.\u0275fac=function(Y){return new(Y||G)(w.Y36(w.SBq),w.Y36(w.aQg),w.Y36(w.Qsj))},G.\u0275dir=w.lG2({type:G,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),G})(),Oa=(()=>{class G{constructor(Y){this._viewContainerRef=Y,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Y){if(Y.ngTemplateOutlet||Y.ngTemplateOutletInjector){const he=this._viewContainerRef;if(this._viewRef&&he.remove(he.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ke,ngTemplateOutletContext:gt,ngTemplateOutletInjector:Rt}=this;this._viewRef=he.createEmbeddedView(ke,gt,Rt?{injector:Rt}:void 0)}else this._viewRef=null}else this._viewRef&&Y.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return G.\u0275fac=function(Y){return new(Y||G)(w.Y36(w.s_b))},G.\u0275dir=w.lG2({type:G,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[w.TTD]}),G})();function ao(G,ie){return new w.vHH(2100,!1)}const pi=new w.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Pa=new w.OlP("DATE_PIPE_DEFAULT_OPTIONS");let va=(()=>{class G{constructor(Y,he,ke){this.locale=Y,this.defaultTimezone=he,this.defaultOptions=ke}transform(Y,he,ke,gt){if(null==Y||""===Y||Y!=Y)return null;try{return Ri(Y,he??this.defaultOptions?.dateFormat??"mediumDate",gt||this.locale,ke??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Rt){throw ao()}}}return G.\u0275fac=function(Y){return new(Y||G)(w.Y36(w.soG,16),w.Y36(pi,24),w.Y36(Pa,24))},G.\u0275pipe=w.Yjl({name:"date",type:G,pure:!0,standalone:!0}),G})(),or=(()=>{class G{constructor(Y){this._locale=Y}transform(Y,he,ke){if(!function _a(G){return!(null==G||""===G||G!=G)}(Y))return null;ke=ke||this._locale;try{return function pa(G,ie,Y){return function Hi(G,ie,Y,he,ke,gt,Rt=!1){let En="",zr=!1;if(isFinite(G)){let Er=function Ao(G){let he,ke,gt,Rt,En,ie=Math.abs(G)+"",Y=0;for((ke=ie.indexOf(We))>-1&&(ie=ie.replace(We,"")),(gt=ie.search(/e/i))>0?(ke<0&&(ke=gt),ke+=+ie.slice(gt+1),ie=ie.substring(0,gt)):ke<0&&(ke=ie.length),gt=0;ie.charAt(gt)===St;gt++);if(gt===(En=ie.length))he=[0],ke=1;else{for(En--;ie.charAt(En)===St;)En--;for(ke-=gt,he=[],Rt=0;gt<=En;gt++,Rt++)he[Rt]=Number(ie.charAt(gt))}return ke>be&&(he=he.splice(0,be-1),Y=ke-1,ke=1),{digits:he,exponent:Y,integerLen:ke}}(G);Rt&&(Er=function Qa(G){if(0===G.digits[0])return G;const ie=G.digits.length-G.integerLen;return G.exponent?G.exponent+=2:(0===ie?G.digits.push(0,0):1===ie&&G.digits.push(0),G.integerLen+=2),G}(Er));let Mr=ie.minInt,Fn=ie.minFrac,bi=ie.maxFrac;if(gt){const Ko=gt.match(He);if(null===Ko)throw new Error(`${gt} is not a valid digit info`);const co=Ko[1],Es=Ko[3],cs=Ko[5];null!=co&&(Mr=Yn(co)),null!=Es&&(Fn=Yn(Es)),null!=cs?bi=Yn(cs):null!=Es&&Fn>bi&&(bi=Fn)}!function gr(G,ie,Y){if(ie>Y)throw new Error(`The minimum number of digits after fraction (${ie}) is higher than the maximum (${Y}).`);let he=G.digits,ke=he.length-G.integerLen;const gt=Math.min(Math.max(ie,ke),Y);let Rt=gt+G.integerLen,En=he[Rt];if(Rt>0){he.splice(Math.max(G.integerLen,Rt));for(let Fn=Rt;Fn<he.length;Fn++)he[Fn]=0}else{ke=Math.max(0,ke),G.integerLen=1,he.length=Math.max(1,Rt=gt+1),he[0]=0;for(let Fn=1;Fn<Rt;Fn++)he[Fn]=0}if(En>=5)if(Rt-1<0){for(let Fn=0;Fn>Rt;Fn--)he.unshift(0),G.integerLen++;he.unshift(1),G.integerLen++}else he[Rt-1]++;for(;ke<Math.max(0,gt);ke++)he.push(0);let zr=0!==gt;const Er=ie+G.integerLen,Mr=he.reduceRight(function(Fn,bi,Ir,ui){return ui[Ir]=(bi+=Fn)<10?bi:bi-10,zr&&(0===ui[Ir]&&Ir>=Er?ui.pop():zr=!1),bi>=10?1:0},0);Mr&&(he.unshift(Mr),G.integerLen++)}(Er,Fn,bi);let Ir=Er.digits,ui=Er.integerLen;const La=Er.exponent;let Ro=[];for(zr=Ir.every(Ko=>!Ko);ui<Mr;ui++)Ir.unshift(0);for(;ui<0;ui++)Ir.unshift(0);ui>0?Ro=Ir.splice(ui,Ir.length):(Ro=Ir,Ir=[0]);const Do=[];for(Ir.length>=ie.lgSize&&Do.unshift(Ir.splice(-ie.lgSize,Ir.length).join(""));Ir.length>ie.gSize;)Do.unshift(Ir.splice(-ie.gSize,Ir.length).join(""));Ir.length&&Do.unshift(Ir.join("")),En=Do.join(yn(Y,he)),Ro.length&&(En+=yn(Y,ke)+Ro.join("")),La&&(En+=yn(Y,ct.Exponential)+"+"+La)}else En=yn(Y,ct.Infinity);return En=G<0&&!zr?ie.negPre+En+ie.negSuf:ie.posPre+En+ie.posSuf,En}(G,function Io(G,ie="-"){const Y={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},he=G.split(Yt),ke=he[0],gt=he[1],Rt=-1!==ke.indexOf(We)?ke.split(We):[ke.substring(0,ke.lastIndexOf(St)+1),ke.substring(ke.lastIndexOf(St)+1)],En=Rt[0],zr=Rt[1]||"";Y.posPre=En.substring(0,En.indexOf(cr));for(let Mr=0;Mr<zr.length;Mr++){const Fn=zr.charAt(Mr);Fn===St?Y.minFrac=Y.maxFrac=Mr+1:Fn===cr?Y.maxFrac=Mr+1:Y.posSuf+=Fn}const Er=En.split(on);if(Y.gSize=Er[1]?Er[1].length:0,Y.lgSize=Er[2]||Er[1]?(Er[2]||Er[1]).length:0,gt){const Mr=ke.length-Y.posPre.length-Y.posSuf.length,Fn=gt.indexOf(cr);Y.negPre=gt.substring(0,Fn).replace(/'/g,""),Y.negSuf=gt.slice(Fn+Mr).replace(/'/g,"")}else Y.negPre=ie+Y.posPre,Y.negSuf=Y.posSuf;return Y}(function _t(G,ie){return(0,w.cg1)(G)[w.wAp.NumberFormats][ie]}(ie,xt.Percent),yn(ie,ct.MinusSign)),ie,ct.Group,ct.Decimal,Y,!0).replace(new RegExp("%","g"),yn(ie,ct.PercentSign))}(function Gi(G){if("string"==typeof G&&!isNaN(Number(G)-parseFloat(G)))return Number(G);if("number"!=typeof G)throw new Error(`${G} is not a number`);return G}(Y),ke,he)}catch(gt){throw ao()}}}return G.\u0275fac=function(Y){return new(Y||G)(w.Y36(w.soG,16))},G.\u0275pipe=w.Yjl({name:"percent",type:G,pure:!0,standalone:!0}),G})();let no=(()=>{class G{}return G.\u0275fac=function(Y){return new(Y||G)},G.\u0275mod=w.oAB({type:G}),G.\u0275inj=w.cJS({}),G})();const Hr="browser";function Go(G){return G===Hr}let ns=(()=>{class G{}return G.\u0275prov=(0,w.Yz7)({token:G,providedIn:"root",factory:()=>new Da((0,w.LFG)(z),window)}),G})();class Da{constructor(ie,Y){this.document=ie,this.window=Y,this.offset=()=>[0,0]}setOffset(ie){this.offset=Array.isArray(ie)?()=>ie:ie}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ie){this.supportsScrolling()&&this.window.scrollTo(ie[0],ie[1])}scrollToAnchor(ie){if(!this.supportsScrolling())return;const Y=function qo(G,ie){const Y=G.getElementById(ie)||G.getElementsByName(ie)[0];if(Y)return Y;if("function"==typeof G.createTreeWalker&&G.body&&(G.body.createShadowRoot||G.body.attachShadow)){const he=G.createTreeWalker(G.body,NodeFilter.SHOW_ELEMENT);let ke=he.currentNode;for(;ke;){const gt=ke.shadowRoot;if(gt){const Rt=gt.getElementById(ie)||gt.querySelector(`[name="${ie}"]`);if(Rt)return Rt}ke=he.nextNode()}}return null}(this.document,ie);Y&&(this.scrollToElement(Y),Y.focus())}setHistoryScrollRestoration(ie){if(this.supportScrollRestoration()){const Y=this.window.history;Y&&Y.scrollRestoration&&(Y.scrollRestoration=ie)}}scrollToElement(ie){const Y=ie.getBoundingClientRect(),he=Y.left+this.window.pageXOffset,ke=Y.top+this.window.pageYOffset,gt=this.offset();this.window.scrollTo(he-gt[0],ke-gt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ie=Wo(this.window.history)||Wo(Object.getPrototypeOf(this.window.history));return!(!ie||!ie.writable&&!ie.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Wo(G){return Object.getOwnPropertyDescriptor(G,"scrollRestoration")}class rs{}},529:(k,A,E)=>{"use strict";E.d(A,{JF:()=>Li,eN:()=>it});var w=E(6895),N=E(4650),t=E(9646),I=E(9751),H=E(4351),z=E(9300),re=E(4004);class ce{}class Oe{}class M{constructor(Ve){this.normalizedNames=new Map,this.lazyUpdate=null,Ve?this.lazyInit="string"==typeof Ve?()=>{this.headers=new Map,Ve.split("\n").forEach(Ge=>{const Ht=Ge.indexOf(":");if(Ht>0){const kt=Ge.slice(0,Ht),Sn=kt.toLowerCase(),$n=Ge.slice(Ht+1).trim();this.maybeSetNormalizedName(kt,Sn),this.headers.has(Sn)?this.headers.get(Sn).push($n):this.headers.set(Sn,[$n])}})}:()=>{this.headers=new Map,Object.keys(Ve).forEach(Ge=>{let Ht=Ve[Ge];const kt=Ge.toLowerCase();"string"==typeof Ht&&(Ht=[Ht]),Ht.length>0&&(this.headers.set(kt,Ht),this.maybeSetNormalizedName(Ge,kt))})}:this.headers=new Map}has(Ve){return this.init(),this.headers.has(Ve.toLowerCase())}get(Ve){this.init();const Ge=this.headers.get(Ve.toLowerCase());return Ge&&Ge.length>0?Ge[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ve){return this.init(),this.headers.get(Ve.toLowerCase())||null}append(Ve,Ge){return this.clone({name:Ve,value:Ge,op:"a"})}set(Ve,Ge){return this.clone({name:Ve,value:Ge,op:"s"})}delete(Ve,Ge){return this.clone({name:Ve,value:Ge,op:"d"})}maybeSetNormalizedName(Ve,Ge){this.normalizedNames.has(Ge)||this.normalizedNames.set(Ge,Ve)}init(){this.lazyInit&&(this.lazyInit instanceof M?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ve=>this.applyUpdate(Ve)),this.lazyUpdate=null))}copyFrom(Ve){Ve.init(),Array.from(Ve.headers.keys()).forEach(Ge=>{this.headers.set(Ge,Ve.headers.get(Ge)),this.normalizedNames.set(Ge,Ve.normalizedNames.get(Ge))})}clone(Ve){const Ge=new M;return Ge.lazyInit=this.lazyInit&&this.lazyInit instanceof M?this.lazyInit:this,Ge.lazyUpdate=(this.lazyUpdate||[]).concat([Ve]),Ge}applyUpdate(Ve){const Ge=Ve.name.toLowerCase();switch(Ve.op){case"a":case"s":let Ht=Ve.value;if("string"==typeof Ht&&(Ht=[Ht]),0===Ht.length)return;this.maybeSetNormalizedName(Ve.name,Ge);const kt=("a"===Ve.op?this.headers.get(Ge):void 0)||[];kt.push(...Ht),this.headers.set(Ge,kt);break;case"d":const Sn=Ve.value;if(Sn){let $n=this.headers.get(Ge);if(!$n)return;$n=$n.filter(ur=>-1===Sn.indexOf(ur)),0===$n.length?(this.headers.delete(Ge),this.normalizedNames.delete(Ge)):this.headers.set(Ge,$n)}else this.headers.delete(Ge),this.normalizedNames.delete(Ge)}}forEach(Ve){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ge=>Ve(this.normalizedNames.get(Ge),this.headers.get(Ge)))}}class we{encodeKey(Ve){return je(Ve)}encodeValue(Ve){return je(Ve)}decodeKey(Ve){return decodeURIComponent(Ve)}decodeValue(Ve){return decodeURIComponent(Ve)}}const De=/%(\d[a-f0-9])/gi,Ae={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function je(vt){return encodeURIComponent(vt).replace(De,(Ve,Ge)=>Ae[Ge]??Ve)}function se(vt){return`${vt}`}class at{constructor(Ve={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ve.encoder||new we,Ve.fromString){if(Ve.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Tt(vt,Ve){const Ge=new Map;return vt.length>0&&vt.replace(/^\?/,"").split("&").forEach(kt=>{const Sn=kt.indexOf("="),[$n,ur]=-1==Sn?[Ve.decodeKey(kt),""]:[Ve.decodeKey(kt.slice(0,Sn)),Ve.decodeValue(kt.slice(Sn+1))],Nn=Ge.get($n)||[];Nn.push(ur),Ge.set($n,Nn)}),Ge}(Ve.fromString,this.encoder)}else Ve.fromObject?(this.map=new Map,Object.keys(Ve.fromObject).forEach(Ge=>{const Ht=Ve.fromObject[Ge],kt=Array.isArray(Ht)?Ht.map(se):[se(Ht)];this.map.set(Ge,kt)})):this.map=null}has(Ve){return this.init(),this.map.has(Ve)}get(Ve){this.init();const Ge=this.map.get(Ve);return Ge?Ge[0]:null}getAll(Ve){return this.init(),this.map.get(Ve)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ve,Ge){return this.clone({param:Ve,value:Ge,op:"a"})}appendAll(Ve){const Ge=[];return Object.keys(Ve).forEach(Ht=>{const kt=Ve[Ht];Array.isArray(kt)?kt.forEach(Sn=>{Ge.push({param:Ht,value:Sn,op:"a"})}):Ge.push({param:Ht,value:kt,op:"a"})}),this.clone(Ge)}set(Ve,Ge){return this.clone({param:Ve,value:Ge,op:"s"})}delete(Ve,Ge){return this.clone({param:Ve,value:Ge,op:"d"})}toString(){return this.init(),this.keys().map(Ve=>{const Ge=this.encoder.encodeKey(Ve);return this.map.get(Ve).map(Ht=>Ge+"="+this.encoder.encodeValue(Ht)).join("&")}).filter(Ve=>""!==Ve).join("&")}clone(Ve){const Ge=new at({encoder:this.encoder});return Ge.cloneFrom=this.cloneFrom||this,Ge.updates=(this.updates||[]).concat(Ve),Ge}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ve=>this.map.set(Ve,this.cloneFrom.map.get(Ve))),this.updates.forEach(Ve=>{switch(Ve.op){case"a":case"s":const Ge=("a"===Ve.op?this.map.get(Ve.param):void 0)||[];Ge.push(se(Ve.value)),this.map.set(Ve.param,Ge);break;case"d":if(void 0===Ve.value){this.map.delete(Ve.param);break}{let Ht=this.map.get(Ve.param)||[];const kt=Ht.indexOf(se(Ve.value));-1!==kt&&Ht.splice(kt,1),Ht.length>0?this.map.set(Ve.param,Ht):this.map.delete(Ve.param)}}}),this.cloneFrom=this.updates=null)}}class Dt{constructor(){this.map=new Map}set(Ve,Ge){return this.map.set(Ve,Ge),this}get(Ve){return this.map.has(Ve)||this.map.set(Ve,Ve.defaultValue()),this.map.get(Ve)}delete(Ve){return this.map.delete(Ve),this}has(Ve){return this.map.has(Ve)}keys(){return this.map.keys()}}function Ee(vt){return typeof ArrayBuffer<"u"&&vt instanceof ArrayBuffer}function Ye(vt){return typeof Blob<"u"&&vt instanceof Blob}function Qe(vt){return typeof FormData<"u"&&vt instanceof FormData}class xt{constructor(Ve,Ge,Ht,kt){let Sn;if(this.url=Ge,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ve.toUpperCase(),function Pe(vt){switch(vt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||kt?(this.body=void 0!==Ht?Ht:null,Sn=kt):Sn=Ht,Sn&&(this.reportProgress=!!Sn.reportProgress,this.withCredentials=!!Sn.withCredentials,Sn.responseType&&(this.responseType=Sn.responseType),Sn.headers&&(this.headers=Sn.headers),Sn.context&&(this.context=Sn.context),Sn.params&&(this.params=Sn.params)),this.headers||(this.headers=new M),this.context||(this.context=new Dt),this.params){const $n=this.params.toString();if(0===$n.length)this.urlWithParams=Ge;else{const ur=Ge.indexOf("?");this.urlWithParams=Ge+(-1===ur?"?":ur<Ge.length-1?"&":"")+$n}}else this.params=new at,this.urlWithParams=Ge}serializeBody(){return null===this.body?null:Ee(this.body)||Ye(this.body)||Qe(this.body)||function ze(vt){return typeof URLSearchParams<"u"&&vt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof at?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Qe(this.body)?null:Ye(this.body)?this.body.type||null:Ee(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof at?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ve={}){const Ge=Ve.method||this.method,Ht=Ve.url||this.url,kt=Ve.responseType||this.responseType,Sn=void 0!==Ve.body?Ve.body:this.body,$n=void 0!==Ve.withCredentials?Ve.withCredentials:this.withCredentials,ur=void 0!==Ve.reportProgress?Ve.reportProgress:this.reportProgress;let Nn=Ve.headers||this.headers,wr=Ve.params||this.params;const Bi=Ve.context??this.context;return void 0!==Ve.setHeaders&&(Nn=Object.keys(Ve.setHeaders).reduce((Je,He)=>Je.set(He,Ve.setHeaders[He]),Nn)),Ve.setParams&&(wr=Object.keys(Ve.setParams).reduce((Je,He)=>Je.set(He,Ve.setParams[He]),wr)),new xt(Ge,Ht,Sn,{params:wr,headers:Nn,context:Bi,reportProgress:ur,responseType:kt,withCredentials:$n})}}var pt=(()=>((pt=pt||{})[pt.Sent=0]="Sent",pt[pt.UploadProgress=1]="UploadProgress",pt[pt.ResponseHeader=2]="ResponseHeader",pt[pt.DownloadProgress=3]="DownloadProgress",pt[pt.Response=4]="Response",pt[pt.User=5]="User",pt))();class Ne{constructor(Ve,Ge=200,Ht="OK"){this.headers=Ve.headers||new M,this.status=void 0!==Ve.status?Ve.status:Ge,this.statusText=Ve.statusText||Ht,this.url=Ve.url||null,this.ok=this.status>=200&&this.status<300}}class Le extends Ne{constructor(Ve={}){super(Ve),this.type=pt.ResponseHeader}clone(Ve={}){return new Le({headers:Ve.headers||this.headers,status:void 0!==Ve.status?Ve.status:this.status,statusText:Ve.statusText||this.statusText,url:Ve.url||this.url||void 0})}}class cn extends Ne{constructor(Ve={}){super(Ve),this.type=pt.Response,this.body=void 0!==Ve.body?Ve.body:null}clone(Ve={}){return new cn({body:void 0!==Ve.body?Ve.body:this.body,headers:Ve.headers||this.headers,status:void 0!==Ve.status?Ve.status:this.status,statusText:Ve.statusText||this.statusText,url:Ve.url||this.url||void 0})}}class ct extends Ne{constructor(Ve){super(Ve,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ve.url||"(unknown url)"}`:`Http failure response for ${Ve.url||"(unknown url)"}: ${Ve.status} ${Ve.statusText}`,this.error=Ve.error||null}}function qe(vt,Ve){return{body:Ve,headers:vt.headers,context:vt.context,observe:vt.observe,params:vt.params,reportProgress:vt.reportProgress,responseType:vt.responseType,withCredentials:vt.withCredentials}}let it=(()=>{class vt{constructor(Ge){this.handler=Ge}request(Ge,Ht,kt={}){let Sn;if(Ge instanceof xt)Sn=Ge;else{let Nn,wr;Nn=kt.headers instanceof M?kt.headers:new M(kt.headers),kt.params&&(wr=kt.params instanceof at?kt.params:new at({fromObject:kt.params})),Sn=new xt(Ge,Ht,void 0!==kt.body?kt.body:null,{headers:Nn,context:kt.context,params:wr,reportProgress:kt.reportProgress,responseType:kt.responseType||"json",withCredentials:kt.withCredentials})}const $n=(0,t.of)(Sn).pipe((0,H.b)(Nn=>this.handler.handle(Nn)));if(Ge instanceof xt||"events"===kt.observe)return $n;const ur=$n.pipe((0,z.h)(Nn=>Nn instanceof cn));switch(kt.observe||"body"){case"body":switch(Sn.responseType){case"arraybuffer":return ur.pipe((0,re.U)(Nn=>{if(null!==Nn.body&&!(Nn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Nn.body}));case"blob":return ur.pipe((0,re.U)(Nn=>{if(null!==Nn.body&&!(Nn.body instanceof Blob))throw new Error("Response is not a Blob.");return Nn.body}));case"text":return ur.pipe((0,re.U)(Nn=>{if(null!==Nn.body&&"string"!=typeof Nn.body)throw new Error("Response is not a string.");return Nn.body}));default:return ur.pipe((0,re.U)(Nn=>Nn.body))}case"response":return ur;default:throw new Error(`Unreachable: unhandled observe type ${kt.observe}}`)}}delete(Ge,Ht={}){return this.request("DELETE",Ge,Ht)}get(Ge,Ht={}){return this.request("GET",Ge,Ht)}head(Ge,Ht={}){return this.request("HEAD",Ge,Ht)}jsonp(Ge,Ht){return this.request("JSONP",Ge,{params:(new at).append(Ht,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ge,Ht={}){return this.request("OPTIONS",Ge,Ht)}patch(Ge,Ht,kt={}){return this.request("PATCH",Ge,qe(kt,Ht))}post(Ge,Ht,kt={}){return this.request("POST",Ge,qe(kt,Ht))}put(Ge,Ht,kt={}){return this.request("PUT",Ge,qe(kt,Ht))}}return vt.\u0275fac=function(Ge){return new(Ge||vt)(N.LFG(ce))},vt.\u0275prov=N.Yz7({token:vt,factory:vt.\u0275fac}),vt})();function st(vt,Ve){return Ve(vt)}function nt(vt,Ve){return(Ge,Ht)=>Ve.intercept(Ge,{handle:kt=>vt(kt,Ht)})}const At=new N.OlP("HTTP_INTERCEPTORS"),Wt=new N.OlP("HTTP_INTERCEPTOR_FNS");function zt(){let vt=null;return(Ve,Ge)=>(null===vt&&(vt=((0,N.f3M)(At,{optional:!0})??[]).reduceRight(nt,st)),vt(Ve,Ge))}let An=(()=>{class vt extends ce{constructor(Ge,Ht){super(),this.backend=Ge,this.injector=Ht,this.chain=null}handle(Ge){if(null===this.chain){const Ht=Array.from(new Set(this.injector.get(Wt)));this.chain=Ht.reduceRight((kt,Sn)=>function wt(vt,Ve,Ge){return(Ht,kt)=>Ge.runInContext(()=>Ve(Ht,Sn=>vt(Sn,kt)))}(kt,Sn,this.injector),st)}return this.chain(Ge,Ht=>this.backend.handle(Ht))}}return vt.\u0275fac=function(Ge){return new(Ge||vt)(N.LFG(Oe),N.LFG(N.lqb))},vt.\u0275prov=N.Yz7({token:vt,factory:vt.\u0275fac}),vt})();const Sr=/^\)\]\}',?\n/;let er=(()=>{class vt{constructor(Ge){this.xhrFactory=Ge}handle(Ge){if("JSONP"===Ge.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new I.y(Ht=>{const kt=this.xhrFactory.build();if(kt.open(Ge.method,Ge.urlWithParams),Ge.withCredentials&&(kt.withCredentials=!0),Ge.headers.forEach((be,We)=>kt.setRequestHeader(be,We.join(","))),Ge.headers.has("Accept")||kt.setRequestHeader("Accept","application/json, text/plain, */*"),!Ge.headers.has("Content-Type")){const be=Ge.detectContentTypeHeader();null!==be&&kt.setRequestHeader("Content-Type",be)}if(Ge.responseType){const be=Ge.responseType.toLowerCase();kt.responseType="json"!==be?be:"text"}const Sn=Ge.serializeBody();let $n=null;const ur=()=>{if(null!==$n)return $n;const be=kt.statusText||"OK",We=new M(kt.getAllResponseHeaders()),St=function Xn(vt){return"responseURL"in vt&&vt.responseURL?vt.responseURL:/^X-Request-URL:/m.test(vt.getAllResponseHeaders())?vt.getResponseHeader("X-Request-URL"):null}(kt)||Ge.url;return $n=new Le({headers:We,status:kt.status,statusText:be,url:St}),$n},Nn=()=>{let{headers:be,status:We,statusText:St,url:Yt}=ur(),on=null;204!==We&&(on=typeof kt.response>"u"?kt.responseText:kt.response),0===We&&(We=on?200:0);let cr=We>=200&&We<300;if("json"===Ge.responseType&&"string"==typeof on){const kr=on;on=on.replace(Sr,"");try{on=""!==on?JSON.parse(on):null}catch(Re){on=kr,cr&&(cr=!1,on={error:Re,text:on})}}cr?(Ht.next(new cn({body:on,headers:be,status:We,statusText:St,url:Yt||void 0})),Ht.complete()):Ht.error(new ct({error:on,headers:be,status:We,statusText:St,url:Yt||void 0}))},wr=be=>{const{url:We}=ur(),St=new ct({error:be,status:kt.status||0,statusText:kt.statusText||"Unknown Error",url:We||void 0});Ht.error(St)};let Bi=!1;const Je=be=>{Bi||(Ht.next(ur()),Bi=!0);let We={type:pt.DownloadProgress,loaded:be.loaded};be.lengthComputable&&(We.total=be.total),"text"===Ge.responseType&&kt.responseText&&(We.partialText=kt.responseText),Ht.next(We)},He=be=>{let We={type:pt.UploadProgress,loaded:be.loaded};be.lengthComputable&&(We.total=be.total),Ht.next(We)};return kt.addEventListener("load",Nn),kt.addEventListener("error",wr),kt.addEventListener("timeout",wr),kt.addEventListener("abort",wr),Ge.reportProgress&&(kt.addEventListener("progress",Je),null!==Sn&&kt.upload&&kt.upload.addEventListener("progress",He)),kt.send(Sn),Ht.next({type:pt.Sent}),()=>{kt.removeEventListener("error",wr),kt.removeEventListener("abort",wr),kt.removeEventListener("load",Nn),kt.removeEventListener("timeout",wr),Ge.reportProgress&&(kt.removeEventListener("progress",Je),null!==Sn&&kt.upload&&kt.upload.removeEventListener("progress",He)),kt.readyState!==kt.DONE&&kt.abort()}})}}return vt.\u0275fac=function(Ge){return new(Ge||vt)(N.LFG(w.JF))},vt.\u0275prov=N.Yz7({token:vt,factory:vt.\u0275fac}),vt})();const di=new N.OlP("XSRF_ENABLED"),Ti=new N.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),pr=new N.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class bt{}let Ka=(()=>{class vt{constructor(Ge,Ht,kt){this.doc=Ge,this.platform=Ht,this.cookieName=kt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ge=this.doc.cookie||"";return Ge!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,w.Mx)(Ge,this.cookieName),this.lastCookieString=Ge),this.lastToken}}return vt.\u0275fac=function(Ge){return new(Ge||vt)(N.LFG(w.K0),N.LFG(N.Lbi),N.LFG(Ti))},vt.\u0275prov=N.Yz7({token:vt,factory:vt.\u0275fac}),vt})();function zn(vt,Ve){const Ge=vt.url.toLowerCase();if(!(0,N.f3M)(di)||"GET"===vt.method||"HEAD"===vt.method||Ge.startsWith("http://")||Ge.startsWith("https://"))return Ve(vt);const Ht=(0,N.f3M)(bt).getToken(),kt=(0,N.f3M)(pr);return null!=Ht&&!vt.headers.has(kt)&&(vt=vt.clone({headers:vt.headers.set(kt,Ht)})),Ve(vt)}var nn=(()=>((nn=nn||{})[nn.Interceptors=0]="Interceptors",nn[nn.LegacyInterceptors=1]="LegacyInterceptors",nn[nn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",nn[nn.NoXsrfProtection=3]="NoXsrfProtection",nn[nn.JsonpSupport=4]="JsonpSupport",nn[nn.RequestsMadeViaParent=5]="RequestsMadeViaParent",nn))();function Ri(vt,Ve){return{\u0275kind:vt,\u0275providers:Ve}}function Cn(...vt){const Ve=[it,er,An,{provide:ce,useExisting:An},{provide:Oe,useExisting:er},{provide:Wt,useValue:zn,multi:!0},{provide:di,useValue:!0},{provide:bt,useClass:Ka}];for(const Ge of vt)Ve.push(...Ge.\u0275providers);return(0,N.MR2)(Ve)}const nr=new N.OlP("LEGACY_INTERCEPTOR_FN");let Li=(()=>{class vt{}return vt.\u0275fac=function(Ge){return new(Ge||vt)},vt.\u0275mod=N.oAB({type:vt}),vt.\u0275inj=N.cJS({providers:[Cn(Ri(nn.LegacyInterceptors,[{provide:nr,useFactory:zt},{provide:Wt,useExisting:nr,multi:!0}]))]}),vt})()},4650:(k,A,E)=>{"use strict";E.d(A,{$8M:()=>Jo,$WT:()=>ga,$Z:()=>Gg,AFp:()=>Z_,ALo:()=>f_,AaK:()=>ce,BQk:()=>fp,CHM:()=>yr,CRH:()=>x_,CZH:()=>xv,CqO:()=>p,D6c:()=>xw,DjV:()=>ov,EJc:()=>z1,EpF:()=>Dm,F$t:()=>Ze,F4k:()=>c,FYo:()=>Jp,FiY:()=>ca,Gf:()=>D_,GfV:()=>Xp,Gpc:()=>Fe,Hsn:()=>yt,Ikx:()=>Ly,JOm:()=>Ha,Jf7:()=>$d,Jzz:()=>Fy,KtG:()=>xa,LFG:()=>lr,LSH:()=>ec,Lbi:()=>L1,Lck:()=>Vb,MAs:()=>zf,MGl:()=>jt,MMx:()=>u0,MR2:()=>Vd,NdJ:()=>n,O4$:()=>us,OlP:()=>ii,Oqu:()=>Tm,P3R:()=>jc,PXZ:()=>nw,Q6J:()=>jf,QGY:()=>No,QbO:()=>B1,Qsj:()=>_g,QtT:()=>W0,R0b:()=>Iu,RDi:()=>Yr,Rgc:()=>$y,SBq:()=>Du,SDv:()=>G0,Sil:()=>H1,Suo:()=>E_,TTD:()=>wa,TgZ:()=>od,Tol:()=>lh,Udp:()=>qf,VKq:()=>i_,W1O:()=>M_,WLB:()=>o_,X6Q:()=>sw,XFs:()=>Jt,Xpm:()=>kr,Xts:()=>Ys,Y36:()=>Jc,YKP:()=>Y0,YNc:()=>Uf,Yjl:()=>Ao,Yz7:()=>yn,Z0I:()=>et,ZZ4:()=>R0,_Bn:()=>Z0,_UZ:()=>ah,_Vd:()=>oc,_c5:()=>Dw,_uU:()=>yp,aQg:()=>F0,c2e:()=>V1,cJS:()=>Vt,cg1:()=>Vy,dDg:()=>Q1,dqk:()=>zn,eFA:()=>sb,eJc:()=>_0,ekj:()=>xm,eoX:()=>rb,evT:()=>ef,f3M:()=>vt,g9A:()=>K_,gxx:()=>Ld,h0i:()=>Fm,hGG:()=>Ew,hij:()=>Mm,iGM:()=>C_,ifc:()=>wr,ip1:()=>q_,jDz:()=>J0,kEZ:()=>a_,kL8:()=>_v,kYT:()=>fa,kcU:()=>Pl,l5B:()=>s_,lG2:()=>Qa,lcZ:()=>g_,lqb:()=>ic,lri:()=>tb,n5z:()=>hs,oAB:()=>pa,oJD:()=>jp,oxw:()=>de,pQV:()=>n0,qLn:()=>Wc,qOj:()=>ap,qZA:()=>ad,qbA:()=>l_,rWj:()=>nb,s9C:()=>Ft,sBO:()=>lw,s_b:()=>Cv,soG:()=>Sv,tb:()=>ob,tp0:()=>ja,uIk:()=>Ff,vHH:()=>se,vpe:()=>pd,wAp:()=>Hn,xi3:()=>m_,xp6:()=>rf,ynx:()=>pp,z2F:()=>Nv,zSh:()=>nc,zs3:()=>lc});var w=E(7579),N=E(727),t=E(9751),I=E(6451),H=E(3099);function z(i){for(let a in i)if(i[a]===z)return a;throw Error("Could not find renamed property on target object.")}function re(i,a){for(const l in a)a.hasOwnProperty(l)&&!i.hasOwnProperty(l)&&(i[l]=a[l])}function ce(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ce).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const a=i.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function Oe(i,a){return null==i||""===i?null===a?"":a:null==a||""===a?i:i+" "+a}const M=z({__forward_ref__:z});function Fe(i){return i.__forward_ref__=Fe,i.toString=function(){return ce(this())},i}function we(i){return Tt(i)?i():i}function Tt(i){return"function"==typeof i&&i.hasOwnProperty(M)&&i.__forward_ref__===Fe}function De(i){return i&&!!i.\u0275providers}const je="https://g.co/ng/security#xss";class se extends Error{constructor(a,l){super(at(a,l)),this.code=a}}function at(i,a){return`NG0${Math.abs(i)}${a?": "+a.trim():""}`}function mt(i){return"string"==typeof i?i:null==i?"":String(i)}function Qe(i,a){throw new se(-201,!1)}function zt(i,a,l,f){throw new Error(`ASSERTION ERROR: ${i}`+(null==f?"":` [Expected=> ${l} ${f} ${a} <=Actual]`))}function yn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Vt(i){return{providers:i.providers||[],imports:i.imports||[]}}function Te(i){return It(i,Sr)||It(i,er)}function et(i){return null!==Te(i)}function It(i,a){return i.hasOwnProperty(a)?i[a]:null}function xr(i){return i&&(i.hasOwnProperty(Xn)||i.hasOwnProperty(di))?i[Xn]:null}const Sr=z({\u0275prov:z}),Xn=z({\u0275inj:z}),er=z({ngInjectableDef:z}),di=z({ngInjectorDef:z});var Jt=(()=>((Jt=Jt||{})[Jt.Default=0]="Default",Jt[Jt.Host=1]="Host",Jt[Jt.Self=2]="Self",Jt[Jt.SkipSelf=4]="SkipSelf",Jt[Jt.Optional=8]="Optional",Jt))();let Ti;function pr(i){const a=Ti;return Ti=i,a}function bt(i,a,l){const f=Te(i);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:l&Jt.Optional?null:void 0!==a?a:void Qe(ce(i))}const zn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Cn={},fr="__NG_DI_FLAG__",nr="ngTempTokenPath",ai="ngTokenPath",Ja=/\n/gm,br="\u0275",oa="__source";let mn;function Fi(i){const a=mn;return mn=i,a}function Li(i,a=Jt.Default){if(void 0===mn)throw new se(-203,!1);return null===mn?bt(i,void 0,a):mn.get(i,a&Jt.Optional?null:void 0,a)}function lr(i,a=Jt.Default){return(function Pr(){return Ti}()||Li)(we(i),a)}function vt(i,a=Jt.Default){return lr(i,Ve(a))}function Ve(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Ge(i){const a=[];for(let l=0;l<i.length;l++){const f=we(i[l]);if(Array.isArray(f)){if(0===f.length)throw new se(900,!1);let y,x=Jt.Default;for(let P=0;P<f.length;P++){const U=f[P],Z=kt(U);"number"==typeof Z?-1===Z?y=U.token:x|=Z:y=U}a.push(lr(y,x))}else a.push(lr(f))}return a}function Ht(i,a){return i[fr]=a,i.prototype[fr]=a,i}function kt(i){return i[fr]}function ur(i){return{toString:i}.toString()}var Nn=(()=>((Nn=Nn||{})[Nn.OnPush=0]="OnPush",Nn[Nn.Default=1]="Default",Nn))(),wr=(()=>{return(i=wr||(wr={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",wr;var i})();const Bi={},Je=[],He=z({\u0275cmp:z}),be=z({\u0275dir:z}),We=z({\u0275pipe:z}),St=z({\u0275mod:z}),Yt=z({\u0275fac:z}),on=z({__NG_ELEMENT_ID__:z});let cr=0;function kr(i){return ur(()=>{const l=!0===i.standalone,f={},y={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:f,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Nn.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||Je,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||wr.Emulated,id:"c"+cr++,styles:i.styles||Je,_:null,setInput:null,schemas:i.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},x=i.dependencies,P=i.features;return y.inputs=Io(i.inputs,f),y.outputs=Io(i.outputs),P&&P.forEach(U=>U(y)),y.directiveDefs=x?()=>("function"==typeof x?x():x).map(Hi).filter(Mo):null,y.pipeDefs=x?()=>("function"==typeof x?x():x).map(Ln).filter(Mo):null,y})}function Hi(i){return gr(i)||Yn(i)}function Mo(i){return null!==i}function pa(i){return ur(()=>({type:i.type,bootstrap:i.bootstrap||Je,declarations:i.declarations||Je,imports:i.imports||Je,exports:i.exports||Je,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function fa(i,a){return ur(()=>{const l=ei(i,!0);l.declarations=a.declarations||Je,l.imports=a.imports||Je,l.exports=a.exports||Je})}function Io(i,a){if(null==i)return Bi;const l={};for(const f in i)if(i.hasOwnProperty(f)){let y=i[f],x=y;Array.isArray(y)&&(x=y[1],y=y[0]),l[y]=f,a&&(a[y]=x)}return l}const Qa=kr;function Ao(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function gr(i){return i[He]||null}function Yn(i){return i[be]||null}function Ln(i){return i[We]||null}function ga(i){const a=gr(i)||Yn(i)||Ln(i);return null!==a&&a.standalone}function ei(i,a){const l=i[St]||null;if(!l&&!0===a)throw new Error(`Type ${ce(i)} does not have '\u0275mod' property.`);return l}const vo=0,dn=1,Mn=2,Rr=3,xi=4,aa=5,hi=6,to=7,ir=8,mr=9,si=10,_n=11,li=12,Si=13,$o=14,Mi=15,Rn=16,Vr=17,Aa=18,Oo=19,sa=20,ol=21,jr=22,al=1,ao=2,ma=7,Xa=8,es=9,Vi=10;function $i(i){return Array.isArray(i)&&"object"==typeof i[al]}function Me(i){return Array.isArray(i)&&!0===i[al]}function so(i){return 0!=(4&i.flags)}function Ue(i){return i.componentOffset>-1}function ar(i){return 1==(1&i.flags)}function pi(i){return null!==i.template}function Pa(i){return 0!=(256&i[Mn])}function Go(i,a){return i.hasOwnProperty(Yt)?i[Yt]:null}class lo{constructor(a,l,f){this.previousValue=a,this.currentValue=l,this.firstChange=f}isFirstChange(){return this.firstChange}}function wa(){return Ca}function Ca(i){return i.type.prototype.ngOnChanges&&(i.setInput=ns),Bs}function Bs(){const i=Wo(this),a=i?.current;if(a){const l=i.previous;if(l===Bi)i.previous=a;else for(let f in a)l[f]=a[f];i.current=null,this.ngOnChanges(a)}}function ns(i,a,l,f){const y=this.declaredInputs[l],x=Wo(i)||function qo(i,a){return i[Da]=a}(i,{previous:Bi,current:null}),P=x.current||(x.current={}),U=x.previous,Z=U[y];P[y]=new lo(Z&&Z.currentValue,a,U===Bi),i[f]=a}wa.ngInherit=!0;const Da="__ngSimpleChanges__";function Wo(i){return i[Da]||null}const Zr=function(i,a,l){},la="svg";function Ai(i){for(;Array.isArray(i);)i=i[vo];return i}function uo(i,a){return Ai(a[i])}function Cr(i,a){return Ai(a[i.index])}function bo(i,a){return i.data[a]}function is(i,a){return i[a]}function Tr(i,a){const l=a[i];return $i(l)?l:l[vo]}function wo(i){return 64==(64&i[Mn])}function Dr(i,a){return null==a?null:i[a]}function Lr(i){i[Aa]=0}function ro(i,a){i[aa]+=a;let l=i,f=i[Rr];for(;null!==f&&(1===a&&1===l[aa]||-1===a&&0===l[aa]);)f[aa]+=a,l=f,f=f[Rr]}const Pn={lFrame:au(null),bindingsEnabled:!0};function W(){return Pn.bindingsEnabled}function ut(){return Pn.lFrame.lView}function On(){return Pn.lFrame.tView}function yr(i){return Pn.lFrame.contextLView=i,i[ir]}function xa(i){return Pn.lFrame.contextLView=null,i}function ti(){let i=Zo();for(;null!==i&&64===i.type;)i=i.parent;return i}function Zo(){return Pn.lFrame.currentTNode}function fi(){const i=Pn.lFrame,a=i.currentTNode;return i.isParent?a:a.parent}function Sa(i,a){const l=Pn.lFrame;l.currentTNode=i,l.isParent=a}function ru(){return Pn.lFrame.isParent}function Us(){Pn.lFrame.isParent=!1}function ni(){const i=Pn.lFrame;let a=i.bindingRootIndex;return-1===a&&(a=i.bindingRootIndex=i.tView.bindingStartIndex),a}function Po(){return Pn.lFrame.bindingIndex}function Yo(){return Pn.lFrame.bindingIndex++}function Zi(i){const a=Pn.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+i,l}function Il(i){Pn.lFrame.inI18n=i}function zs(i,a){const l=Pn.lFrame;l.bindingIndex=l.bindingRootIndex=i,Al(a)}function Al(i){Pn.lFrame.currentDirectiveIndex=i}function Qr(){return Pn.lFrame.currentQueryIndex}function ua(i){Pn.lFrame.currentQueryIndex=i}function Ol(i){const a=i[dn];return 2===a.type?a.declTNode:1===a.type?i[hi]:null}function Pu(i,a,l){if(l&Jt.SkipSelf){let y=a,x=i;for(;!(y=y.parent,null!==y||l&Jt.Host||(y=Ol(x),null===y||(x=x[Mi],10&y.type))););if(null===y)return!1;a=y,i=x}const f=Pn.lFrame=ws();return f.currentTNode=a,f.lView=i,!0}function ul(i){const a=ws(),l=i[dn];Pn.lFrame=a,a.currentTNode=l.firstChild,a.lView=i,a.tView=l,a.contextLView=i,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function ws(){const i=Pn.lFrame,a=null===i?null:i.child;return null===a?au(i):a}function au(i){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=a),a}function ko(){const i=Pn.lFrame;return Pn.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const cl=ko;function ku(){const i=ko();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function ri(){return Pn.lFrame.selectedIndex}function ls(i){Pn.lFrame.selectedIndex=i}function Xr(){const i=Pn.lFrame;return bo(i.tView,i.selectedIndex)}function us(){Pn.lFrame.currentNamespace=la}function Pl(){!function Cs(){Pn.lFrame.currentNamespace=null}()}function Hs(i,a){for(let l=a.directiveStart,f=a.directiveEnd;l<f;l++){const x=i.data[l].type.prototype,{ngAfterContentInit:P,ngAfterContentChecked:U,ngAfterViewInit:Z,ngAfterViewChecked:oe,ngOnDestroy:pe}=x;P&&(i.contentHooks||(i.contentHooks=[])).push(-l,P),U&&((i.contentHooks||(i.contentHooks=[])).push(l,U),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(l,U)),Z&&(i.viewHooks||(i.viewHooks=[])).push(-l,Z),oe&&((i.viewHooks||(i.viewHooks=[])).push(l,oe),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(l,oe)),null!=pe&&(i.destroyHooks||(i.destroyHooks=[])).push(l,pe)}}function $s(i,a,l){_i(i,a,3,l)}function su(i,a,l,f){(3&i[Mn])===l&&_i(i,a,l,f)}function hl(i,a){let l=i[Mn];(3&l)===a&&(l&=2047,l+=1,i[Mn]=l)}function _i(i,a,l,f){const x=f??-1,P=a.length-1;let U=0;for(let Z=void 0!==f?65535&i[Aa]:0;Z<P;Z++)if("number"==typeof a[Z+1]){if(U=a[Z],null!=f&&U>=f)break}else a[Z]<0&&(i[Aa]+=65536),(U<x||-1==x)&&(G(i,l,a,Z),i[Aa]=(4294901760&i[Aa])+Z+2),Z++}function G(i,a,l,f){const y=l[f]<0,x=l[f+1],U=i[y?-l[f]:l[f]];if(y){if(i[Mn]>>11<i[Aa]>>16&&(3&i[Mn])===a){i[Mn]+=2048,Zr(4,U,x);try{x.call(U)}finally{Zr(5,U,x)}}}else{Zr(4,U,x);try{x.call(U)}finally{Zr(5,U,x)}}}const ie=-1;class Y{constructor(a,l,f){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=f}}function Fn(i,a,l){let f=0;for(;f<l.length;){const y=l[f];if("number"==typeof y){if(0!==y)break;f++;const x=l[f++],P=l[f++],U=l[f++];i.setAttribute(a,P,U,x)}else{const x=y,P=l[++f];Ir(x)?i.setProperty(a,x,P):i.setAttribute(a,x,P),f++}}return f}function bi(i){return 3===i||4===i||6===i}function Ir(i){return 64===i.charCodeAt(0)}function ui(i,a){if(null!==a&&0!==a.length)if(null===i||0===i.length)i=a.slice();else{let l=-1;for(let f=0;f<a.length;f++){const y=a[f];"number"==typeof y?l=y:0===l||La(i,l,y,null,-1===l||2===l?a[++f]:null)}}return i}function La(i,a,l,f,y){let x=0,P=i.length;if(-1===a)P=-1;else for(;x<i.length;){const U=i[x++];if("number"==typeof U){if(U===a){P=-1;break}if(U>a){P=x-1;break}}}for(;x<i.length;){const U=i[x];if("number"==typeof U)break;if(U===l){if(null===f)return void(null!==y&&(i[x+1]=y));if(f===i[x+1])return void(i[x+2]=y)}x++,null!==f&&x++,null!==y&&x++}-1!==P&&(i.splice(P,0,a),x=P+1),i.splice(x++,0,l),null!==f&&i.splice(x++,0,f),null!==y&&i.splice(x++,0,y)}function Ro(i){return i!==ie}function Do(i){return 32767&i}function co(i,a){let l=function Ko(i){return i>>16}(i),f=a;for(;l>0;)f=f[Mi],l--;return f}let Es=!0;function cs(i){const a=Es;return Es=i,a}const ho=255,lu=5;let Ba=0;const Fo={};function fl(i,a){const l=Yi(i,a);if(-1!==l)return l;const f=a[dn];f.firstCreatePass&&(i.injectorIndex=a.length,Kn(f.data,i),Kn(a,null),Kn(f.blueprint,null));const y=ds(i,a),x=i.injectorIndex;if(Ro(y)){const P=Do(y),U=co(y,a),Z=U[dn].data;for(let oe=0;oe<8;oe++)a[x+oe]=U[P+oe]|Z[P+oe]}return a[x+8]=y,x}function Kn(i,a){i.push(0,0,0,0,0,0,0,0,a)}function Yi(i,a){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===a[i.injectorIndex+8]?-1:i.injectorIndex}function ds(i,a){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let l=0,f=null,y=a;for(;null!==y;){if(f=Lu(y),null===f)return ie;if(l++,y=y[Mi],-1!==f.injectorIndex)return f.injectorIndex|l<<16}return ie}function Na(i,a,l){!function Cc(i,a,l){let f;"string"==typeof l?f=l.charCodeAt(0)||0:l.hasOwnProperty(on)&&(f=l[on]),null==f&&(f=l[on]=Ba++);const y=f&ho;a.data[i+(y>>lu)]|=1<<y}(i,a,l)}function Lo(i,a,l){if(l&Jt.Optional||void 0!==i)return i;Qe()}function kl(i,a,l,f){if(l&Jt.Optional&&void 0===f&&(f=null),!(l&(Jt.Self|Jt.Host))){const y=i[mr],x=pr(void 0);try{return y?y.get(a,f,l&Jt.Optional):bt(a,f,l&Jt.Optional)}finally{pr(x)}}return Lo(f,0,l)}function sr(i,a,l,f=Jt.Default,y){if(null!==i){if(1024&a[Mn]){const P=function Fl(i,a,l,f,y){let x=i,P=a;for(;null!==x&&null!==P&&1024&P[Mn]&&!(256&P[Mn]);){const U=Dc(x,P,l,f|Jt.Self,Fo);if(U!==Fo)return U;let Z=x.parent;if(!Z){const oe=P[ol];if(oe){const pe=oe.get(l,Fo,f);if(pe!==Fo)return pe}Z=Lu(P),P=P[Mi]}x=Z}return y}(i,a,l,f,Fo);if(P!==Fo)return P}const x=Dc(i,a,l,f,Fo);if(x!==Fo)return x}return kl(a,l,f,y)}function Dc(i,a,l,f,y){const x=function Gs(i){if("string"==typeof i)return i.charCodeAt(0)||0;const a=i.hasOwnProperty(on)?i[on]:void 0;return"number"==typeof a?a>=0?a&ho:Bo:a}(l);if("function"==typeof x){if(!Pu(a,i,f))return f&Jt.Host?Lo(y,0,f):kl(a,l,f,y);try{const P=x(f);if(null!=P||f&Jt.Optional)return P;Qe()}finally{cl()}}else if("number"==typeof x){let P=null,U=Yi(i,a),Z=ie,oe=f&Jt.Host?a[Rn][hi]:null;for((-1===U||f&Jt.SkipSelf)&&(Z=-1===U?ds(i,a):a[U+8],Z!==ie&&Eo(f,!1)?(P=a[dn],U=Do(Z),a=co(Z,a)):U=-1);-1!==U;){const pe=a[dn];if(Rl(x,U,pe.data)){const Ie=wi(U,a,l,P,f,oe);if(Ie!==Fo)return Ie}Z=a[U+8],Z!==ie&&Eo(f,a[dn].data[U+8]===oe)&&Rl(x,U,a)?(P=pe,U=Do(Z),a=co(Z,a)):U=-1}}return y}function wi(i,a,l,f,y,x){const P=a[dn],U=P.data[i+8],pe=xs(U,P,l,null==f?Ue(U)&&Es:f!=P&&0!=(3&U.type),y&Jt.Host&&x===U);return null!==pe?Va(a,P,pe,U):Fo}function xs(i,a,l,f,y){const x=i.providerIndexes,P=a.data,U=1048575&x,Z=i.directiveStart,pe=x>>20,Ke=y?U+pe:i.directiveEnd;for(let dt=f?U:U+pe;dt<Ke;dt++){const Lt=P[dt];if(dt<Z&&l===Lt||dt>=Z&&Lt.type===l)return dt}if(y){const dt=P[Z];if(dt&&pi(dt)&&dt.type===l)return Z}return null}function Va(i,a,l,f){let y=i[l];const x=a.data;if(function he(i){return i instanceof Y}(y)){const P=y;P.resolving&&function Pe(i,a){const l=a?`. Dependency path: ${a.join(" > ")} > ${i}`:"";throw new se(-200,`Circular dependency in DI detected for ${i}${l}`)}(function Dt(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():mt(i)}(x[l]));const U=cs(P.canSeeViewProviders);P.resolving=!0;const Z=P.injectImpl?pr(P.injectImpl):null;Pu(i,f,Jt.Default);try{y=i[l]=P.factory(void 0,x,i,f),a.firstCreatePass&&l>=f.directiveStart&&function Fu(i,a,l){const{ngOnChanges:f,ngOnInit:y,ngDoCheck:x}=a.type.prototype;if(f){const P=Ca(a);(l.preOrderHooks||(l.preOrderHooks=[])).push(i,P),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(i,P)}y&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-i,y),x&&((l.preOrderHooks||(l.preOrderHooks=[])).push(i,x),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(i,x))}(l,x[l],a)}finally{null!==Z&&pr(Z),cs(U),P.resolving=!1,cl()}}return y}function Rl(i,a,l){return!!(l[a+(i>>lu)]&1<<i)}function Eo(i,a){return!(i&Jt.Self||i&Jt.Host&&a)}class Ui{constructor(a,l){this._tNode=a,this._lView=l}get(a,l,f){return sr(this._tNode,this._lView,a,Ve(f),l)}}function Bo(){return new Ui(ti(),ut())}function hs(i){return ur(()=>{const a=i.prototype.constructor,l=a[Yt]||po(a),f=Object.prototype;let y=Object.getPrototypeOf(i.prototype).constructor;for(;y&&y!==f;){const x=y[Yt]||po(y);if(x&&x!==l)return x;y=Object.getPrototypeOf(y)}return x=>new x})}function po(i){return Tt(i)?()=>{const a=po(we(i));return a&&a()}:Go(i)}function Lu(i){const a=i[dn],l=a.type;return 2===l?a.declTNode:1===l?i[hi]:null}function Jo(i){return function uu(i,a){if("class"===a)return i.classes;if("style"===a)return i.styles;const l=i.attrs;if(l){const f=l.length;let y=0;for(;y<f;){const x=l[y];if(bi(x))break;if(0===x)y+=2;else if("number"==typeof x)for(y++;y<f&&"string"==typeof l[y];)y++;else{if(x===a)return l[y+1];y+=2}}}return null}(ti(),i)}const Ua="__parameters__";function Ss(i,a,l){return ur(()=>{const f=function bn(i){return function(...l){if(i){const f=i(...l);for(const y in f)this[y]=f[y]}}}(a);function y(...x){if(this instanceof y)return f.apply(this,x),this;const P=new y(...x);return U.annotation=P,U;function U(Z,oe,pe){const Ie=Z.hasOwnProperty(Ua)?Z[Ua]:Object.defineProperty(Z,Ua,{value:[]})[Ua];for(;Ie.length<=pe;)Ie.push(null);return(Ie[pe]=Ie[pe]||[]).push(P),Z}}return l&&(y.prototype=Object.create(l.prototype)),y.prototype.ngMetadataName=i,y.annotationCls=y,y})}class ii{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=yn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Zs(i,a){i.forEach(l=>Array.isArray(l)?Zs(l,a):a(l))}function Vu(i,a,l){a>=i.length?i.push(l):i.splice(a,0,l)}function Vl(i,a){return a>=i.length-1?i.pop():i.splice(a,1)[0]}function io(i,a){const l=[];for(let f=0;f<i;f++)l.push(a);return l}function j(i,a,l){let f=le(i,a);return f>=0?i[1|f]=l:(f=~f,function L(i,a,l,f){let y=i.length;if(y==a)i.push(l,f);else if(1===y)i.push(f,i[0]),i[0]=l;else{for(y--,i.push(i[y-1],i[y]);y>a;)i[y]=i[y-2],y--;i[a]=l,i[a+1]=f}}(i,f,a,l)),f}function ne(i,a){const l=le(i,a);if(l>=0)return i[1|l]}function le(i,a){return function tt(i,a,l){let f=0,y=i.length>>l;for(;y!==f;){const x=f+(y-f>>1),P=i[x<<l];if(a===P)return x<<l;P>a?y=x:f=x+1}return~(y<<l)}(i,a,1)}const ca=Ht(Ss("Optional"),8),ja=Ht(Ss("SkipSelf"),4);var Ha=(()=>((Ha=Ha||{})[Ha.Important=1]="Important",Ha[Ha.DashCase=2]="DashCase",Ha))();const bh=/^>|^->|<!--|-->|--!>|<!-$/g,rg=/(<|>)/,Cd="\u200b$1\u200b";const jl=new Map;let Zu=0;const Pc="__ngContext__";function xo(i,a){$i(a)?(i[Pc]=a[sa],function wh(i){jl.set(i[sa],i)}(a)):i[Pc]=a}let Sd;function Bc(i,a){return Sd(i,a)}function Ku(i){const a=i[Rr];return Me(a)?a[Rr]:a}function Nd(i){return Pp(i[Si])}function Td(i){return Pp(i[xi])}function Pp(i){for(;null!==i&&!Me(i);)i=i[xi];return i}function Gl(i,a,l,f,y){if(null!=f){let x,P=!1;Me(f)?x=f:$i(f)&&(P=!0,f=f[vo]);const U=Ai(f);0===i&&null!==l?null==y?Th(a,l,U):yl(a,l,U,y||null,!0):1===i&&null!==l?yl(a,l,U,y||null,!0):2===i?ae(a,U,P):3===i&&a.destroyNode(U),null!=x&&function lt(i,a,l,f,y){const x=l[ma];x!==Ai(l)&&Gl(a,i,f,x,y);for(let U=Vi;U<l.length;U++){const Z=l[U];_e(Z[dn],Z,i,a,f,x)}}(a,i,x,l,y)}}function Md(i,a){return i.createText(a)}function kp(i,a,l){i.setValue(a,l)}function Eh(i,a){return i.createComment(function gu(i){return i.replace(bh,a=>a.replace(rg,Cd))}(a))}function Id(i,a,l){return i.createElement(a,l)}function mu(i,a){const l=i[es],f=l.indexOf(a),y=a[Rr];512&a[Mn]&&(a[Mn]&=-513,ro(y,-1)),l.splice(f,1)}function Ad(i,a){if(i.length<=Vi)return;const l=Vi+a,f=i[l];if(f){const y=f[Vr];null!==y&&y!==i&&mu(y,f),a>0&&(i[l-1][xi]=f[xi]);const x=Vl(i,Vi+a);!function og(i,a){_e(i,a,a[_n],2,null,null),a[vo]=null,a[hi]=null}(f[dn],f);const P=x[Oo];null!==P&&P.detachView(x[dn]),f[Rr]=null,f[xi]=null,f[Mn]&=-65}return f}function Od(i,a){if(!(128&a[Mn])){const l=a[_n];l.destroyNode&&_e(i,a,l,3,null,null),function Rp(i){let a=i[Si];if(!a)return ml(i[dn],i);for(;a;){let l=null;if($i(a))l=a[Si];else{const f=a[Vi];f&&(l=f)}if(!l){for(;a&&!a[xi]&&a!==i;)$i(a)&&ml(a[dn],a),a=a[Rr];null===a&&(a=i),$i(a)&&ml(a[dn],a),l=a&&a[xi]}a=l}}(a)}}function ml(i,a){if(!(128&a[Mn])){a[Mn]&=-65,a[Mn]|=128,function ag(i,a){let l;if(null!=i&&null!=(l=i.destroyHooks))for(let f=0;f<l.length;f+=2){const y=a[l[f]];if(!(y instanceof Y)){const x=l[f+1];if(Array.isArray(x))for(let P=0;P<x.length;P+=2){const U=y[x[P]],Z=x[P+1];Zr(4,U,Z);try{Z.call(U)}finally{Zr(5,U,Z)}}else{Zr(4,y,x);try{x.call(y)}finally{Zr(5,y,x)}}}}}(i,a),function yu(i,a){const l=i.cleanup,f=a[to];let y=-1;if(null!==l)for(let x=0;x<l.length-1;x+=2)if("string"==typeof l[x]){const P=l[x+3];P>=0?f[y=P]():f[y=-P].unsubscribe(),x+=2}else{const P=f[y=l[x+1]];l[x].call(P)}if(null!==f){for(let x=y+1;x<f.length;x++)(0,f[x])();a[to]=null}}(i,a),1===a[dn].type&&a[_n].destroy();const l=a[Vr];if(null!==l&&Me(a[Rr])){l!==a[Rr]&&mu(l,a);const f=a[Oo];null!==f&&f.detachView(i)}!function Ac(i){jl.delete(i[sa])}(a)}}function Pd(i,a,l){return Lp(i,a.parent,l)}function Lp(i,a,l){let f=a;for(;null!==f&&40&f.type;)f=(a=f).parent;if(null===f)return l[vo];{const{componentOffset:y}=f;if(y>-1){const{encapsulation:x}=i.data[f.directiveStart+y];if(x===wr.None||x===wr.Emulated)return null}return Cr(f,l)}}function yl(i,a,l,f,y){i.insertBefore(a,l,f,y)}function Th(i,a,l){i.appendChild(a,l)}function Mh(i,a,l,f,y){null!==f?yl(i,a,l,f,y):Th(i,a,l)}function Vc(i,a){return i.parentNode(a)}function kd(i,a,l){return _(i,a,l)}function Bp(i,a,l){return 40&i.type?Cr(i,l):null}let v,tn,kn,yi,_=Bp;function d(i,a){_=i,v=a}function g(i,a,l,f){const y=Pd(i,f,a),x=a[_n],U=kd(f.parent||a[hi],f,a);if(null!=y)if(Array.isArray(l))for(let Z=0;Z<l.length;Z++)Mh(x,y,l[Z],U,!1);else Mh(x,y,l,U,!1);void 0!==v&&v(x,f,a,l,y)}function C(i,a){if(null!==a){const l=a.type;if(3&l)return Cr(a,i);if(4&l)return K(-1,i[a.index]);if(8&l){const f=a.child;if(null!==f)return C(i,f);{const y=i[a.index];return Me(y)?K(-1,y):Ai(y)}}if(32&l)return Bc(a,i)()||Ai(i[a.index]);{const f=V(i,a);return null!==f?Array.isArray(f)?f[0]:C(Ku(i[Rn]),f):C(i,a.next)}}return null}function V(i,a){return null!==a?i[Rn][hi].projection[a.projection]:null}function K(i,a){const l=Vi+i+1;if(l<a.length){const f=a[l],y=f[dn].firstChild;if(null!==y)return C(f,y)}return a[ma]}function ae(i,a,l){const f=Vc(i,a);f&&function Bt(i,a,l,f){i.removeChild(a,l,f)}(i,f,a,l)}function fe(i,a,l,f,y,x,P){for(;null!=l;){const U=f[l.index],Z=l.type;if(P&&0===a&&(U&&xo(Ai(U),f),l.flags|=2),32!=(32&l.flags))if(8&Z)fe(i,a,l.child,f,y,x,!1),Gl(a,i,y,U,x);else if(32&Z){const oe=Bc(l,f);let pe;for(;pe=oe();)Gl(a,i,y,pe,x);Gl(a,i,y,U,x)}else 16&Z?Xe(i,a,f,l,y,x):Gl(a,i,y,U,x);l=P?l.projectionNext:l.next}}function _e(i,a,l,f,y,x){fe(l,f,i.firstChild,a,y,x,!1)}function Xe(i,a,l,f,y,x){const P=l[Rn],Z=P[hi].projection[f.projection];if(Array.isArray(Z))for(let oe=0;oe<Z.length;oe++)Gl(a,i,y,Z[oe],x);else fe(i,a,Z,P[Rr],y,x,!0)}function Et(i,a,l){""===l?i.removeAttribute(a,"class"):i.setAttribute(a,"class",l)}function $t(i,a,l){const{mergedAttrs:f,classes:y,styles:x}=l;null!==f&&Fn(i,a,f),null!==y&&Et(i,a,y),null!==x&&function rt(i,a,l){i.setAttribute(a,"style",l)}(i,a,x)}function Kt(i){return function qt(){if(void 0===tn&&(tn=null,zn.trustedTypes))try{tn=zn.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return tn}()?.createHTML(i)||i}function Yr(i){kn=i}function vr(){return void 0!==kn?kn:typeof document<"u"?document:void 0}function Kr(){if(void 0===yi&&(yi=null,zn.trustedTypes))try{yi=zn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return yi}function jn(i){return Kr()?.createHTML(i)||i}function Ci(i){return Kr()?.createScriptURL(i)||i}class Ni{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${je})`}}function Qo(i){return i instanceof Ni?i.changingThisBreaksApplicationSecurity:i}function ps(i,a){const l=function Xo(i){return i instanceof Ni&&i.getTypeName()||null}(i);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see ${je})`)}return l===a}function Uc(i){const a=new Fd(i);return function Gr(){try{return!!(new window.DOMParser).parseFromString(Kt(""),"text/html")}catch{return!1}}()?new Oh(a):a}class Oh{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const l=(new window.DOMParser).parseFromString(Kt(a),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(a):(l.removeChild(l.firstChild),l)}catch{return null}}}class Fd{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const l=this.inertDocument.createElement("template");return l.innerHTML=Kt(a),l}}const So=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Zl(i){return(i=String(i)).match(So)?i:"unsafe:"+i}function fs(i){const a={};for(const l of i.split(","))a[l]=!0;return a}function _l(...i){const a={};for(const l of i)for(const f in l)l.hasOwnProperty(f)&&(a[f]=!0);return a}const vu=fs("area,br,col,hr,img,wbr"),$a=fs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),gs=fs("rp,rt"),Di=_l(vu,_l($a,fs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),_l(gs,fs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),_l(gs,$a)),Xi=fs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Qu=_l(Xi,fs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),zo=fs("script,style,template");class zp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let l=a.firstChild,f=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?f=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,f&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let y=this.checkClobberedElement(l,l.nextSibling);if(y){l=y;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(a){const l=a.nodeName.toLowerCase();if(!Di.hasOwnProperty(l))return this.sanitizedSomething=!0,!zo.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const f=a.attributes;for(let y=0;y<f.length;y++){const x=f.item(y),P=x.name,U=P.toLowerCase();if(!Qu.hasOwnProperty(U)){this.sanitizedSomething=!0;continue}let Z=x.value;Xi[U]&&(Z=Zl(Z)),this.buf.push(" ",P,'="',bu(Z),'"')}return this.buf.push(">"),!0}endElement(a){const l=a.nodeName.toLowerCase();Di.hasOwnProperty(l)&&!vu.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(a){this.buf.push(bu(a))}checkClobberedElement(a,l){if(l&&(a.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return l}}const Yl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bl=/([^\#-~ |!])/g;function bu(i){return i.replace(/&/g,"&amp;").replace(Yl,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(bl,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let wu;function Cu(i){return"content"in i&&function Xu(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var eo=(()=>((eo=eo||{})[eo.NONE=0]="NONE",eo[eo.HTML=1]="HTML",eo[eo.STYLE=2]="STYLE",eo[eo.SCRIPT=3]="SCRIPT",eo[eo.URL=4]="URL",eo[eo.RESOURCE_URL=5]="RESOURCE_URL",eo))();function jp(i){const a=tc();return a?jn(a.sanitize(eo.HTML,i)||""):ps(i,"HTML")?jn(Qo(i)):function Ph(i,a){let l=null;try{wu=wu||Uc(i);let f=a?String(a):"";l=wu.getInertBodyElement(f);let y=5,x=f;do{if(0===y)throw new Error("Failed to sanitize html because the input is unstable");y--,f=x,x=l.innerHTML,l=wu.getInertBodyElement(f)}while(f!==x);return Kt((new zp).sanitizeChildren(Cu(l)||l))}finally{if(l){const f=Cu(l)||l;for(;f.firstChild;)f.removeChild(f.firstChild)}}}(vr(),mt(i))}function ec(i){const a=tc();return a?a.sanitize(eo.URL,i)||"":ps(i,"URL")?Qo(i):Zl(mt(i))}function sg(i){const a=tc();if(a)return Ci(a.sanitize(eo.RESOURCE_URL,i)||"");if(ps(i,"ResourceURL"))return Ci(Qo(i));throw new se(904,!1)}function jc(i,a,l){return function Rh(i,a){return"src"===a&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===a&&("base"===i||"link"===i)?sg:ec}(a,l)(i)}function tc(){const i=ut();return i&&i[li]}const Ys=new ii("ENVIRONMENT_INITIALIZER"),Ld=new ii("INJECTOR",-1),Bd=new ii("INJECTOR_DEF_TYPES");class ug{get(a,l=Cn){if(l===Cn){const f=new Error(`NullInjectorError: No provider for ${ce(a)}!`);throw f.name="NullInjectorError",f}return l}}function Vd(i){return{\u0275providers:i}}function cg(...i){return{\u0275providers:dg(0,i),\u0275fromNgModule:!0}}function dg(i,...a){const l=[],f=new Set;let y;return Zs(a,x=>{const P=x;wl(P,l,[],f)&&(y||(y=[]),y.push(P))}),void 0!==y&&Gp(y,l),l}function Gp(i,a){for(let l=0;l<i.length;l++){const{providers:y}=i[l];Fh(y,x=>{a.push(x)})}}function wl(i,a,l,f){if(!(i=we(i)))return!1;let y=null,x=xr(i);const P=!x&&gr(i);if(x||P){if(P&&!P.standalone)return!1;y=i}else{const Z=i.ngModule;if(x=xr(Z),!x)return!1;y=Z}const U=f.has(y);if(P){if(U)return!1;if(f.add(y),P.dependencies){const Z="function"==typeof P.dependencies?P.dependencies():P.dependencies;for(const oe of Z)wl(oe,a,l,f)}}else{if(!x)return!1;{if(null!=x.imports&&!U){let oe;f.add(y);try{Zs(x.imports,pe=>{wl(pe,a,l,f)&&(oe||(oe=[]),oe.push(pe))})}finally{}void 0!==oe&&Gp(oe,a)}if(!U){const oe=Go(y)||(()=>new y);a.push({provide:y,useFactory:oe,deps:Je},{provide:Bd,useValue:y,multi:!0},{provide:Ys,useValue:()=>lr(y),multi:!0})}const Z=x.providers;null==Z||U||Fh(Z,pe=>{a.push(pe)})}}return y!==i&&void 0!==i.providers}function Fh(i,a){for(let l of i)De(l)&&(l=l.\u0275providers),Array.isArray(l)?Fh(l,a):a(l)}const Cl=z({provide:String,useValue:z});function Kl(i){return null!==i&&"object"==typeof i&&Cl in i}function Jl(i){return"function"==typeof i}const nc=new ii("Set Injector scope."),rc={},$m={};let Ud;function Lh(){return void 0===Ud&&(Ud=new ug),Ud}class ic{}class fg extends ic{get destroyed(){return this._destroyed}constructor(a,l,f,y){super(),this.parent=l,this.source=f,this.scopes=y,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Wp(a,P=>this.processProvider(P)),this.records.set(Ld,$c(void 0,this)),y.has("environment")&&this.records.set(ic,$c(void 0,this));const x=this.records.get(nc);null!=x&&"string"==typeof x.value&&this.scopes.add(x.value),this.injectorDefTypes=new Set(this.get(Bd.multi,Je,Jt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const l=Fi(this),f=pr(void 0);try{return a()}finally{Fi(l),pr(f)}}get(a,l=Cn,f=Jt.Default){this.assertNotDestroyed(),f=Ve(f);const y=Fi(this),x=pr(void 0);try{if(!(f&Jt.SkipSelf)){let U=this.records.get(a);if(void 0===U){const Z=function Gm(i){return"function"==typeof i||"object"==typeof i&&i instanceof ii}(a)&&Te(a);U=Z&&this.injectableDefInScope(Z)?$c(Ta(a),rc):null,this.records.set(a,U)}if(null!=U)return this.hydrate(a,U)}return(f&Jt.Self?Lh():this.parent).get(a,l=f&Jt.Optional&&l===Cn?null:l)}catch(P){if("NullInjectorError"===P.name){if((P[nr]=P[nr]||[]).unshift(ce(a)),y)throw P;return function Sn(i,a,l,f){const y=i[nr];throw a[oa]&&y.unshift(a[oa]),i.message=function $n(i,a,l,f=null){i=i&&"\n"===i.charAt(0)&&i.charAt(1)==br?i.slice(2):i;let y=ce(a);if(Array.isArray(a))y=a.map(ce).join(" -> ");else if("object"==typeof a){let x=[];for(let P in a)if(a.hasOwnProperty(P)){let U=a[P];x.push(P+":"+("string"==typeof U?JSON.stringify(U):ce(U)))}y=`{${x.join(", ")}}`}return`${l}${f?"("+f+")":""}[${y}]: ${i.replace(Ja,"\n  ")}`}("\n"+i.message,y,l,f),i[ai]=y,i[nr]=null,i}(P,a,"R3InjectorError",this.source)}throw P}finally{pr(x),Fi(y)}}resolveInjectorInitializers(){const a=Fi(this),l=pr(void 0);try{const f=this.get(Ys.multi,Je,Jt.Self);for(const y of f)y()}finally{Fi(a),pr(l)}}toString(){const a=[],l=this.records;for(const f of l.keys())a.push(ce(f));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new se(205,!1)}processProvider(a){let l=Jl(a=we(a))?a:we(a&&a.provide);const f=function Bh(i){return Kl(i)?$c(void 0,i.useValue):$c(zd(i),rc)}(a);if(Jl(a)||!0!==a.multi)this.records.get(l);else{let y=this.records.get(l);y||(y=$c(void 0,rc,!0),y.factory=()=>Ge(y.multi),this.records.set(l,y)),l=a,y.multi.push(a)}this.records.set(l,f)}hydrate(a,l){return l.value===rc&&(l.value=$m,l.value=l.factory()),"object"==typeof l.value&&l.value&&function yg(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(a){if(!a.providedIn)return!1;const l=we(a.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function Ta(i){const a=Te(i),l=null!==a?a.factory:Go(i);if(null!==l)return l;if(i instanceof ii)throw new se(204,!1);if(i instanceof Function)return function gg(i){const a=i.length;if(a>0)throw io(a,"?"),new se(204,!1);const l=function Ut(i){const a=i&&(i[Sr]||i[er]);return a?(function rn(i){if(i.hasOwnProperty("name"))return i.name;(""+i).match(/^function\s*([^\s(]+)/)}(i),a):null}(i);return null!==l?()=>l.factory(i):()=>new i}(i);throw new se(204,!1)}function zd(i,a,l){let f;if(Jl(i)){const y=we(i);return Go(y)||Ta(y)}if(Kl(i))f=()=>we(i.useValue);else if(function hg(i){return!(!i||!i.useFactory)}(i))f=()=>i.useFactory(...Ge(i.deps||[]));else if(function Hc(i){return!(!i||!i.useExisting)}(i))f=()=>lr(we(i.useExisting));else{const y=we(i&&(i.useClass||i.provide));if(!function mg(i){return!!i.deps}(i))return Go(y)||Ta(y);f=()=>new y(...Ge(i.deps))}return f}function $c(i,a,l=!1){return{factory:i,value:a,multi:l?[]:void 0}}function Wp(i,a){for(const l of i)Array.isArray(l)?Wp(l,a):l&&De(l)?Wp(l.\u0275providers,a):a(l)}class jd{}class qp{}class Hd{resolveComponentFactory(a){throw function vg(i){const a=Error(`No component factory found for ${ce(i)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=i,a}(a)}}let oc=(()=>{class i{}return i.NULL=new Hd,i})();function Yp(){return ac(ti(),ut())}function ac(i,a){return new Du(Cr(i,a))}let Du=(()=>{class i{constructor(l){this.nativeElement=l}}return i.__NG_ELEMENT_ID__=Yp,i})();function Kp(i){return i instanceof Du?i.nativeElement:i}class Jp{}let _g=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function bg(){const i=ut(),l=Tr(ti().index,i);return($i(l)?l:i)[_n]}(),i})(),Qp=(()=>{class i{}return i.\u0275prov=yn({token:i,providedIn:"root",factory:()=>null}),i})();class Xp{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const wg=new Xp("15.2.2"),Ks={},Gc="ngOriginalError";function sc(i){return i[Gc]}class Wc{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a);this._console.error("ERROR",a),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(a){let l=a&&sc(a);for(;l&&sc(l);)l=sc(l);return l||null}}function $d(i){return i.ownerDocument.defaultView}function ef(i){return i.ownerDocument}function Ms(i){return i instanceof Function?i():i}function qc(i,a,l){let f=i.length;for(;;){const y=i.indexOf(a,l);if(-1===y)return y;if(0===y||i.charCodeAt(y-1)<=32){const x=a.length;if(y+x===f||i.charCodeAt(y+x)<=32)return y}l=y+1}}const Zc="ng-template";function Sg(i,a,l){let f=0;for(;f<i.length;){let y=i[f++];if(l&&"class"===y){if(y=i[f],-1!==qc(y.toLowerCase(),a,0))return!0}else if(1===y){for(;f<i.length&&"string"==typeof(y=i[f++]);)if(y.toLowerCase()===a)return!0;return!1}}return!1}function jh(i){return 4===i.type&&i.value!==Zc}function qd(i,a,l){return a===(4!==i.type||l?i.value:Zc)}function Ng(i,a,l){let f=4;const y=i.attrs||[],x=function Zm(i){for(let a=0;a<i.length;a++)if(bi(i[a]))return a;return i.length}(y);let P=!1;for(let U=0;U<a.length;U++){const Z=a[U];if("number"!=typeof Z){if(!P)if(4&f){if(f=2|1&f,""!==Z&&!qd(i,Z,l)||""===Z&&1===a.length){if(Js(f))return!1;P=!0}}else{const oe=8&f?Z:a[++U];if(8&f&&null!==i.attrs){if(!Sg(i.attrs,oe,l)){if(Js(f))return!1;P=!0}continue}const Ie=Tg(8&f?"class":Z,y,jh(i),l);if(-1===Ie){if(Js(f))return!1;P=!0;continue}if(""!==oe){let Ke;Ke=Ie>x?"":y[Ie+1].toLowerCase();const dt=8&f?Ke:null;if(dt&&-1!==qc(dt,oe,0)||2&f&&oe!==Ke){if(Js(f))return!1;P=!0}}}}else{if(!P&&!Js(f)&&!Js(Z))return!1;if(P&&Js(Z))continue;P=!1,f=Z|1&f}}return Js(f)||P}function Js(i){return 0==(1&i)}function Tg(i,a,l,f){if(null===a)return-1;let y=0;if(f||!l){let x=!1;for(;y<a.length;){const P=a[y];if(P===i)return y;if(3===P||6===P)x=!0;else{if(1===P||2===P){let U=a[++y];for(;"string"==typeof U;)U=a[++y];continue}if(4===P)break;if(0===P){y+=4;continue}}y+=x?1:2}return-1}return function Ym(i,a){let l=i.indexOf(4);if(l>-1)for(l++;l<i.length;){const f=i[l];if("number"==typeof f)return-1;if(f===a)return l;l++}return-1}(a,i)}function Zd(i,a,l=!1){for(let f=0;f<a.length;f++)if(Ng(i,a[f],l))return!0;return!1}function Mg(i,a){e:for(let l=0;l<a.length;l++){const f=a[l];if(i.length===f.length){for(let y=0;y<i.length;y++)if(i[y]!==f[y])continue e;return!0}}return!1}function Hh(i,a){return i?":not("+a.trim()+")":a}function Ig(i){let a=i[0],l=1,f=2,y="",x=!1;for(;l<i.length;){let P=i[l];if("string"==typeof P)if(2&f){const U=i[++l];y+="["+P+(U.length>0?'="'+U+'"':"")+"]"}else 8&f?y+="."+P:4&f&&(y+=" "+P);else""!==y&&!Js(P)&&(a+=Hh(x,y),y=""),f=P,x=x||!Js(f);l++}return""!==y&&(a+=Hh(x,y)),a}const tr={};function rf(i){af(On(),ut(),ri()+i,!1)}function af(i,a,l,f){if(!f)if(3==(3&a[Mn])){const x=i.preOrderCheckHooks;null!==x&&$s(a,x,l)}else{const x=i.preOrderHooks;null!==x&&su(a,x,0,l)}ls(l)}function sf(i,a=null,l=null,f){const y=Jd(i,a,l,f);return y.resolveInjectorInitializers(),y}function Jd(i,a=null,l=null,f,y=new Set){const x=[l||Je,cg(i)];return f=f||("object"==typeof i?void 0:ce(i)),new fg(x,a||Lh(),f||null,y)}let lc=(()=>{class i{static create(l,f){if(Array.isArray(l))return sf({name:""},f,l,"");{const y=l.name??"";return sf({name:y},l.parent,l.providers,y)}}}return i.THROW_IF_NOT_FOUND=Cn,i.NULL=new ug,i.\u0275prov=yn({token:i,providedIn:"any",factory:()=>lr(Ld)}),i.__NG_ELEMENT_ID__=-1,i})();function Jc(i,a=Jt.Default){const l=ut();return null===l?lr(i,a):sr(ti(),l,we(i),a)}function Gg(){throw new Error("invalid")}function hf(i,a){const l=i.contentQueries;if(null!==l)for(let f=0;f<l.length;f+=2){const x=l[f+1];if(-1!==x){const P=i.data[x];ua(l[f]),P.contentQueries(2,a[x],x)}}}function Zh(i,a,l,f,y,x,P,U,Z,oe,pe){const Ie=a.blueprint.slice();return Ie[vo]=y,Ie[Mn]=76|f,(null!==pe||i&&1024&i[Mn])&&(Ie[Mn]|=1024),Lr(Ie),Ie[Rr]=Ie[Mi]=i,Ie[ir]=l,Ie[si]=P||i&&i[si],Ie[_n]=U||i&&i[_n],Ie[li]=Z||i&&i[li]||null,Ie[mr]=oe||i&&i[mr]||null,Ie[hi]=x,Ie[sa]=function Ic(){return Zu++}(),Ie[ol]=pe,Ie[Rn]=2==a.type?i[Rn]:Ie,Ie}function eh(i,a,l,f,y){let x=i.data[a];if(null===x)x=qg(i,a,l,f,y),function ou(){return Pn.lFrame.inI18n}()&&(x.flags|=32);else if(64&x.type){x.type=l,x.value=f,x.attrs=y;const P=fi();x.injectorIndex=null===P?-1:P.injectorIndex}return Sa(x,!0),x}function qg(i,a,l,f,y){const x=Zo(),P=ru(),Z=i.data[a]=function yf(i,a,l,f,y,x){return{type:l,index:f,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:y,attrs:x,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,P?x:x&&x.parent,l,a,f,y);return null===i.firstChild&&(i.firstChild=Z),null!==x&&(P?null==x.child&&null!==Z.parent&&(x.child=Z):null===x.next&&(x.next=Z,Z.prev=x)),Z}function Yh(i,a,l,f){if(0===l)return-1;const y=a.length;for(let x=0;x<l;x++)a.push(f),i.blueprint.push(f),i.data.push(null);return y}function pf(i,a,l){ul(a);try{const f=i.viewQuery;null!==f&&op(1,f,l);const y=i.template;null!==y&&ff(i,a,y,1,l),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&hf(i,a),i.staticViewQueries&&op(2,i.viewQuery,l);const x=i.components;null!==x&&function Wg(i,a){for(let l=0;l<a.length;l++)py(i,a[l])}(a,x)}catch(f){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),f}finally{a[Mn]&=-5,ku()}}function Kh(i,a,l,f){const y=a[Mn];if(128!=(128&y)){ul(a);try{Lr(a),function ss(i){return Pn.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==l&&ff(i,a,l,2,f);const P=3==(3&y);if(P){const oe=i.preOrderCheckHooks;null!==oe&&$s(a,oe,null)}else{const oe=i.preOrderHooks;null!==oe&&su(a,oe,0,null),hl(a,0)}if(function xf(i){for(let a=Nd(i);null!==a;a=Td(a)){if(!a[ao])continue;const l=a[es];for(let f=0;f<l.length;f++){const y=l[f];512&y[Mn]||ro(y[Rr],1),y[Mn]|=512}}}(a),function Ef(i){for(let a=Nd(i);null!==a;a=Td(a))for(let l=Vi;l<a.length;l++){const f=a[l],y=f[dn];wo(f)&&Kh(y,f,y.template,f[ir])}}(a),null!==i.contentQueries&&hf(i,a),P){const oe=i.contentCheckHooks;null!==oe&&$s(a,oe)}else{const oe=i.contentHooks;null!==oe&&su(a,oe,1),hl(a,1)}!function iy(i,a){const l=i.hostBindingOpCodes;if(null!==l)try{for(let f=0;f<l.length;f++){const y=l[f];if(y<0)ls(~y);else{const x=y,P=l[++f],U=l[++f];zs(P,x),U(2,a[x])}}}finally{ls(-1)}}(i,a);const U=i.components;null!==U&&function qh(i,a){for(let l=0;l<a.length;l++)hy(i,a[l])}(a,U);const Z=i.viewQuery;if(null!==Z&&op(2,Z,f),P){const oe=i.viewCheckHooks;null!==oe&&$s(a,oe)}else{const oe=i.viewHooks;null!==oe&&su(a,oe,2),hl(a,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),a[Mn]&=-41,512&a[Mn]&&(a[Mn]&=-513,ro(a[Rr],-1))}finally{ku()}}}function ff(i,a,l,f,y){const x=ri(),P=2&f;try{ls(-1),P&&a.length>jr&&af(i,a,jr,!1),Zr(P?2:0,y),l(f,y)}finally{ls(x),Zr(P?3:1,y)}}function Qc(i,a,l){if(so(a)){const y=a.directiveEnd;for(let x=a.directiveStart;x<y;x++){const P=i.data[x];P.contentQueries&&P.contentQueries(1,l[x],x)}}}function Jh(i,a,l){W()&&(function bf(i,a,l,f){const y=l.directiveStart,x=l.directiveEnd;Ue(l)&&function tp(i,a,l){const f=Cr(a,i),y=gf(l),x=i[si],P=rp(i,Zh(i,y,null,l.onPush?32:16,f,a,x,x.createRenderer(f,l),null,null,null));i[a.index]=P}(a,l,i.data[y+l.componentOffset]),i.firstCreatePass||fl(l,a),xo(f,a);const P=l.initialInputs;for(let U=y;U<x;U++){const Z=i.data[U],oe=Va(a,i,U,l);xo(oe,a),null!==P&&Qg(0,U-y,oe,Z,0,P),pi(Z)&&(Tr(l.index,a)[ir]=Va(a,i,U,l))}}(i,a,l,Cr(l,a)),64==(64&l.flags)&&wf(i,a,l))}function Qh(i,a,l=Cr){const f=a.localNames;if(null!==f){let y=a.index+1;for(let x=0;x<f.length;x+=2){const P=f[x+1],U=-1===P?l(a,i):i[P];i[y++]=U}}}function gf(i){const a=i.tView;return null===a||a.incompleteFirstPass?i.tView=Xh(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):a}function Xh(i,a,l,f,y,x,P,U,Z,oe){const pe=jr+f,Ie=pe+y,Ke=function Zg(i,a){const l=[];for(let f=0;f<a;f++)l.push(f<i?null:tr);return l}(pe,Ie),dt="function"==typeof oe?oe():oe;return Ke[dn]={type:i,blueprint:Ke,template:l,queries:null,viewQuery:U,declTNode:a,data:Ke.slice().fill(null,pe),bindingStartIndex:pe,expandoStartIndex:Ie,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof x?x():x,pipeRegistry:"function"==typeof P?P():P,firstChild:null,schemas:Z,consts:dt,incompleteFirstPass:!1}}function mf(i,a,l,f){const y=tm(a);null===l?y.push(f):(y.push(l),i.firstCreatePass&&Nf(i).push(f,y.length-1))}function Xc(i,a,l,f){for(let y in i)if(i.hasOwnProperty(y)){l=null===l?{}:l;const x=i[y];null===f?Kg(l,a,y,x):f.hasOwnProperty(y)&&Kg(l,a,f[y],x)}return l}function Kg(i,a,l,f){i.hasOwnProperty(l)?i[l].push(a,f):i[l]=[a,f]}function ms(i,a,l,f,y,x,P,U){const Z=Cr(a,l);let pe,oe=a.inputs;!U&&null!=oe&&(pe=oe[f])?(Tf(i,l,pe,f,y),Ue(a)&&Jg(l,a.index)):3&a.type&&(f=function ay(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(f),y=null!=P?P(y,a.value||"",f):y,x.setProperty(Z,f,y))}function Jg(i,a){const l=Tr(a,i);16&l[Mn]||(l[Mn]|=32)}function vf(i,a,l,f){if(W()){const y=null===f?null:{"":-1},x=function dc(i,a){const l=i.directiveRegistry;let f=null,y=null;if(l)for(let x=0;x<l.length;x++){const P=l[x];if(Zd(a,P.selectors,!1))if(f||(f=[]),pi(P))if(null!==P.findHostDirectiveDefs){const U=[];y=y||new Map,P.findHostDirectiveDefs(P,U,y),f.unshift(...U,P),ep(i,a,U.length)}else f.unshift(P),ep(i,a,0);else y=y||new Map,P.findHostDirectiveDefs?.(P,f,y),f.push(P)}return null===f?null:[f,y]}(i,l);let P,U;null===x?P=U=null:[P,U]=x,null!==P&&_f(i,a,l,P,y,U),y&&function cy(i,a,l){if(a){const f=i.localNames=[];for(let y=0;y<a.length;y+=2){const x=l[a[y+1]];if(null==x)throw new se(-301,!1);f.push(a[y],x)}}}(l,f,y)}l.mergedAttrs=ui(l.mergedAttrs,l.attrs)}function _f(i,a,l,f,y,x){for(let oe=0;oe<f.length;oe++)Na(fl(l,a),i,f[oe].type);!function Cf(i,a,l){i.flags|=1,i.directiveStart=a,i.directiveEnd=a+l,i.providerIndexes=a}(l,i.data.length,f.length);for(let oe=0;oe<f.length;oe++){const pe=f[oe];pe.providersResolver&&pe.providersResolver(pe)}let P=!1,U=!1,Z=Yh(i,a,f.length,null);for(let oe=0;oe<f.length;oe++){const pe=f[oe];l.mergedAttrs=ui(l.mergedAttrs,pe.hostAttrs),Df(i,l,a,Z,pe),Dl(Z,pe,y),null!==pe.contentQueries&&(l.flags|=4),(null!==pe.hostBindings||null!==pe.hostAttrs||0!==pe.hostVars)&&(l.flags|=64);const Ie=pe.type.prototype;!P&&(Ie.ngOnChanges||Ie.ngOnInit||Ie.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(l.index),P=!0),!U&&(Ie.ngOnChanges||Ie.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(l.index),U=!0),Z++}!function oy(i,a,l){const y=a.directiveEnd,x=i.data,P=a.attrs,U=[];let Z=null,oe=null;for(let pe=a.directiveStart;pe<y;pe++){const Ie=x[pe],Ke=l?l.get(Ie):null,Lt=Ke?Ke.outputs:null;Z=Xc(Ie.inputs,pe,Z,Ke?Ke.inputs:null),oe=Xc(Ie.outputs,pe,oe,Lt);const un=null===Z||null===P||jh(a)?null:dy(Z,pe,P);U.push(un)}null!==Z&&(Z.hasOwnProperty("class")&&(a.flags|=8),Z.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=U,a.inputs=Z,a.outputs=oe}(i,l,x)}function wf(i,a,l){const f=l.directiveStart,y=l.directiveEnd,x=l.index,P=function Ou(){return Pn.lFrame.currentDirectiveIndex}();try{ls(x);for(let U=f;U<y;U++){const Z=i.data[U],oe=a[U];Al(U),(null!==Z.hostBindings||0!==Z.hostVars||null!==Z.hostAttrs)&&th(Z,oe)}}finally{ls(-1),Al(P)}}function th(i,a){null!==i.hostBindings&&i.hostBindings(1,a)}function ep(i,a,l){a.componentOffset=l,(i.components||(i.components=[])).push(a.index)}function Dl(i,a,l){if(l){if(a.exportAs)for(let f=0;f<a.exportAs.length;f++)l[a.exportAs[f]]=i;pi(a)&&(l[""]=i)}}function Df(i,a,l,f,y){i.data[f]=y;const x=y.factory||(y.factory=Go(y.type)),P=new Y(x,pi(y),Jc);i.blueprint[f]=P,l[f]=P,function ly(i,a,l,f,y){const x=y.hostBindings;if(x){let P=i.hostBindingOpCodes;null===P&&(P=i.hostBindingOpCodes=[]);const U=~a.index;(function uy(i){let a=i.length;for(;a>0;){const l=i[--a];if("number"==typeof l&&l<0)return l}return 0})(P)!=U&&P.push(U),P.push(l,f,x)}}(i,a,f,Yh(i,l,y.hostVars,tr),y)}function np(i,a,l,f,y,x,P){if(null==x)i.removeAttribute(a,y,l);else{const U=null==P?mt(x):P(x,f||"",y);i.setAttribute(a,y,U,l)}}function Qg(i,a,l,f,y,x){const P=x[a];if(null!==P){const U=f.setInput;for(let Z=0;Z<P.length;){const oe=P[Z++],pe=P[Z++],Ie=P[Z++];null!==U?f.setInput(l,Ie,oe,pe):l[pe]=Ie}}}function dy(i,a,l){let f=null,y=0;for(;y<l.length;){const x=l[y];if(0!==x)if(5!==x){if("number"==typeof x)break;if(i.hasOwnProperty(x)){null===f&&(f=[]);const P=i[x];for(let U=0;U<P.length;U+=2)if(P[U]===a){f.push(x,P[U+1],l[y+1]);break}}y+=2}else y+=2;else y+=4}return f}function Xg(i,a,l,f){return[i,!0,!1,a,null,0,f,l,null,null]}function hy(i,a){const l=Tr(a,i);if(wo(l)){const f=l[dn];48&l[Mn]?Kh(f,l,f.template,l[ir]):l[aa]>0&&Sf(l)}}function Sf(i){for(let f=Nd(i);null!==f;f=Td(f))for(let y=Vi;y<f.length;y++){const x=f[y];if(wo(x))if(512&x[Mn]){const P=x[dn];Kh(P,x,P.template,x[ir])}else x[aa]>0&&Sf(x)}const l=i[dn].components;if(null!==l)for(let f=0;f<l.length;f++){const y=Tr(l[f],i);wo(y)&&y[aa]>0&&Sf(y)}}function py(i,a){const l=Tr(a,i),f=l[dn];(function fy(i,a){for(let l=a.length;l<i.blueprint.length;l++)a.push(i.blueprint[l])})(f,l),pf(f,l,l[ir])}function rp(i,a){return i[Si]?i[$o][xi]=a:i[Si]=a,i[$o]=a,a}function ip(i){for(;i;){i[Mn]|=32;const a=Ku(i);if(Pa(i)&&!a)return i;i=a}return null}function nh(i,a,l,f=!0){const y=a[si];y.begin&&y.begin();try{Kh(i,a,i.template,l)}catch(P){throw f&&nm(a,P),P}finally{y.end&&y.end()}}function op(i,a,l){ua(0),a(i,l)}function tm(i){return i[to]||(i[to]=[])}function Nf(i){return i.cleanup||(i.cleanup=[])}function nm(i,a){const l=i[mr],f=l?l.get(Wc,null):null;f&&f.handleError(a)}function Tf(i,a,l,f,y){for(let x=0;x<l.length;){const P=l[x++],U=l[x++],Z=a[P],oe=i.data[P];null!==oe.setInput?oe.setInput(Z,y,f,U):Z[U]=y}}function Mf(i,a,l){let f=l?i.styles:null,y=l?i.classes:null,x=0;if(null!==a)for(let P=0;P<a.length;P++){const U=a[P];"number"==typeof U?x=U:1==x?y=Oe(y,U):2==x&&(f=Oe(f,U+": "+a[++P]+";"))}l?i.styles=f:i.stylesWithoutHost=f,l?i.classes=y:i.classesWithoutHost=y}function Os(i,a,l,f,y=!1){for(;null!==l;){const x=a[l.index];if(null!==x&&f.push(Ai(x)),Me(x))for(let U=Vi;U<x.length;U++){const Z=x[U],oe=Z[dn].firstChild;null!==oe&&Os(Z[dn],Z,oe,f)}const P=l.type;if(8&P)Os(i,a,l.child,f);else if(32&P){const U=Bc(l,a);let Z;for(;Z=U();)f.push(Z)}else if(16&P){const U=V(a,l);if(Array.isArray(U))f.push(...U);else{const Z=Ku(a[Rn]);Os(Z[dn],Z,U,f,!0)}}l=y?l.projectionNext:l.next}return f}class rh{get rootNodes(){const a=this._lView,l=a[dn];return Os(l,a,l.firstChild,[])}constructor(a,l){this._lView=a,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ir]}set context(a){this._lView[ir]=a}get destroyed(){return 128==(128&this._lView[Mn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[Rr];if(Me(a)){const l=a[Xa],f=l?l.indexOf(this):-1;f>-1&&(Ad(a,f),Vl(l,f))}this._attachedToViewContainer=!1}Od(this._lView[dn],this._lView)}onDestroy(a){mf(this._lView[dn],this._lView,null,a)}markForCheck(){ip(this._cdRefInjectingView||this._lView)}detach(){this._lView[Mn]&=-65}reattach(){this._lView[Mn]|=64}detectChanges(){nh(this._lView[dn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Sh(i,a){_e(i,a,a[_n],2,null,null)}(this._lView[dn],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new se(902,!1);this._appRef=a}}class rm extends rh{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;nh(a[dn],a,a[ir],!1)}checkNoChanges(){}get context(){return null}}class im extends oc{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=gr(a);return new Xl(l,this.ngModule)}}function If(i){const a=[];for(let l in i)i.hasOwnProperty(l)&&a.push({propName:i[l],templateName:l});return a}class Xs{constructor(a,l){this.injector=a,this.parentInjector=l}get(a,l,f){f=Ve(f);const y=this.injector.get(a,Ks,f);return y!==Ks||l===Ks?y:this.parentInjector.get(a,l,f)}}class Xl extends qp{get inputs(){return If(this.componentDef.inputs)}get outputs(){return If(this.componentDef.outputs)}constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=function nf(i){return i.map(Ig).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}create(a,l,f,y){let x=(y=y||this.ngModule)instanceof ic?y:y?.injector;x&&null!==this.componentDef.getStandaloneInjector&&(x=this.componentDef.getStandaloneInjector(x)||x);const P=x?new Xs(a,x):a,U=P.get(Jp,null);if(null===U)throw new se(407,!1);const Z=P.get(Qp,null),oe=U.createRenderer(null,this.componentDef),pe=this.componentDef.selectors[0][0]||"div",Ie=f?function Yg(i,a,l){return i.selectRootElement(a,l===wr.ShadowDom)}(oe,f,this.componentDef.encapsulation):Id(oe,pe,function om(i){const a=i.toLowerCase();return"svg"===a?la:"math"===a?"math":null}(pe)),Ke=this.componentDef.onPush?288:272,dt=Xh(0,null,null,1,0,null,null,null,null,null),Lt=Zh(null,dt,null,Ke,null,null,U,oe,Z,P,null);let un,wn;ul(Lt);try{const In=this.componentDef;let Qn,Zt=null;In.findHostDirectiveDefs?(Qn=[],Zt=new Map,In.findHostDirectiveDefs(In,Qn,Zt),Qn.push(In)):Qn=[In];const _r=function sm(i,a){const l=i[dn],f=jr;return i[f]=a,eh(l,f,2,"#host",null)}(Lt,Ie),yo=function lm(i,a,l,f,y,x,P,U){const Z=y[dn];!function um(i,a,l,f){for(const y of i)a.mergedAttrs=ui(a.mergedAttrs,y.hostAttrs);null!==a.mergedAttrs&&(Mf(a,a.mergedAttrs,!0),null!==l&&$t(f,l,a))}(f,i,a,P);const oe=x.createRenderer(a,l),pe=Zh(y,gf(l),null,l.onPush?32:16,y[i.index],i,x,oe,U||null,null,null);return Z.firstCreatePass&&ep(Z,i,f.length-1),rp(y,pe),y[i.index]=pe}(_r,Ie,In,Qn,Lt,U,oe);wn=bo(dt,jr),Ie&&function dm(i,a,l,f){if(f)Fn(i,l,["ng-version",wg.full]);else{const{attrs:y,classes:x}=function Km(i){const a=[],l=[];let f=1,y=2;for(;f<i.length;){let x=i[f];if("string"==typeof x)2===y?""!==x&&a.push(x,i[++f]):8===y&&l.push(x);else{if(!Js(y))break;y=x}f++}return{attrs:a,classes:l}}(a.selectors[0]);y&&Fn(i,l,y),x&&x.length>0&&Et(i,l,x.join(" "))}}(oe,In,Ie,f),void 0!==l&&function Of(i,a,l){const f=i.projection=[];for(let y=0;y<a.length;y++){const x=l[y];f.push(null!=x?Array.from(x):null)}}(wn,this.ngContentSelectors,l),un=function cm(i,a,l,f,y,x){const P=ti(),U=y[dn],Z=Cr(P,y);_f(U,y,P,l,null,f);for(let pe=0;pe<l.length;pe++)xo(Va(y,U,P.directiveStart+pe,P),y);wf(U,y,P),Z&&xo(Z,y);const oe=Va(y,U,P.directiveStart+P.componentOffset,P);if(i[ir]=y[ir]=oe,null!==x)for(const pe of x)pe(oe,a);return Qc(U,P,i),oe}(yo,In,Qn,Zt,Lt,[hm]),pf(dt,Lt,null)}finally{ku()}return new am(this.componentType,un,ac(wn,Lt),Lt,wn)}}class am extends jd{constructor(a,l,f,y,x){super(),this.location=f,this._rootLView=y,this._tNode=x,this.instance=l,this.hostView=this.changeDetectorRef=new rm(y),this.componentType=a}setInput(a,l){const f=this._tNode.inputs;let y;if(null!==f&&(y=f[a])){const x=this._rootLView;Tf(x[dn],x,y,a,l),Jg(x,this._tNode.index)}}get injector(){return new Ui(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function hm(){const i=ti();Hs(ut()[dn],i)}function ap(i){let a=function Pf(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),l=!0;const f=[i];for(;a;){let y;if(pi(i))y=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new se(903,!1);y=a.\u0275dir}if(y){if(l){f.push(y);const P=i;P.inputs=sp(i.inputs),P.declaredInputs=sp(i.declaredInputs),P.outputs=sp(i.outputs);const U=y.hostBindings;U&&_y(i,U);const Z=y.viewQuery,oe=y.contentQueries;if(Z&&yy(i,Z),oe&&vy(i,oe),re(i.inputs,y.inputs),re(i.declaredInputs,y.declaredInputs),re(i.outputs,y.outputs),pi(y)&&y.data.animation){const pe=i.data;pe.animation=(pe.animation||[]).concat(y.data.animation)}}const x=y.features;if(x)for(let P=0;P<x.length;P++){const U=x[P];U&&U.ngInherit&&U(i),U===ap&&(l=!1)}}a=Object.getPrototypeOf(a)}!function pm(i){let a=0,l=null;for(let f=i.length-1;f>=0;f--){const y=i[f];y.hostVars=a+=y.hostVars,y.hostAttrs=ui(y.hostAttrs,l=ui(l,y.hostAttrs))}}(f)}function sp(i){return i===Bi?{}:i===Je?[]:i}function yy(i,a){const l=i.viewQuery;i.viewQuery=l?(f,y)=>{a(f,y),l(f,y)}:a}function vy(i,a){const l=i.contentQueries;i.contentQueries=l?(f,y,x)=>{a(f,y,x),l(f,y,x)}:a}function _y(i,a){const l=i.hostBindings;i.hostBindings=l?(f,y)=>{a(f,y),l(f,y)}:a}function cp(i){return!!ih(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function ih(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function el(i,a,l){return i[a]=l}function ea(i,a,l){return!Object.is(i[a],l)&&(i[a]=l,!0)}function Tu(i,a,l,f){const y=ea(i,a,l);return ea(i,a+1,f)||y}function ys(i,a,l,f,y,x){const P=Tu(i,a,l,f);return Tu(i,a+2,y,x)||P}function Ff(i,a,l,f){const y=ut();return ea(y,Yo(),a)&&(On(),function Qs(i,a,l,f,y,x){const P=Cr(i,a);np(a[_n],P,x,i.value,l,f,y)}(Xr(),y,i,a,l,f)),Ff}function td(i,a,l,f){return ea(i,Yo(),l)?a+mt(l)+f:tr}function Uf(i,a,l,f,y,x,P,U){const Z=ut(),oe=On(),pe=i+jr,Ie=oe.firstCreatePass?function xy(i,a,l,f,y,x,P,U,Z){const oe=a.consts,pe=eh(a,i,4,P||null,Dr(oe,U));vf(a,l,pe,Dr(oe,Z)),Hs(a,pe);const Ie=pe.tView=Xh(2,pe,f,y,x,a.directiveRegistry,a.pipeRegistry,null,a.schemas,oe);return null!==a.queries&&(a.queries.template(a,pe),Ie.queries=a.queries.embeddedTView(pe)),pe}(pe,oe,Z,a,l,f,y,x,P):oe.data[pe];Sa(Ie,!1);const Ke=Z[_n].createComment("");g(oe,Z,Ke,Ie),xo(Ke,Z),rp(Z,Z[pe]=Xg(Ke,Z,Ke,Ie)),ar(Ie)&&Jh(oe,Z,Ie),null!=P&&Qh(Z,Ie,U)}function zf(i){return is(function Ml(){return Pn.lFrame.contextLView}(),jr+i)}function jf(i,a,l){const f=ut();return ea(f,Yo(),a)&&ms(On(),Xr(),f,i,a,f[_n],l,!1),jf}function Hf(i,a,l,f,y){const P=y?"class":"style";Tf(i,l,a.inputs[P],P,f)}function od(i,a,l,f){const y=ut(),x=On(),P=jr+i,U=y[_n],Z=x.firstCreatePass?function Ny(i,a,l,f,y,x){const P=a.consts,Z=eh(a,i,2,f,Dr(P,y));return vf(a,l,Z,Dr(P,x)),null!==Z.attrs&&Mf(Z,Z.attrs,!1),null!==Z.mergedAttrs&&Mf(Z,Z.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,Z),Z}(P,x,y,a,l,f):x.data[P],oe=y[P]=Id(U,a,function Ds(){return Pn.lFrame.currentNamespace}()),pe=ar(Z);return Sa(Z,!0),$t(U,oe,Z),32!=(32&Z.flags)&&g(x,y,oe,Z),0===function Co(){return Pn.lFrame.elementDepthCount}()&&xo(oe,y),function te(){Pn.lFrame.elementDepthCount++}(),pe&&(Jh(x,y,Z),Qc(x,Z,y)),null!==f&&Qh(y,Z),od}function ad(){let i=ti();ru()?Us():(i=i.parent,Sa(i,!1));const a=i;!function J(){Pn.lFrame.elementDepthCount--}();const l=On();return l.firstCreatePass&&(Hs(l,i),so(i)&&l.queries.elementEnd(i)),null!=a.classesWithoutHost&&function En(i){return 0!=(8&i.flags)}(a)&&Hf(l,a,ut(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function zr(i){return 0!=(16&i.flags)}(a)&&Hf(l,a,ut(),a.stylesWithoutHost,!1),ad}function ah(i,a,l,f){return od(i,a,l,f),ad(),ah}function pp(i,a,l){const f=ut(),y=On(),x=i+jr,P=y.firstCreatePass?function Cm(i,a,l,f,y){const x=a.consts,P=Dr(x,f),U=eh(a,i,8,"ng-container",P);return null!==P&&Mf(U,P,!0),vf(a,l,U,Dr(x,y)),null!==a.queries&&a.queries.elementStart(a,U),U}(x,y,f,a,l):y.data[x];Sa(P,!0);const U=f[x]=f[_n].createComment("");return g(y,f,U,P),xo(U,f),ar(P)&&(Jh(y,f,P),Qc(y,P,f)),null!=l&&Qh(f,P),pp}function fp(){let i=ti();const a=On();return ru()?Us():(i=i.parent,Sa(i,!1)),a.firstCreatePass&&(Hs(a,i),so(i)&&a.queries.elementEnd(i)),fp}function Dm(){return ut()}function No(i){return!!i&&"function"==typeof i.then}function c(i){return!!i&&"function"==typeof i.subscribe}const p=c;function n(i,a,l,f){const y=ut(),x=On(),P=ti();return function T(i,a,l,f,y,x,P){const U=ar(f),oe=i.firstCreatePass&&Nf(i),pe=a[ir],Ie=tm(a);let Ke=!0;if(3&f.type||P){const un=Cr(f,a),wn=P?P(un):un,In=Ie.length,Qn=P?_r=>P(Ai(_r[f.index])):f.index;let Zt=null;if(!P&&U&&(Zt=function b(i,a,l,f){const y=i.cleanup;if(null!=y)for(let x=0;x<y.length-1;x+=2){const P=y[x];if(P===l&&y[x+1]===f){const U=a[to],Z=y[x+2];return U.length>Z?U[Z]:null}"string"==typeof P&&(x+=2)}return null}(i,a,y,f.index)),null!==Zt)(Zt.__ngLastListenerFn__||Zt).__ngNextListenerFn__=x,Zt.__ngLastListenerFn__=x,Ke=!1;else{x=X(f,a,pe,x,!1);const _r=l.listen(wn,y,x);Ie.push(x,_r),oe&&oe.push(y,Qn,In,In+1)}}else x=X(f,a,pe,x,!1);const dt=f.outputs;let Lt;if(Ke&&null!==dt&&(Lt=dt[y])){const un=Lt.length;if(un)for(let wn=0;wn<un;wn+=2){const yo=a[Lt[wn]][Lt[wn+1]].subscribe(x),ia=Ie.length;Ie.push(x,yo),oe&&oe.push(y,f.index,ia,-(ia+1))}}}(x,y,y[_n],P,i,a,f),n}function q(i,a,l,f){try{return Zr(6,a,l),!1!==l(f)}catch(y){return nm(i,y),!1}finally{Zr(7,a,l)}}function X(i,a,l,f,y){return function x(P){if(P===Function)return f;ip(i.componentOffset>-1?Tr(i.index,a):a);let Z=q(a,l,f,P),oe=x.__ngNextListenerFn__;for(;oe;)Z=q(a,l,oe,P)&&Z,oe=oe.__ngNextListenerFn__;return y&&!1===Z&&(P.preventDefault(),P.returnValue=!1),Z}}function de(i=1){return function dl(i){return(Pn.lFrame.contextLView=function js(i,a){for(;i>0;)a=a[Mi],i--;return a}(i,Pn.lFrame.contextLView))[ir]}(i)}function Se(i,a){let l=null;const f=function xu(i){const a=i.attrs;if(null!=a){const l=a.indexOf(5);if(!(1&l))return a[l+1]}return null}(i);for(let y=0;y<a.length;y++){const x=a[y];if("*"!==x){if(null===f?Zd(i,x,!0):Mg(f,x))return y}else l=y}return l}function Ze(i){const a=ut()[Rn][hi];if(!a.projection){const f=a.projection=io(i?i.length:1,null),y=f.slice();let x=a.child;for(;null!==x;){const P=i?Se(x,i):0;null!==P&&(y[P]?y[P].projectionNext=x:f[P]=x,y[P]=x),x=x.next}}}function yt(i,a=0,l){const f=ut(),y=On(),x=eh(y,jr+i,16,null,l||null);null===x.projection&&(x.projection=a),Us(),32!=(32&x.flags)&&function Ce(i,a,l){Xe(a[_n],0,a,l,Pd(i,l,a),kd(l.parent||a[hi],l,a))}(y,f,x)}function Ft(i,a,l){return jt(i,"",a,"",l),Ft}function jt(i,a,l,f,y){const x=ut(),P=td(x,a,l,f);return P!==tr&&ms(On(),Xr(),x,i,P,x[_n],y,!1),jt}function ha(i,a){return i<<17|a<<2}function ki(i){return i>>17&32767}function tl(i){return 2|i}function tu(i){return(131068&i)>>2}function mc(i,a){return-131069&i|a<<2}function gp(i){return 1|i}function Wr(i,a,l,f,y){const x=i[l+1],P=null===a;let U=f?ki(x):tu(x),Z=!1;for(;0!==U&&(!1===Z||P);){const pe=i[U+1];jo(i[U],a)&&(Z=!0,i[U+1]=f?gp(pe):tl(pe)),U=f?ki(pe):tu(pe)}Z&&(i[l+1]=f?tl(x):gp(x))}function jo(i,a){return null===i||null==a||(Array.isArray(i)?i[1]:i)===a||!(!Array.isArray(i)||"string"!=typeof a)&&le(i,a)>=0}const vi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Wa(i){return i.substring(vi.key,vi.keyEnd)}function nu(i){return i.substring(vi.value,vi.valueEnd)}function Gf(i,a){const l=vi.textEnd;return l===a?-1:(a=vi.keyEnd=function sh(i,a,l){for(;a<l&&i.charCodeAt(a)>32;)a++;return a}(i,vi.key=a,l),na(i,a,l))}function ta(i,a){const l=vi.textEnd;let f=vi.key=na(i,a,l);return l===f?-1:(f=vi.keyEnd=function Wf(i,a,l){let f;for(;a<l&&(45===(f=i.charCodeAt(a))||95===f||(-33&f)>=65&&(-33&f)<=90||f>=48&&f<=57);)a++;return a}(i,f,l),f=Em(i,f,l),f=vi.value=na(i,f,l),f=vi.valueEnd=function Zy(i,a,l){let f=-1,y=-1,x=-1,P=a,U=P;for(;P<l;){const Z=i.charCodeAt(P++);if(59===Z)return U;34===Z||39===Z?U=P=Yy(i,Z,P,l):a===P-4&&85===x&&82===y&&76===f&&40===Z?U=P=Yy(i,41,P,l):Z>32&&(U=P),x=y,y=f,f=-33&Z}return U}(i,f,l),Em(i,f,l))}function El(i){vi.key=0,vi.keyEnd=0,vi.value=0,vi.valueEnd=0,vi.textEnd=i.length}function na(i,a,l){for(;a<l&&i.charCodeAt(a)<=32;)a++;return a}function Em(i,a,l,f){return(a=na(i,a,l))<l&&a++,a}function Yy(i,a,l,f){let y=-1,x=l;for(;x<f;){const P=i.charCodeAt(x++);if(P==a&&92!==y)return x;y=92==P&&92===y?0:P}throw new Error}function qf(i,a,l){return ks(i,a,l,!1),qf}function xm(i,a){return ks(i,a,null,!0),xm}function nl(i,a){for(let l=function My(i){return El(i),ta(i,na(i,0,vi.textEnd))}(a);l>=0;l=ta(a,l))Sm(i,Wa(a),nu(a))}function lh(i){xl(j,Ma,i,!0)}function Ma(i,a){for(let l=function Wi(i){return El(i),Gf(i,na(i,0,vi.textEnd))}(a);l>=0;l=Gf(a,l))j(i,Wa(a),!0)}function ks(i,a,l,f){const y=ut(),x=On(),P=Zi(2);x.firstUpdatePass&&Jy(x,i,P,f),a!==tr&&ea(y,P,a)&&Oy(x,x.data[ri()],y,y[_n],i,y[P+1]=function kv(i,a){return null==i||("string"==typeof a?i+=a:"object"==typeof i&&(i=ce(Qo(i)))),i}(a,l),f,P)}function xl(i,a,l,f){const y=On(),x=Zi(2);y.firstUpdatePass&&Jy(y,null,x,f);const P=ut();if(l!==tr&&ea(P,x,l)){const U=y.data[ri()];if(_c(U,f)&&!Ky(y,x)){let Z=f?U.classesWithoutHost:U.stylesWithoutHost;null!==Z&&(l=Oe(Z,l||"")),Hf(y,U,P,l,f)}else!function mp(i,a,l,f,y,x,P,U){y===tr&&(y=Je);let Z=0,oe=0,pe=0<y.length?y[0]:null,Ie=0<x.length?x[0]:null;for(;null!==pe||null!==Ie;){const Ke=Z<y.length?y[Z+1]:void 0,dt=oe<x.length?x[oe+1]:void 0;let un,Lt=null;pe===Ie?(Z+=2,oe+=2,Ke!==dt&&(Lt=Ie,un=dt)):null===Ie||null!==pe&&pe<Ie?(Z+=2,Lt=pe):(oe+=2,Lt=Ie,un=dt),null!==Lt&&Oy(i,a,l,f,Lt,un,P,U),pe=Z<y.length?y[Z]:null,Ie=oe<x.length?x[oe]:null}}(y,U,P,P[_n],P[x+1],P[x+1]=function Qy(i,a,l){if(null==l||""===l)return Je;const f=[],y=Qo(l);if(Array.isArray(y))for(let x=0;x<y.length;x++)i(f,y[x],!0);else if("object"==typeof y)for(const x in y)y.hasOwnProperty(x)&&i(f,x,y[x]);else"string"==typeof y&&a(f,y);return f}(i,a,l),f,x)}}function Ky(i,a){return a>=i.expandoStartIndex}function Jy(i,a,l,f){const y=i.data;if(null===y[l+1]){const x=y[ri()],P=Ky(i,l);_c(x,f)&&null===a&&!P&&(a=!1),a=function Ov(i,a,l,f){const y=function ll(i){const a=Pn.lFrame.currentDirectiveIndex;return-1===a?null:i[a]}(i);let x=f?a.residualClasses:a.residualStyles;if(null===y)0===(f?a.classBindings:a.styleBindings)&&(l=Sl(l=vc(null,i,a,l,f),a.attrs,f),x=null);else{const P=a.directiveStylingLast;if(-1===P||i[P]!==y)if(l=vc(y,i,a,l,f),null===x){let Z=function Pv(i,a,l){const f=l?a.classBindings:a.styleBindings;if(0!==tu(f))return i[ki(f)]}(i,a,f);void 0!==Z&&Array.isArray(Z)&&(Z=vc(null,i,a,Z[1],f),Z=Sl(Z,a.attrs,f),function Iy(i,a,l,f){i[ki(l?a.classBindings:a.styleBindings)]=f}(i,a,f,Z))}else x=function Ay(i,a,l){let f;const y=a.directiveEnd;for(let x=1+a.directiveStylingLast;x<y;x++)f=Sl(f,i[x].hostAttrs,l);return Sl(f,a.attrs,l)}(i,a,f)}return void 0!==x&&(f?a.residualClasses=x:a.residualStyles=x),l}(y,x,a,f),function Bn(i,a,l,f,y,x){let P=x?a.classBindings:a.styleBindings,U=ki(P),Z=tu(P);i[f]=l;let pe,oe=!1;if(Array.isArray(l)?(pe=l[1],(null===pe||le(l,pe)>0)&&(oe=!0)):pe=l,y)if(0!==Z){const Ke=ki(i[U+1]);i[f+1]=ha(Ke,U),0!==Ke&&(i[Ke+1]=mc(i[Ke+1],f)),i[U+1]=function eu(i,a){return 131071&i|a<<17}(i[U+1],f)}else i[f+1]=ha(U,0),0!==U&&(i[U+1]=mc(i[U+1],f)),U=f;else i[f+1]=ha(Z,0),0===U?U=f:i[Z+1]=mc(i[Z+1],f),Z=f;oe&&(i[f+1]=tl(i[f+1])),Wr(i,pe,f,!0),Wr(i,pe,f,!1),function Zn(i,a,l,f,y){const x=y?i.residualClasses:i.residualStyles;null!=x&&"string"==typeof a&&le(x,a)>=0&&(l[f+1]=gp(l[f+1]))}(a,pe,i,f,x),P=ha(U,Z),x?a.classBindings=P:a.styleBindings=P}(y,x,a,l,P,f)}}function vc(i,a,l,f,y){let x=null;const P=l.directiveEnd;let U=l.directiveStylingLast;for(-1===U?U=l.directiveStart:U++;U<P&&(x=a[U],f=Sl(f,x.hostAttrs,y),x!==i);)U++;return null!==i&&(l.directiveStylingLast=U),f}function Sl(i,a,l){const f=l?1:2;let y=-1;if(null!==a)for(let x=0;x<a.length;x++){const P=a[x];"number"==typeof P?y=P:y===f&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),j(i,P,!!l||a[++x]))}return void 0===i?null:i}function Sm(i,a,l){j(i,a,Qo(l))}function Oy(i,a,l,f,y,x,P,U){if(!(3&a.type))return;const Z=i.data,oe=Z[U+1],pe=function yc(i){return 1==(1&i)}(oe)?Xy(Z,a,l,y,tu(oe),P):void 0;Nm(pe)||(Nm(x)||function To(i){return 2==(2&i)}(oe)&&(x=Xy(Z,null,l,y,U,P)),function ht(i,a,l,f,y){if(a)y?i.addClass(l,f):i.removeClass(l,f);else{let x=-1===f.indexOf("-")?void 0:Ha.DashCase;null==y?i.removeStyle(l,f,x):("string"==typeof y&&y.endsWith("!important")&&(y=y.slice(0,-10),x|=Ha.Important),i.setStyle(l,f,y,x))}}(f,P,uo(ri(),l),y,x))}function Xy(i,a,l,f,y,x){const P=null===a;let U;for(;y>0;){const Z=i[y],oe=Array.isArray(Z),pe=oe?Z[1]:Z,Ie=null===pe;let Ke=l[y+1];Ke===tr&&(Ke=Ie?Je:void 0);let dt=Ie?ne(Ke,f):pe===f?Ke:void 0;if(oe&&!Nm(dt)&&(dt=ne(Z,f)),Nm(dt)&&(U=dt,P))return U;const Lt=i[y+1];y=P?ki(Lt):tu(Lt)}if(null!==a){let Z=x?a.residualClasses:a.residualStyles;null!=Z&&(U=ne(Z,f))}return U}function Nm(i){return void 0!==i}function _c(i,a){return 0!=(i.flags&(a?8:16))}function yp(i,a=""){const l=ut(),f=On(),y=i+jr,x=f.firstCreatePass?eh(f,y,1,a,null):f.data[y],P=l[y]=Md(l[_n],a);g(f,l,P,x),Sa(x,!1)}function Tm(i){return Mm("",i,""),Tm}function Mm(i,a,l){const f=ut(),y=td(f,i,a,l);return y!==tr&&function Nu(i,a,l){const f=uo(a,i);kp(i[_n],f,l)}(f,ri(),y),Mm}function ov(i,a,l,f,y,x,P,U,Z){xl(j,Ma,function nd(i,a,l,f,y,x,P,U,Z,oe){const Ie=ys(i,Po(),l,y,P,Z);return Zi(4),Ie?a+mt(l)+f+mt(y)+x+mt(P)+U+mt(Z)+oe:tr}(ut(),i,a,l,f,y,x,P,U,Z),!0)}function Fy(i,a,l){!function Ps(i){xl(Sm,nl,i,!1)}(td(ut(),i,a,l))}function Ly(i,a,l){const f=ut();return ea(f,Yo(),a)&&ms(On(),Xr(),f,i,a,f[_n],l,!0),Ly}const sd=void 0;var Wv=["en",[["a","p"],["AM","PM"],sd],[["AM","PM"],sd,sd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",sd,"{1} 'at' {0}",sd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ld(i){const l=Math.floor(Math.abs(i)),f=i.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===f?1:5}];let vp={};function Vy(i){const a=function qv(i){return i.toLowerCase().replace(/_/g,"-")}(i);let l=bv(a);if(l)return l;const f=a.split("-")[0];if(l=bv(f),l)return l;if("en"===f)return Wv;throw new se(701,!1)}function _v(i){return Vy(i)[Hn.PluralCase]}function bv(i){return i in vp||(vp[i]=zn.ng&&zn.ng.common&&zn.ng.common.locales&&zn.ng.common.locales[i]),vp[i]}var Hn=(()=>((Hn=Hn||{})[Hn.LocaleId=0]="LocaleId",Hn[Hn.DayPeriodsFormat=1]="DayPeriodsFormat",Hn[Hn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Hn[Hn.DaysFormat=3]="DaysFormat",Hn[Hn.DaysStandalone=4]="DaysStandalone",Hn[Hn.MonthsFormat=5]="MonthsFormat",Hn[Hn.MonthsStandalone=6]="MonthsStandalone",Hn[Hn.Eras=7]="Eras",Hn[Hn.FirstDayOfWeek=8]="FirstDayOfWeek",Hn[Hn.WeekendRange=9]="WeekendRange",Hn[Hn.DateFormat=10]="DateFormat",Hn[Hn.TimeFormat=11]="TimeFormat",Hn[Hn.DateTimeFormat=12]="DateTimeFormat",Hn[Hn.NumberSymbols=13]="NumberSymbols",Hn[Hn.NumberFormats=14]="NumberFormats",Hn[Hn.CurrencyCode=15]="CurrencyCode",Hn[Hn.CurrencySymbol=16]="CurrencySymbol",Hn[Hn.CurrencyName=17]="CurrencyName",Hn[Hn.Currencies=18]="Currencies",Hn[Hn.Directionality=19]="Directionality",Hn[Hn.PluralCase=20]="PluralCase",Hn[Hn.ExtraData=21]="ExtraData",Hn))();const Zv=["zero","one","two","few","many"],ch="en-US",Im={marker:"element"},Am={marker:"ICU"};var mo=(()=>((mo=mo||{})[mo.SHIFT=2]="SHIFT",mo[mo.APPEND_EAGERLY=1]="APPEND_EAGERLY",mo[mo.COMMENT=2]="COMMENT",mo))();let ud=ch;function Om(i){(function Wt(i,a){null==i&&zt(a,i,null,"!=")})(i,"Expected localeId to be defined"),"string"==typeof i&&(ud=i.toLowerCase().replace(/_/g,"-"))}function Pm(i,a,l){const f=a.insertBeforeIndex,y=Array.isArray(f)?f[0]:f;return null===y?Bp(i,0,l):Ai(l[y])}function km(i,a,l,f,y){const x=a.insertBeforeIndex;if(Array.isArray(x)){let P=f,U=null;if(3&a.type||(U=P,P=y),null!==P&&-1===a.componentOffset)for(let Z=1;Z<x.length;Z++)yl(i,P,l[x[Z]],U,!1)}}function Zf(i,a){if(i.push(a),i.length>1)for(let l=i.length-2;l>=0;l--){const f=i[l];Rm(f)||zy(f,a)&&null===dh(f)&&Jv(f,a.index)}}function Rm(i){return!(64&i.type)}function zy(i,a){return Rm(a)||i.index>a.index}function dh(i){const a=i.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function Jv(i,a){const l=i.insertBeforeIndex;Array.isArray(l)?l[0]=a:(d(Pm,km),i.insertBeforeIndex=a)}function Yf(i,a){const l=i.data[a];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function e0(i,a,l){const f=qg(i,l,64,null,null);return Zf(a,f),f}function o(i,a){const l=a[i.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function e(i){return i>>>17}function r(i){return(131070&i)>>>1}let m=0,D=0;function $(i,a,l,f){const y=l[_n];let P,x=null;for(let U=0;U<a.length;U++){const Z=a[U];if("string"==typeof Z){const oe=a[++U];null===l[oe]&&(l[oe]=Md(y,Z))}else if("number"==typeof Z)switch(1&Z){case 0:const oe=e(Z);let pe,Ie;if(null===x&&(x=oe,P=Vc(y,f)),oe===x?(pe=f,Ie=P):(pe=null,Ie=Ai(l[oe])),null!==Ie){const un=r(Z);yl(y,Ie,l[un],pe,!1);const In=Yf(i,un);if(null!==In&&"object"==typeof In){const Qn=o(In,l);null!==Qn&&$(i,In.create[Qn],l,l[In.anchorIdx])}}break;case 1:const dt=a[++U],Lt=a[++U];np(y,uo(Z>>>1,l),null,null,dt,Lt,null)}else switch(Z){case Am:const oe=a[++U],pe=a[++U];null===l[pe]&&xo(l[pe]=Eh(y,oe),l);break;case Im:const Ie=a[++U],Ke=a[++U];null===l[Ke]&&xo(l[Ke]=Id(y,Ie,null),l)}}}function Q(i,a,l,f,y){for(let x=0;x<l.length;x++){const P=l[x],U=l[++x];if(P&y){let Z="";for(let oe=x+1;oe<=x+U;oe++){const pe=l[oe];if("string"==typeof pe)Z+=pe;else if("number"==typeof pe)if(pe<0)Z+=mt(a[f-pe]);else{const Ie=pe>>>2;switch(3&pe){case 1:const Ke=l[++oe],dt=l[++oe],Lt=i.data[Ie];"string"==typeof Lt?np(a[_n],a[Ie],null,Lt,Ke,Z,dt):ms(i,Lt,a,Ke,Z,a[_n],dt,!1);break;case 0:const un=a[Ie];null!==un&&kp(a[_n],un,Z);break;case 2:ue(i,Yf(i,Ie),a,Z);break;case 3:ee(i,Yf(i,Ie),f,a)}}}}else{const Z=l[x+1];if(Z>0&&3==(3&Z)){const pe=Yf(i,Z>>>2);a[pe.currentCaseLViewIndex]<0&&ee(i,pe,f,a)}}x+=U}}function ee(i,a,l,f){let y=f[a.currentCaseLViewIndex];if(null!==y){let x=m;y<0&&(y=f[a.currentCaseLViewIndex]=~y,x=-1),Q(i,f,a.update[y],l,x)}}function ue(i,a,l,f){const y=function ge(i,a){let l=i.cases.indexOf(a);if(-1===l)switch(i.type){case 1:{const f=function Yv(i,a){const l=_v(a)(parseInt(i,10)),f=Zv[l];return void 0!==f?f:"other"}(a,function Uy(){return ud}());l=i.cases.indexOf(f),-1===l&&"other"!==f&&(l=i.cases.indexOf("other"));break}case 0:l=i.cases.indexOf("other")}return-1===l?null:l}(a,f);if(o(a,l)!==y&&(ye(i,a,l),l[a.currentCaseLViewIndex]=null===y?null:~y,null!==y)){const P=l[a.anchorIdx];P&&$(i,a.create[y],l,P)}}function ye(i,a,l){let f=o(a,l);if(null!==f){const y=a.remove[f];for(let x=0;x<y.length;x++){const P=y[x];if(P>0){const U=uo(P,l);null!==U&&ae(l[_n],U)}else ye(i,Yf(i,~P),l)}}}function xe(){const i=[];let l,f,a=-1;function x(U,Z){a=0;const oe=o(U,Z);f=null!==oe?U.remove[oe]:Je}function P(){if(a<f.length){const U=f[a++];return U>0?l[U]:(i.push(a,f),x(l[dn].data[~U],l),P())}return 0===i.length?null:(f=i.pop(),a=i.pop(),P())}return function y(U,Z){for(l=Z;i.length;)i.pop();return x(U.value,Z),P}}const Pt=/\ufffd(\d+):?\d*\ufffd/gi,sn=/\ufffd(\d+)\ufffd/,fn=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Dn="\ufffd",Vn=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,rr=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,hr=/\uE500/g;function Un(i,a,l,f,y,x,P){const U=Yh(i,f,1,null);let Z=U<<mo.SHIFT,oe=fi();a===oe&&(oe=null),null===oe&&(Z|=mo.APPEND_EAGERLY),P&&(Z|=mo.COMMENT,function ig(i){void 0===Sd&&(Sd=i())}(xe)),y.push(Z,null===x?"":x);const pe=qg(i,U,P?32:1,null===x?"":x,null);Zf(l,pe);const Ie=pe.index;return Sa(pe,!1),null!==oe&&a!==oe&&function Xv(i,a){let l=i.insertBeforeIndex;null===l?(d(Pm,km),l=i.insertBeforeIndex=[null,a]):(function Le(i,a,l){i!=a&&zt(l,i,a,"==")}(Array.isArray(l),!0,"Expecting array here"),l.push(a))}(oe,Ie),pe}function Gn(i,a,l,f,y,x,P){const U=P.match(Pt),Z=Un(i,a,l,x,f,U?null:P,!1);U&&Ei(y,P,Z.index,null,0,null)}function Ei(i,a,l,f,y,x){const P=i.length,U=P+1;i.push(null,null);const Z=P+2,oe=a.split(Pt);let pe=0;for(let Ie=0;Ie<oe.length;Ie++){const Ke=oe[Ie];if(1&Ie){const dt=y+parseInt(Ke,10);i.push(-1-dt),pe|=Ho(dt)}else""!==Ke&&i.push(Ke)}return i.push(l<<2|(f?1:0)),f&&i.push(f,x),i[P]=pe,i[U]=i.length-Z,pe}function Ho(i){return 1<<Math.min(i,31)}function Za(i){let a,x,l="",f=0,y=!1;for(;null!==(a=Vn.exec(i));)y?a[0]===`${Dn}/*${x}${Dn}`&&(f=a.index,y=!1):(l+=i.substring(f,a.index+a[0].length),x=a[1],y=!0);return l+=i.slice(f),l}function cd(i,a,l,f,y,x){let P=0;const U={type:y.type,currentCaseLViewIndex:Yh(i,a,1,null),anchorIdx:x,cases:[],create:[],remove:[],update:[]};(function hd(i,a,l){i.push(Ho(a.mainBinding),2,-1-a.mainBinding,l<<2|2)})(l,y,x),function Qv(i,a,l){const f=i.data[a];null===f?i.data[a]=l:f.value=l}(i,x,U);const Z=y.values;for(let oe=0;oe<Z.length;oe++){const pe=Z[oe],Ie=[];for(let Ke=0;Ke<pe.length;Ke++){const dt=pe[Ke];if("string"!=typeof dt){const Lt=Ie.push(dt)-1;pe[Ke]=`\x3c!--\ufffd${Lt}\ufffd--\x3e`}}P=dd(i,U,a,l,f,y.cases[oe],pe.join(""),Ie)|P}P&&function _p(i,a,l){i.push(a,1,l<<2|3)}(l,P,x)}function Rs(i){const a=[],l=[];let f=1,y=0;const x=Ia(i=i.replace(fn,function(P,U,Z){return f="select"===Z?0:1,y=parseInt(U.slice(1),10),""}));for(let P=0;P<x.length;){let U=x[P++].trim();1===f&&(U=U.replace(/\s*(?:=)?(\w+)\s*/,"$1")),U.length&&a.push(U);const Z=Ia(x[P++]);a.length>l.length&&l.push(Z)}return{type:f,mainBinding:y,cases:a,values:l}}function Ia(i){if(!i)return[];let a=0;const l=[],f=[],y=/[{}]/g;let x;for(y.lastIndex=0;x=y.exec(i);){const U=x.index;if("}"==x[0]){if(l.pop(),0==l.length){const Z=i.substring(a,U);fn.test(Z)?f.push(Rs(Z)):f.push(Z),a=U+1}}else{if(0==l.length){const Z=i.substring(a,U);f.push(Z),a=U+1}l.push("{")}}const P=i.substring(a);return f.push(P),f}function dd(i,a,l,f,y,x,P,U){const Z=[],oe=[],pe=[];a.cases.push(x),a.create.push(Z),a.remove.push(oe),a.update.push(pe);const Ke=Uc(vr()).getInertBodyElement(P),dt=Cu(Ke)||Ke;return dt?Ya(i,a,l,f,Z,oe,pe,dt,y,U,0):0}function Ya(i,a,l,f,y,x,P,U,Z,oe,pe){let Ie=0,Ke=U.firstChild;for(;Ke;){const dt=Yh(i,l,1,null);switch(Ke.nodeType){case Node.ELEMENT_NODE:const Lt=Ke,un=Lt.tagName.toLowerCase();if(Di.hasOwnProperty(un)){t0(y,Im,un,Z,dt),i.data[dt]=un;const Zt=Lt.attributes;for(let _r=0;_r<Zt.length;_r++){const yo=Zt.item(_r),ia=yo.name.toLowerCase();yo.value.match(Pt)?Qu.hasOwnProperty(ia)&&Ei(P,yo.value,dt,yo.name,0,Xi[ia]?Zl:null):Eb(y,dt,yo)}Ie=Ya(i,a,l,f,y,x,P,Ke,dt,oe,pe+1)|Ie,bc(x,dt,pe)}break;case Node.TEXT_NODE:const wn=Ke.textContent||"",In=wn.match(Pt);t0(y,null,In?"":wn,Z,dt),bc(x,dt,pe),In&&(Ie=Ei(P,wn,dt,null,0,null)|Ie);break;case Node.COMMENT_NODE:const Qn=sn.exec(Ke.textContent||"");if(Qn){const _r=oe[parseInt(Qn[1],10)];t0(y,Am,"",Z,dt),cd(i,l,f,Z,_r,dt),Kf(x,dt,pe)}}Ke=Ke.nextSibling}return Ie}function bc(i,a,l){0===l&&i.push(a)}function Kf(i,a,l){0===l&&(i.push(~a),i.push(a))}function t0(i,a,l,f,y){null!==a&&i.push(a),i.push(l,y,function h(i,a,l){return i|a<<17|l<<1}(0,f,y))}function Eb(i,a,l){i.push(a<<1|1,l.name,l.value)}function H0(i,a,l=-1){const f=On(),y=ut(),x=jr+i,P=Dr(f.consts,a),U=fi();f.firstCreatePass&&function Jn(i,a,l,f,y,x){const P=fi(),U=[],Z=[],oe=[[]];y=function rl(i,a){if(function qa(i){return-1===i}(a))return Za(i);{const l=i.indexOf(`:${a}${Dn}`)+2+a.toString().length,f=i.search(new RegExp(`${Dn}\\/\\*\\d+:${a}${Dn}`));return Za(i.substring(l,f))}}(y,x);const pe=function $r(i){return i.replace(hr," ")}(y).split(rr);for(let Ie=0;Ie<pe.length;Ie++){let Ke=pe[Ie];if(1&Ie){const dt=47===Ke.charCodeAt(0),un=(Ke.charCodeAt(dt?1:0),jr+Number.parseInt(Ke.substring(dt?2:1)));if(dt)oe.shift(),Sa(fi(),!1);else{const wn=e0(i,oe[0],un);oe.unshift([]),Sa(wn,!0)}}else{const dt=Ia(Ke);for(let Lt=0;Lt<dt.length;Lt++){let un=dt[Lt];if(1&Lt){const wn=un;if("object"!=typeof wn)throw new Error(`Unable to parse ICU expression in "${y}" message.`);cd(i,l,Z,a,wn,Un(i,P,oe[0],l,U,"",!0).index)}else""!==un&&Gn(i,P,oe[0],U,Z,l,un)}}}i.data[f]={create:U,update:Z}}(f,null===U?0:U.index,y,x,P,l);const Z=f.data[x],pe=Lp(f,U===y[hi]?null:U,y);(function B(i,a,l,f){const y=i[_n];for(let x=0;x<a.length;x++){const P=a[x++],U=a[x],oe=(P&mo.APPEND_EAGERLY)===mo.APPEND_EAGERLY,pe=P>>>mo.SHIFT;let Ie=i[pe];null===Ie&&(Ie=i[pe]=(P&mo.COMMENT)===mo.COMMENT?y.createComment(U):Md(y,U)),oe&&null!==l&&yl(y,l,Ie,f,!1)}})(y,Z.create,pe,U&&8&U.type?y[U.index]:null),Il(!0)}function G0(i,a,l){H0(i,a,l),function $0(){Il(!1)}()}function n0(i){return function S(i){i&&(m|=1<<Math.min(D,31)),D++}(ea(ut(),Yo(),i)),n0}function W0(i){!function R(i,a,l){if(D>0){const f=i.data[l];Q(i,a,Array.isArray(f)?f:f.update,Po()-D-1,m)}m=0,D=0}(On(),ut(),i+jr)}function r0(i,a,l,f,y){if(i=we(i),Array.isArray(i))for(let x=0;x<i.length;x++)r0(i[x],a,l,f,y);else{const x=On(),P=ut();let U=Jl(i)?i:we(i.provide),Z=zd(i);const oe=ti(),pe=1048575&oe.providerIndexes,Ie=oe.directiveStart,Ke=oe.providerIndexes>>20;if(Jl(i)||!i.multi){const dt=new Y(Z,y,Jc),Lt=a0(U,a,y?pe:pe+Ke,Ie);-1===Lt?(Na(fl(oe,P),x,U),o0(x,i,a.length),a.push(U),oe.directiveStart++,oe.directiveEnd++,y&&(oe.providerIndexes+=1048576),l.push(dt),P.push(dt)):(l[Lt]=dt,P[Lt]=dt)}else{const dt=a0(U,a,pe+Ke,Ie),Lt=a0(U,a,pe,pe+Ke),wn=Lt>=0&&l[Lt];if(y&&!wn||!y&&!(dt>=0&&l[dt])){Na(fl(oe,P),x,U);const In=function Bb(i,a,l,f,y){const x=new Y(i,l,Jc);return x.multi=[],x.index=a,x.componentProviders=0,q0(x,y,f&&!l),x}(y?Lb:Fb,l.length,y,f,Z);!y&&wn&&(l[Lt].providerFactory=In),o0(x,i,a.length,0),a.push(U),oe.directiveStart++,oe.directiveEnd++,y&&(oe.providerIndexes+=1048576),l.push(In),P.push(In)}else o0(x,i,dt>-1?dt:Lt,q0(l[y?Lt:dt],Z,!y&&f));!y&&f&&wn&&l[Lt].componentProviders++}}}function o0(i,a,l,f){const y=Jl(a),x=function pg(i){return!!i.useClass}(a);if(y||x){const Z=(x?we(a.useClass):a).prototype.ngOnDestroy;if(Z){const oe=i.destroyHooks||(i.destroyHooks=[]);if(!y&&a.multi){const pe=oe.indexOf(l);-1===pe?oe.push(l,[f,Z]):oe[pe+1].push(f,Z)}else oe.push(l,Z)}}}function q0(i,a,l){return l&&i.componentProviders++,i.multi.push(a)-1}function a0(i,a,l,f){for(let y=l;y<f;y++)if(a[y]===i)return y;return-1}function Fb(i,a,l,f){return s0(this.multi,[])}function Lb(i,a,l,f){const y=this.multi;let x;if(this.providerFactory){const P=this.providerFactory.componentProviders,U=Va(l,l[dn],this.providerFactory.index,f);x=U.slice(0,P),s0(y,x);for(let Z=P;Z<U.length;Z++)x.push(U[Z])}else x=[],s0(y,x);return x}function s0(i,a){for(let l=0;l<i.length;l++)a.push((0,i[l])());return a}function Z0(i,a=[]){return l=>{l.providersResolver=(f,y)=>function Rb(i,a,l){const f=On();if(f.firstCreatePass){const y=pi(i);r0(l,f.data,f.blueprint,y,!0),r0(a,f.data,f.blueprint,y,!1)}}(f,y?y(i):i,a)}}class Fm{}class Y0{}function Vb(i,a){return new K0(i,a??null)}class K0 extends Fm{constructor(a,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new im(this);const f=ei(a);this._bootstrapComponents=Ms(f.bootstrap),this._r3Injector=Jd(a,l,[{provide:Fm,useValue:this},{provide:oc,useValue:this.componentFactoryResolver}],ce(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class l0 extends Y0{constructor(a){super(),this.moduleType=a}create(a){return new K0(this.moduleType,a)}}class Ub extends Fm{constructor(a,l,f){super(),this.componentFactoryResolver=new im(this),this.instance=null;const y=new fg([...a,{provide:Fm,useValue:this},{provide:oc,useValue:this.componentFactoryResolver}],l||Lh(),f,new Set(["environment"]));this.injector=y,y.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function u0(i,a,l=null){return new Ub(i,a,l).injector}let zb=(()=>{class i{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const f=dg(0,l.type),y=f.length>0?u0([f],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,y)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=yn({token:i,providedIn:"environment",factory:()=>new i(lr(ic))}),i})();function J0(i){i.getStandaloneInjector=a=>a.get(zb).getOrCreateStandaloneInjector(i)}function i_(i,a,l,f){return u_(ut(),ni(),i,a,l,f)}function o_(i,a,l,f,y){return c_(ut(),ni(),i,a,l,f,y)}function a_(i,a,l,f,y,x){return function d_(i,a,l,f,y,x,P,U){const Z=a+l;return function dp(i,a,l,f,y){const x=Tu(i,a,l,f);return ea(i,a+2,y)||x}(i,Z,y,x,P)?el(i,Z+3,U?f.call(U,y,x,P):f(y,x,P)):jy(i,Z+3)}(ut(),ni(),i,a,l,f,y,x)}function s_(i,a,l,f,y,x,P){return function h_(i,a,l,f,y,x,P,U,Z){const oe=a+l;return ys(i,oe,y,x,P,U)?el(i,oe+4,Z?f.call(Z,y,x,P,U):f(y,x,P,U)):jy(i,oe+4)}(ut(),ni(),i,a,l,f,y,x,P)}function l_(i,a,l,f,y,x,P,U){const Z=ni()+i,oe=ut(),pe=ys(oe,Z,l,f,y,x);return ea(oe,Z+4,P)||pe?el(oe,Z+5,U?a.call(U,l,f,y,x,P):a(l,f,y,x,P)):function ed(i,a){return i[a]}(oe,Z+5)}function jy(i,a){const l=i[a];return l===tr?void 0:l}function u_(i,a,l,f,y,x){const P=a+l;return ea(i,P,y)?el(i,P+1,x?f.call(x,y):f(y)):jy(i,P+1)}function c_(i,a,l,f,y,x,P){const U=a+l;return Tu(i,U,y,x)?el(i,U+2,P?f.call(P,y,x):f(y,x)):jy(i,U+2)}function f_(i,a){const l=On();let f;const y=i+jr;l.firstCreatePass?(f=function t1(i,a){if(a)for(let l=a.length-1;l>=0;l--){const f=a[l];if(i===f.name)return f}}(a,l.pipeRegistry),l.data[y]=f,f.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(y,f.onDestroy)):f=l.data[y];const x=f.factory||(f.factory=Go(f.type)),P=pr(Jc);try{const U=cs(!1),Z=x();return cs(U),function Sy(i,a,l,f){l>=i.data.length&&(i.data[l]=null,i.blueprint[l]=null),a[l]=f}(l,ut(),y,Z),Z}finally{pr(P)}}function g_(i,a,l){const f=i+jr,y=ut(),x=is(y,f);return Hy(y,f)?u_(y,ni(),a,x.transform,l,x):x.transform(l)}function m_(i,a,l,f){const y=i+jr,x=ut(),P=is(x,y);return Hy(x,y)?c_(x,ni(),a,P.transform,l,f,P):P.transform(l,f)}function Hy(i,a){return i[dn].data[a].pure}function d0(i){return a=>{setTimeout(i,void 0,a)}}const pd=class o1 extends w.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,l,f){let y=a,x=l||(()=>null),P=f;if(a&&"object"==typeof a){const Z=a;y=Z.next?.bind(Z),x=Z.error?.bind(Z),P=Z.complete?.bind(Z)}this.__isAsync&&(x=d0(x),y&&(y=d0(y)),P&&(P=d0(P)));const U=super.subscribe({next:y,error:x,complete:P});return a instanceof N.w0&&a.add(U),U}};function a1(){return this._results[Symbol.iterator]()}class h0{get changes(){return this._changes||(this._changes=new pd)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=h0.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=a1)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){const f=this;f.dirty=!1;const y=function fo(i){return i.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Tc(i,a,l){if(i.length!==a.length)return!1;for(let f=0;f<i.length;f++){let y=i[f],x=a[f];if(l&&(y=l(y),x=l(x)),x!==y)return!1}return!0}(f._results,y,l))&&(f._results=y,f.length=y.length,f.last=y[this.length-1],f.first=y[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let $y=(()=>{class i{}return i.__NG_ELEMENT_ID__=u1,i})();const s1=$y,l1=class extends s1{constructor(a,l,f){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=f}createEmbeddedView(a,l){const f=this._declarationTContainer.tView,y=Zh(this._declarationLView,f,a,16,null,f.declTNode,null,null,null,null,l||null);y[Vr]=this._declarationLView[this._declarationTContainer.index];const P=this._declarationLView[Oo];return null!==P&&(y[Oo]=P.createEmbeddedView(f)),pf(f,y,a),new rh(y)}};function u1(){return wv(ti(),ut())}function wv(i,a){return 4&i.type?new l1(a,i,ac(i,a)):null}let Cv=(()=>{class i{}return i.__NG_ELEMENT_ID__=c1,i})();function c1(){return __(ti(),ut())}const d1=Cv,y_=class extends d1{constructor(a,l,f){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=f}get element(){return ac(this._hostTNode,this._hostLView)}get injector(){return new Ui(this._hostTNode,this._hostLView)}get parentInjector(){const a=ds(this._hostTNode,this._hostLView);if(Ro(a)){const l=co(a,this._hostLView),f=Do(a);return new Ui(l[dn].data[f+8],l)}return new Ui(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=v_(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-Vi}createEmbeddedView(a,l,f){let y,x;"number"==typeof f?y=f:null!=f&&(y=f.index,x=f.injector);const P=a.createEmbeddedView(l||{},x);return this.insert(P,y),P}createComponent(a,l,f,y,x){const P=a&&!function gl(i){return"function"==typeof i}(a);let U;if(P)U=l;else{const Ie=l||{};U=Ie.index,f=Ie.injector,y=Ie.projectableNodes,x=Ie.environmentInjector||Ie.ngModuleRef}const Z=P?a:new Xl(gr(a)),oe=f||this.parentInjector;if(!x&&null==Z.ngModule){const Ke=(P?oe:this.parentInjector).get(ic,null);Ke&&(x=Ke)}const pe=Z.create(oe,y,void 0,x);return this.insert(pe.hostView,U),pe}insert(a,l){const f=a._lView,y=f[dn];if(function os(i){return Me(i[Rr])}(f)){const pe=this.indexOf(a);if(-1!==pe)this.detach(pe);else{const Ie=f[Rr],Ke=new y_(Ie,Ie[hi],Ie[Rr]);Ke.detach(Ke.indexOf(a))}}const x=this._adjustIndex(l),P=this._lContainer;!function Fp(i,a,l,f){const y=Vi+f,x=l.length;f>0&&(l[y-1][xi]=a),f<x-Vi?(a[xi]=l[y],Vu(l,Vi+f,a)):(l.push(a),a[xi]=null),a[Rr]=l;const P=a[Vr];null!==P&&l!==P&&function Nh(i,a){const l=i[es];a[Rn]!==a[Rr][Rr][Rn]&&(i[ao]=!0),null===l?i[es]=[a]:l.push(a)}(P,a);const U=a[Oo];null!==U&&U.insertView(i),a[Mn]|=64}(y,f,P,x);const U=K(x,P),Z=f[_n],oe=Vc(Z,P[ma]);return null!==oe&&function xh(i,a,l,f,y,x){f[vo]=y,f[hi]=a,_e(i,f,l,1,y,x)}(y,P[hi],Z,f,oe,U),a.attachToViewContainerRef(),Vu(p0(P),x,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=v_(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),f=Ad(this._lContainer,l);f&&(Vl(p0(this._lContainer),l),Od(f[dn],f))}detach(a){const l=this._adjustIndex(a,-1),f=Ad(this._lContainer,l);return f&&null!=Vl(p0(this._lContainer),l)?new rh(f):null}_adjustIndex(a,l=0){return a??this.length+l}};function v_(i){return i[Xa]}function p0(i){return i[Xa]||(i[Xa]=[])}function __(i,a){let l;const f=a[i.index];if(Me(f))l=f;else{let y;if(8&i.type)y=Ai(f);else{const x=a[_n];y=x.createComment("");const P=Cr(i,a);yl(x,Vc(x,P),y,function Ah(i,a){return i.nextSibling(a)}(x,P),!1)}a[i.index]=l=Xg(f,a,y,i),rp(a,l)}return new y_(l,i,a)}class f0{constructor(a){this.queryList=a,this.matches=null}clone(){return new f0(this.queryList)}setDirty(){this.queryList.setDirty()}}class g0{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const f=null!==a.contentQueries?a.contentQueries[0]:l.length,y=[];for(let x=0;x<f;x++){const P=l.getByIndex(x);y.push(this.queries[P.indexInDeclarationView].clone())}return new g0(y)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==T_(a,l).matches&&this.queries[l].setDirty()}}class b_{constructor(a,l,f=null){this.predicate=a,this.flags=l,this.read=f}}class m0{constructor(a=[]){this.queries=a}elementStart(a,l){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let f=0;f<this.length;f++){const y=null!==l?l.length:0,x=this.getByIndex(f).embeddedTView(a,y);x&&(x.indexInDeclarationView=f,null!==l?l.push(x):l=[x])}return null!==l?new m0(l):null}template(a,l){for(let f=0;f<this.queries.length;f++)this.queries[f].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class y0{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new y0(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let f=a.parent;for(;null!==f&&8&f.type&&f.index!==l;)f=f.parent;return l===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const f=this.metadata.predicate;if(Array.isArray(f))for(let y=0;y<f.length;y++){const x=f[y];this.matchTNodeWithReadOption(a,l,h1(l,x)),this.matchTNodeWithReadOption(a,l,xs(l,a,x,!1,!1))}else f===$y?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,xs(l,a,f,!1,!1))}matchTNodeWithReadOption(a,l,f){if(null!==f){const y=this.metadata.read;if(null!==y)if(y===Du||y===Cv||y===$y&&4&l.type)this.addMatch(l.index,-2);else{const x=xs(l,a,y,!1,!1);null!==x&&this.addMatch(l.index,x)}else this.addMatch(l.index,f)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function h1(i,a){const l=i.localNames;if(null!==l)for(let f=0;f<l.length;f+=2)if(l[f]===a)return l[f+1];return null}function f1(i,a,l,f){return-1===l?function p1(i,a){return 11&i.type?ac(i,a):4&i.type?wv(i,a):null}(a,i):-2===l?function g1(i,a,l){return l===Du?ac(a,i):l===$y?wv(a,i):l===Cv?__(a,i):void 0}(i,a,f):Va(i,i[dn],l,a)}function w_(i,a,l,f){const y=a[Oo].queries[f];if(null===y.matches){const x=i.data,P=l.matches,U=[];for(let Z=0;Z<P.length;Z+=2){const oe=P[Z];U.push(oe<0?null:f1(a,x[oe],P[Z+1],l.metadata.read))}y.matches=U}return y.matches}function v0(i,a,l,f){const y=i.queries.getByIndex(l),x=y.matches;if(null!==x){const P=w_(i,a,y,l);for(let U=0;U<x.length;U+=2){const Z=x[U];if(Z>0)f.push(P[U/2]);else{const oe=x[U+1],pe=a[-Z];for(let Ie=Vi;Ie<pe.length;Ie++){const Ke=pe[Ie];Ke[Vr]===Ke[Rr]&&v0(Ke[dn],Ke,oe,f)}if(null!==pe[es]){const Ie=pe[es];for(let Ke=0;Ke<Ie.length;Ke++){const dt=Ie[Ke];v0(dt[dn],dt,oe,f)}}}}}return f}function C_(i){const a=ut(),l=On(),f=Qr();ua(f+1);const y=T_(l,f);if(i.dirty&&function Ea(i){return 4==(4&i[Mn])}(a)===(2==(2&y.metadata.flags))){if(null===y.matches)i.reset([]);else{const x=y.crossesNgTemplate?v0(l,a,f,[]):w_(l,a,y,f);i.reset(x,Kp),i.notifyOnChanges()}return!0}return!1}function D_(i,a,l){const f=On();f.firstCreatePass&&(N_(f,new b_(i,a,l),-1),2==(2&a)&&(f.staticViewQueries=!0)),S_(f,ut(),a)}function E_(i,a,l,f){const y=On();if(y.firstCreatePass){const x=ti();N_(y,new b_(a,l,f),x.index),function y1(i,a){const l=i.contentQueries||(i.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(i.queries.length-1,a)}(y,i),2==(2&l)&&(y.staticContentQueries=!0)}S_(y,ut(),l)}function x_(){return function m1(i,a){return i[Oo].queries[a].queryList}(ut(),Qr())}function S_(i,a,l){const f=new h0(4==(4&l));mf(i,a,f,f.destroy),null===a[Oo]&&(a[Oo]=new g0),a[Oo].queries.push(new f0(f))}function N_(i,a,l){null===i.queries&&(i.queries=new m0),i.queries.track(new y0(a,l))}function T_(i,a){return i.queries.getByIndex(a)}function M_(i,a){return wv(i,a)}function _0(i){return!!ei(i)}function Ev(...i){}const q_=new ii("Application Initializer");let xv=(()=>{class i{constructor(l){this.appInits=l,this.resolve=Ev,this.reject=Ev,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,y)=>{this.resolve=f,this.reject=y})}runInitializers(){if(this.initialized)return;const l=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let y=0;y<this.appInits.length;y++){const x=this.appInits[y]();if(No(x))l.push(x);else if(p(x)){const P=new Promise((U,Z)=>{x.subscribe({complete:U,error:Z})});l.push(P)}}Promise.all(l).then(()=>{f()}).catch(y=>{this.reject(y)}),0===l.length&&f(),this.initialized=!0}}return i.\u0275fac=function(l){return new(l||i)(lr(q_,8))},i.\u0275prov=yn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Z_=new ii("AppId",{providedIn:"root",factory:function Y_(){return`${E0()}${E0()}${E0()}`}});function E0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const K_=new ii("Platform Initializer"),L1=new ii("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),B1=new ii("AnimationModuleType");let V1=(()=>{class i{log(l){console.log(l)}warn(l){console.warn(l)}}return i.\u0275fac=function(l){return new(l||i)},i.\u0275prov=yn({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Sv=new ii("LocaleId",{providedIn:"root",factory:()=>vt(Sv,Jt.Optional|Jt.SkipSelf)||function U1(){return typeof $localize<"u"&&$localize.locale||ch}()}),z1=new ii("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class j1{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}let H1=(()=>{class i{compileModuleSync(l){return new l0(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const f=this.compileModuleSync(l),x=Ms(ei(l).declarations).reduce((P,U)=>{const Z=gr(U);return Z&&P.push(new Xl(Z)),P},[]);return new j1(f,x)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return i.\u0275fac=function(l){return new(l||i)},i.\u0275prov=yn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const W1=(()=>Promise.resolve(0))();function x0(i){typeof Zone>"u"?W1.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Iu{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pd(!1),this.onMicrotaskEmpty=new pd(!1),this.onStable=new pd(!1),this.onError=new pd(!1),typeof Zone>"u")throw new se(908,!1);Zone.assertZonePatched();const y=this;y._nesting=0,y._outer=y._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(y._inner=y._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(y._inner=y._inner.fork(Zone.longStackTraceZoneSpec)),y.shouldCoalesceEventChangeDetection=!f&&l,y.shouldCoalesceRunChangeDetection=f,y.lastRequestAnimationFrameId=-1,y.nativeRequestAnimationFrame=function q1(){let i=zn.requestAnimationFrame,a=zn.cancelAnimationFrame;if(typeof Zone<"u"&&i&&a){const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l);const f=a[Zone.__symbol__("OriginalDelegate")];f&&(a=f)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function K1(i){const a=()=>{!function Y1(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(zn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,N0(i),i.isCheckStableRunning=!0,S0(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),N0(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,f,y,x,P,U)=>{try{return X_(i),l.invokeTask(y,x,P,U)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===x.type||i.shouldCoalesceRunChangeDetection)&&a(),eb(i)}},onInvoke:(l,f,y,x,P,U,Z)=>{try{return X_(i),l.invoke(y,x,P,U,Z)}finally{i.shouldCoalesceRunChangeDetection&&a(),eb(i)}},onHasTask:(l,f,y,x)=>{l.hasTask(y,x),f===y&&("microTask"==x.change?(i._hasPendingMicrotasks=x.microTask,N0(i),S0(i)):"macroTask"==x.change&&(i.hasPendingMacrotasks=x.macroTask))},onHandleError:(l,f,y,x)=>(l.handleError(y,x),i.runOutsideAngular(()=>i.onError.emit(x)),!1)})}(y)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Iu.isInAngularZone())throw new se(909,!1)}static assertNotInAngularZone(){if(Iu.isInAngularZone())throw new se(909,!1)}run(a,l,f){return this._inner.run(a,l,f)}runTask(a,l,f,y){const x=this._inner,P=x.scheduleEventTask("NgZoneEvent: "+y,a,Z1,Ev,Ev);try{return x.runTask(P,l,f)}finally{x.cancelTask(P)}}runGuarded(a,l,f){return this._inner.runGuarded(a,l,f)}runOutsideAngular(a){return this._outer.run(a)}}const Z1={};function S0(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function N0(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function X_(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function eb(i){i._nesting--,S0(i)}class J1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pd,this.onMicrotaskEmpty=new pd,this.onStable=new pd,this.onError=new pd}run(a,l,f){return a.apply(l,f)}runGuarded(a,l,f){return a.apply(l,f)}runOutsideAngular(a){return a()}runTask(a,l,f,y){return a.apply(l,f)}}const tb=new ii(""),nb=new ii("");let T0,Q1=(()=>{class i{constructor(l,f,y){this._ngZone=l,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,T0||(function X1(i){T0=i}(y),y.addToWindow(f)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Iu.assertNotInAngularZone(),x0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())x0(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(l)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,f,y){let x=-1;f&&f>0&&(x=setTimeout(()=>{this._callbacks=this._callbacks.filter(P=>P.timeoutId!==x),l(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:l,timeoutId:x,updateCb:y})}whenStable(l,f,y){if(y&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,f,y),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,f,y){return[]}}return i.\u0275fac=function(l){return new(l||i)(lr(Iu),lr(rb),lr(nb))},i.\u0275prov=yn({token:i,factory:i.\u0275fac}),i})(),rb=(()=>{class i{constructor(){this._applications=new Map}registerApplication(l,f){this._applications.set(l,f)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,f=!0){return T0?.findTestabilityInTree(this,l,f)??null}}return i.\u0275fac=function(l){return new(l||i)},i.\u0275prov=yn({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const hh=!1;let bp=null;const ib=new ii("AllowMultipleToken"),M0=new ii("PlatformDestroyListeners"),ob=new ii("appBootstrapListener");class nw{constructor(a,l){this.name=a,this.token=l}}function sb(i,a,l=[]){const f=`Platform: ${a}`,y=new ii(f);return(x=[])=>{let P=I0();if(!P||P.injector.get(ib,!1)){const U=[...l,...x,{provide:y,useValue:!0}];i?i(U):function rw(i){if(bp&&!bp.get(ib,!1))throw new se(400,!1);bp=i;const a=i.get(ub);(function ab(i){const a=i.get(K_,null);a&&a.forEach(l=>l())})(i)}(function lb(i=[],a){return lc.create({name:a,providers:[{provide:nc,useValue:"platform"},{provide:M0,useValue:new Set([()=>bp=null])},...i]})}(U,f))}return function ow(i){const a=I0();if(!a)throw new se(401,!1);return a}()}}function I0(){return bp?.get(ub)??null}let ub=(()=>{class i{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,f){const y=function db(i,a){let l;return l="noop"===i?new J1:("zone.js"===i?void 0:i)||new Iu(a),l}(f?.ngZone,function cb(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(f)),x=[{provide:Iu,useValue:y}];return y.run(()=>{const P=lc.create({providers:x,parent:this.injector,name:l.moduleType.name}),U=l.create(P),Z=U.injector.get(Wc,null);if(!Z)throw new se(402,!1);return y.runOutsideAngular(()=>{const oe=y.onError.subscribe({next:pe=>{Z.handleError(pe)}});U.onDestroy(()=>{Tv(this._modules,U),oe.unsubscribe()})}),function hb(i,a,l){try{const f=l();return No(f)?f.catch(y=>{throw a.runOutsideAngular(()=>i.handleError(y)),y}):f}catch(f){throw a.runOutsideAngular(()=>i.handleError(f)),f}}(Z,y,()=>{const oe=U.injector.get(xv);return oe.runInitializers(),oe.donePromise.then(()=>(Om(U.injector.get(Sv,ch)||ch),this._moduleDoBootstrap(U),U))})})}bootstrapModule(l,f=[]){const y=pb({},f);return function ew(i,a,l){const f=new l0(l);return Promise.resolve(f)}(0,0,l).then(x=>this.bootstrapModuleFactory(x,y))}_moduleDoBootstrap(l){const f=l.injector.get(Nv);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(y=>f.bootstrap(y));else{if(!l.instance.ngDoBootstrap)throw new se(-403,!1);l.instance.ngDoBootstrap(f)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new se(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const l=this._injector.get(M0,null);l&&(l.forEach(f=>f()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(l){return new(l||i)(lr(lc))},i.\u0275prov=yn({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function pb(i,a){return Array.isArray(a)?a.reduce(pb,i):{...i,...a}}let Nv=(()=>{class i{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(l,f,y){this._zone=l,this._injector=f,this._exceptionHandler=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const x=new t.y(U=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{U.next(this._stable),U.complete()})}),P=new t.y(U=>{let Z;this._zone.runOutsideAngular(()=>{Z=this._zone.onStable.subscribe(()=>{Iu.assertNotInAngularZone(),x0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,U.next(!0))})})});const oe=this._zone.onUnstable.subscribe(()=>{Iu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{U.next(!1)}))});return()=>{Z.unsubscribe(),oe.unsubscribe()}});this.isStable=(0,I.T)(x,P.pipe((0,H.B)()))}bootstrap(l,f){const y=l instanceof qp;if(!this._injector.get(xv).done){!y&&ga(l);throw new se(405,hh)}let P;P=y?l:this._injector.get(oc).resolveComponentFactory(l),this.componentTypes.push(P.componentType);const U=function tw(i){return i.isBoundToModule}(P)?void 0:this._injector.get(Fm),oe=P.create(lc.NULL,[],f||P.selector,U),pe=oe.location.nativeElement,Ie=oe.injector.get(tb,null);return Ie?.registerApplication(pe),oe.onDestroy(()=>{this.detachView(oe.hostView),Tv(this.components,oe),Ie?.unregisterApplication(pe)}),this._loadComponent(oe),oe}tick(){if(this._runningTick)throw new se(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const f=l;this._views.push(f),f.attachToAppRef(this)}detachView(l){const f=l;Tv(this._views,f),f.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const f=this._injector.get(ob,[]);f.push(...this._bootstrapListeners),f.forEach(y=>y(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Tv(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new se(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(l){return new(l||i)(lr(Iu),lr(ic),lr(Wc))},i.\u0275prov=yn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Tv(i,a){const l=i.indexOf(a);l>-1&&i.splice(l,1)}function sw(){return!1}let lw=(()=>{class i{}return i.__NG_ELEMENT_ID__=uw,i})();function uw(i){return function cw(i,a,l){if(Ue(i)&&!l){const f=Tr(i.index,a);return new rh(f,f)}return 47&i.type?new rh(a[Rn],a):null}(ti(),ut(),16==(16&i))}class vb{constructor(){}supports(a){return cp(a)}create(a){return new mw(a)}}const gw=(i,a)=>a;class mw{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||gw}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,f=this._removalsHead,y=0,x=null;for(;l||f;){const P=!f||l&&l.currentIndex<bb(f,y,x)?l:f,U=bb(P,y,x),Z=P.currentIndex;if(P===f)y--,f=f._nextRemoved;else if(l=l._next,null==P.previousIndex)y++;else{x||(x=[]);const oe=U-y,pe=Z-y;if(oe!=pe){for(let Ke=0;Ke<oe;Ke++){const dt=Ke<x.length?x[Ke]:x[Ke]=0,Lt=dt+Ke;pe<=Lt&&Lt<oe&&(x[Ke]=dt+1)}x[P.previousIndex]=pe-oe}}U!==Z&&a(P,U,Z)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!cp(a))throw new se(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let y,x,P,l=this._itHead,f=!1;if(Array.isArray(a)){this.length=a.length;for(let U=0;U<this.length;U++)x=a[U],P=this._trackByFn(U,x),null!==l&&Object.is(l.trackById,P)?(f&&(l=this._verifyReinsertion(l,x,P,U)),Object.is(l.item,x)||this._addIdentityChange(l,x)):(l=this._mismatch(l,x,P,U),f=!0),l=l._next}else y=0,function Ey(i,a){if(Array.isArray(i))for(let l=0;l<i.length;l++)a(i[l]);else{const l=i[Symbol.iterator]();let f;for(;!(f=l.next()).done;)a(f.value)}}(a,U=>{P=this._trackByFn(y,U),null!==l&&Object.is(l.trackById,P)?(f&&(l=this._verifyReinsertion(l,U,P,y)),Object.is(l.item,U)||this._addIdentityChange(l,U)):(l=this._mismatch(l,U,P,y),f=!0),l=l._next,y++}),this.length=y;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,f,y){let x;return null===a?x=this._itTail:(x=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,x,y)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(f,y))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,x,y)):a=this._addAfter(new yw(l,f),x,y),a}_verifyReinsertion(a,l,f,y){let x=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==x?a=this._reinsertAfter(x,a._prev,y):a.currentIndex!=y&&(a.currentIndex=y,this._addToMoves(a,y)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const y=a._prevRemoved,x=a._nextRemoved;return null===y?this._removalsHead=x:y._nextRemoved=x,null===x?this._removalsTail=y:x._prevRemoved=y,this._insertAfter(a,l,f),this._addToMoves(a,f),a}_moveAfter(a,l,f){return this._unlink(a),this._insertAfter(a,l,f),this._addToMoves(a,f),a}_addAfter(a,l,f){return this._insertAfter(a,l,f),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,f){const y=null===l?this._itHead:l._next;return a._next=y,a._prev=l,null===y?this._itTail=a:y._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new _b),this._linkedRecords.put(a),a.currentIndex=f,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,f=a._next;return null===l?this._itHead=f:l._next=f,null===f?this._itTail=l:f._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _b),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class yw{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vw{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===l||l<=f.currentIndex)&&Object.is(f.trackById,a))return f;return null}remove(a){const l=a._prevDup,f=a._nextDup;return null===l?this._head=f:l._nextDup=f,null===f?this._tail=l:f._prevDup=l,null===this._head}}class _b{constructor(){this.map=new Map}put(a){const l=a.trackById;let f=this.map.get(l);f||(f=new vw,this.map.set(l,f)),f.add(a)}get(a,l){const y=this.map.get(a);return y?y.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bb(i,a,l){const f=i.previousIndex;if(null===f)return f;let y=0;return l&&f<l.length&&(y=l[f]),f+a+y}class wb{constructor(){}supports(a){return a instanceof Map||ih(a)}create(){return new _w}}class _w{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||ih(a)))throw new se(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(f,y)=>{if(l&&l.key===y)this._maybeAddToChanges(l,f),this._appendAfter=l,l=l._next;else{const x=this._getOrCreateRecordForKey(y,f);l=this._insertBeforeOrAppend(l,x)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let f=l;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const f=a._prev;return l._next=a,l._prev=f,a._prev=l,f&&(f._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const y=this._records.get(a);this._maybeAddToChanges(y,l);const x=y._prev,P=y._next;return x&&(x._next=P),P&&(P._prev=x),y._next=null,y._prev=null,y}const f=new bw(a);return this._records.set(a,f),f.currentValue=l,this._addToAdditions(f),f}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(f=>l(a[f],f))}}class bw{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Cb(){return new R0([new vb])}let R0=(()=>{class i{constructor(l){this.factories=l}static create(l,f){if(null!=f){const y=f.factories.slice();l=l.concat(y)}return new i(l)}static extend(l){return{provide:i,useFactory:f=>i.create(l,f||Cb()),deps:[[i,new ja,new ca]]}}find(l){const f=this.factories.find(y=>y.supports(l));if(null!=f)return f;throw new se(901,!1)}}return i.\u0275prov=yn({token:i,providedIn:"root",factory:Cb}),i})();function Db(){return new F0([new wb])}let F0=(()=>{class i{constructor(l){this.factories=l}static create(l,f){if(f){const y=f.factories.slice();l=l.concat(y)}return new i(l)}static extend(l){return{provide:i,useFactory:f=>i.create(l,f||Db()),deps:[[i,new ja,new ca]]}}find(l){const f=this.factories.find(y=>y.supports(l));if(f)return f;throw new se(901,!1)}}return i.\u0275prov=yn({token:i,providedIn:"root",factory:Db}),i})();const Dw=sb(null,"core",[]);let Ew=(()=>{class i{constructor(l){}}return i.\u0275fac=function(l){return new(l||i)(lr(Nv))},i.\u0275mod=pa({type:i}),i.\u0275inj=Vt({}),i})();function xw(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},4006:(k,A,E)=>{"use strict";E.d(A,{Cf:()=>at,Fj:()=>De,JJ:()=>er,JU:()=>ce,Kr:()=>ba,NI:()=>_n,On:()=>Oa,UX:()=>Co,YN:()=>Gi,u5:()=>as,wV:()=>ma});var w=E(4650),N=E(6895),t=E(2076),I=E(4128),H=E(4004);let z=(()=>{class te{constructor(W,me){this._renderer=W,this._elementRef=me,this.onChange=ft=>{},this.onTouched=()=>{}}setProperty(W,me){this._renderer.setProperty(this._elementRef.nativeElement,W,me)}registerOnTouched(W){this.onTouched=W}registerOnChange(W){this.onChange=W}setDisabledState(W){this.setProperty("disabled",W)}}return te.\u0275fac=function(W){return new(W||te)(w.Y36(w.Qsj),w.Y36(w.SBq))},te.\u0275dir=w.lG2({type:te}),te})(),re=(()=>{class te extends z{}return te.\u0275fac=function(){let J;return function(me){return(J||(J=w.n5z(te)))(me||te)}}(),te.\u0275dir=w.lG2({type:te,features:[w.qOj]}),te})();const ce=new w.OlP("NgValueAccessor"),Fe={provide:ce,useExisting:(0,w.Gpc)(()=>De),multi:!0},Tt=new w.OlP("CompositionEventMode");let De=(()=>{class te extends z{constructor(W,me,ft){super(W,me),this._compositionMode=ft,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function we(){const te=(0,N.q)()?(0,N.q)().getUserAgent():"";return/android (\d+)/.test(te.toLowerCase())}())}writeValue(W){this.setProperty("value",W??"")}_handleInput(W){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(W)}_compositionStart(){this._composing=!0}_compositionEnd(W){this._composing=!1,this._compositionMode&&this.onChange(W)}}return te.\u0275fac=function(W){return new(W||te)(w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(Tt,8))},te.\u0275dir=w.lG2({type:te,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(W,me){1&W&&w.NdJ("input",function(ut){return me._handleInput(ut.target.value)})("blur",function(){return me.onTouched()})("compositionstart",function(){return me._compositionStart()})("compositionend",function(ut){return me._compositionEnd(ut.target.value)})},features:[w._Bn([Fe]),w.qOj]}),te})();const Ae=!1,at=new w.OlP("NgValidators"),mt=new w.OlP("NgAsyncValidators");function ct(te){return null!=te}function qe(te){const J=(0,w.QGY)(te)?(0,t.D)(te):te;if(Ae&&!(0,w.CqO)(J)){let W="Expected async validator to return Promise or Observable.";throw"object"==typeof te&&(W+=" Are you using a synchronous validator where an async validator is expected?"),new w.vHH(-1101,W)}return J}function it(te){let J={};return te.forEach(W=>{J=null!=W?{...J,...W}:J}),0===Object.keys(J).length?null:J}function st(te,J){return J.map(W=>W(te))}function wt(te){return te.map(J=>function nt(te){return!te.validate}(J)?J:W=>J.validate(W))}function Wt(te){return null!=te?function At(te){if(!te)return null;const J=te.filter(ct);return 0==J.length?null:function(W){return it(st(W,J))}}(wt(te)):null}function An(te){return null!=te?function zt(te){if(!te)return null;const J=te.filter(ct);return 0==J.length?null:function(W){const me=st(W,J).map(qe);return(0,I.D)(me).pipe((0,H.U)(it))}}(wt(te)):null}function en(te,J){return null===te?[J]:Array.isArray(te)?[...te,J]:[te,J]}function _t(te){return te?Array.isArray(te)?te:[te]:[]}function Vt(te,J){return Array.isArray(te)?te.includes(J):te===J}function Te(te,J){const W=_t(J);return _t(te).forEach(ft=>{Vt(W,ft)||W.push(ft)}),W}function et(te,J){return _t(J).filter(W=>!Vt(te,W))}class It{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(J){this._rawValidators=J||[],this._composedValidatorFn=Wt(this._rawValidators)}_setAsyncValidators(J){this._rawAsyncValidators=J||[],this._composedAsyncValidatorFn=An(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(J){this._onDestroyCallbacks.push(J)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(J=>J()),this._onDestroyCallbacks=[]}reset(J){this.control&&this.control.reset(J)}hasError(J,W){return!!this.control&&this.control.hasError(J,W)}getError(J,W){return this.control?this.control.getError(J,W):null}}class Ut extends It{get formDirective(){return null}get path(){return null}}class rn extends It{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xr{constructor(J){this._cd=J}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let er=(()=>{class te extends xr{constructor(W){super(W)}}return te.\u0275fac=function(W){return new(W||te)(w.Y36(rn,2))},te.\u0275dir=w.lG2({type:te,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(W,me){2&W&&w.ekj("ng-untouched",me.isUntouched)("ng-touched",me.isTouched)("ng-pristine",me.isPristine)("ng-dirty",me.isDirty)("ng-valid",me.isValid)("ng-invalid",me.isInvalid)("ng-pending",me.isPending)},features:[w.qOj]}),te})();const Fi="VALID",Li="INVALID",lr="PENDING",qi="DISABLED";function kt(te){return null!=te&&!Array.isArray(te)&&"object"==typeof te}class ur{constructor(J,W){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(J),this._assignAsyncValidators(W)}get validator(){return this._composedValidatorFn}set validator(J){this._rawValidators=this._composedValidatorFn=J}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(J){this._rawAsyncValidators=this._composedAsyncValidatorFn=J}get parent(){return this._parent}get valid(){return this.status===Fi}get invalid(){return this.status===Li}get pending(){return this.status==lr}get disabled(){return this.status===qi}get enabled(){return this.status!==qi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(J){this._assignValidators(J)}setAsyncValidators(J){this._assignAsyncValidators(J)}addValidators(J){this.setValidators(Te(J,this._rawValidators))}addAsyncValidators(J){this.setAsyncValidators(Te(J,this._rawAsyncValidators))}removeValidators(J){this.setValidators(et(J,this._rawValidators))}removeAsyncValidators(J){this.setAsyncValidators(et(J,this._rawAsyncValidators))}hasValidator(J){return Vt(this._rawValidators,J)}hasAsyncValidator(J){return Vt(this._rawAsyncValidators,J)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(J={}){this.touched=!0,this._parent&&!J.onlySelf&&this._parent.markAsTouched(J)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(J=>J.markAllAsTouched())}markAsUntouched(J={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(W=>{W.markAsUntouched({onlySelf:!0})}),this._parent&&!J.onlySelf&&this._parent._updateTouched(J)}markAsDirty(J={}){this.pristine=!1,this._parent&&!J.onlySelf&&this._parent.markAsDirty(J)}markAsPristine(J={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(W=>{W.markAsPristine({onlySelf:!0})}),this._parent&&!J.onlySelf&&this._parent._updatePristine(J)}markAsPending(J={}){this.status=lr,!1!==J.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!J.onlySelf&&this._parent.markAsPending(J)}disable(J={}){const W=this._parentMarkedDirty(J.onlySelf);this.status=qi,this.errors=null,this._forEachChild(me=>{me.disable({...J,onlySelf:!0})}),this._updateValue(),!1!==J.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...J,skipPristineCheck:W}),this._onDisabledChange.forEach(me=>me(!0))}enable(J={}){const W=this._parentMarkedDirty(J.onlySelf);this.status=Fi,this._forEachChild(me=>{me.enable({...J,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:J.emitEvent}),this._updateAncestors({...J,skipPristineCheck:W}),this._onDisabledChange.forEach(me=>me(!1))}_updateAncestors(J){this._parent&&!J.onlySelf&&(this._parent.updateValueAndValidity(J),J.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(J){this._parent=J}getRawValue(){return this.value}updateValueAndValidity(J={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fi||this.status===lr)&&this._runAsyncValidator(J.emitEvent)),!1!==J.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!J.onlySelf&&this._parent.updateValueAndValidity(J)}_updateTreeValidity(J={emitEvent:!0}){this._forEachChild(W=>W._updateTreeValidity(J)),this.updateValueAndValidity({onlySelf:!0,emitEvent:J.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qi:Fi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(J){if(this.asyncValidator){this.status=lr,this._hasOwnPendingAsyncValidator=!0;const W=qe(this.asyncValidator(this));this._asyncValidationSubscription=W.subscribe(me=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(me,{emitEvent:J})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(J,W={}){this.errors=J,this._updateControlsErrors(!1!==W.emitEvent)}get(J){let W=J;return null==W||(Array.isArray(W)||(W=W.split(".")),0===W.length)?null:W.reduce((me,ft)=>me&&me._find(ft),this)}getError(J,W){const me=W?this.get(W):this;return me&&me.errors?me.errors[J]:null}hasError(J,W){return!!this.getError(J,W)}get root(){let J=this;for(;J._parent;)J=J._parent;return J}_updateControlsErrors(J){this.status=this._calculateStatus(),J&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(J)}_initObservables(){this.valueChanges=new w.vpe,this.statusChanges=new w.vpe}_calculateStatus(){return this._allControlsDisabled()?qi:this.errors?Li:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(lr)?lr:this._anyControlsHaveStatus(Li)?Li:Fi}_anyControlsHaveStatus(J){return this._anyControls(W=>W.status===J)}_anyControlsDirty(){return this._anyControls(J=>J.dirty)}_anyControlsTouched(){return this._anyControls(J=>J.touched)}_updatePristine(J={}){this.pristine=!this._anyControlsDirty(),this._parent&&!J.onlySelf&&this._parent._updatePristine(J)}_updateTouched(J={}){this.touched=this._anyControlsTouched(),this._parent&&!J.onlySelf&&this._parent._updateTouched(J)}_registerOnCollectionChange(J){this._onCollectionChange=J}_setUpdateStrategy(J){kt(J)&&null!=J.updateOn&&(this._updateOn=J.updateOn)}_parentMarkedDirty(J){return!J&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(J){return null}_assignValidators(J){this._rawValidators=Array.isArray(J)?J.slice():J,this._composedValidatorFn=function Ve(te){return Array.isArray(te)?Wt(te):te||null}(this._rawValidators)}_assignAsyncValidators(J){this._rawAsyncValidators=Array.isArray(J)?J.slice():J,this._composedAsyncValidatorFn=function Ht(te){return Array.isArray(te)?An(te):te||null}(this._rawAsyncValidators)}}const be=new w.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>We}),We="always";function Yt(te,J,W=We){(function Re(te,J){const W=function Qt(te){return te._rawValidators}(te);null!==J.validator?te.setValidators(en(W,J.validator)):"function"==typeof W&&te.setValidators([W]);const me=function yn(te){return te._rawAsyncValidators}(te);null!==J.asyncValidator?te.setAsyncValidators(en(me,J.asyncValidator)):"function"==typeof me&&te.setAsyncValidators([me]);const ft=()=>te.updateValueAndValidity();cr(J._rawValidators,ft),cr(J._rawAsyncValidators,ft)})(te,J),J.valueAccessor.writeValue(te.value),(te.disabled||"always"===W)&&J.valueAccessor.setDisabledState?.(te.disabled),function Mo(te,J){J.valueAccessor.registerOnChange(W=>{te._pendingValue=W,te._pendingChange=!0,te._pendingDirty=!0,"change"===te.updateOn&&fa(te,J)})}(te,J),function Io(te,J){const W=(me,ft)=>{J.valueAccessor.writeValue(me),ft&&J.viewToModelUpdate(me)};te.registerOnChange(W),J._registerOnDestroy(()=>{te._unregisterOnChange(W)})}(te,J),function pa(te,J){J.valueAccessor.registerOnTouched(()=>{te._pendingTouched=!0,"blur"===te.updateOn&&te._pendingChange&&fa(te,J),"submit"!==te.updateOn&&te.markAsTouched()})}(te,J),function kr(te,J){if(J.valueAccessor.setDisabledState){const W=me=>{J.valueAccessor.setDisabledState(me)};te.registerOnDisabledChange(W),J._registerOnDestroy(()=>{te._unregisterOnDisabledChange(W)})}}(te,J)}function cr(te,J){te.forEach(W=>{W.registerOnValidatorChange&&W.registerOnValidatorChange(J)})}function fa(te,J){te._pendingDirty&&te.markAsDirty(),te.setValue(te._pendingValue,{emitModelToViewChange:!1}),J.viewToModelUpdate(te._pendingValue),te._pendingChange=!1}function mr(te,J){const W=te.indexOf(J);W>-1&&te.splice(W,1)}function si(te){return"object"==typeof te&&null!==te&&2===Object.keys(te).length&&"value"in te&&"disabled"in te}const _n=class extends ur{constructor(J=null,W,me){super(function vt(te){return(kt(te)?te.validators:te)||null}(W),function Ge(te,J){return(kt(J)?J.asyncValidators:te)||null}(me,W)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(J),this._setUpdateStrategy(W),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kt(W)&&(W.nonNullable||W.initialValueIsDefault)&&(this.defaultValue=si(J)?J.value:J)}setValue(J,W={}){this.value=this._pendingValue=J,this._onChange.length&&!1!==W.emitModelToViewChange&&this._onChange.forEach(me=>me(this.value,!1!==W.emitViewToModelChange)),this.updateValueAndValidity(W)}patchValue(J,W={}){this.setValue(J,W)}reset(J=this.defaultValue,W={}){this._applyFormState(J),this.markAsPristine(W),this.markAsUntouched(W),this.setValue(this.value,W),this._pendingChange=!1}_updateValue(){}_anyControls(J){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(J){this._onChange.push(J)}_unregisterOnChange(J){mr(this._onChange,J)}registerOnDisabledChange(J){this._onDisabledChange.push(J)}_unregisterOnDisabledChange(J){mr(this._onDisabledChange,J)}_forEachChild(J){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(J){si(J)?(this.value=this._pendingValue=J.value,J.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=J}},ol={provide:rn,useExisting:(0,w.Gpc)(()=>Oa)},jr=(()=>Promise.resolve())();let Oa=(()=>{class te extends rn{constructor(W,me,ft,ut,On,yr){super(),this._changeDetectorRef=On,this.callSetDisabledState=yr,this.control=new _n,this._registered=!1,this.update=new w.vpe,this._parent=W,this._setValidators(me),this._setAsyncValidators(ft),this.valueAccessor=function Rr(te,J){if(!J)return null;let W,me,ft;return Array.isArray(J),J.forEach(ut=>{ut.constructor===De?W=ut:function dn(te){return Object.getPrototypeOf(te.constructor)===re}(ut)?me=ut:ft=ut}),ft||me||W||null}(0,ut)}ngOnChanges(W){if(this._checkForErrors(),!this._registered||"name"in W){if(this._registered&&(this._checkName(),this.formDirective)){const me=W.name.previousValue;this.formDirective.removeControl({name:me,path:this._getPath(me)})}this._setUpControl()}"isDisabled"in W&&this._updateDisabled(W),function vo(te,J){if(!te.hasOwnProperty("model"))return!1;const W=te.model;return!!W.isFirstChange()||!Object.is(J,W.currentValue)}(W,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(W){this.viewModel=W,this.update.emit(W)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Yt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(W){jr.then(()=>{this.control.setValue(W,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(W){const me=W.isDisabled.currentValue,ft=0!==me&&(0,w.D6c)(me);jr.then(()=>{ft&&!this.control.disabled?this.control.disable():!ft&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(W){return this._parent?function St(te,J){return[...J.path,te]}(W,this._parent):[W]}}return te.\u0275fac=function(W){return new(W||te)(w.Y36(Ut,9),w.Y36(at,10),w.Y36(mt,10),w.Y36(ce,10),w.Y36(w.sBO,8),w.Y36(be,8))},te.\u0275dir=w.lG2({type:te,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[w._Bn([ol]),w.qOj,w.TTD]}),te})();const ao={provide:ce,useExisting:(0,w.Gpc)(()=>ma),multi:!0};let ma=(()=>{class te extends re{writeValue(W){this.setProperty("value",W??"")}registerOnChange(W){this.onChange=me=>{W(""==me?null:parseFloat(me))}}}return te.\u0275fac=function(){let J;return function(me){return(J||(J=w.n5z(te)))(me||te)}}(),te.\u0275dir=w.lG2({type:te,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(W,me){1&W&&w.NdJ("input",function(ut){return me.onChange(ut.target.value)})("blur",function(){return me.onTouched()})},features:[w._Bn([ao]),w.qOj]}),te})(),Vi=(()=>{class te{}return te.\u0275fac=function(W){return new(W||te)},te.\u0275mod=w.oAB({type:te}),te.\u0275inj=w.cJS({}),te})();const Ue=new w.OlP("NgModelWithFormControlWarning"),Xt={provide:ce,useExisting:(0,w.Gpc)(()=>_a),multi:!0};function or(te,J){return null==te?`${J}`:(J&&"object"==typeof J&&(J="Object"),`${te}: ${J}`.slice(0,50))}let _a=(()=>{class te extends re{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(W){this._compareWith=W}writeValue(W){this.value=W;const ft=or(this._getOptionId(W),W);this.setProperty("value",ft)}registerOnChange(W){this.onChange=me=>{this.value=this._getOptionValue(me),W(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(W){for(const me of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(me),W))return me;return null}_getOptionValue(W){const me=function ts(te){return te.split(":")[0]}(W);return this._optionMap.has(me)?this._optionMap.get(me):W}}return te.\u0275fac=function(){let J;return function(me){return(J||(J=w.n5z(te)))(me||te)}}(),te.\u0275dir=w.lG2({type:te,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(W,me){1&W&&w.NdJ("change",function(ut){return me.onChange(ut.target.value)})("blur",function(){return me.onTouched()})},inputs:{compareWith:"compareWith"},features:[w._Bn([Xt]),w.qOj]}),te})(),Gi=(()=>{class te{constructor(W,me,ft){this._element=W,this._renderer=me,this._select=ft,this._select&&(this.id=this._select._registerOption())}set ngValue(W){null!=this._select&&(this._select._optionMap.set(this.id,W),this._setElementValue(or(this.id,W)),this._select.writeValue(this._select.value))}set value(W){this._setElementValue(W),this._select&&this._select.writeValue(this._select.value)}_setElementValue(W){this._renderer.setProperty(this._element.nativeElement,"value",W)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return te.\u0275fac=function(W){return new(W||te)(w.Y36(w.SBq),w.Y36(w.Qsj),w.Y36(_a,9))},te.\u0275dir=w.lG2({type:te,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),te})();const Nl={provide:ce,useExisting:(0,w.Gpc)(()=>Fa),multi:!0};function Ra(te,J){return null==te?`${J}`:("string"==typeof J&&(J=`'${J}'`),J&&"object"==typeof J&&(J="Object"),`${te}: ${J}`.slice(0,50))}let Fa=(()=>{class te extends re{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(W){this._compareWith=W}writeValue(W){let me;if(this.value=W,Array.isArray(W)){const ft=W.map(ut=>this._getOptionId(ut));me=(ut,On)=>{ut._setSelected(ft.indexOf(On.toString())>-1)}}else me=(ft,ut)=>{ft._setSelected(!1)};this._optionMap.forEach(me)}registerOnChange(W){this.onChange=me=>{const ft=[],ut=me.selectedOptions;if(void 0!==ut){const On=ut;for(let yr=0;yr<On.length;yr++){const ti=this._getOptionValue(On[yr].value);ft.push(ti)}}else{const On=me.options;for(let yr=0;yr<On.length;yr++){const xa=On[yr];if(xa.selected){const ti=this._getOptionValue(xa.value);ft.push(ti)}}}this.value=ft,W(ft)}}_registerOption(W){const me=(this._idCounter++).toString();return this._optionMap.set(me,W),me}_getOptionId(W){for(const me of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(me)._value,W))return me;return null}_getOptionValue(W){const me=function no(te){return te.split(":")[0]}(W);return this._optionMap.has(me)?this._optionMap.get(me)._value:W}}return te.\u0275fac=function(){let J;return function(me){return(J||(J=w.n5z(te)))(me||te)}}(),te.\u0275dir=w.lG2({type:te,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(W,me){1&W&&w.NdJ("change",function(ut){return me.onChange(ut.target)})("blur",function(){return me.onTouched()})},inputs:{compareWith:"compareWith"},features:[w._Bn([Nl]),w.qOj]}),te})(),ba=(()=>{class te{constructor(W,me,ft){this._element=W,this._renderer=me,this._select=ft,this._select&&(this.id=this._select._registerOption(this))}set ngValue(W){null!=this._select&&(this._value=W,this._setElementValue(Ra(this.id,W)),this._select.writeValue(this._select.value))}set value(W){this._select?(this._value=W,this._setElementValue(Ra(this.id,W)),this._select.writeValue(this._select.value)):this._setElementValue(W)}_setElementValue(W){this._renderer.setProperty(this._element.nativeElement,"value",W)}_setSelected(W){this._renderer.setProperty(this._element.nativeElement,"selected",W)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return te.\u0275fac=function(W){return new(W||te)(w.Y36(w.SBq),w.Y36(w.Qsj),w.Y36(Fa,9))},te.\u0275dir=w.lG2({type:te,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),te})(),Tr=(()=>{class te{}return te.\u0275fac=function(W){return new(W||te)},te.\u0275mod=w.oAB({type:te}),te.\u0275inj=w.cJS({imports:[Vi]}),te})(),as=(()=>{class te{static withConfig(W){return{ngModule:te,providers:[{provide:be,useValue:W.callSetDisabledState??We}]}}}return te.\u0275fac=function(W){return new(W||te)},te.\u0275mod=w.oAB({type:te}),te.\u0275inj=w.cJS({imports:[Tr]}),te})(),Co=(()=>{class te{static withConfig(W){return{ngModule:te,providers:[{provide:Ue,useValue:W.warnOnNgModelWithFormControl??"always"},{provide:be,useValue:W.callSetDisabledState??We}]}}}return te.\u0275fac=function(W){return new(W||te)},te.\u0275mod=w.oAB({type:te}),te.\u0275inj=w.cJS({imports:[Tr]}),te})()},1481:(k,A,E)=>{"use strict";E.d(A,{Dx:()=>zn,Qz:()=>Ae,b2:()=>Ti,h_:()=>pr,q6:()=>Xn,se:()=>ct});var w=E(6895),N=E(4650);class t extends w.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class I extends t{static makeCurrent(){(0,w.HT)(new I)}onAndCancel(He,be,We){return He.addEventListener(be,We,!1),()=>{He.removeEventListener(be,We,!1)}}dispatchEvent(He,be){He.dispatchEvent(be)}remove(He){He.parentNode&&He.parentNode.removeChild(He)}createElement(He,be){return(be=be||this.getDefaultDocument()).createElement(He)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(He){return He.nodeType===Node.ELEMENT_NODE}isShadowRoot(He){return He instanceof DocumentFragment}getGlobalEventTarget(He,be){return"window"===be?window:"document"===be?He:"body"===be?He.body:null}getBaseHref(He){const be=function z(){return H=H||document.querySelector("base"),H?H.getAttribute("href"):null}();return null==be?null:function ce(Je){re=re||document.createElement("a"),re.setAttribute("href",Je);const He=re.pathname;return"/"===He.charAt(0)?He:`/${He}`}(be)}resetBaseElement(){H=null}getUserAgent(){return window.navigator.userAgent}getCookie(He){return(0,w.Mx)(document.cookie,He)}}let re,H=null;const Oe=new N.OlP("TRANSITION_ID"),Fe=[{provide:N.ip1,useFactory:function M(Je,He,be){return()=>{be.get(N.CZH).donePromise.then(()=>{const We=(0,w.q)(),St=He.querySelectorAll(`style[ng-transition="${Je}"]`);for(let Yt=0;Yt<St.length;Yt++)We.remove(St[Yt])})}},deps:[Oe,w.K0,N.zs3],multi:!0}];let Tt=(()=>{class Je{build(){return new XMLHttpRequest}}return Je.\u0275fac=function(be){return new(be||Je)},Je.\u0275prov=N.Yz7({token:Je,factory:Je.\u0275fac}),Je})();const De=new N.OlP("EventManagerPlugins");let Ae=(()=>{class Je{constructor(be,We){this._zone=We,this._eventNameToPlugin=new Map,be.forEach(St=>{St.manager=this}),this._plugins=be.slice().reverse()}addEventListener(be,We,St){return this._findPluginFor(We).addEventListener(be,We,St)}addGlobalEventListener(be,We,St){return this._findPluginFor(We).addGlobalEventListener(be,We,St)}getZone(){return this._zone}_findPluginFor(be){const We=this._eventNameToPlugin.get(be);if(We)return We;const St=this._plugins;for(let Yt=0;Yt<St.length;Yt++){const on=St[Yt];if(on.supports(be))return this._eventNameToPlugin.set(be,on),on}throw new Error(`No event manager plugin found for event ${be}`)}}return Je.\u0275fac=function(be){return new(be||Je)(N.LFG(De),N.LFG(N.R0b))},Je.\u0275prov=N.Yz7({token:Je,factory:Je.\u0275fac}),Je})();class je{constructor(He){this._doc=He}addGlobalEventListener(He,be,We){const St=(0,w.q)().getGlobalEventTarget(this._doc,He);if(!St)throw new Error(`Unsupported event target ${St} for event ${be}`);return this.addEventListener(St,be,We)}}let se=(()=>{class Je{constructor(){this.usageCount=new Map}addStyles(be){for(const We of be)1===this.changeUsageCount(We,1)&&this.onStyleAdded(We)}removeStyles(be){for(const We of be)0===this.changeUsageCount(We,-1)&&this.onStyleRemoved(We)}onStyleRemoved(be){}onStyleAdded(be){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(be,We){const St=this.usageCount;let Yt=St.get(be)??0;return Yt+=We,Yt>0?St.set(be,Yt):St.delete(be),Yt}ngOnDestroy(){for(const be of this.getAllStyles())this.onStyleRemoved(be);this.usageCount.clear()}}return Je.\u0275fac=function(be){return new(be||Je)},Je.\u0275prov=N.Yz7({token:Je,factory:Je.\u0275fac}),Je})(),at=(()=>{class Je extends se{constructor(be){super(),this.doc=be,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(be){for(const We of this.hostNodes)this.addStyleToHost(We,be)}onStyleRemoved(be){const We=this.styleRef;We.get(be)?.forEach(Yt=>Yt.remove()),We.delete(be)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(be){this.hostNodes.add(be);for(const We of this.getAllStyles())this.addStyleToHost(be,We)}removeHost(be){this.hostNodes.delete(be)}addStyleToHost(be,We){const St=this.doc.createElement("style");St.textContent=We,be.appendChild(St);const Yt=this.styleRef.get(We);Yt?Yt.push(St):this.styleRef.set(We,[St])}resetHostNodes(){const be=this.hostNodes;be.clear(),be.add(this.doc.head)}}return Je.\u0275fac=function(be){return new(be||Je)(N.LFG(w.K0))},Je.\u0275prov=N.Yz7({token:Je,factory:Je.\u0275fac}),Je})();const mt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Dt=/%COMP%/g,xt=new N.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Le(Je,He){return He.flat(100).map(be=>be.replace(Dt,Je))}function cn(Je){return He=>{if("__ngUnwrap__"===He)return Je;!1===Je(He)&&(He.preventDefault(),He.returnValue=!1)}}let ct=(()=>{class Je{constructor(be,We,St,Yt){this.eventManager=be,this.sharedStylesHost=We,this.appId=St,this.removeStylesOnCompDestory=Yt,this.rendererByCompId=new Map,this.defaultRenderer=new qe(be)}createRenderer(be,We){if(!be||!We)return this.defaultRenderer;const St=this.getOrCreateRenderer(be,We);return St instanceof Wt?St.applyToHost(be):St instanceof At&&St.applyStyles(),St}getOrCreateRenderer(be,We){const St=this.rendererByCompId;let Yt=St.get(We.id);if(!Yt){const on=this.eventManager,cr=this.sharedStylesHost,kr=this.removeStylesOnCompDestory;switch(We.encapsulation){case N.ifc.Emulated:Yt=new Wt(on,cr,We,this.appId,kr);break;case N.ifc.ShadowDom:return new wt(on,cr,be,We);default:Yt=new At(on,cr,We,kr)}Yt.onDestroy=()=>St.delete(We.id),St.set(We.id,Yt)}return Yt}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return Je.\u0275fac=function(be){return new(be||Je)(N.LFG(Ae),N.LFG(at),N.LFG(N.AFp),N.LFG(xt))},Je.\u0275prov=N.Yz7({token:Je,factory:Je.\u0275fac}),Je})();class qe{constructor(He){this.eventManager=He,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(He,be){return be?document.createElementNS(mt[be]||be,He):document.createElement(He)}createComment(He){return document.createComment(He)}createText(He){return document.createTextNode(He)}appendChild(He,be){(nt(He)?He.content:He).appendChild(be)}insertBefore(He,be,We){He&&(nt(He)?He.content:He).insertBefore(be,We)}removeChild(He,be){He&&He.removeChild(be)}selectRootElement(He,be){let We="string"==typeof He?document.querySelector(He):He;if(!We)throw new Error(`The selector "${He}" did not match any elements`);return be||(We.textContent=""),We}parentNode(He){return He.parentNode}nextSibling(He){return He.nextSibling}setAttribute(He,be,We,St){if(St){be=St+":"+be;const Yt=mt[St];Yt?He.setAttributeNS(Yt,be,We):He.setAttribute(be,We)}else He.setAttribute(be,We)}removeAttribute(He,be,We){if(We){const St=mt[We];St?He.removeAttributeNS(St,be):He.removeAttribute(`${We}:${be}`)}else He.removeAttribute(be)}addClass(He,be){He.classList.add(be)}removeClass(He,be){He.classList.remove(be)}setStyle(He,be,We,St){St&(N.JOm.DashCase|N.JOm.Important)?He.style.setProperty(be,We,St&N.JOm.Important?"important":""):He.style[be]=We}removeStyle(He,be,We){We&N.JOm.DashCase?He.style.removeProperty(be):He.style[be]=""}setProperty(He,be,We){He[be]=We}setValue(He,be){He.nodeValue=be}listen(He,be,We){return"string"==typeof He?this.eventManager.addGlobalEventListener(He,be,cn(We)):this.eventManager.addEventListener(He,be,cn(We))}}function nt(Je){return"TEMPLATE"===Je.tagName&&void 0!==Je.content}class wt extends qe{constructor(He,be,We,St){super(He),this.sharedStylesHost=be,this.hostEl=We,this.shadowRoot=We.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Yt=Le(St.id,St.styles);for(const on of Yt){const cr=document.createElement("style");cr.textContent=on,this.shadowRoot.appendChild(cr)}}nodeOrShadowRoot(He){return He===this.hostEl?this.shadowRoot:He}appendChild(He,be){return super.appendChild(this.nodeOrShadowRoot(He),be)}insertBefore(He,be,We){return super.insertBefore(this.nodeOrShadowRoot(He),be,We)}removeChild(He,be){return super.removeChild(this.nodeOrShadowRoot(He),be)}parentNode(He){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(He)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class At extends qe{constructor(He,be,We,St,Yt=We.id){super(He),this.sharedStylesHost=be,this.removeStylesOnCompDestory=St,this.rendererUsageCount=0,this.styles=Le(Yt,We.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Wt extends At{constructor(He,be,We,St,Yt){const on=St+"-"+We.id;super(He,be,We,Yt,on),this.contentAttr=function pt(Je){return"_ngcontent-%COMP%".replace(Dt,Je)}(on),this.hostAttr=function Ne(Je){return"_nghost-%COMP%".replace(Dt,Je)}(on)}applyToHost(He){this.applyStyles(),this.setAttribute(He,this.hostAttr,"")}createElement(He,be){const We=super.createElement(He,be);return super.setAttribute(We,this.contentAttr,""),We}}let zt=(()=>{class Je extends je{constructor(be){super(be)}supports(be){return!0}addEventListener(be,We,St){return be.addEventListener(We,St,!1),()=>this.removeEventListener(be,We,St)}removeEventListener(be,We,St){return be.removeEventListener(We,St)}}return Je.\u0275fac=function(be){return new(be||Je)(N.LFG(w.K0))},Je.\u0275prov=N.Yz7({token:Je,factory:Je.\u0275fac}),Je})();const An=["alt","control","meta","shift"],en={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qt={alt:Je=>Je.altKey,control:Je=>Je.ctrlKey,meta:Je=>Je.metaKey,shift:Je=>Je.shiftKey};let yn=(()=>{class Je extends je{constructor(be){super(be)}supports(be){return null!=Je.parseEventName(be)}addEventListener(be,We,St){const Yt=Je.parseEventName(We),on=Je.eventCallback(Yt.fullKey,St,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,w.q)().onAndCancel(be,Yt.domEventName,on))}static parseEventName(be){const We=be.toLowerCase().split("."),St=We.shift();if(0===We.length||"keydown"!==St&&"keyup"!==St)return null;const Yt=Je._normalizeKey(We.pop());let on="",cr=We.indexOf("code");if(cr>-1&&(We.splice(cr,1),on="code."),An.forEach(Re=>{const Hi=We.indexOf(Re);Hi>-1&&(We.splice(Hi,1),on+=Re+".")}),on+=Yt,0!=We.length||0===Yt.length)return null;const kr={};return kr.domEventName=St,kr.fullKey=on,kr}static matchEventFullKeyCode(be,We){let St=en[be.key]||be.key,Yt="";return We.indexOf("code.")>-1&&(St=be.code,Yt="code."),!(null==St||!St)&&(St=St.toLowerCase()," "===St?St="space":"."===St&&(St="dot"),An.forEach(on=>{on!==St&&(0,Qt[on])(be)&&(Yt+=on+".")}),Yt+=St,Yt===We)}static eventCallback(be,We,St){return Yt=>{Je.matchEventFullKeyCode(Yt,be)&&St.runGuarded(()=>We(Yt))}}static _normalizeKey(be){return"esc"===be?"escape":be}}return Je.\u0275fac=function(be){return new(be||Je)(N.LFG(w.K0))},Je.\u0275prov=N.Yz7({token:Je,factory:Je.\u0275fac}),Je})();const Xn=(0,N.eFA)(N._c5,"browser",[{provide:N.Lbi,useValue:w.bD},{provide:N.g9A,useValue:function Ut(){I.makeCurrent()},multi:!0},{provide:w.K0,useFactory:function xr(){return(0,N.RDi)(document),document},deps:[]}]),er=new N.OlP(""),di=[{provide:N.rWj,useClass:class we{addToWindow(He){N.dqk.getAngularTestability=(We,St=!0)=>{const Yt=He.findTestabilityInTree(We,St);if(null==Yt)throw new Error("Could not find testability for element.");return Yt},N.dqk.getAllAngularTestabilities=()=>He.getAllTestabilities(),N.dqk.getAllAngularRootElements=()=>He.getAllRootElements(),N.dqk.frameworkStabilizers||(N.dqk.frameworkStabilizers=[]),N.dqk.frameworkStabilizers.push(We=>{const St=N.dqk.getAllAngularTestabilities();let Yt=St.length,on=!1;const cr=function(kr){on=on||kr,Yt--,0==Yt&&We(on)};St.forEach(function(kr){kr.whenStable(cr)})})}findTestabilityInTree(He,be,We){return null==be?null:He.getTestability(be)??(We?(0,w.q)().isShadowRoot(be)?this.findTestabilityInTree(He,be.host,!0):this.findTestabilityInTree(He,be.parentElement,!0):null)}},deps:[]},{provide:N.lri,useClass:N.dDg,deps:[N.R0b,N.eoX,N.rWj]},{provide:N.dDg,useClass:N.dDg,deps:[N.R0b,N.eoX,N.rWj]}],Jt=[{provide:N.zSh,useValue:"root"},{provide:N.qLn,useFactory:function rn(){return new N.qLn},deps:[]},{provide:De,useClass:zt,multi:!0,deps:[w.K0,N.R0b,N.Lbi]},{provide:De,useClass:yn,multi:!0,deps:[w.K0]},{provide:ct,useClass:ct,deps:[Ae,at,N.AFp,xt]},{provide:N.FYo,useExisting:ct},{provide:se,useExisting:at},{provide:at,useClass:at,deps:[w.K0]},{provide:Ae,useClass:Ae,deps:[De,N.R0b]},{provide:w.JF,useClass:Tt,deps:[]},[]];let Ti=(()=>{class Je{constructor(be){}static withServerTransition(be){return{ngModule:Je,providers:[{provide:N.AFp,useValue:be.appId},{provide:Oe,useExisting:N.AFp},Fe]}}}return Je.\u0275fac=function(be){return new(be||Je)(N.LFG(er,12))},Je.\u0275mod=N.oAB({type:Je}),Je.\u0275inj=N.cJS({providers:[...Jt,...di],imports:[w.ez,N.hGG]}),Je})(),pr=(()=>{class Je{constructor(be){this._doc=be,this._dom=(0,w.q)()}addTag(be,We=!1){return be?this._getOrCreateElement(be,We):null}addTags(be,We=!1){return be?be.reduce((St,Yt)=>(Yt&&St.push(this._getOrCreateElement(Yt,We)),St),[]):[]}getTag(be){return be&&this._doc.querySelector(`meta[${be}]`)||null}getTags(be){if(!be)return[];const We=this._doc.querySelectorAll(`meta[${be}]`);return We?[].slice.call(We):[]}updateTag(be,We){if(!be)return null;We=We||this._parseSelector(be);const St=this.getTag(We);return St?this._setMetaElementAttributes(be,St):this._getOrCreateElement(be,!0)}removeTag(be){this.removeTagElement(this.getTag(be))}removeTagElement(be){be&&this._dom.remove(be)}_getOrCreateElement(be,We=!1){if(!We){const on=this._parseSelector(be),cr=this.getTags(on).filter(kr=>this._containsAttributes(be,kr))[0];if(void 0!==cr)return cr}const St=this._dom.createElement("meta");return this._setMetaElementAttributes(be,St),this._doc.getElementsByTagName("head")[0].appendChild(St),St}_setMetaElementAttributes(be,We){return Object.keys(be).forEach(St=>We.setAttribute(this._getMetaKeyMap(St),be[St])),We}_parseSelector(be){const We=be.name?"name":"property";return`${We}="${be[We]}"`}_containsAttributes(be,We){return Object.keys(be).every(St=>We.getAttribute(this._getMetaKeyMap(St))===be[St])}_getMetaKeyMap(be){return bt[be]||be}}return Je.\u0275fac=function(be){return new(be||Je)(N.LFG(w.K0))},Je.\u0275prov=N.Yz7({token:Je,factory:function(be){let We=null;return We=be?new be:function Pr(){return new pr((0,N.LFG)(w.K0))}(),We},providedIn:"root"}),Je})();const bt={httpEquiv:"http-equiv"};let zn=(()=>{class Je{constructor(be){this._doc=be}getTitle(){return this._doc.title}setTitle(be){this._doc.title=be||""}}return Je.\u0275fac=function(be){return new(be||Je)(N.LFG(w.K0))},Je.\u0275prov=N.Yz7({token:Je,factory:function(be){let We=null;return We=be?new be:function Ka(){return new zn((0,N.LFG)(w.K0))}(),We},providedIn:"root"}),Je})();typeof window<"u"&&window},4553:(k,A,E)=>{"use strict";E.d(A,{gz:()=>_o,m2:()=>_n,F0:()=>Lo,Bz:()=>qs,lC:()=>Ca});var w=E(4650),N=E(2076),t=E(9646),I=E(1135),H=E(6805),z=E(9841),re=E(7272),ce=E(9770),Oe=E(9635),M=E(2843),Fe=E(9751),we=E(515),Tt=E(4033),De=E(7579),Ae=E(6895),je=E(4004),se=E(3900),at=E(5698),mt=E(8675),Dt=E(9300),Pe=E(5577),Ee=E(590),Ye=E(4351),Qe=E(8505),ze=E(8421),xt=E(5403),pt=E(4482);function Ne(F){return(0,pt.e)((L,O)=>{let le,j=null,ne=!1;j=L.subscribe((0,xt.x)(O,void 0,void 0,ve=>{le=(0,ze.Xf)(F(ve,Ne(F)(L))),j?(j.unsubscribe(),j=null,le.subscribe(O)):ne=!0})),ne&&(j.unsubscribe(),j=null,le.subscribe(O))})}var Le=E(7359);function cn(F,L){return(0,pt.e)((0,Le.U)(F,L,arguments.length>=2,!0))}function ct(F){return F<=0?()=>we.E:(0,pt.e)((L,O)=>{let j=[];L.subscribe((0,xt.x)(O,ne=>{j.push(ne),F<j.length&&j.shift()},()=>{for(const ne of j)O.next(ne);O.complete()},void 0,()=>{j=null}))})}var qe=E(8068),it=E(6590),st=E(4671);function nt(F,L){const O=arguments.length>=2;return j=>j.pipe(F?(0,Dt.h)((ne,le)=>F(ne,le,j)):st.y,ct(1),O?(0,it.d)(L):(0,qe.T)(()=>new H.K))}var At=E(9718);function Wt(F){return(0,pt.e)((L,O)=>{try{L.subscribe(O)}finally{O.add(F)}})}var zt=E(8343),An=E(8189),en=E(1481);const Qt="primary",yn=Symbol("RouteTitle");class _t{constructor(L){this.params=L||{}}has(L){return Object.prototype.hasOwnProperty.call(this.params,L)}get(L){if(this.has(L)){const O=this.params[L];return Array.isArray(O)?O[0]:O}return null}getAll(L){if(this.has(L)){const O=this.params[L];return Array.isArray(O)?O:[O]}return[]}get keys(){return Object.keys(this.params)}}function Vt(F){return new _t(F)}function Te(F,L,O){const j=O.path.split("/");if(j.length>F.length||"full"===O.pathMatch&&(L.hasChildren()||j.length<F.length))return null;const ne={};for(let le=0;le<j.length;le++){const ve=j[le],tt=F[le];if(ve.startsWith(":"))ne[ve.substring(1)]=tt;else if(ve!==tt.path)return null}return{consumed:F.slice(0,j.length),posParams:ne}}function It(F,L){const O=F?Object.keys(F):void 0,j=L?Object.keys(L):void 0;if(!O||!j||O.length!=j.length)return!1;let ne;for(let le=0;le<O.length;le++)if(ne=O[le],!Ut(F[ne],L[ne]))return!1;return!0}function Ut(F,L){if(Array.isArray(F)&&Array.isArray(L)){if(F.length!==L.length)return!1;const O=[...F].sort(),j=[...L].sort();return O.every((ne,le)=>j[le]===ne)}return F===L}function rn(F){return Array.prototype.concat.apply([],F)}function xr(F){return F.length>0?F[F.length-1]:null}function Xn(F,L){for(const O in F)F.hasOwnProperty(O)&&L(F[O],O)}function er(F){return(0,w.CqO)(F)?F:(0,w.QGY)(F)?(0,N.D)(Promise.resolve(F)):(0,t.of)(F)}const di=!1,Jt={exact:function bt(F,L,O){if(!ai(F.segments,L.segments)||!nn(F.segments,L.segments,O)||F.numberOfChildren!==L.numberOfChildren)return!1;for(const j in L.children)if(!F.children[j]||!bt(F.children[j],L.children[j],O))return!1;return!0},subset:zn},Ti={exact:function pr(F,L){return It(F,L)},subset:function Ka(F,L){return Object.keys(L).length<=Object.keys(F).length&&Object.keys(L).every(O=>Ut(F[O],L[O]))},ignored:()=>!0};function Pr(F,L,O){return Jt[O.paths](F.root,L.root,O.matrixParams)&&Ti[O.queryParams](F.queryParams,L.queryParams)&&!("exact"===O.fragment&&F.fragment!==L.fragment)}function zn(F,L,O){return Mt(F,L,L.segments,O)}function Mt(F,L,O,j){if(F.segments.length>O.length){const ne=F.segments.slice(0,O.length);return!(!ai(ne,O)||L.hasChildren()||!nn(ne,O,j))}if(F.segments.length===O.length){if(!ai(F.segments,O)||!nn(F.segments,O,j))return!1;for(const ne in L.children)if(!F.children[ne]||!zn(F.children[ne],L.children[ne],j))return!1;return!0}{const ne=O.slice(0,F.segments.length),le=O.slice(F.segments.length);return!!(ai(F.segments,ne)&&nn(F.segments,ne,j)&&F.children[Qt])&&Mt(F.children[Qt],L,le,j)}}function nn(F,L,O){return L.every((j,ne)=>Ti[O](F[ne].parameters,j.parameters))}class Ri{constructor(L=new Cn([],{}),O={},j=null){this.root=L,this.queryParams=O,this.fragment=j}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vt(this.queryParams)),this._queryParamMap}toString(){return mn.serialize(this)}}class Cn{constructor(L,O){this.segments=L,this.children=O,this.parent=null,Xn(O,(j,ne)=>j.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fi(this)}}class fr{constructor(L,O){this.path=L,this.parameters=O}get parameterMap(){return this._parameterMap||(this._parameterMap=Vt(this.parameters)),this._parameterMap}toString(){return kt(this)}}function ai(F,L){return F.length===L.length&&F.every((O,j)=>O.path===L[j].path)}let br=(()=>{class F{}return F.\u0275fac=function(O){return new(O||F)},F.\u0275prov=w.Yz7({token:F,factory:function(){return new oa},providedIn:"root"}),F})();class oa{parse(L){const O=new be(L);return new Ri(O.parseRootSegment(),O.parseQueryParams(),O.parseFragment())}serialize(L){const O=`/${Li(L.root,!0)}`,j=function $n(F){const L=Object.keys(F).map(O=>{const j=F[O];return Array.isArray(j)?j.map(ne=>`${qi(O)}=${qi(ne)}`).join("&"):`${qi(O)}=${qi(j)}`}).filter(O=>!!O);return L.length?`?${L.join("&")}`:""}(L.queryParams);return`${O}${j}${"string"==typeof L.fragment?`#${function vt(F){return encodeURI(F)}(L.fragment)}`:""}`}}const mn=new oa;function Fi(F){return F.segments.map(L=>kt(L)).join("/")}function Li(F,L){if(!F.hasChildren())return Fi(F);if(L){const O=F.children[Qt]?Li(F.children[Qt],!1):"",j=[];return Xn(F.children,(ne,le)=>{le!==Qt&&j.push(`${le}:${Li(ne,!1)}`)}),j.length>0?`${O}(${j.join("//")})`:O}{const O=function Ja(F,L){let O=[];return Xn(F.children,(j,ne)=>{ne===Qt&&(O=O.concat(L(j,ne)))}),Xn(F.children,(j,ne)=>{ne!==Qt&&(O=O.concat(L(j,ne)))}),O}(F,(j,ne)=>ne===Qt?[Li(F.children[Qt],!1)]:[`${ne}:${Li(j,!1)}`]);return 1===Object.keys(F.children).length&&null!=F.children[Qt]?`${Fi(F)}/${O[0]}`:`${Fi(F)}/(${O.join("//")})`}}function lr(F){return encodeURIComponent(F).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qi(F){return lr(F).replace(/%3B/gi,";")}function Ve(F){return lr(F).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ge(F){return decodeURIComponent(F)}function Ht(F){return Ge(F.replace(/\+/g,"%20"))}function kt(F){return`${Ve(F.path)}${function Sn(F){return Object.keys(F).map(L=>`;${Ve(L)}=${Ve(F[L])}`).join("")}(F.parameters)}`}const ur=/^[^\/()?;=#]+/;function Nn(F){const L=F.match(ur);return L?L[0]:""}const wr=/^[^=?&#]+/,Je=/^[^&#]+/;class be{constructor(L){this.url=L,this.remaining=L}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Cn([],{}):new Cn([],this.parseChildren())}parseQueryParams(){const L={};if(this.consumeOptional("?"))do{this.parseQueryParam(L)}while(this.consumeOptional("&"));return L}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const L=[];for(this.peekStartsWith("(")||L.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),L.push(this.parseSegment());let O={};this.peekStartsWith("/(")&&(this.capture("/"),O=this.parseParens(!0));let j={};return this.peekStartsWith("(")&&(j=this.parseParens(!1)),(L.length>0||Object.keys(O).length>0)&&(j[Qt]=new Cn(L,O)),j}parseSegment(){const L=Nn(this.remaining);if(""===L&&this.peekStartsWith(";"))throw new w.vHH(4009,di);return this.capture(L),new fr(Ge(L),this.parseMatrixParams())}parseMatrixParams(){const L={};for(;this.consumeOptional(";");)this.parseParam(L);return L}parseParam(L){const O=Nn(this.remaining);if(!O)return;this.capture(O);let j="";if(this.consumeOptional("=")){const ne=Nn(this.remaining);ne&&(j=ne,this.capture(j))}L[Ge(O)]=Ge(j)}parseQueryParam(L){const O=function Bi(F){const L=F.match(wr);return L?L[0]:""}(this.remaining);if(!O)return;this.capture(O);let j="";if(this.consumeOptional("=")){const ve=function He(F){const L=F.match(Je);return L?L[0]:""}(this.remaining);ve&&(j=ve,this.capture(j))}const ne=Ht(O),le=Ht(j);if(L.hasOwnProperty(ne)){let ve=L[ne];Array.isArray(ve)||(ve=[ve],L[ne]=ve),ve.push(le)}else L[ne]=le}parseParens(L){const O={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const j=Nn(this.remaining),ne=this.remaining[j.length];if("/"!==ne&&")"!==ne&&";"!==ne)throw new w.vHH(4010,di);let le;j.indexOf(":")>-1?(le=j.slice(0,j.indexOf(":")),this.capture(le),this.capture(":")):L&&(le=Qt);const ve=this.parseChildren();O[le]=1===Object.keys(ve).length?ve[Qt]:new Cn([],ve),this.consumeOptional("//")}return O}peekStartsWith(L){return this.remaining.startsWith(L)}consumeOptional(L){return!!this.peekStartsWith(L)&&(this.remaining=this.remaining.substring(L.length),!0)}capture(L){if(!this.consumeOptional(L))throw new w.vHH(4011,di)}}function We(F){return F.segments.length>0?new Cn([],{[Qt]:F}):F}function St(F){const L={};for(const j of Object.keys(F.children)){const le=St(F.children[j]);(le.segments.length>0||le.hasChildren())&&(L[j]=le)}return function Yt(F){if(1===F.numberOfChildren&&F.children[Qt]){const L=F.children[Qt];return new Cn(F.segments.concat(L.segments),L.children)}return F}(new Cn(F.segments,L))}function on(F){return F instanceof Ri}const cr=!1;function Mo(F,L,O,j,ne){if(0===O.length)return Io(L.root,L.root,L.root,j,ne);const le=function gr(F){if("string"==typeof F[0]&&1===F.length&&"/"===F[0])return new Ao(!0,0,F);let L=0,O=!1;const j=F.reduce((ne,le,ve)=>{if("object"==typeof le&&null!=le){if(le.outlets){const tt={};return Xn(le.outlets,(Ot,gn)=>{tt[gn]="string"==typeof Ot?Ot.split("/"):Ot}),[...ne,{outlets:tt}]}if(le.segmentPath)return[...ne,le.segmentPath]}return"string"!=typeof le?[...ne,le]:0===ve?(le.split("/").forEach((tt,Ot)=>{0==Ot&&"."===tt||(0==Ot&&""===tt?O=!0:".."===tt?L++:""!=tt&&ne.push(tt))}),ne):[...ne,le]},[]);return new Ao(O,L,j)}(O);return le.toRoot()?Io(L.root,L.root,new Cn([],{}),j,ne):function ve(Ot){const gn=function ga(F,L,O,j){if(F.isAbsolute)return new Yn(L.root,!0,0);if(-1===j)return new Yn(O,O===L.root,0);return function ei(F,L,O){let j=F,ne=L,le=O;for(;le>ne;){if(le-=ne,j=j.parent,!j)throw new w.vHH(4005,cr&&"Invalid number of '../'");ne=j.segments.length}return new Yn(j,!1,ne-le)}(O,j+(pa(F.commands[0])?0:1),F.numberOfDoubleDots)}(le,L,F.snapshot?._urlSegment,Ot),vn=gn.processChildren?Mn(gn.segmentGroup,gn.index,le.commands):dn(gn.segmentGroup,gn.index,le.commands);return Io(L.root,gn.segmentGroup,vn,j,ne)}(F.snapshot?._lastPathIndex)}function pa(F){return"object"==typeof F&&null!=F&&!F.outlets&&!F.segmentPath}function fa(F){return"object"==typeof F&&null!=F&&F.outlets}function Io(F,L,O,j,ne){let ve,le={};j&&Xn(j,(Ot,gn)=>{le[gn]=Array.isArray(Ot)?Ot.map(vn=>`${vn}`):`${Ot}`}),ve=F===L?O:Qa(F,L,O);const tt=We(St(ve));return new Ri(tt,le,ne)}function Qa(F,L,O){const j={};return Xn(F.children,(ne,le)=>{j[le]=ne===L?O:Qa(ne,L,O)}),new Cn(F.segments,j)}class Ao{constructor(L,O,j){if(this.isAbsolute=L,this.numberOfDoubleDots=O,this.commands=j,L&&j.length>0&&pa(j[0]))throw new w.vHH(4003,cr&&"Root segment cannot have matrix parameters");const ne=j.find(fa);if(ne&&ne!==xr(j))throw new w.vHH(4004,cr&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yn{constructor(L,O,j){this.segmentGroup=L,this.processChildren=O,this.index=j}}function dn(F,L,O){if(F||(F=new Cn([],{})),0===F.segments.length&&F.hasChildren())return Mn(F,L,O);const j=function Rr(F,L,O){let j=0,ne=L;const le={match:!1,pathIndex:0,commandIndex:0};for(;ne<F.segments.length;){if(j>=O.length)return le;const ve=F.segments[ne],tt=O[j];if(fa(tt))break;const Ot=`${tt}`,gn=j<O.length-1?O[j+1]:null;if(ne>0&&void 0===Ot)break;if(Ot&&gn&&"object"==typeof gn&&void 0===gn.outlets){if(!to(Ot,gn,ve))return le;j+=2}else{if(!to(Ot,{},ve))return le;j++}ne++}return{match:!0,pathIndex:ne,commandIndex:j}}(F,L,O),ne=O.slice(j.commandIndex);if(j.match&&j.pathIndex<F.segments.length){const le=new Cn(F.segments.slice(0,j.pathIndex),{});return le.children[Qt]=new Cn(F.segments.slice(j.pathIndex),F.children),Mn(le,0,ne)}return j.match&&0===ne.length?new Cn(F.segments,{}):j.match&&!F.hasChildren()?xi(F,L,O):j.match?Mn(F,0,ne):xi(F,L,O)}function Mn(F,L,O){if(0===O.length)return new Cn(F.segments,{});{const j=function vo(F){return fa(F[0])?F[0].outlets:{[Qt]:F}}(O),ne={};return!j[Qt]&&F.children[Qt]&&1===F.numberOfChildren&&0===F.children[Qt].segments.length?Mn(F.children[Qt],L,O):(Xn(j,(le,ve)=>{"string"==typeof le&&(le=[le]),null!==le&&(ne[ve]=dn(F.children[ve],L,le))}),Xn(F.children,(le,ve)=>{void 0===j[ve]&&(ne[ve]=le)}),new Cn(F.segments,ne))}}function xi(F,L,O){const j=F.segments.slice(0,L);let ne=0;for(;ne<O.length;){const le=O[ne];if(fa(le)){const Ot=aa(le.outlets);return new Cn(j,Ot)}if(0===ne&&pa(O[0])){j.push(new fr(F.segments[L].path,hi(O[0]))),ne++;continue}const ve=fa(le)?le.outlets[Qt]:`${le}`,tt=ne<O.length-1?O[ne+1]:null;ve&&tt&&pa(tt)?(j.push(new fr(ve,hi(tt))),ne+=2):(j.push(new fr(ve,{})),ne++)}return new Cn(j,{})}function aa(F){const L={};return Xn(F,(O,j)=>{"string"==typeof O&&(O=[O]),null!==O&&(L[j]=xi(new Cn([],{}),0,O))}),L}function hi(F){const L={};return Xn(F,(O,j)=>L[j]=`${O}`),L}function to(F,L,O){return F==O.path&&It(L,O.parameters)}const ir="imperative";class mr{constructor(L,O){this.id=L,this.url=O}}class si extends mr{constructor(L,O,j="imperative",ne=null){super(L,O),this.type=0,this.navigationTrigger=j,this.restoredState=ne}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _n extends mr{constructor(L,O,j){super(L,O),this.urlAfterRedirects=j,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class li extends mr{constructor(L,O,j,ne){super(L,O),this.reason=j,this.code=ne,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Si extends mr{constructor(L,O,j,ne){super(L,O),this.reason=j,this.code=ne,this.type=16}}class $o extends mr{constructor(L,O,j,ne){super(L,O),this.error=j,this.target=ne,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Mi extends mr{constructor(L,O,j,ne){super(L,O),this.urlAfterRedirects=j,this.state=ne,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rn extends mr{constructor(L,O,j,ne){super(L,O),this.urlAfterRedirects=j,this.state=ne,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vr extends mr{constructor(L,O,j,ne,le){super(L,O),this.urlAfterRedirects=j,this.state=ne,this.shouldActivate=le,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Aa extends mr{constructor(L,O,j,ne){super(L,O),this.urlAfterRedirects=j,this.state=ne,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oo extends mr{constructor(L,O,j,ne){super(L,O),this.urlAfterRedirects=j,this.state=ne,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sa{constructor(L){this.route=L,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ol{constructor(L){this.route=L,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jr{constructor(L){this.snapshot=L,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oa{constructor(L){this.snapshot=L,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class al{constructor(L){this.snapshot=L,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ao{constructor(L){this.snapshot=L,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ma{constructor(L,O,j){this.routerEvent=L,this.position=O,this.anchor=j,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Vi=(()=>{class F{createUrlTree(O,j,ne,le,ve,tt){return Mo(O||j.root,ne,le,ve,tt)}}return F.\u0275fac=function(O){return new(O||F)},F.\u0275prov=w.Yz7({token:F,factory:F.\u0275fac}),F})(),$i=(()=>{class F{}return F.\u0275fac=function(O){return new(O||F)},F.\u0275prov=w.Yz7({token:F,factory:function(L){return Vi.\u0275fac(L)},providedIn:"root"}),F})();class Me{constructor(L){this._root=L}get root(){return this._root.value}parent(L){const O=this.pathFromRoot(L);return O.length>1?O[O.length-2]:null}children(L){const O=so(L,this._root);return O?O.children.map(j=>j.value):[]}firstChild(L){const O=so(L,this._root);return O&&O.children.length>0?O.children[0].value:null}siblings(L){const O=Ue(L,this._root);return O.length<2?[]:O[O.length-2].children.map(ne=>ne.value).filter(ne=>ne!==L)}pathFromRoot(L){return Ue(L,this._root).map(O=>O.value)}}function so(F,L){if(F===L.value)return L;for(const O of L.children){const j=so(F,O);if(j)return j}return null}function Ue(F,L){if(F===L.value)return[L];for(const O of L.children){const j=Ue(F,O);if(j.length)return j.unshift(L),j}return[]}class ar{constructor(L,O){this.value=L,this.children=O}toString(){return`TreeNode(${this.value})`}}function pi(F){const L={};return F&&F.children.forEach(O=>L[O.value.outlet]=O),L}class Pa extends Me{constructor(L,O){super(L),this.snapshot=O,Fr(this,L)}toString(){return this.snapshot.toString()}}function va(F,L){const O=function Fs(F,L){const ve=new Ii([],{},{},"",{},Qt,L,null,F.root,-1,{});return new ka("",new ar(ve,[]))}(F,L),j=new I.X([new fr("",{})]),ne=new I.X({}),le=new I.X({}),ve=new I.X({}),tt=new I.X(""),Ot=new _o(j,ne,ve,tt,le,Qt,L,O.root);return Ot.snapshot=O.root,new Pa(new ar(Ot,[]),O)}class _o{constructor(L,O,j,ne,le,ve,tt,Ot){this.url=L,this.params=O,this.queryParams=j,this.fragment=ne,this.data=le,this.outlet=ve,this.component=tt,this.title=this.data?.pipe((0,je.U)(gn=>gn[yn]))??(0,t.of)(void 0),this._futureSnapshot=Ot}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,je.U)(L=>Vt(L)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,je.U)(L=>Vt(L)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _s(F,L="emptyOnly"){const O=F.pathFromRoot;let j=0;if("always"!==L)for(j=O.length-1;j>=1;){const ne=O[j],le=O[j-1];if(ne.routeConfig&&""===ne.routeConfig.path)j--;else{if(le.component)break;j--}}return function Ur(F){return F.reduce((L,O)=>({params:{...L.params,...O.params},data:{...L.data,...O.data},resolve:{...O.data,...L.resolve,...O.routeConfig?.data,...O._resolvedData}}),{params:{},data:{},resolve:{}})}(O.slice(j))}class Ii{get title(){return this.data?.[yn]}constructor(L,O,j,ne,le,ve,tt,Ot,gn,vn,Ar){this.url=L,this.params=O,this.queryParams=j,this.fragment=ne,this.data=le,this.outlet=ve,this.component=tt,this.routeConfig=Ot,this._urlSegment=gn,this._lastPathIndex=vn,this._resolve=Ar}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Vt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(j=>j.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ka extends Me{constructor(L,O){super(O),this.url=L,Fr(this,O)}toString(){return Xt(this._root)}}function Fr(F,L){L.value._routerState=F,L.children.forEach(O=>Fr(F,O))}function Xt(F){const L=F.children.length>0?` { ${F.children.map(Xt).join(", ")} } `:"";return`${F.value}${L}`}function or(F){if(F.snapshot){const L=F.snapshot,O=F._futureSnapshot;F.snapshot=O,It(L.queryParams,O.queryParams)||F.queryParams.next(O.queryParams),L.fragment!==O.fragment&&F.fragment.next(O.fragment),It(L.params,O.params)||F.params.next(O.params),function et(F,L){if(F.length!==L.length)return!1;for(let O=0;O<F.length;++O)if(!It(F[O],L[O]))return!1;return!0}(L.url,O.url)||F.url.next(O.url),It(L.data,O.data)||F.data.next(O.data)}else F.snapshot=F._futureSnapshot,F.data.next(F._futureSnapshot.data)}function ts(F,L){const O=It(F.params,L.params)&&function nr(F,L){return ai(F,L)&&F.every((O,j)=>It(O.parameters,L[j].parameters))}(F.url,L.url);return O&&!(!F.parent!=!L.parent)&&(!F.parent||ts(F.parent,L.parent))}function Gi(F,L,O){if(O&&F.shouldReuseRoute(L.value,O.value.snapshot)){const j=O.value;j._futureSnapshot=L.value;const ne=function Nl(F,L,O){return L.children.map(j=>{for(const ne of O.children)if(F.shouldReuseRoute(j.value,ne.value.snapshot))return Gi(F,j,ne);return Gi(F,j)})}(F,L,O);return new ar(j,ne)}{if(F.shouldAttach(L.value)){const le=F.retrieve(L.value);if(null!==le){const ve=le.route;return ve.value._futureSnapshot=L.value,ve.children=L.children.map(tt=>Gi(F,tt)),ve}}const j=function Ra(F){return new _o(new I.X(F.url),new I.X(F.params),new I.X(F.queryParams),new I.X(F.fragment),new I.X(F.data),F.outlet,F.component,F)}(L.value),ne=L.children.map(le=>Gi(F,le));return new ar(j,ne)}}const no="ngNavigationCancelingError";function Hr(F,L){const{redirectTo:O,navigationBehaviorOptions:j}=on(L)?{redirectTo:L,navigationBehaviorOptions:void 0}:L,ne=Fa(!1,0,L);return ne.url=O,ne.navigationBehaviorOptions=j,ne}function Fa(F,L,O){const j=new Error("NavigationCancelingError: "+(F||""));return j[no]=!0,j.cancellationCode=L,O&&(j.url=O),j}function ba(F){return Ls(F)&&on(F.url)}function Ls(F){return F&&F[no]}class Go{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new lo,this.attachRef=null}}let lo=(()=>{class F{constructor(){this.contexts=new Map}onChildOutletCreated(O,j){const ne=this.getOrCreateContext(O);ne.outlet=j,this.contexts.set(O,ne)}onChildOutletDestroyed(O){const j=this.getContext(O);j&&(j.outlet=null,j.attachRef=null)}onOutletDeactivated(){const O=this.contexts;return this.contexts=new Map,O}onOutletReAttached(O){this.contexts=O}getOrCreateContext(O){let j=this.getContext(O);return j||(j=new Go,this.contexts.set(O,j)),j}getContext(O){return this.contexts.get(O)||null}}return F.\u0275fac=function(O){return new(O||F)},F.\u0275prov=w.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();const wa=!1;let Ca=(()=>{class F{constructor(){this.activated=null,this._activatedRoute=null,this.name=Qt,this.activateEvents=new w.vpe,this.deactivateEvents=new w.vpe,this.attachEvents=new w.vpe,this.detachEvents=new w.vpe,this.parentContexts=(0,w.f3M)(lo),this.location=(0,w.f3M)(w.s_b),this.changeDetector=(0,w.f3M)(w.sBO),this.environmentInjector=(0,w.f3M)(w.lqb)}ngOnChanges(O){if(O.name){const{firstChange:j,previousValue:ne}=O.name;if(j)return;this.isTrackedInParentContexts(ne)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ne)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(O){return this.parentContexts.getContext(O)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const O=this.parentContexts.getContext(this.name);O?.route&&(O.attachRef?this.attach(O.attachRef,O.route):this.activateWith(O.route,O.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w.vHH(4012,wa);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w.vHH(4012,wa);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w.vHH(4012,wa);this.location.detach();const O=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(O.instance),O}attach(O,j){this.activated=O,this._activatedRoute=j,this.location.insert(O.hostView),this.attachEvents.emit(O.instance)}deactivate(){if(this.activated){const O=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(O)}}activateWith(O,j){if(this.isActivated)throw new w.vHH(4013,wa);this._activatedRoute=O;const ne=this.location,ve=O.snapshot.component,tt=this.parentContexts.getOrCreateContext(this.name).children,Ot=new Bs(O,tt,ne.injector);if(j&&function ns(F){return!!F.resolveComponentFactory}(j)){const gn=j.resolveComponentFactory(ve);this.activated=ne.createComponent(gn,ne.length,Ot)}else this.activated=ne.createComponent(ve,{index:ne.length,injector:Ot,environmentInjector:j??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return F.\u0275fac=function(O){return new(O||F)},F.\u0275dir=w.lG2({type:F,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[w.TTD]}),F})();class Bs{constructor(L,O,j){this.route=L,this.childContexts=O,this.parent=j}get(L,O){return L===_o?this.route:L===lo?this.childContexts:this.parent.get(L,O)}}let Da=(()=>{class F{}return F.\u0275fac=function(O){return new(O||F)},F.\u0275cmp=w.Xpm({type:F,selectors:[["ng-component"]],standalone:!0,features:[w.jDz],decls:1,vars:0,template:function(O,j){1&O&&w._UZ(0,"router-outlet")},dependencies:[Ca],encapsulation:2}),F})();function Wo(F,L){return F.providers&&!F._injector&&(F._injector=(0,w.MMx)(F.providers,L,`Route: ${F.path}`)),F._injector??L}function uo(F){const L=F.children&&F.children.map(uo),O=L?{...F,children:L}:{...F};return!O.component&&!O.loadComponent&&(L||O.loadChildren)&&O.outlet&&O.outlet!==Qt&&(O.component=Da),O}function Cr(F){return F.outlet||Qt}function Tl(F,L){const O=F.filter(j=>Cr(j)===L);return O.push(...F.filter(j=>Cr(j)!==L)),O}function bo(F){if(!F)return null;if(F.routeConfig?._injector)return F.routeConfig._injector;for(let L=F.parent;L;L=L.parent){const O=L.routeConfig;if(O?._loadedInjector)return O._loadedInjector;if(O?._injector)return O._injector}return null}class Tr{constructor(L,O,j,ne){this.routeReuseStrategy=L,this.futureState=O,this.currState=j,this.forwardEvent=ne}activate(L){const O=this.futureState._root,j=this.currState?this.currState._root:null;this.deactivateChildRoutes(O,j,L),or(this.futureState.root),this.activateChildRoutes(O,j,L)}deactivateChildRoutes(L,O,j){const ne=pi(O);L.children.forEach(le=>{const ve=le.value.outlet;this.deactivateRoutes(le,ne[ve],j),delete ne[ve]}),Xn(ne,(le,ve)=>{this.deactivateRouteAndItsChildren(le,j)})}deactivateRoutes(L,O,j){const ne=L.value,le=O?O.value:null;if(ne===le)if(ne.component){const ve=j.getContext(ne.outlet);ve&&this.deactivateChildRoutes(L,O,ve.children)}else this.deactivateChildRoutes(L,O,j);else le&&this.deactivateRouteAndItsChildren(O,j)}deactivateRouteAndItsChildren(L,O){L.value.component&&this.routeReuseStrategy.shouldDetach(L.value.snapshot)?this.detachAndStoreRouteSubtree(L,O):this.deactivateRouteAndOutlet(L,O)}detachAndStoreRouteSubtree(L,O){const j=O.getContext(L.value.outlet),ne=j&&L.value.component?j.children:O,le=pi(L);for(const ve of Object.keys(le))this.deactivateRouteAndItsChildren(le[ve],ne);if(j&&j.outlet){const ve=j.outlet.detach(),tt=j.children.onOutletDeactivated();this.routeReuseStrategy.store(L.value.snapshot,{componentRef:ve,route:L,contexts:tt})}}deactivateRouteAndOutlet(L,O){const j=O.getContext(L.value.outlet),ne=j&&L.value.component?j.children:O,le=pi(L);for(const ve of Object.keys(le))this.deactivateRouteAndItsChildren(le[ve],ne);j&&j.outlet&&(j.outlet.deactivate(),j.children.onOutletDeactivated(),j.attachRef=null,j.resolver=null,j.route=null)}activateChildRoutes(L,O,j){const ne=pi(O);L.children.forEach(le=>{this.activateRoutes(le,ne[le.value.outlet],j),this.forwardEvent(new ao(le.value.snapshot))}),L.children.length&&this.forwardEvent(new Oa(L.value.snapshot))}activateRoutes(L,O,j){const ne=L.value,le=O?O.value:null;if(or(ne),ne===le)if(ne.component){const ve=j.getOrCreateContext(ne.outlet);this.activateChildRoutes(L,O,ve.children)}else this.activateChildRoutes(L,O,j);else if(ne.component){const ve=j.getOrCreateContext(ne.outlet);if(this.routeReuseStrategy.shouldAttach(ne.snapshot)){const tt=this.routeReuseStrategy.retrieve(ne.snapshot);this.routeReuseStrategy.store(ne.snapshot,null),ve.children.onOutletReAttached(tt.contexts),ve.attachRef=tt.componentRef,ve.route=tt.route.value,ve.outlet&&ve.outlet.attach(tt.componentRef,tt.route.value),or(tt.route.value),this.activateChildRoutes(L,null,ve.children)}else{const tt=bo(ne.snapshot),Ot=tt?.get(w._Vd)??null;ve.attachRef=null,ve.route=ne,ve.resolver=Ot,ve.injector=tt,ve.outlet&&ve.outlet.activateWith(ne,ve.injector),this.activateChildRoutes(L,null,ve.children)}}else this.activateChildRoutes(L,null,j)}}class Ea{constructor(L){this.path=L,this.route=this.path[this.path.length-1]}}class wo{constructor(L,O){this.component=L,this.route=O}}function os(F,L,O){const j=F._root;return ro(j,L?L._root:null,O,[j.value])}function Lr(F,L){const O=Symbol(),j=L.get(F,O);return j===O?"function"!=typeof F||(0,w.Z0I)(F)?L.get(F):F:j}function ro(F,L,O,j,ne={canDeactivateChecks:[],canActivateChecks:[]}){const le=pi(L);return F.children.forEach(ve=>{(function Pn(F,L,O,j,ne={canDeactivateChecks:[],canActivateChecks:[]}){const le=F.value,ve=L?L.value:null,tt=O?O.getContext(F.value.outlet):null;if(ve&&le.routeConfig===ve.routeConfig){const Ot=function sl(F,L,O){if("function"==typeof O)return O(F,L);switch(O){case"pathParamsChange":return!ai(F.url,L.url);case"pathParamsOrQueryParamsChange":return!ai(F.url,L.url)||!It(F.queryParams,L.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ts(F,L)||!It(F.queryParams,L.queryParams);default:return!ts(F,L)}}(ve,le,le.routeConfig.runGuardsAndResolvers);Ot?ne.canActivateChecks.push(new Ea(j)):(le.data=ve.data,le._resolvedData=ve._resolvedData),ro(F,L,le.component?tt?tt.children:null:O,j,ne),Ot&&tt&&tt.outlet&&tt.outlet.isActivated&&ne.canDeactivateChecks.push(new wo(tt.outlet.component,ve))}else ve&&as(L,tt,ne),ne.canActivateChecks.push(new Ea(j)),ro(F,null,le.component?tt?tt.children:null:O,j,ne)})(ve,le[ve.value.outlet],O,j.concat([ve.value]),ne),delete le[ve.value.outlet]}),Xn(le,(ve,tt)=>as(ve,O.getContext(tt),ne)),ne}function as(F,L,O){const j=pi(F),ne=F.value;Xn(j,(le,ve)=>{as(le,ne.component?L?L.children.getContext(ve):null:L,O)}),O.canDeactivateChecks.push(new wo(ne.component&&L&&L.outlet&&L.outlet.isActivated?L.outlet.component:null,ne))}function Co(F){return"function"==typeof F}function xa(F){return F instanceof H.K||"EmptyError"===F?.name}const ti=Symbol("INITIAL_VALUE");function Zo(){return(0,se.w)(F=>(0,z.a)(F.map(L=>L.pipe((0,at.q)(1),(0,mt.O)(ti)))).pipe((0,je.U)(L=>{for(const O of L)if(!0!==O){if(O===ti)return ti;if(!1===O||O instanceof Ri)return O}return!0}),(0,Dt.h)(L=>L!==ti),(0,at.q)(1)))}function ss(F){return(0,Oe.z)((0,Qe.b)(L=>{if(on(L))throw Hr(0,L)}),(0,je.U)(L=>!0===L))}const Zi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ou(F,L,O,j,ne){const le=Il(F,L,O);return le.matched?function Yo(F,L,O,j){const ne=L.canMatch;if(!ne||0===ne.length)return(0,t.of)(!0);const le=ne.map(ve=>{const tt=Lr(ve,F);return er(function ut(F){return F&&Co(F.canMatch)}(tt)?tt.canMatch(L,O):F.runInContext(()=>tt(L,O)))});return(0,t.of)(le).pipe(Zo(),ss())}(j=Wo(L,j),L,O).pipe((0,je.U)(ve=>!0===ve?le:{...Zi})):(0,t.of)(le)}function Il(F,L,O){if(""===L.path)return"full"===L.pathMatch&&(F.hasChildren()||O.length>0)?{...Zi}:{matched:!0,consumedSegments:[],remainingSegments:O,parameters:{},positionalParamSegments:{}};const ne=(L.matcher||Te)(O,F,L);if(!ne)return{...Zi};const le={};Xn(ne.posParams,(tt,Ot)=>{le[Ot]=tt.path});const ve=ne.consumed.length>0?{...le,...ne.consumed[ne.consumed.length-1].parameters}:le;return{matched:!0,consumedSegments:ne.consumed,remainingSegments:O.slice(ne.consumed.length),parameters:ve,positionalParamSegments:ne.posParams??{}}}function zs(F,L,O,j){if(O.length>0&&function ll(F,L,O){return O.some(j=>ua(F,L,j)&&Cr(j)!==Qt)}(F,O,j)){const le=new Cn(L,function Al(F,L,O,j){const ne={};ne[Qt]=j,j._sourceSegment=F,j._segmentIndexShift=L.length;for(const le of O)if(""===le.path&&Cr(le)!==Qt){const ve=new Cn([],{});ve._sourceSegment=F,ve._segmentIndexShift=L.length,ne[Cr(le)]=ve}return ne}(F,L,j,new Cn(O,F.children)));return le._sourceSegment=F,le._segmentIndexShift=L.length,{segmentGroup:le,slicedSegments:[]}}if(0===O.length&&function Qr(F,L,O){return O.some(j=>ua(F,L,j))}(F,O,j)){const le=new Cn(F.segments,function Ou(F,L,O,j,ne){const le={};for(const ve of j)if(ua(F,O,ve)&&!ne[Cr(ve)]){const tt=new Cn([],{});tt._sourceSegment=F,tt._segmentIndexShift=L.length,le[Cr(ve)]=tt}return{...ne,...le}}(F,L,O,j,F.children));return le._sourceSegment=F,le._segmentIndexShift=L.length,{segmentGroup:le,slicedSegments:O}}const ne=new Cn(F.segments,F.children);return ne._sourceSegment=F,ne._segmentIndexShift=L.length,{segmentGroup:ne,slicedSegments:O}}function ua(F,L,O){return(!(F.hasChildren()||L.length>0)||"full"!==O.pathMatch)&&""===O.path}function Ol(F,L,O,j){return!!(Cr(F)===j||j!==Qt&&ua(L,O,F))&&("**"===F.path||Il(L,F,O).matched)}function Pu(F,L,O){return 0===L.length&&!F.children[O]}const ul=!1;class ws{constructor(L){this.segmentGroup=L||null}}class au{constructor(L){this.urlTree=L}}function ko(F){return(0,M._)(new ws(F))}function cl(F){return(0,M._)(new au(F))}class ri{constructor(L,O,j,ne,le){this.injector=L,this.configLoader=O,this.urlSerializer=j,this.urlTree=ne,this.config=le,this.allowRedirects=!0}apply(){const L=zs(this.urlTree.root,[],[],this.config).segmentGroup,O=new Cn(L.segments,L.children);return this.expandSegmentGroup(this.injector,this.config,O,Qt).pipe((0,je.U)(le=>this.createUrlTree(St(le),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ne(le=>{if(le instanceof au)return this.allowRedirects=!1,this.match(le.urlTree);throw le instanceof ws?this.noMatchError(le):le}))}match(L){return this.expandSegmentGroup(this.injector,this.config,L.root,Qt).pipe((0,je.U)(ne=>this.createUrlTree(St(ne),L.queryParams,L.fragment))).pipe(Ne(ne=>{throw ne instanceof ws?this.noMatchError(ne):ne}))}noMatchError(L){return new w.vHH(4002,ul)}createUrlTree(L,O,j){const ne=We(L);return new Ri(ne,O,j)}expandSegmentGroup(L,O,j,ne){return 0===j.segments.length&&j.hasChildren()?this.expandChildren(L,O,j).pipe((0,je.U)(le=>new Cn([],le))):this.expandSegment(L,j,O,j.segments,ne,!0)}expandChildren(L,O,j){const ne=[];for(const le of Object.keys(j.children))"primary"===le?ne.unshift(le):ne.push(le);return(0,N.D)(ne).pipe((0,Ye.b)(le=>{const ve=j.children[le],tt=Tl(O,le);return this.expandSegmentGroup(L,tt,ve,le).pipe((0,je.U)(Ot=>({segment:Ot,outlet:le})))}),cn((le,ve)=>(le[ve.outlet]=ve.segment,le),{}),nt())}expandSegment(L,O,j,ne,le,ve){return(0,N.D)(j).pipe((0,Ye.b)(tt=>this.expandSegmentAgainstRoute(L,O,j,tt,ne,le,ve).pipe(Ne(gn=>{if(gn instanceof ws)return(0,t.of)(null);throw gn}))),(0,Ee.P)(tt=>!!tt),Ne((tt,Ot)=>{if(xa(tt))return Pu(O,ne,le)?(0,t.of)(new Cn([],{})):ko(O);throw tt}))}expandSegmentAgainstRoute(L,O,j,ne,le,ve,tt){return Ol(ne,O,le,ve)?void 0===ne.redirectTo?this.matchSegmentAgainstRoute(L,O,ne,le,ve):tt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(L,O,j,ne,le,ve):ko(O):ko(O)}expandSegmentAgainstRouteUsingRedirect(L,O,j,ne,le,ve){return"**"===ne.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(L,j,ne,ve):this.expandRegularSegmentAgainstRouteUsingRedirect(L,O,j,ne,le,ve)}expandWildCardWithParamsAgainstRouteUsingRedirect(L,O,j,ne){const le=this.applyRedirectCommands([],j.redirectTo,{});return j.redirectTo.startsWith("/")?cl(le):this.lineralizeSegments(j,le).pipe((0,Pe.z)(ve=>{const tt=new Cn(ve,{});return this.expandSegment(L,tt,O,ve,ne,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(L,O,j,ne,le,ve){const{matched:tt,consumedSegments:Ot,remainingSegments:gn,positionalParamSegments:vn}=Il(O,ne,le);if(!tt)return ko(O);const Ar=this.applyRedirectCommands(Ot,ne.redirectTo,vn);return ne.redirectTo.startsWith("/")?cl(Ar):this.lineralizeSegments(ne,Ar).pipe((0,Pe.z)(ji=>this.expandSegment(L,O,j,ji.concat(gn),ve,!1)))}matchSegmentAgainstRoute(L,O,j,ne,le){return"**"===j.path?(L=Wo(j,L),j.loadChildren?(j._loadedRoutes?(0,t.of)({routes:j._loadedRoutes,injector:j._loadedInjector}):this.configLoader.loadChildren(L,j)).pipe((0,je.U)(tt=>(j._loadedRoutes=tt.routes,j._loadedInjector=tt.injector,new Cn(ne,{})))):(0,t.of)(new Cn(ne,{}))):ou(O,j,ne,L).pipe((0,se.w)(({matched:ve,consumedSegments:tt,remainingSegments:Ot})=>ve?this.getChildConfig(L=j._injector??L,j,ne).pipe((0,Pe.z)(vn=>{const Ar=vn.injector??L,ji=vn.routes,{segmentGroup:za,slicedSegments:Ki}=zs(O,tt,Ot,ji),Oi=new Cn(za.segments,za.children);if(0===Ki.length&&Oi.hasChildren())return this.expandChildren(Ar,ji,Oi).pipe((0,je.U)(ja=>new Cn(tt,ja)));if(0===ji.length&&0===Ki.length)return(0,t.of)(new Cn(tt,{}));const mi=Cr(j)===le;return this.expandSegment(Ar,Oi,ji,Ki,mi?Qt:le,!0).pipe((0,je.U)(Ns=>new Cn(tt.concat(Ns.segments),Ns.children)))})):ko(O)))}getChildConfig(L,O,j){return O.children?(0,t.of)({routes:O.children,injector:L}):O.loadChildren?void 0!==O._loadedRoutes?(0,t.of)({routes:O._loadedRoutes,injector:O._loadedInjector}):function Po(F,L,O,j){const ne=L.canLoad;if(void 0===ne||0===ne.length)return(0,t.of)(!0);const le=ne.map(ve=>{const tt=Lr(ve,F);return er(function J(F){return F&&Co(F.canLoad)}(tt)?tt.canLoad(L,O):F.runInContext(()=>tt(L,O)))});return(0,t.of)(le).pipe(Zo(),ss())}(L,O,j).pipe((0,Pe.z)(ne=>ne?this.configLoader.loadChildren(L,O).pipe((0,Qe.b)(le=>{O._loadedRoutes=le.routes,O._loadedInjector=le.injector})):function dl(F){return(0,M._)(Fa(ul,3))}())):(0,t.of)({routes:[],injector:L})}lineralizeSegments(L,O){let j=[],ne=O.root;for(;;){if(j=j.concat(ne.segments),0===ne.numberOfChildren)return(0,t.of)(j);if(ne.numberOfChildren>1||!ne.children[Qt])return L.redirectTo,(0,M._)(new w.vHH(4e3,ul));ne=ne.children[Qt]}}applyRedirectCommands(L,O,j){return this.applyRedirectCreateUrlTree(O,this.urlSerializer.parse(O),L,j)}applyRedirectCreateUrlTree(L,O,j,ne){const le=this.createSegmentGroup(L,O.root,j,ne);return new Ri(le,this.createQueryParams(O.queryParams,this.urlTree.queryParams),O.fragment)}createQueryParams(L,O){const j={};return Xn(L,(ne,le)=>{if("string"==typeof ne&&ne.startsWith(":")){const tt=ne.substring(1);j[le]=O[tt]}else j[le]=ne}),j}createSegmentGroup(L,O,j,ne){const le=this.createSegments(L,O.segments,j,ne);let ve={};return Xn(O.children,(tt,Ot)=>{ve[Ot]=this.createSegmentGroup(L,tt,j,ne)}),new Cn(le,ve)}createSegments(L,O,j,ne){return O.map(le=>le.path.startsWith(":")?this.findPosParam(L,le,ne):this.findOrReturn(le,j))}findPosParam(L,O,j){const ne=j[O.path.substring(1)];if(!ne)throw new w.vHH(4001,ul);return ne}findOrReturn(L,O){let j=0;for(const ne of O){if(ne.path===L.path)return O.splice(j),ne;j++}return L}}class us{}class Cs{constructor(L,O,j,ne,le,ve,tt){this.injector=L,this.rootComponentType=O,this.config=j,this.urlTree=ne,this.url=le,this.paramsInheritanceStrategy=ve,this.urlSerializer=tt}recognize(){const L=zs(this.urlTree.root,[],[],this.config.filter(O=>void 0===O.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,L,Qt).pipe((0,je.U)(O=>{if(null===O)return null;const j=new Ii([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Qt,this.rootComponentType,null,this.urlTree.root,-1,{}),ne=new ar(j,O),le=new ka(this.url,ne);return this.inheritParamsAndData(le._root),le}))}inheritParamsAndData(L){const O=L.value,j=_s(O,this.paramsInheritanceStrategy);O.params=Object.freeze(j.params),O.data=Object.freeze(j.data),L.children.forEach(ne=>this.inheritParamsAndData(ne))}processSegmentGroup(L,O,j,ne){return 0===j.segments.length&&j.hasChildren()?this.processChildren(L,O,j):this.processSegment(L,O,j,j.segments,ne)}processChildren(L,O,j){return(0,N.D)(Object.keys(j.children)).pipe((0,Ye.b)(ne=>{const le=j.children[ne],ve=Tl(O,ne);return this.processSegmentGroup(L,ve,le,ne)}),cn((ne,le)=>ne&&le?(ne.push(...le),ne):null),function wt(F,L=!1){return(0,pt.e)((O,j)=>{let ne=0;O.subscribe((0,xt.x)(j,le=>{const ve=F(le,ne++);(ve||L)&&j.next(le),!ve&&j.complete()}))})}(ne=>null!==ne),(0,it.d)(null),nt(),(0,je.U)(ne=>{if(null===ne)return null;const le=$s(ne);return function Ds(F){F.sort((L,O)=>L.value.outlet===Qt?-1:O.value.outlet===Qt?1:L.value.outlet.localeCompare(O.value.outlet))}(le),le}))}processSegment(L,O,j,ne,le){return(0,N.D)(O).pipe((0,Ye.b)(ve=>this.processSegmentAgainstRoute(ve._injector??L,ve,j,ne,le)),(0,Ee.P)(ve=>!!ve),Ne(ve=>{if(xa(ve))return Pu(j,ne,le)?(0,t.of)([]):(0,t.of)(null);throw ve}))}processSegmentAgainstRoute(L,O,j,ne,le){if(O.redirectTo||!Ol(O,j,ne,le))return(0,t.of)(null);let ve;if("**"===O.path){const tt=ne.length>0?xr(ne).parameters:{},Ot=_i(j)+ne.length,gn=new Ii(ne,tt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ie(O),Cr(O),O.component??O._loadedComponent??null,O,hl(j),Ot,Y(O));ve=(0,t.of)({snapshot:gn,consumedSegments:[],remainingSegments:[]})}else ve=ou(j,O,ne,L).pipe((0,je.U)(({matched:tt,consumedSegments:Ot,remainingSegments:gn,parameters:vn})=>{if(!tt)return null;const Ar=_i(j)+Ot.length;return{snapshot:new Ii(Ot,vn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ie(O),Cr(O),O.component??O._loadedComponent??null,O,hl(j),Ar,Y(O)),consumedSegments:Ot,remainingSegments:gn}}));return ve.pipe((0,se.w)(tt=>{if(null===tt)return(0,t.of)(null);const{snapshot:Ot,consumedSegments:gn,remainingSegments:vn}=tt;L=O._injector??L;const Ar=O._loadedInjector??L,ji=function Fu(F){return F.children?F.children:F.loadChildren?F._loadedRoutes:[]}(O),{segmentGroup:za,slicedSegments:Ki}=zs(j,gn,vn,ji.filter(mi=>void 0===mi.redirectTo));if(0===Ki.length&&za.hasChildren())return this.processChildren(Ar,ji,za).pipe((0,je.U)(mi=>null===mi?null:[new ar(Ot,mi)]));if(0===ji.length&&0===Ki.length)return(0,t.of)([new ar(Ot,[])]);const Oi=Cr(O)===le;return this.processSegment(Ar,ji,za,Ki,Oi?Qt:le).pipe((0,je.U)(mi=>null===mi?null:[new ar(Ot,mi)]))}))}}function Hs(F){const L=F.value.routeConfig;return L&&""===L.path&&void 0===L.redirectTo}function $s(F){const L=[],O=new Set;for(const j of F){if(!Hs(j)){L.push(j);continue}const ne=L.find(le=>j.value.routeConfig===le.value.routeConfig);void 0!==ne?(ne.children.push(...j.children),O.add(ne)):L.push(j)}for(const j of O){const ne=$s(j.children);L.push(new ar(j.value,ne))}return L.filter(j=>!O.has(j))}function hl(F){let L=F;for(;L._sourceSegment;)L=L._sourceSegment;return L}function _i(F){let L=F,O=L._segmentIndexShift??0;for(;L._sourceSegment;)L=L._sourceSegment,O+=L._segmentIndexShift??0;return O-1}function ie(F){return F.data||{}}function Y(F){return F.resolve||{}}function Er(F){return"string"==typeof F.title||null===F.title}function Mr(F){return(0,se.w)(L=>{const O=F(L);return O?(0,N.D)(O).pipe((0,je.U)(()=>L)):(0,t.of)(L)})}const Ir=new w.OlP("ROUTES");let ui=(()=>{class F{constructor(O,j){this.injector=O,this.compiler=j,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(O){if(this.componentLoaders.get(O))return this.componentLoaders.get(O);if(O._loadedComponent)return(0,t.of)(O._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(O);const j=er(O.loadComponent()).pipe((0,je.U)(Ro),(0,Qe.b)(le=>{this.onLoadEndListener&&this.onLoadEndListener(O),O._loadedComponent=le}),Wt(()=>{this.componentLoaders.delete(O)})),ne=new Tt.c(j,()=>new De.x).pipe((0,zt.x)());return this.componentLoaders.set(O,ne),ne}loadChildren(O,j){if(this.childrenLoaders.get(j))return this.childrenLoaders.get(j);if(j._loadedRoutes)return(0,t.of)({routes:j._loadedRoutes,injector:j._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(j);const le=this.loadModuleFactoryOrRoutes(j.loadChildren).pipe((0,je.U)(tt=>{this.onLoadEndListener&&this.onLoadEndListener(j);let Ot,gn,vn=!1;Array.isArray(tt)?gn=tt:(Ot=tt.create(O).injector,gn=rn(Ot.get(Ir,[],w.XFs.Self|w.XFs.Optional)));return{routes:gn.map(uo),injector:Ot}}),Wt(()=>{this.childrenLoaders.delete(j)})),ve=new Tt.c(le,()=>new De.x).pipe((0,zt.x)());return this.childrenLoaders.set(j,ve),ve}loadModuleFactoryOrRoutes(O){return er(O()).pipe((0,je.U)(Ro),(0,Pe.z)(ne=>ne instanceof w.YKP||Array.isArray(ne)?(0,t.of)(ne):(0,N.D)(this.compiler.compileModuleAsync(ne))))}}return F.\u0275fac=function(O){return new(O||F)(w.LFG(w.zs3),w.LFG(w.Sil))},F.\u0275prov=w.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();function Ro(F){return function La(F){return F&&"object"==typeof F&&"default"in F}(F)?F.default:F}let Ko=(()=>{class F{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new De.x,this.configLoader=(0,w.f3M)(ui),this.environmentInjector=(0,w.f3M)(w.lqb),this.urlSerializer=(0,w.f3M)(br),this.rootContexts=(0,w.f3M)(lo),this.navigationId=0,this.afterPreactivation=()=>(0,t.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ne=>this.events.next(new ol(ne)),this.configLoader.onLoadStartListener=ne=>this.events.next(new sa(ne))}complete(){this.transitions?.complete()}handleNavigationRequest(O){const j=++this.navigationId;this.transitions?.next({...this.transitions.value,...O,id:j})}setupNavigations(O){return this.transitions=new I.X({id:0,targetPageId:0,currentUrlTree:O.currentUrlTree,currentRawUrl:O.currentUrlTree,extractedUrl:O.urlHandlingStrategy.extract(O.currentUrlTree),urlAfterRedirects:O.urlHandlingStrategy.extract(O.currentUrlTree),rawUrl:O.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ir,restoredState:null,currentSnapshot:O.routerState.snapshot,targetSnapshot:null,currentRouterState:O.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Dt.h)(j=>0!==j.id),(0,je.U)(j=>({...j,extractedUrl:O.urlHandlingStrategy.extract(j.rawUrl)})),(0,se.w)(j=>{let ne=!1,le=!1;return(0,t.of)(j).pipe((0,Qe.b)(ve=>{this.currentNavigation={id:ve.id,initialUrl:ve.rawUrl,extractedUrl:ve.extractedUrl,trigger:ve.source,extras:ve.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,se.w)(ve=>{const tt=O.browserUrlTree.toString(),Ot=!O.navigated||ve.extractedUrl.toString()!==tt||tt!==O.currentUrlTree.toString();if(!Ot&&"reload"!==(ve.extras.onSameUrlNavigation??O.onSameUrlNavigation)){const vn="";return this.events.next(new Si(ve.id,O.serializeUrl(j.rawUrl),vn,0)),O.rawUrlTree=ve.rawUrl,ve.resolve(null),we.E}if(O.urlHandlingStrategy.shouldProcessUrl(ve.rawUrl))return co(ve.source)&&(O.browserUrlTree=ve.extractedUrl),(0,t.of)(ve).pipe((0,se.w)(vn=>{const Ar=this.transitions?.getValue();return this.events.next(new si(vn.id,this.urlSerializer.serialize(vn.extractedUrl),vn.source,vn.restoredState)),Ar!==this.transitions?.getValue()?we.E:Promise.resolve(vn)}),function ls(F,L,O,j){return(0,se.w)(ne=>function js(F,L,O,j,ne){return new ri(F,L,O,j,ne).apply()}(F,L,O,ne.extractedUrl,j).pipe((0,je.U)(le=>({...ne,urlAfterRedirects:le}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,O.config),(0,Qe.b)(vn=>{this.currentNavigation={...this.currentNavigation,finalUrl:vn.urlAfterRedirects},j.urlAfterRedirects=vn.urlAfterRedirects}),function he(F,L,O,j,ne){return(0,Pe.z)(le=>function Pl(F,L,O,j,ne,le,ve="emptyOnly"){return new Cs(F,L,O,j,ne,ve,le).recognize().pipe((0,se.w)(tt=>null===tt?function Ru(F){return new Fe.y(L=>L.error(F))}(new us):(0,t.of)(tt)))}(F,L,O,le.urlAfterRedirects,j.serialize(le.urlAfterRedirects),j,ne).pipe((0,je.U)(ve=>({...le,targetSnapshot:ve}))))}(this.environmentInjector,this.rootComponentType,O.config,this.urlSerializer,O.paramsInheritanceStrategy),(0,Qe.b)(vn=>{if(j.targetSnapshot=vn.targetSnapshot,"eager"===O.urlUpdateStrategy){if(!vn.extras.skipLocationChange){const ji=O.urlHandlingStrategy.merge(vn.urlAfterRedirects,vn.rawUrl);O.setBrowserUrl(ji,vn)}O.browserUrlTree=vn.urlAfterRedirects}const Ar=new Mi(vn.id,this.urlSerializer.serialize(vn.extractedUrl),this.urlSerializer.serialize(vn.urlAfterRedirects),vn.targetSnapshot);this.events.next(Ar)}));if(Ot&&O.urlHandlingStrategy.shouldProcessUrl(O.rawUrlTree)){const{id:vn,extractedUrl:Ar,source:ji,restoredState:za,extras:Ki}=ve,Oi=new si(vn,this.urlSerializer.serialize(Ar),ji,za);this.events.next(Oi);const mi=va(Ar,this.rootComponentType).snapshot;return j={...ve,targetSnapshot:mi,urlAfterRedirects:Ar,extras:{...Ki,skipLocationChange:!1,replaceUrl:!1}},(0,t.of)(j)}{const vn="";return this.events.next(new Si(ve.id,O.serializeUrl(j.extractedUrl),vn,1)),O.rawUrlTree=ve.rawUrl,ve.resolve(null),we.E}}),(0,Qe.b)(ve=>{const tt=new Rn(ve.id,this.urlSerializer.serialize(ve.extractedUrl),this.urlSerializer.serialize(ve.urlAfterRedirects),ve.targetSnapshot);this.events.next(tt)}),(0,je.U)(ve=>j={...ve,guards:os(ve.targetSnapshot,ve.currentSnapshot,this.rootContexts)}),function fi(F,L){return(0,Pe.z)(O=>{const{targetSnapshot:j,currentSnapshot:ne,guards:{canActivateChecks:le,canDeactivateChecks:ve}}=O;return 0===ve.length&&0===le.length?(0,t.of)({...O,guardsResult:!0}):function Sa(F,L,O,j){return(0,N.D)(F).pipe((0,Pe.z)(ne=>function ni(F,L,O,j,ne){const le=L&&L.routeConfig?L.routeConfig.canDeactivate:null;if(!le||0===le.length)return(0,t.of)(!0);const ve=le.map(tt=>{const Ot=bo(L)??ne,gn=Lr(tt,Ot);return er(function ft(F){return F&&Co(F.canDeactivate)}(gn)?gn.canDeactivate(F,L,O,j):Ot.runInContext(()=>gn(F,L,O,j))).pipe((0,Ee.P)())});return(0,t.of)(ve).pipe(Zo())}(ne.component,ne.route,O,L,j)),(0,Ee.P)(ne=>!0!==ne,!0))}(ve,j,ne,F).pipe((0,Pe.z)(tt=>tt&&function te(F){return"boolean"==typeof F}(tt)?function ru(F,L,O,j){return(0,N.D)(L).pipe((0,Ye.b)(ne=>(0,re.z)(function Ml(F,L){return null!==F&&L&&L(new jr(F)),(0,t.of)(!0)}(ne.route.parent,j),function Us(F,L){return null!==F&&L&&L(new al(F)),(0,t.of)(!0)}(ne.route,j),function iu(F,L,O){const j=L[L.length-1],le=L.slice(0,L.length-1).reverse().map(ve=>function Dr(F){const L=F.routeConfig?F.routeConfig.canActivateChild:null;return L&&0!==L.length?{node:F,guards:L}:null}(ve)).filter(ve=>null!==ve).map(ve=>(0,ce.P)(()=>{const tt=ve.guards.map(Ot=>{const gn=bo(ve.node)??O,vn=Lr(Ot,gn);return er(function me(F){return F&&Co(F.canActivateChild)}(vn)?vn.canActivateChild(j,F):gn.runInContext(()=>vn(j,F))).pipe((0,Ee.P)())});return(0,t.of)(tt).pipe(Zo())}));return(0,t.of)(le).pipe(Zo())}(F,ne.path,O),function Au(F,L,O){const j=L.routeConfig?L.routeConfig.canActivate:null;if(!j||0===j.length)return(0,t.of)(!0);const ne=j.map(le=>(0,ce.P)(()=>{const ve=bo(L)??O,tt=Lr(le,ve);return er(function W(F){return F&&Co(F.canActivate)}(tt)?tt.canActivate(L,F):ve.runInContext(()=>tt(L,F))).pipe((0,Ee.P)())}));return(0,t.of)(ne).pipe(Zo())}(F,ne.route,O))),(0,Ee.P)(ne=>!0!==ne,!0))}(j,le,F,L):(0,t.of)(tt)),(0,je.U)(tt=>({...O,guardsResult:tt})))})}(this.environmentInjector,ve=>this.events.next(ve)),(0,Qe.b)(ve=>{if(j.guardsResult=ve.guardsResult,on(ve.guardsResult))throw Hr(0,ve.guardsResult);const tt=new Vr(ve.id,this.urlSerializer.serialize(ve.extractedUrl),this.urlSerializer.serialize(ve.urlAfterRedirects),ve.targetSnapshot,!!ve.guardsResult);this.events.next(tt)}),(0,Dt.h)(ve=>!!ve.guardsResult||(O.restoreHistory(ve),this.cancelNavigationTransition(ve,"",3),!1)),Mr(ve=>{if(ve.guards.canActivateChecks.length)return(0,t.of)(ve).pipe((0,Qe.b)(tt=>{const Ot=new Aa(tt.id,this.urlSerializer.serialize(tt.extractedUrl),this.urlSerializer.serialize(tt.urlAfterRedirects),tt.targetSnapshot);this.events.next(Ot)}),(0,se.w)(tt=>{let Ot=!1;return(0,t.of)(tt).pipe(function ke(F,L){return(0,Pe.z)(O=>{const{targetSnapshot:j,guards:{canActivateChecks:ne}}=O;if(!ne.length)return(0,t.of)(O);let le=0;return(0,N.D)(ne).pipe((0,Ye.b)(ve=>function gt(F,L,O,j){const ne=F.routeConfig,le=F._resolve;return void 0!==ne?.title&&!Er(ne)&&(le[yn]=ne.title),function Rt(F,L,O,j){const ne=function En(F){return[...Object.keys(F),...Object.getOwnPropertySymbols(F)]}(F);if(0===ne.length)return(0,t.of)({});const le={};return(0,N.D)(ne).pipe((0,Pe.z)(ve=>function zr(F,L,O,j){const ne=bo(L)??j,le=Lr(F,ne);return er(le.resolve?le.resolve(L,O):ne.runInContext(()=>le(L,O)))}(F[ve],L,O,j).pipe((0,Ee.P)(),(0,Qe.b)(tt=>{le[ve]=tt}))),ct(1),(0,At.h)(le),Ne(ve=>xa(ve)?we.E:(0,M._)(ve)))}(le,F,L,j).pipe((0,je.U)(ve=>(F._resolvedData=ve,F.data=_s(F,O).resolve,ne&&Er(ne)&&(F.data[yn]=ne.title),null)))}(ve.route,j,F,L)),(0,Qe.b)(()=>le++),ct(1),(0,Pe.z)(ve=>le===ne.length?(0,t.of)(O):we.E))})}(O.paramsInheritanceStrategy,this.environmentInjector),(0,Qe.b)({next:()=>Ot=!0,complete:()=>{Ot||(O.restoreHistory(tt),this.cancelNavigationTransition(tt,"",2))}}))}),(0,Qe.b)(tt=>{const Ot=new Oo(tt.id,this.urlSerializer.serialize(tt.extractedUrl),this.urlSerializer.serialize(tt.urlAfterRedirects),tt.targetSnapshot);this.events.next(Ot)}))}),Mr(ve=>{const tt=Ot=>{const gn=[];Ot.routeConfig?.loadComponent&&!Ot.routeConfig._loadedComponent&&gn.push(this.configLoader.loadComponent(Ot.routeConfig).pipe((0,Qe.b)(vn=>{Ot.component=vn}),(0,je.U)(()=>{})));for(const vn of Ot.children)gn.push(...tt(vn));return gn};return(0,z.a)(tt(ve.targetSnapshot.root)).pipe((0,it.d)(),(0,at.q)(1))}),Mr(()=>this.afterPreactivation()),(0,je.U)(ve=>{const tt=function _a(F,L,O){const j=Gi(F,L._root,O?O._root:void 0);return new Pa(j,L)}(O.routeReuseStrategy,ve.targetSnapshot,ve.currentRouterState);return j={...ve,targetRouterState:tt}}),(0,Qe.b)(ve=>{O.currentUrlTree=ve.urlAfterRedirects,O.rawUrlTree=O.urlHandlingStrategy.merge(ve.urlAfterRedirects,ve.rawUrl),O.routerState=ve.targetRouterState,"deferred"===O.urlUpdateStrategy&&(ve.extras.skipLocationChange||O.setBrowserUrl(O.rawUrlTree,ve),O.browserUrlTree=ve.urlAfterRedirects)}),((F,L,O)=>(0,je.U)(j=>(new Tr(L,j.targetRouterState,j.currentRouterState,O).activate(F),j)))(this.rootContexts,O.routeReuseStrategy,ve=>this.events.next(ve)),(0,Qe.b)({next:ve=>{ne=!0,this.lastSuccessfulNavigation=this.currentNavigation,O.navigated=!0,this.events.next(new _n(ve.id,this.urlSerializer.serialize(ve.extractedUrl),this.urlSerializer.serialize(O.currentUrlTree))),O.titleStrategy?.updateTitle(ve.targetRouterState.snapshot),ve.resolve(!0)},complete:()=>{ne=!0}}),Wt(()=>{ne||le||this.cancelNavigationTransition(j,"",1),this.currentNavigation?.id===j.id&&(this.currentNavigation=null)}),Ne(ve=>{if(le=!0,Ls(ve)){ba(ve)||(O.navigated=!0,O.restoreHistory(j,!0));const tt=new li(j.id,this.urlSerializer.serialize(j.extractedUrl),ve.message,ve.cancellationCode);if(this.events.next(tt),ba(ve)){const Ot=O.urlHandlingStrategy.merge(ve.url,O.rawUrlTree),gn={skipLocationChange:j.extras.skipLocationChange,replaceUrl:"eager"===O.urlUpdateStrategy||co(j.source)};O.scheduleNavigation(Ot,ir,null,gn,{resolve:j.resolve,reject:j.reject,promise:j.promise})}else j.resolve(!1)}else{O.restoreHistory(j,!0);const tt=new $o(j.id,this.urlSerializer.serialize(j.extractedUrl),ve,j.targetSnapshot??void 0);this.events.next(tt);try{j.resolve(O.errorHandler(ve))}catch(Ot){j.reject(Ot)}}return we.E}))}))}cancelNavigationTransition(O,j,ne){const le=new li(O.id,this.urlSerializer.serialize(O.extractedUrl),j,ne);this.events.next(le),O.resolve(!1)}}return F.\u0275fac=function(O){return new(O||F)},F.\u0275prov=w.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();function co(F){return F!==ir}let Es=(()=>{class F{buildTitle(O){let j,ne=O.root;for(;void 0!==ne;)j=this.getResolvedTitleForRoute(ne)??j,ne=ne.children.find(le=>le.outlet===Qt);return j}getResolvedTitleForRoute(O){return O.data[yn]}}return F.\u0275fac=function(O){return new(O||F)},F.\u0275prov=w.Yz7({token:F,factory:function(){return(0,w.f3M)(cs)},providedIn:"root"}),F})(),cs=(()=>{class F extends Es{constructor(O){super(),this.title=O}updateTitle(O){const j=this.buildTitle(O);void 0!==j&&this.title.setTitle(j)}}return F.\u0275fac=function(O){return new(O||F)(w.LFG(en.Dx))},F.\u0275prov=w.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),pl=(()=>{class F{}return F.\u0275fac=function(O){return new(O||F)},F.\u0275prov=w.Yz7({token:F,factory:function(){return(0,w.f3M)(lu)},providedIn:"root"}),F})();class ho{shouldDetach(L){return!1}store(L,O){}shouldAttach(L){return!1}retrieve(L){return null}shouldReuseRoute(L,O){return L.routeConfig===O.routeConfig}}let lu=(()=>{class F extends ho{}return F.\u0275fac=function(){let L;return function(j){return(L||(L=w.n5z(F)))(j||F)}}(),F.\u0275prov=w.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();const Fo=new w.OlP("",{providedIn:"root",factory:()=>({})});let Cc=(()=>{class F{}return F.\u0275fac=function(O){return new(O||F)},F.\u0275prov=w.Yz7({token:F,factory:function(){return(0,w.f3M)(fl)},providedIn:"root"}),F})(),fl=(()=>{class F{shouldProcessUrl(O){return!0}extract(O){return O}merge(O,j){return O}}return F.\u0275fac=function(O){return new(O||F)},F.\u0275prov=w.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();function Yi(F){throw F}function ds(F,L,O){return L.parse("/")}const Na={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Lo=(()=>{class F{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,w.f3M)(w.c2e),this.isNgZoneEnabled=!1,this.options=(0,w.f3M)(Fo,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Yi,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ds,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,w.f3M)(Cc),this.routeReuseStrategy=(0,w.f3M)(pl),this.urlCreationStrategy=(0,w.f3M)($i),this.titleStrategy=(0,w.f3M)(Es),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=rn((0,w.f3M)(Ir,{optional:!0})??[]),this.navigationTransitions=(0,w.f3M)(Ko),this.urlSerializer=(0,w.f3M)(br),this.location=(0,w.f3M)(Ae.Ye),this.isNgZoneEnabled=(0,w.f3M)(w.R0b)instanceof w.R0b&&w.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ri,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=va(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(O=>{this.lastSuccessfulId=O.id,this.currentPageId=O.targetPageId},O=>{this.console.warn(`Unhandled Navigation Error: ${O}`)})}resetRootComponentType(O){this.routerState.root.component=O,this.navigationTransitions.rootComponentType=O}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const O=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ir,O)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(O=>{const j="popstate"===O.type?"popstate":"hashchange";"popstate"===j&&setTimeout(()=>{this.navigateToSyncWithBrowser(O.url,j,O.state)},0)}))}navigateToSyncWithBrowser(O,j,ne){const le={replaceUrl:!0},ve=ne?.navigationId?ne:null;if(ne){const Ot={...ne};delete Ot.navigationId,delete Ot.\u0275routerPageId,0!==Object.keys(Ot).length&&(le.state=Ot)}const tt=this.parseUrl(O);this.scheduleNavigation(tt,j,ve,le)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(O){this.config=O.map(uo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(O,j={}){const{relativeTo:ne,queryParams:le,fragment:ve,queryParamsHandling:tt,preserveFragment:Ot}=j,gn=Ot?this.currentUrlTree.fragment:ve;let vn=null;switch(tt){case"merge":vn={...this.currentUrlTree.queryParams,...le};break;case"preserve":vn=this.currentUrlTree.queryParams;break;default:vn=le||null}return null!==vn&&(vn=this.removeEmptyProps(vn)),this.urlCreationStrategy.createUrlTree(ne,this.routerState,this.currentUrlTree,O,vn,gn??null)}navigateByUrl(O,j={skipLocationChange:!1}){const ne=on(O)?O:this.parseUrl(O),le=this.urlHandlingStrategy.merge(ne,this.rawUrlTree);return this.scheduleNavigation(le,ir,null,j)}navigate(O,j={skipLocationChange:!1}){return function kl(F){for(let L=0;L<F.length;L++){const O=F[L];if(null==O)throw new w.vHH(4008,false)}}(O),this.navigateByUrl(this.createUrlTree(O,j),j)}serializeUrl(O){return this.urlSerializer.serialize(O)}parseUrl(O){let j;try{j=this.urlSerializer.parse(O)}catch(ne){j=this.malformedUriErrorHandler(ne,this.urlSerializer,O)}return j}isActive(O,j){let ne;if(ne=!0===j?{...Na}:!1===j?{...uu}:j,on(O))return Pr(this.currentUrlTree,O,ne);const le=this.parseUrl(O);return Pr(this.currentUrlTree,le,ne)}removeEmptyProps(O){return Object.keys(O).reduce((j,ne)=>{const le=O[ne];return null!=le&&(j[ne]=le),j},{})}scheduleNavigation(O,j,ne,le,ve){if(this.disposed)return Promise.resolve(!1);let tt,Ot,gn,vn;return ve?(tt=ve.resolve,Ot=ve.reject,gn=ve.promise):gn=new Promise((Ar,ji)=>{tt=Ar,Ot=ji}),vn="computed"===this.canceledNavigationResolution?ne&&ne.\u0275routerPageId?ne.\u0275routerPageId:le.replaceUrl||le.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:vn,source:j,restoredState:ne,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:O,extras:le,resolve:tt,reject:Ot,promise:gn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),gn.catch(Ar=>Promise.reject(Ar))}setBrowserUrl(O,j){const ne=this.urlSerializer.serialize(O),le={...j.extras.state,...this.generateNgRouterState(j.id,j.targetPageId)};this.location.isCurrentPathEqualTo(ne)||j.extras.replaceUrl?this.location.replaceState(ne,"",le):this.location.go(ne,"",le)}restoreHistory(O,j=!1){if("computed"===this.canceledNavigationResolution){const ne=this.currentPageId-O.targetPageId;"popstate"!==O.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===ne?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ne&&(this.resetState(O),this.browserUrlTree=O.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(ne)}else"replace"===this.canceledNavigationResolution&&(j&&this.resetState(O),this.resetUrlToCurrentUrlTree())}resetState(O){this.routerState=O.currentRouterState,this.currentUrlTree=O.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,O.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(O,j){return"computed"===this.canceledNavigationResolution?{navigationId:O,\u0275routerPageId:j}:{navigationId:O}}}return F.\u0275fac=function(O){return new(O||F)},F.\u0275prov=w.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();class xs{}let Rl=(()=>{class F{constructor(O,j,ne,le,ve){this.router=O,this.injector=ne,this.preloadingStrategy=le,this.loader=ve}setUpPreloading(){this.subscription=this.router.events.pipe((0,Dt.h)(O=>O instanceof _n),(0,Ye.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(O,j){const ne=[];for(const le of j){le.providers&&!le._injector&&(le._injector=(0,w.MMx)(le.providers,O,`Route: ${le.path}`));const ve=le._injector??O,tt=le._loadedInjector??ve;le.loadChildren&&!le._loadedRoutes&&void 0===le.canLoad||le.loadComponent&&!le._loadedComponent?ne.push(this.preloadConfig(ve,le)):(le.children||le._loadedRoutes)&&ne.push(this.processRoutes(tt,le.children??le._loadedRoutes))}return(0,N.D)(ne).pipe((0,An.J)())}preloadConfig(O,j){return this.preloadingStrategy.preload(j,()=>{let ne;ne=j.loadChildren&&void 0===j.canLoad?this.loader.loadChildren(O,j):(0,t.of)(null);const le=ne.pipe((0,Pe.z)(ve=>null===ve?(0,t.of)(void 0):(j._loadedRoutes=ve.routes,j._loadedInjector=ve.injector,this.processRoutes(ve.injector??O,ve.routes))));if(j.loadComponent&&!j._loadedComponent){const ve=this.loader.loadComponent(j);return(0,N.D)([le,ve]).pipe((0,An.J)())}return le})}}return F.\u0275fac=function(O){return new(O||F)(w.LFG(Lo),w.LFG(w.Sil),w.LFG(w.lqb),w.LFG(xs),w.LFG(ui))},F.\u0275prov=w.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();const Eo=new w.OlP("");let Ui=(()=>{class F{constructor(O,j,ne,le,ve={}){this.urlSerializer=O,this.transitions=j,this.viewportScroller=ne,this.zone=le,this.options=ve,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ve.scrollPositionRestoration=ve.scrollPositionRestoration||"disabled",ve.anchorScrolling=ve.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(O=>{O instanceof si?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=O.navigationTrigger,this.restoredId=O.restoredState?O.restoredState.navigationId:0):O instanceof _n&&(this.lastId=O.id,this.scheduleScrollEvent(O,this.urlSerializer.parse(O.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(O=>{O instanceof ma&&(O.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(O.position):O.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(O.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(O,j){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ma(O,"popstate"===this.lastSource?this.store[this.restoredId]:null,j))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return F.\u0275fac=function(O){w.$Z()},F.\u0275prov=w.Yz7({token:F,factory:F.\u0275fac}),F})();var Bo=(()=>((Bo=Bo||{})[Bo.COMPLETE=0]="COMPLETE",Bo[Bo.FAILED=1]="FAILED",Bo[Bo.REDIRECTING=2]="REDIRECTING",Bo))();const po=!1;function Jo(F,L){return{\u0275kind:F,\u0275providers:L}}const Vo=new w.OlP("",{providedIn:"root",factory:()=>!1});function bn(){const F=(0,w.f3M)(w.zs3);return L=>{const O=F.get(w.z2F);if(L!==O.components[0])return;const j=F.get(Lo),ne=F.get(Ss);1===F.get(Bu)&&j.initialNavigation(),F.get(xc,null,w.XFs.Optional)?.setUpPreloading(),F.get(Eo,null,w.XFs.Optional)?.init(),j.resetRootComponentType(O.componentTypes[0]),ne.closed||(ne.next(),ne.unsubscribe())}}const Ss=new w.OlP(po?"bootstrap done indicator":"",{factory:()=>new De.x}),Bu=new w.OlP(po?"initial navigation":"",{providedIn:"root",factory:()=>1});function cu(){let F=[];return F=po?[{provide:w.Xts,multi:!0,useFactory:()=>{const L=(0,w.f3M)(Lo);return()=>L.events.subscribe(O=>{console.group?.(`Router Event: ${O.constructor.name}`),console.log(function Xa(F){if(!("type"in F))return`Unknown Router Event: ${F.constructor.name}`;switch(F.type){case 14:return`ActivationEnd(path: '${F.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${F.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${F.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${F.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${F.id}, url: '${F.url}', urlAfterRedirects: '${F.urlAfterRedirects}', state: ${F.state}, shouldActivate: ${F.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${F.id}, url: '${F.url}', urlAfterRedirects: '${F.urlAfterRedirects}', state: ${F.state})`;case 2:return`NavigationCancel(id: ${F.id}, url: '${F.url}')`;case 16:return`NavigationSkipped(id: ${F.id}, url: '${F.url}')`;case 1:return`NavigationEnd(id: ${F.id}, url: '${F.url}', urlAfterRedirects: '${F.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${F.id}, url: '${F.url}', error: ${F.error})`;case 0:return`NavigationStart(id: ${F.id}, url: '${F.url}')`;case 6:return`ResolveEnd(id: ${F.id}, url: '${F.url}', urlAfterRedirects: '${F.urlAfterRedirects}', state: ${F.state})`;case 5:return`ResolveStart(id: ${F.id}, url: '${F.url}', urlAfterRedirects: '${F.urlAfterRedirects}', state: ${F.state})`;case 10:return`RouteConfigLoadEnd(path: ${F.route.path})`;case 9:return`RouteConfigLoadStart(path: ${F.route.path})`;case 4:return`RoutesRecognized(id: ${F.id}, url: '${F.url}', urlAfterRedirects: '${F.urlAfterRedirects}', state: ${F.state})`;case 15:return`Scroll(anchor: '${F.anchor}', position: '${F.position?`${F.position[0]}, ${F.position[1]}`:null}')`}}(O)),console.log(O),console.groupEnd?.()})}}]:[],Jo(1,F)}const xc=new w.OlP(po?"router preloader":"");function gd(F){return Jo(0,[{provide:xc,useExisting:Rl},{provide:xs,useExisting:F}])}const Bl=!1,Sc=new w.OlP(Bl?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Nc=[Ae.Ye,{provide:br,useClass:oa},Lo,lo,{provide:_o,useFactory:function Lu(F){return F.routerState.root},deps:[Lo]},ui,Bl?{provide:Vo,useValue:!0}:[]];function zi(){return new w.PXZ("Router",Lo)}let qs=(()=>{class F{constructor(O){}static forRoot(O,j){return{ngModule:F,providers:[Nc,Bl&&j?.enableTracing?cu().\u0275providers:[],{provide:Ir,multi:!0,useValue:O},{provide:Sc,useFactory:Zs,deps:[[Lo,new w.FiY,new w.tp0]]},{provide:Fo,useValue:j||{}},j?.useHash?{provide:Ae.S$,useClass:Ae.Do}:{provide:Ae.S$,useClass:Ae.b0},{provide:Eo,useFactory:()=>{const F=(0,w.f3M)(Ae.EM),L=(0,w.f3M)(w.R0b),O=(0,w.f3M)(Fo),j=(0,w.f3M)(Ko),ne=(0,w.f3M)(br);return O.scrollOffset&&F.setOffset(O.scrollOffset),new Ui(ne,j,F,L,O)}},j?.preloadingStrategy?gd(j.preloadingStrategy).\u0275providers:[],{provide:w.PXZ,multi:!0,useFactory:zi},j?.initialNavigation?Vu(j):[],[{provide:Vl,useFactory:bn},{provide:w.tb,multi:!0,useExisting:Vl}]]}}static forChild(O){return{ngModule:F,providers:[{provide:Ir,multi:!0,useValue:O}]}}}return F.\u0275fac=function(O){return new(O||F)(w.LFG(Sc,8))},F.\u0275mod=w.oAB({type:F}),F.\u0275inj=w.cJS({imports:[Da]}),F})();function Zs(F){if(Bl&&F)throw new w.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Vu(F){return["disabled"===F.initialNavigation?Jo(3,[{provide:w.ip1,multi:!0,useFactory:()=>{const L=(0,w.f3M)(Lo);return()=>{L.setUpLocationChangeListener()}}},{provide:Bu,useValue:2}]).\u0275providers:[],"enabledBlocking"===F.initialNavigation?Jo(2,[{provide:Bu,useValue:0},{provide:w.ip1,multi:!0,deps:[w.zs3],useFactory:L=>{const O=L.get(Ae.V_,Promise.resolve());return()=>O.then(()=>new Promise(j=>{const ne=L.get(Lo),le=L.get(Ss);(function hs(F,L){F.events.pipe((0,Dt.h)(O=>O instanceof _n||O instanceof li||O instanceof $o||O instanceof Si),(0,je.U)(O=>O instanceof _n||O instanceof Si?Bo.COMPLETE:O instanceof li&&(0===O.code||1===O.code)?Bo.REDIRECTING:Bo.FAILED),(0,Dt.h)(O=>O!==Bo.REDIRECTING),(0,at.q)(1)).subscribe(()=>{L()})})(ne,()=>{j(!0)}),L.get(Ko).afterPreactivation=()=>(j(!0),le.closed?(0,t.of)(void 0):le),ne.initialNavigation()}))}}]).\u0275providers:[]]}const Vl=new w.OlP(Bl?"Router Initializer":"")}},k=>{k(k.s=3202)}]);